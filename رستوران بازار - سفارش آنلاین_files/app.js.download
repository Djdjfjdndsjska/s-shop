!function(t){function e(e){for(var r,a,s=e[0],l=e[1],u=e[2],p=0,d=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);for(c&&c(e);d.length;)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={5:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=i[t]=[e,r]}));e.push(n[2]=r);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(t){return a.p+"app/2.17.102/js/"+{0:"914681ad",1:"88e08ca3",2:"4ed33494",3:"8960865c",4:"6825d41d",6:"43063e82",7:"1ca9afaa",8:"a7943dc6",9:"9b9eee4b",10:"844ac7a4",11:"dd745a21",12:"72e47cb8",13:"12ef85c1",14:"5ba975ce",15:"38992ab5",16:"56c1ff23",17:"0850163c",18:"6c325257",19:"c3d08918",20:"19a49eb1",21:"0891e052",22:"283fe9c2",23:"2cde89fe",24:"9938e1c7",25:"06596536",26:"38ed11e0",27:"8a046fc0",28:"bec8f86a",29:"261757cc",30:"e0cecd13",31:"36f69c71",32:"46cdc246",33:"c07f4bef",34:"6cf5e626",35:"4e3bc5aa",36:"a95e9ab0",37:"d9d5ba22",38:"0b989790",39:"98cc2496",41:"87f21ec7",42:"ac1cb30b",43:"017c1b65",44:"12aff385",45:"17c7144d",46:"15098077",47:"9e300f08"}[t]+".js"}(t);var l=new Error;o=function(e){s.onerror=s.onload=null,clearTimeout(u);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}i[t]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(e)},a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="https://static.delino.com/exclusive/cdn/",a.oe=function(t){throw console.error(t),t};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=l;o.push([451,40]),n()}([,,function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return a}));var r=n(47),i=n(8);const o=["debug","info","warn","error","log","assert","trace"],a={};function s(t){if(!("console"in i.a))return t();const e=i.a.console,n={},r=Object.keys(a);r.forEach(t=>{const r=a[t];n[t]=e[t],e[t]=r});try{return t()}finally{r.forEach(t=>{e[t]=n[t]})}}const l=Object(i.b)("logger",(function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return r.a?o.forEach(n=>{e[n]=(...e)=>{t&&s(()=>{i.a.console[n](`Sentry Logger [${n}]:`,...e)})}}):o.forEach(t=>{e[t]=()=>{}}),e}))},,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pageSEO=e.default=void 0;e.default=window.config;e.pageSEO=window.config.seo},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n(91);const i=globalThis;function o(t,e,n){const o=n||i,a=o.__SENTRY__=o.__SENTRY__||{},s=a[r.a]=a[r.a]||{};return s[t]||(s[t]=e())}},,function(t,e){var n;t.exports=function(t,e,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,a=arguments.length-3;if(e||0===a||(e={children:void 0}),1===a)e.children=i;else if(a>1){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+3];e.children=s}if(e&&o)for(var u in o)void 0===e[u]&&(e[u]=o[u]);else e||(e=o||{});return{$$typeof:n,type:t,key:void 0===r?null:""+r,ref:null,props:e,_owner:null}},t.exports.__esModule=!0,t.exports.default=t.exports},,,function(t,e,n){var r=n(371);t.exports=function(t,e,n){return(e=r(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return h})),n.d(e,"g",(function(){return v})),n.d(e,"h",(function(){return c})),n.d(e,"i",(function(){return d})),n.d(e,"j",(function(){return p})),n.d(e,"k",(function(){return m})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return y})),n.d(e,"n",(function(){return g})),n.d(e,"o",(function(){return _}));const r=Object.prototype.toString;function i(t){switch(r.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return v(t,Error)}}function o(t,e){return r.call(t)===`[object ${e}]`}function a(t){return o(t,"ErrorEvent")}function s(t){return o(t,"DOMError")}function l(t){return o(t,"DOMException")}function u(t){return o(t,"String")}function c(t){return"object"==typeof t&&null!==t&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function p(t){return null===t||c(t)||"object"!=typeof t&&"function"!=typeof t}function d(t){return o(t,"Object")}function h(t){return"undefined"!=typeof Event&&v(t,Event)}function f(t){return"undefined"!=typeof Element&&v(t,Element)}function m(t){return o(t,"RegExp")}function g(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function y(t){return d(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function v(t,e){try{return t instanceof e}catch(t){return!1}}function _(t){return!("object"!=typeof t||null===t||!t.__isVue&&!t._isVue)}},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return p})),n.d(e,"g",(function(){return c}));var r=n(405),i=n(47),o=n(14),a=n(3),s=n(37);function l(t,e,n){if(!(e in t))return;const r=t[e],o=n(r);"function"==typeof o&&c(o,r);try{t[e]=o}catch(n){i.a&&a.c.log(`Failed to replace method "${e}" in object`,t)}}function u(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch(n){i.a&&a.c.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function c(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,u(t,"__sentry_original__",e)}catch(t){}}function p(t){return t.__sentry_original__}function d(t){if(Object(o.d)(t))return{message:t.message,name:t.name,stack:t.stack,...f(t)};if(Object(o.f)(t)){const e={type:t.type,target:h(t.target),currentTarget:h(t.currentTarget),...f(t)};return"undefined"!=typeof CustomEvent&&Object(o.g)(t,CustomEvent)&&(e.detail=t.detail),e}return t}function h(t){try{return Object(o.c)(t)?Object(r.d)(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}}function f(t){if("object"==typeof t&&null!==t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function m(t,e=40){const n=Object.keys(d(t));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=e)return Object(s.d)(r,e);for(let t=n.length;t>0;t--){const r=n.slice(0,t).join(", ");if(!(r.length>e))return t===n.length?r:Object(s.d)(r,e)}return""}function g(t){return function t(e,n){if(function(t){if(!Object(o.i)(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||"Object"===e}catch(t){return!0}}(e)){const r=n.get(e);if(void 0!==r)return r;const i={};n.set(e,i);for(const r of Object.getOwnPropertyNames(e))void 0!==e[r]&&(i[r]=t(e[r],n));return i}if(Array.isArray(e)){const r=n.get(e);if(void 0!==r)return r;const i=[];return n.set(e,i),e.forEach(e=>{i.push(t(e,n))}),i}return e}(t,new Map)}},,,,function(t,e){function n(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var a=t.apply(e,r);function s(t){n(a,i,o,s,l,"next",t)}function l(t){n(a,i,o,s,l,"throw",t)}s(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},,,,,,function(t,e,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(null,arguments)}n.d(e,"a",(function(){return r}))},,,,function(t,e,n){t.exports=n(814)()},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.screenSize=e.breakpoint=void 0;var r=n(835);const i=e.screenSize={superlarge:1400,largescreen:1200,upper1090:1090,desktop:992,underdesktop:991,tablet:767,undertablet:767,uppermobile:415,mobile:414,smallmobile:320},o={};Object.keys(i).forEach((function(t){const e=i[t];o[t]="".concat(e,"px")}));e.breakpoint=(0,r.generateMedia)(o)},,function(t,e){t.exports=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))},t.exports.__esModule=!0,t.exports.default=t.exports},,function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return i}));var r=n(14);function i(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:t.slice(0,e)+"..."}function o(t,e){let n=t;const r=n.length;if(r<=150)return n;e>r&&(e=r);let i=Math.max(e-60,0);i<5&&(i=0);let o=Math.min(i+140,r);return o>r-5&&(o=r),o===r&&(i=Math.max(o-140,0)),n=n.slice(i,o),i>0&&(n="'{snip} "+n),o<r&&(n+=" {snip}"),n}function a(t,e){if(!Array.isArray(t))return"";const n=[];for(let e=0;e<t.length;e++){const i=t[e];try{Object(r.o)(i)?n.push("[VueViewModel]"):n.push(String(i))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function s(t,e=[],n=!1){return e.some(e=>function(t,e,n=!1){return!!Object(r.l)(t)&&(Object(r.k)(e)?e.test(t):!!Object(r.l)(e)&&(n?t===e:t.includes(e)))}(t,e,n))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.thinScrollbarStyles=e.hiddenScrollbarStyles=e.animatedShowItem=e.XXTitle=e.XTitle=e.Title=e.Text=e.Tags=e.StyledLightBox=e.Spinner=e.SmallTitle=e.SmallText=e.Main=e.Line=e.FoodList=e.Error=e.ContainerFluid=e.Container=e.Badge=e.BackImage=e.AnchorButton=void 0;var i,o,a,s,l,u,c=r(n(35)),p=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),d=n(42),h=r(n(7)),f=n(33);e.Main=p.default.div.withConfig({componentId:"sc-1d0f9dw-0"})(["padding-top:80px;width:100%;"," "," "," &:before{display:table;content:' ';}",""],f.breakpoint.greaterThan("tablet")(i||(i=(0,c.default)(["\n    padding-top: 72px;\n  "]))),(function(t){return(null==t?void 0:t.isCompact)||h.default.transparentHeader&&(0,p.css)(["padding-top:0 !important;"])}),(function(t){return(null==t?void 0:t.isOrderingDarkMode)&&(0,p.css)(["background:#090909 !important;"])}),h.default.transparentHeader&&(0,p.css)(["padding-top:0!important;"])),e.Container=p.default.div.withConfig({componentId:"sc-1d0f9dw-1"})([""," ",""],f.breakpoint.greaterThan("desktop")(o||(o=(0,c.default)(["\n    width: 90%;\n    margin-left: auto;\n    margin-right: auto;\n  "]))),f.breakpoint.greaterThan("superlarge")(a||(a=(0,c.default)(["\n    max-width: ","px;    \n\t  margin-left: auto;\n\t  margin-right: auto;\n  "])),(function(t){return t.theme.device.xxl}))),e.ContainerFluid=p.default.div.withConfig({componentId:"sc-1d0f9dw-2"})(["width:100%;max-width:none;display:flex;flex-wrap:wrap;"]),e.XXTitle=p.default.h1.withConfig({componentId:"sc-1d0f9dw-3"})(["white-space:nowrap;margin:0 0 10px;font-size:36px;font-weight:600;"]),e.XTitle=p.default.h2.withConfig({componentId:"sc-1d0f9dw-4"})(["white-space:nowrap;margin:0 0 5px;font-size:16px;font-weight:600;"]),e.Title=p.default.h3.withConfig({componentId:"sc-1d0f9dw-5"})(["white-space:nowrap;margin:0 0 3px;font-size:14px;font-weight:600;"]),e.SmallTitle=p.default.h4.withConfig({componentId:"sc-1d0f9dw-6"})(["white-space:nowrap;margin:0 0 3px;font-size:12px;font-weight:600;"]),e.Text=p.default.p.withConfig({componentId:"sc-1d0f9dw-7"})(["white-space:nowrap;font-size:14px;"]),e.SmallText=p.default.small.withConfig({componentId:"sc-1d0f9dw-8"})(["white-space:nowrap;font-size:12px;"]),e.Tags=p.default.ul.withConfig({componentId:"sc-1d0f9dw-9"})(["li{display:inline-block;padding:4px 15px;border-radius:100px;border:1px solid #e4e4e4;font-size:0.875rem;margin:2px;}"]),e.BackImage=p.default.div.withConfig({componentId:"sc-1d0f9dw-10"})(["background-image:url(",");background-size:cover;background-repeat:no-repeat;background-position:50%;width:100%;height:100%;z-index:2;"],(function(t){return t.url})),e.Line=p.default.div.withConfig({componentId:"sc-1d0f9dw-11"})(["border-top:1px solid ",";margin:20px 0;height:1px;"],(function(t){return t.theme.color.grayDlight})),e.Badge=p.default.span.attrs((function(t){const e={$color:t.color,$pill:t.pill,$outline:t.outline};return delete t.color,delete t.pill,delete t.outline,e})).withConfig({componentId:"sc-1d0f9dw-12"})(["padding:2px 8px;border-radius:","px;font-size:",";text-align:center;height:100%;display:flex;justify-content:center;align-items:center;",""],(function(t){return t.$pill?99:t.theme.button.radius}),(function(t){return(0,d.rem)(12,t.theme.fontSize.base)}),(function(t){return t.$outline?(0,p.css)(["border:1px solid ",";color:",";"],t.theme.color[t.$color],t.theme.color[t.$color]):(0,p.css)(["color:",";background-color:",";"],t.$color&&(0,d.isLight)(t.theme.color[t.$color])?"#333":"white",t.theme.color[t.$color])})),e.FoodList=p.default.div.withConfig({componentId:"sc-1d0f9dw-13"})(["float:right;width:100%;padding:0 15px;"," [dir='ltr'] &{float:left;}"," .food-card{"," ","}"],(function(t){return t.isKiosk&&"\n      margin-top:100px;\n  "}),f.breakpoint.greaterThan("650px")(s||(s=(0,c.default)(["\n    margin-right: -7px;\n    padding: 0 7px;\n    min-height: 450px;\n\n    [dir='ltr'] & {\n      margin-right: 0;\n      margin-left: -7px;\n    }\n  "]))),f.breakpoint.greaterThan("650px")(l||(l=(0,c.default)(["\n    padding-right: 15px;\n    width: 50%;\n    \n    [dir='ltr'] & {\n      padding-right: 0;\n      padding-left: 15px;\n    }\n  "]))),f.breakpoint.greaterThan("largescreen")(u||(u=(0,c.default)(["\n    width: 33.3%;\n  "])))),e.StyledLightBox=p.default.div.withConfig({componentId:"sc-1d0f9dw-14"})(["top:0;right:0;bottom:0;left:0;height:100vh;height:100%;background-color:rgba(0,0,0,0.7);transition:",";visibility:visible;position:fixed;z-index:1000;"],(function(t){return t.theme.transition.all})),e.AnchorButton=p.default.button.withConfig({componentId:"sc-1d0f9dw-15"})(["outline:0;padding:0;background:none;border:none;"]);const m={sm:(0,p.css)(["width:20px;height:20px;"]),md:(0,p.css)(["width:35px;height:35px;"]),lg:(0,p.css)(["width:45px;height:45px;"])},g={white:(0,p.css)(["border:3px solid ",";border-left-color:",";"],(function(t){return(0,d.rgba)(t.theme.color.white,.2)}),(function(t){return t.theme.color.white})),gray:(0,p.css)(["border:3px solid ",";border-left-color:",";"],(function(t){return t.theme.color.graySuperlight}),(function(t){return t.theme.color.grayMedium})),secondary:(0,p.css)(["border:3px solid ",";border-left-color:",";"],(function(t){return t.theme.color.graySuperlight}),(function(t){return t.theme.color.grayMedium})),primary:(0,p.css)(["border:3px solid ",";border-left-color:",";"],(function(t){return t.theme.color.graySuperlight}),(function(t){return t.theme.color.primary}))};e.Spinner=p.default.i.attrs((function(t){return{$color:t.$color||"primary",$size:t.$size||"sm"}})).withConfig({componentId:"sc-1d0f9dw-16"})(["vertical-align:middle;border-radius:50%;position:relative;font-size:normal;animation:loader 0.8s infinite linear;text-align:center;"," "," "," "," &:after{border-radius:50%;width:16px;height:16px;}@keyframes loader{0%{transform:rotate(0deg);-o-transform:rotate(0deg);}50%{transform:rotate(360deg);-o-transform:rotate(360deg);}100%{transform:rotate(720deg);-o-transform:rotate(720deg);}}"],(function(t){return t.block?(0,p.css)(["display:block;margin:","px auto;"],t.margin||30):(0,p.css)(["display:inline-block;",""],t.margin&&(0,p.css)(["margin:","px auto;"],t.margin))}),(function(t){return t.$size&&m[t.$size]}),(function(t){return t.$color&&g[t.$color]}),(function(t){return!!t.forceColor&&(0,p.css)(["border-left-color:",";"],t.forceColor)})),e.Error=p.default.div.withConfig({componentId:"sc-1d0f9dw-17"})(["color:",";"],(function(t){return t.theme.color.danger})),e.thinScrollbarStyles=(0,p.css)(["::-webkit-scrollbar{width:6px;}::-webkit-scrollbar-track{background:transparent;}::-webkit-scrollbar-thumb{background-color:#888;border-radius:3px;}scrollbar-width:thin;scrollbar-color:#888 transparent;"]),e.hiddenScrollbarStyles=(0,p.css)(["&::-webkit-scrollbar{display:none;}scrollbar-width:none;"]),e.animatedShowItem=(0,p.css)(["transition:all 0.2s ease-in-out;position:absolute;top:0;left:50%;min-width:100%;transform:translateX(-50%);&:not(.show-item){visibility:hidden;opacity:0;z-index:-1;pointer-events:none;}&.show-item{visibility:visible;opacity:1;}"])},,,,function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.rgba=e.rgb=e.rem=e.lighten=e.isLight=e.getContrastColor=e.darken=void 0;var i=r(n(7));const o=new Map;e.getContrastColor=function(){var t,e,n,r;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===i.default||void 0===i.default||null===(t=i.default.colorPalette)||void 0===t?void 0:t.primary;const l="string"==typeof s?s:(null==s||null===(e=s.theme)||void 0===e||null===(n=e.color)||void 0===n?void 0:n.primary)||(null==s||null===(r=s.color)||void 0===r?void 0:r.primary);if(!l)return console.error("No valid theme or color provided!");if(o.has(l))return o.get(l);const u=a(l)?"#000000":"#ffffff";return o.set(l,u),u};const a=function(t){let e,n,r;t.match(/^rgb/)?(e=(t=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/))[1],n=t[2],r=t[3]):(e=(t=+("0x"+t.slice(1).replace(t.length<5&&/./g,"$&$&")))>>16,n=t>>8&255,r=255&t);return Math.sqrt(e*e*.299+n*n*.587+r*r*.114)>170};e.isLight=a;const s=function(t,e){const n=parseInt(t,16,10)-e;let r=n<0?0:n;return r=r.toString(16).length>1?r.toString(16):"0".concat(r.toString(16)),r};e.darken=function(t,e){return t=t.indexOf("#")>=0?t.substring(1,t.length):t,e=parseInt(255*e/100,10),"#".concat(s(t.substring(0,2),e)).concat(s(t.substring(2,4),e)).concat(s(t.substring(4,6),e))};const l=function(t,e){const n=parseInt(t,16)+e;let r=n>255?255:n;return r=r.toString(16).length>1?r.toString(16):"0".concat(r.toString(16)),r};e.lighten=function(t,e){return t=t.indexOf("#")>=0?t.substring(1,t.length):t,e=parseInt(255*e/100,10),"#".concat(l(t.substring(0,2),e)).concat(l(t.substring(2,4),e)).concat(l(t.substring(4,6),e))};const u=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0,r=0,i=0;return 4===t.length?(n="0x"+t[1]+t[1],r="0x"+t[2]+t[2],i="0x"+t[3]+t[3]):7===t.length&&(n="0x"+t[1]+t[2],r="0x"+t[3]+t[4],i="0x"+t[5]+t[6]),null!==e?"rgba("+ +n+","+ +r+","+ +i+","+e+")":"rgb("+ +n+","+ +r+","+ +i+")"};e.rgb=u;e.rgba=function(t,e){return u(t,e)};e.rem=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return"".concat(1/e*t,"rem")}},,,function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(111)),o=r(n(51)),a=r(n(0)),s=r(n(834));const l=["name","color","className","size","align","badge"];e.default=function(t){let{name:e,color:n,className:r,size:u,align:c,badge:p}=t,d=(0,o.default)(t,l);return a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,(0,i.default)({className:"icon ".concat(r||""),$name:e,$color:n,$size:u,$align:c,$badge:p},d)))}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(111)),o=r(n(10)),a=r(n(13)),s=r(n(51)),l=r(n(0)),u=n(50),c=r(n(45)),p=n(38),d=n(434);const h=["aria-label","tag","color","innerRef","disabled","onClick","loading","children","href","block","size","outline","noHover","selected","link","icon","to","joyride","noPaddingContent","colorWithTheme","spanStyle","loadingSpanStyle"];function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,a.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.default=function(t){var e,n,r,a;let{"aria-label":f,tag:g="button",color:y="primary",innerRef:v,disabled:_,onClick:b,loading:x,children:w,href:k,block:S,size:C,outline:E,noHover:T,selected:I,link:M,icon:A,to:O,joyride:P,noPaddingContent:D,colorWithTheme:z,spanStyle:L,loadingSpanStyle:R}=t,W=(0,s.default)(t,h);k&&(W.as="a",W.href=k),"string"!=typeof w&&(null===(e=w)||void 0===e?void 0:e.length)>0?w=w.map((function(t){return t.type&&t.type.name===c.default.name?m(m({},t),{},{props:m({size:C},t.props)}):t})):null!==(n=w)&&void 0!==n&&n.type&&(null===(r=w)||void 0===r||null===(a=r.type)||void 0===a?void 0:a.name)===c.default.name&&(w=m(m({},w),{},{props:m({size:C},w.props)}));const B=m({ref:v,onClick:function(t){_?t.preventDefault():b&&b(t)},"aria-label":f,disabled:_,$block:S,$color:y,$size:C,$outline:E,$nohover:T,$link:M,$selected:I,$loading:x,$colorWithTheme:z},W);return O?l.default.createElement(d.StyledLink,B,(0,o.default)(u.Link,{to:O,id:P},void 0,x?(0,o.default)("span",{style:R},void 0,(0,o.default)(p.Spinner,{$color:y})):l.default.createElement(l.default.Fragment,null,(0,o.default)("span",{style:L},void 0,A&&(0,o.default)(c.default,{name:A,className:"mr"})," ",w)))):l.default.createElement(d.StyledButton,(0,i.default)({type:"button"===g&&W.onClick?"button":void 0},B),x?(0,o.default)("span",{style:R},void 0,(0,o.default)(p.Spinner,{$color:y})):l.default.createElement(l.default.Fragment,null,D?w:(0,o.default)("span",{style:L},void 0,A&&(0,o.default)(c.default,{name:A,className:"mr"})," ",w)))}},,,function(t,e,n){var r=n(832);t.exports=function(t,e){if(null==t)return{};var n,i,o=r(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o},t.exports.__esModule=!0,t.exports.default=t.exports},,,,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return i}));var r="Invariant failed";function i(t,e){if(!t)throw new Error(r)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(221);function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach((function(e){Object(r.a)(t,e,n[e])}))}return t}},,,,function(t,e,n){"use strict";var r=n(130),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(f){var i=h(n);i&&i!==f&&t(e,i,r)}var a=c(n);p&&(a=a.concat(p(n)));for(var s=l(e),m=l(n),g=0;g<a.length;++g){var y=a[g];if(!(o[y]||r&&r[y]||m&&m[y]||s&&s[y])){var v=d(n,y);try{u(e,y,v)}catch(t){}}}}return e}},,,,,function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.validateMobile=e.validateEmail=e.truncate=e.toPersianNum=e.toEnglishDigit=e.throttled=e.setCurrancyStr=e.roundPrice=e.retry=e.parseJsonString=e.objectToArray=e.normalizeError=e.navThrottled=e.multiSort=e.mobileValidator=e.isWebPlatform=e.isEmpty=e.imageSize=e.getQueryParams=e.getDevice=e.discountPrice=e.debounced=e.currency=e.convertGenderToString=e.calculateDiscount=e.birthdayList=e.batchRedux=e.arrayToObject=void 0;var i=r(n(13)),o=n(29);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.isEmpty=function(t){return 0===Object.keys(t).length&&t.constructor===Object};e.parseJsonString=function(t){if("string"!=typeof t)return{};try{return JSON.parse(t)}catch(t){return{}}};e.discountPrice=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t-t*(e/100);return n&&r>n&&(r=n),u(r)};e.calculateDiscount=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t*(e/100);return n&&r>n&&(r=n),u(r)};e.truncate=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;const n=t.split(" ");return t.length>e?"".concat(n.slice(0,e).join(" ")," ..."):t};e.toPersianNum=function(t){const e=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"];return"".concat(t).replace(/[0-9]/g,(function(t){return e[+t]}))};e.arrayToObject=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return Object.assign({},...t.map((function(t,n){return{[t[e]]:s(s({},t),{},{index:n})}})))};e.objectToArray=function(t){const e=[];return Object.keys(t).forEach((function(n){const r=t[n];e[r.index]=r})),e};let l="تومان";e.setCurrancyStr=function(t){l=t};const u=function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?(t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),e&&(t+=" ".concat(l)),t):e?"0 ".concat(l):"0"};e.currency=u;e.validateMobile=function(t){return 11===t.length&&t.match(/^0?9[0-9]{9}$/)};e.mobileValidator=function(t,e){return{name:e||"mobile",message:t||"شماره موبایل معتبر نمی‌باشد.",test:function(t){return/^09\d{9}?$/.test(t)}}};e.debounced=function(t,e){let n;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){e(...i),n=null}),t)}};const c=function(t,e){let n=0;return function(){const r=(new Date).getTime();return r-n<t?null:(n=r,e(...arguments))}};e.throttled=c;e.navThrottled=function(t){return c(1e3,t)};e.getQueryParams=function(t){const e=t.substring(t.indexOf("?")+1).split("&"),n={};for(let t=0;t<e.length;t++){e[t]=e[t].split("=");n[e[t][0].toLowerCase()]=decodeURIComponent(e[t][1])}return n};e.birthdayList=function(){const t=(new Date).getFullYear()-621,e=[];for(let n=t-8;n>=t-90;n--)e.push(n);return{day:Array.from(Array(31).keys()).map((function(t){return t+1})),month:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],year:e}};e.batchRedux=function(t){(0,o.batch)(t)};e.isWebPlatform="undefined"!=typeof document;e.multiSort=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return 0===e.length||null===t||0===(null==t?void 0:t.length)?t:t.sort((function(t,r){for(const i in e){if(t[e[i]]>r[e[i]])return n?-1:1;if(t[e[i]]<r[e[i]])return n?1:-1}return 0}))};const p=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;return new Promise((function(r,i){t().then(r).catch((function(o){setTimeout((function(){1===e&&(console.log(o),window.alert("Network Error\nloading again?"),e=5),p(t,e-1,n).then(r,i)}),n)}))}))};e.retry=p;e.roundPrice=function(t,e){let n=t;if(e>0){const r=t%e;r>e/2?n=t-r+e:r<e/2&&(n=t-r)}return n};e.normalizeError=function(t){const e={};return t.inner.forEach((function(t){e[t.path]=t.message})),e};e.convertGenderToString=function(t){let e="";return!0===t?e="male":!1===t&&(e="female"),e};e.imageSize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"180x180";return t?t.replace("#SIZEOFIMAGE#",e):null};e.validateEmail=function(t){return/^(([^<>()\\[\]\\.,;:\s@"]+(\.[^<>()\\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())};e.toEnglishDigit=function(t){const e=[/۰/g,/۱/g,/۲/g,/۳/g,/۴/g,/۵/g,/۶/g,/۷/g,/۸/g,/۹/g],n=[/٠/g,/١/g,/٢/g,/٣/g,/٤/g,/٥/g,/٦/g,/٧/g,/٨/g,/٩/g];if("string"==typeof t)for(let r=0;r<10;r++)t=t.replace(e[r],r).replace(n[r],r);return t};e.getDevice=function(){let t="desktop";if("undefined"!=typeof document&&function(){const t=navigator.userAgent||navigator.vendor||window.opera;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/.test(t)}()){const e={width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight};let n=!1;e.width>e.height&&(n=!0);let r=!1;e.width>414&&(n?e.height>414&&(r=!0):r=!0),t=r?"tablet":"mobile"}return t}},,,,,,,,,,function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",(function(){return r}))},,,function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l}));var r=n(14),i=n(406),o=n(17),a=n(101);function s(e,n=100,s=1/0){try{return function e(n,s,l=1/0,u=1/0,c=Object(i.a)()){const[p,d]=c;if(null==s||["boolean","string"].includes(typeof s)||"number"==typeof s&&Number.isFinite(s))return s;const h=function(e,n){try{if("domain"===e&&n&&"object"==typeof n&&n._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==t&&n===t)return"[Global]";if("undefined"!=typeof window&&n===window)return"[Window]";if("undefined"!=typeof document&&n===document)return"[Document]";if(Object(r.o)(n))return"[VueViewModel]";if(Object(r.m)(n))return"[SyntheticEvent]";if("number"==typeof n&&!Number.isFinite(n))return`[${n}]`;if("function"==typeof n)return`[Function: ${Object(a.d)(n)}]`;if("symbol"==typeof n)return`[${String(n)}]`;if("bigint"==typeof n)return`[BigInt: ${String(n)}]`;const i=function(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}(n);return/^HTML(\w*)Element$/.test(i)?`[HTMLElement: ${i}]`:`[object ${i}]`}catch(t){return`**non-serializable** (${t})`}}(n,s);if(!h.startsWith("[object "))return h;if(s.__sentry_skip_normalization__)return s;const f="number"==typeof s.__sentry_override_normalization_depth__?s.__sentry_override_normalization_depth__:l;if(0===f)return h.replace("object ","");if(p(s))return"[Circular ~]";const m=s;if(m&&"function"==typeof m.toJSON)try{const t=m.toJSON();return e("",t,f-1,u,c)}catch(t){}const g=Array.isArray(s)?[]:{};let y=0;const v=Object(o.b)(s);for(const t in v){if(!Object.prototype.hasOwnProperty.call(v,t))continue;if(y>=u){g[t]="[MaxProperties ~]";break}const n=v[t];g[t]=e(t,n,f-1,u,c),y++}return d(s),g}("",e,n,s)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function l(t,e=3,n=102400){const r=s(t,e);return i=r,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(i))>n?l(t,e-1,n):r;var i}}).call(this,n(156))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(222);function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Object(r.a)(t,e)}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.walletUrl=e.setToken=e.setApiAuthHeader=e.sentryDSN=e.requestConfig=e.removeToken=e.pcPosStartPaymentAddress=e.pcPosRequestConfig=e.pcPosApi=e.newBankRequestConfig=e.newBankBaseUrl=e.newBankApi=e.isNetworkError=e.getToken=e.generateTokenStructure=e.couponApiUrl=e.bankBaseUrl=e.apiAuth=e.api=void 0;var i=r(n(13)),o=r(n(21)),a=r(n(230)),s=r(n(7)),l=r(n(128)),u=n(103),c=r(n(218)),p=r(n(129)),d=r(n(882));function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.sentryDSN="https://fa6757098a1fd9acf32e27b42a4381c5@sentry.delino.dev/4";const m=e.pcPosStartPaymentAddress="https://cpcpos.seppay.ir/v1/PcPosTransaction/StartPayment",g="string"==typeof app_env?app_env:"production",y=e.newBankBaseUrl="development"===g?"https://new-bank-api-dev.delino.dev":"staging"===g?"https://new-bank-api-staging.delino.dev":"https://newbank.delino.com",v=(e.bankBaseUrl="development"===g?"https://delino-web-dev.delino.dev":"staging"===g?"https://delino-web-staging.delino.dev":"https://delino.com","development"===g?"https://vendo-exclusive-api-dev.delino.dev":"staging"===g?"https://vendo-exclusive-api-staging.delino.dev":"https://restaurant.delino.com"),_=(e.couponApiUrl="development"===g?"https://vendo-coupon-dev.delino.dev/api/v1":"staging"===g?"https://vendo-coupon-staging.delino.dev/api/v1":"https://coupon.delino.com/api/v1",e.walletUrl="development"===g?"https://vendo-lite-web-dev.delino.dev":"staging"===g?"https://vendo-lite-web-staging.delino.dev":"https://wallet.vendo.online",e.newBankRequestConfig={baseURL:y,json:!0,headers:{Accept:"application/json","Content-Type":"application/json","cache-control":"no-cache"}}),b=e.requestConfig={baseURL:v,json:!0,headers:{Accept:"application/json","Content-Type":"application/json","cache-control":"no-cache"}},x=e.pcPosRequestConfig={baseURL:m,json:!0,headers:{"Content-Type":"application/json"}},w=(e.pcPosApi=a.default.create(x),e.api=a.default.create(b)),k=e.apiAuth=a.default.create(b);e.newBankApi=a.default.create(_);!function(){var t=(0,o.default)((function*(){try{"en"===(yield l.default.getItem("lang"))&&(k.defaults.headers.common["Accept-Language"]="en",w.defaults.headers.common["Accept-Language"]="en")}catch(t){console.log(t)}}));return function(){return t.apply(this,arguments)}}()();e.getToken=function(){var t=(0,o.default)((function*(){const t=yield d.default.get();return!!t&&(yield D(t.accessToken),t)}));return function(){return t.apply(this,arguments)}}();let S=[],C=!1,E=1;w.interceptors.response.use((function(t){return t}),(function(t){return T(t)?new Promise((function(e,n){const r=t.config,{url:i}=r;if("user/refreshToken"===i)return e(null);if(E>=3){if(["restaurants/".concat(s.default.auth.token),"subscriber/brands/".concat(s.default.auth.token)].includes(i)||i.indexOf("app/version/")>-1)return L().then((function(t){if(t.apiUrl)return w.defaults.baseURL=t.apiUrl,r.baseURL=t.apiUrl,void setTimeout((function(){e(w(r))}),1e3);E=1,n(t)})),!1}else E+=1;setTimeout((function(){e(w(r))}),2e3)})):Promise.reject(t)})),k.interceptors.response.use(void 0,function(){var t=(0,o.default)((function*(t){const e=t.config;return T(t)?new Promise((function(t){setTimeout((function(){t(w(e))}),2500)})):t.response&&401===t.response.status?(C||I(),new Promise((function(t){S.push((function(n){e.headers.Authorization=A(n),t((0,a.default)(e))}))}))):Promise.reject(T(t)?"CONNECTION_FAILED":t)}));return function(e){return t.apply(this,arguments)}}());const T=function(t){let e=!1;var n,r;t.isAxiosError&&(t.response?404===(null===(n=t.response)||void 0===n||null===(r=n.request)||void 0===r?void 0:r.status)&&(e=!1):e=!0);return e};e.isNetworkError=T;const I=function(){var t=(0,o.default)((function*(){const t=yield d.default.get();if(t){C=!0;try{const e=yield w.post("user/refreshToken",f(f({},p.default),{},{refreshToken:t.refreshToken,accessToken:t.accessToken}));if(e){const{data:{data:{accessToken:t,refreshToken:n}}}=e;C=!1,P(t,n),O(t),S=[]}else z(),C=!1,S=[],M()}catch(t){t.message&&t.message.indexOf("ns.GetCommandSrc")>-1?setTimeout((function(){return I()}),1e3):(z(),C=!1,S=[],M())}}else M()}));return function(){return t.apply(this,arguments)}}();function M(){c.default.dispatch((0,u.setRefreshTokenFailed)(!0))}const A=function(t){return t};e.generateTokenStructure=A;const O=function(t){return 0!==S.length&&(S.map((function(e){return e(t)})),!0)},P=function(t,e){d.default.set(t,e),D(t)};e.setToken=P;const D=function(t){k.defaults.headers.common.Authorization=A(t)};e.setApiAuthHeader=D;const z=function(){d.default.clear(),delete k.defaults.headers.common.Authorization};e.removeToken=z;const L=function(){return new Promise((function(t){const e={apiDown:!0,message:"متاسفانه برقراری ارتباط با سرویس در این لحظه امکانپذیر نیست ",remoteCtrl:!1};a.default.get("http://static.delino.com/exclusive/onApiErr.json?".concat(Date.now())).then((function(n){let{data:r}=n;t(f(f(f({},e),r),{},{remoteCtrl:!0}))})).catch((function(){t(e)}))}))}},,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r="8.55.0"},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(225);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Object(r.a)(i.key),i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}},function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return s}));const r="?",i=/\(error: (.*)\)/,o=/captureMessage|captureException/;function a(...t){const e=t.sort((t,e)=>t[0]-e[0]).map(t=>t[1]);return(t,n=0,a=0)=>{const s=[],u=t.split("\n");for(let t=n;t<u.length;t++){const n=u[t];if(n.length>1024)continue;const r=i.test(n)?n.replace(i,"$1"):n;if(!r.match(/\S*Error: /)){for(const t of e){const e=t(r);if(e){s.push(e);break}}if(s.length>=50+a)break}}return function(t){if(!t.length)return[];const e=Array.from(t);/sentryWrapped/.test(l(e).function||"")&&e.pop();e.reverse(),o.test(l(e).function||"")&&(e.pop(),o.test(l(e).function||"")&&e.pop());return e.slice(0,50).map(t=>({...t,filename:t.filename||l(e).filename,function:t.function||r}))}(s.slice(a))}}function s(t){return Array.isArray(t)?a(...t):t}function l(t){return t[t.length-1]||{}}function u(t){try{return t&&"function"==typeof t&&t.name||"<anonymous>"}catch(t){return"<anonymous>"}}function c(t){const e=t.exception;if(e){const t=[];try{return e.values.forEach(e=>{e.stacktrace.frames&&t.push(...e.stacktrace.frames)}),t}catch(t){return}}}},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.setUnsuccessfullOrder=e.setSkipTour=e.setSkipAds=e.setShowPreOrderAction=e.setRefreshTokenFailed=e.setPageContentAction=e.setKiosk=e.setIntroSkipedAction=e.setDigitalMenuMode=e.setCompactSearchbarVisibility=e.setCompactBranchListVisibility=e.setAppDarkMode=e.setActiveOrderChecking=e.setActiveOrder=e.restoreDigitalMenuMode=void 0;var i=r(n(21)),o=r(n(13)),a=n(286),s=r(n(128)),l=r(n(7));function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.setCompactBranchListVisibility=function(t){return function(e){"compact"===l.default.menuTemplate&&e({type:a.SET_COMPACT_BRANCH_LIST_VISIBILITY,payload:!!t})}};e.setCompactSearchbarVisibility=function(t){return function(e){"compact"===l.default.menuTemplate&&e({type:a.SET_COMPACT_SEARCHBAR_VISIBILITY,payload:!!t})}};e.setRefreshTokenFailed=function(t){return function(e){return e({type:a.SET_REFRESH_TOKEN_FAILED,payload:t})}};e.setActiveOrderChecking=function(t){return function(e){return e({type:a.SET_ACTIVE_ORDER_CHECKING,payload:t})}};e.setActiveOrder=function(t,e){return function(n){return n({type:a.SET_ACTIVE_ORDER,payload:{order:t,count:e}})}};e.setUnsuccessfullOrder=function(t){return function(e){return e({type:a.SET_UNSUCCESSFUL_PAYMENT,payload:t})}};e.setShowPreOrderAction=function(t){return function(e){return e({type:a.SET_SHOW_PREORDER,payload:t})}};e.setPageContentAction=function(t){return function(e){return e({type:a.SET_PAGE_CONTENT,payload:t})}};e.setAppDarkMode=function(t){return function(e){const n={};return"isOrderingDarkMode"in t&&(n.isOrderingDarkMode=t.isOrderingDarkMode),"isSubscriberDarkMode"in t&&(n.isSubscriberDarkMode=t.isSubscriberDarkMode),e({type:a.SET_PAGES_THEME_MODE,payload:c({},n)})}};e.setIntroSkipedAction=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(e){e({type:a.SET_INTRO_SKIPED,payload:t})}};e.setDigitalMenuMode=function(t){return function(e,n){const r=n().app.digitalMenuMode,i=n().restaurant.current_domain;if(!r&&!i)return t({success:!1,text:"ابتدا وارد صفحه منوی شعبه/برند خود شوید"});const o=!r&&i;return e({type:a.SET_DIGITAL_MENU_MODE,payload:o}),s.default.setItem("digital-menu-mode",o),t({success:!0,text:"منوی دیجیتال ".concat(o?"فعال":"غیرفعال"," شد"),mode:o})}};e.restoreDigitalMenuMode=function(){return function(){var t=(0,i.default)((function*(t,e){const n=e().app.digitalMenuMode;let r=yield s.default.getItem("digital-menu-mode");return!!r&&("false"===r&&(r=!1),n!==r&&t({type:a.SET_DIGITAL_MENU_MODE,payload:r}),!0)}));return function(e,n){return t.apply(this,arguments)}}()};e.setSkipTour=function(t){return function(e){return e({type:a.SET_SKIP_TOUR,payload:t})}};e.setSkipAds=function(t){return function(e){return e({type:a.SET_SKIP_ADS,payload:t})}};e.setKiosk=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){e({type:a.SET_KIOSK,payload:t})}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.updateUserAction=e.setAfterLoginAction=e.removeAfterLoginAction=e.reloadWaletAndClubAction=e.fetchUserAction=e.fetchSmartClubAction=e.fetchCreditAction=e.authLogoutAction=void 0;var i=n(180),o=n(84),a=n(275),s=n(373),l=n(110),u=r(n(884));const c=function(){return new Promise((function(t,e){Promise.all([(0,i.getUserProfile)(),(0,i.getUserCredit)()]).then((function(e){var n;let[r,i]=e;null===r.email&&(r.email=""),null===r.fullname&&(r.fullname=""),null===r.birthDayYear&&(r.birthDayYear=""),null===r.birthDayMonth&&(r.birthDayMonth=""),null===r.birthdayDay&&(r.birthdayDay=""),t({info:r,credit:(null===(n=i.data)||void 0===n?void 0:n.credit)||0})})).catch(e)}))};e.fetchUserAction=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return function(e,n){const r=n();let i=null;if(r.restaurant.current)i=r.restaurant.current.id;else{const t=r.restaurant.listArray||[];t.length>0&&(i=t[0].id)}c().then((function(n){let{info:r,credit:i}=n;e({type:s.AUTH_LOGGED_IN,payload:{profile:r,credit:i}}),e((0,a.updateDeliveryPriceFromAddressAction)(!0)),e(d());try{u.default.action(),u.default.action=function(){}}catch(t){console.log(t)}t(r)})).catch((function(){(0,o.removeToken)(),t(null)}))}};e.updateUserAction=function(){return function(t){(0,i.getUserProfile)().then((function(e){t({type:s.PROFILE_UPDATE,payload:e})}))}};const p=function(t){return function(e,n){const r=n().checkout.usingCredit;(0,i.getUserCredit)().then((function(n){const i=n.data.credit||0;e({type:s.AUTH_CREDIT,payload:i}),r&&0===i&&(e((0,a.setCheckoutAction)({usingCredit:!1})),e((0,l.updateCartAction)())),t&&t(i)}))}};e.fetchCreditAction=p;e.authLogoutAction=function(){return function(t){t({type:s.AUTH_LOG_OUT}),t((0,a.updateDeliveryPriceFromAddressAction)()),t((0,l.emptyCartAction)(!0)),t((0,a.removeCheckoutAction)()),(0,o.removeToken)(),h=!0}};e.setAfterLoginAction=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:s.SET_AFTER_LOGIN,payload:{action:t,name:e,data:n}}};const d=function(){return function(t,e){const{action:n}=e().user.afterLogin;n&&t({type:s.REMOVE_AFTER_LOGIN})}};e.removeAfterLoginAction=d;let h=!0;const f=function(t,e,n){return function(r,o){const a=o(),u=a.checkout.usingSmartClub,c=a.user.smartClub;h||n?(0,i.getSmartClub)(t).then((function(t){let n=null;if(t){const{credit:i,percent:o,status:a,maxUsablePriceFromDiscountPercent:p,minFactorPriceToActiveDiscountPercent:d}=t.data;if(0===a){n={credit:i,percent:o,maxUsablePriceFromDiscountPercent:p,minFactorPriceToActiveDiscountPercent:d},r({type:s.SMART_CLUB,payload:n});return void(u===!(!i&&!o)&&c&&c.credit===n.credit&&c.percent===n.percent||(r((0,l.updateCartAction)()),e&&e(n)))}}r({type:s.SMART_CLUB,payload:!1}),e&&e(n)})).catch((function(t){const{status:n}=t.response;404===n&&(h=!1,r({type:s.SMART_CLUB,payload:!1}),e&&e(null))})):e()}};e.fetchSmartClubAction=f;e.reloadWaletAndClubAction=function(){return function(t,e){t(p((function(){console.log("credit Loaded")})));const n=e();n.restaurant.current&&t(f(n.restaurant.current.id,(function(){console.log("smartClub Loaded")})))}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.userVerifyMobile=e.userVerifyCall=e.userTempLogin=e.userResetPassword=e.userRegister=e.userLogout=e.userLogin=e.userKioskLogin=e.userCheckAccount=e.userChangePassword=void 0;var i=r(n(13)),o=r(n(21)),a=r(n(230)),s=n(84),l=r(n(129)),u=n(69);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.userCheckAccount=function(){var t=(0,o.default)((function*(t){try{const e=yield s.api.post("user/register",p(p({},l.default),{},{username:(0,u.toEnglishDigit)(t)})),{data:n}=e.data;return{userExist:2===n.submissionState}}catch(t){throw t}}));return function(e){return t.apply(this,arguments)}}(),e.userKioskLogin=function(){var t=(0,o.default)((function*(t){try{var e;const n=yield s.api.post("user/kioskLogin",p(p({},l.default),{},{username:(0,u.toEnglishDigit)(t)}));if(null!=n&&null!==(e=n.data)&&void 0!==e&&e.successful){const{data:t}=n.data;return t}throw new Error("خطا در سرویس لاگین")}catch(t){throw t}}));return function(e){return t.apply(this,arguments)}}(),e.userLogin=function(){var t=(0,o.default)((function*(t,e){try{const n=yield s.api.post("user/login",p(p({},l.default),{},{username:(0,u.toEnglishDigit)(t),password:e})),{data:r}=n.data;return(0,s.setToken)(r.accessToken,r.refreshToken),n.data}catch(t){throw t}}));return function(e,n){return t.apply(this,arguments)}}(),e.userVerifyMobile=function(){var t=(0,o.default)((function*(t,e){try{const n=yield s.api.post("user/verify",p(p({},l.default),{},{username:(0,u.toEnglishDigit)(t),activationCode:e})),{data:r}=n.data;if(5!==r.submissionState&&2!==r.submissionState)throw Error(402);return r}catch(t){throw t}}));return function(e,n){return t.apply(this,arguments)}}(),e.userRegister=function(){var t=(0,o.default)((function*(t,e,n){const r=a.default.create(s.requestConfig);r.defaults.headers.common.Authorization=(0,s.generateTokenStructure)(n.accessToken);try{const i=yield r.post("user/init",p(p(p({},l.default),e),{},{username:(0,u.toEnglishDigit)(t)})),{successful:o}=i.data;if(!o)throw Error(402);return(0,s.setToken)(n.accessToken,n.refreshToken),i.data}catch(t){throw t}}));return function(e,n,r){return t.apply(this,arguments)}}(),e.userResetPassword=function(){var t=(0,o.default)((function*(t){try{const e=yield s.api.post("user/resetPassword",p(p({},l.default),{},{username:(0,u.toEnglishDigit)(t)})),{successful:n}=e.data;if(!n)throw Error(402);return e.data}catch(t){throw t}}));return function(e){return t.apply(this,arguments)}}(),e.userChangePassword=function(){var t=(0,o.default)((function*(t,e){const n=a.default.create(s.requestConfig);n.defaults.headers.common.Authorization=(0,s.generateTokenStructure)(e.accessToken);try{const e=yield n.put("user/password",p(p({},l.default),{},{newPassword:t})),{successful:r}=e.data;if(!r)throw Error(402);return e.data}catch(t){throw t}}));return function(e,n){return t.apply(this,arguments)}}(),e.userVerifyCall=function(){var t=(0,o.default)((function*(t){try{const e=yield s.api.post("user/call",p(p({},l.default),{},{username:(0,u.toEnglishDigit)(t)})),{successful:n}=e.data;if(!n)throw Error(402);return e.data}catch(t){throw t}}));return function(e){return t.apply(this,arguments)}}(),e.userLogout=function(){var t=(0,o.default)((function*(){yield(0,s.getToken)();(0,s.removeToken)(),location.reload()}));return function(){return t.apply(this,arguments)}}(),e.userTempLogin=function(){var t=(0,o.default)((function*(t){try{const e=(yield s.api.get("user/loginToken/".concat(t))).data;return(0,s.setToken)(e.accessToken,e.refreshToken),e}catch(t){throw t}}));return function(e){return t.apply(this,arguments)}}()},,,function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},,function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.updateQuantity=e.updateKioskRemainTime=e.updateKioskOrderData=e.updateCartAction=e.toppingIdGenerator=e.restoreCartFromStorageAction=e.resetCartAction=e.replaceCartItems=e.removeFoodAction=e.removeCouponAction=e.emptyCartAction=e.checkValidAddTopping=e.addFoodAction=e.addCouponAction=void 0;var i=r(n(13)),o=r(n(21)),a=r(n(128)),s=n(69),l=n(227),u=n(268),c=n(226),p=n(385),d=(n(29),n(281));function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const m=function(t){return t.sort((function(t,e){return t.id-e.id})).map((function(t){return"".concat(t.id,":").concat(t.count||t.ToppingCount)})).join("_")};e.toppingIdGenerator=m;e.checkValidAddTopping=function(t,e){let n=!1;const r=[];if((null==t?void 0:t.length)>0&&t.some((function(t){return t.minCount>0})))for(const n of t)if(n.minCount>0){var i;if(((null==e||null===(i=e.filter((function(t){return t.catId===n.catId})))||void 0===i?void 0:i.length)||0)<n.minCount)return!1}if(null==t||!t.length)return!1;if(t.forEach((function(t){t.minCount>0&&r.push({catId:t.catId,minCount:t.minCount,isValid:!1})})),r.some((function(t){return 0!==t.minCount}))||(n=!0),e)for(let i=0;i<e.length;i++){const o=e[i].id,a=e[i].count;for(let e=0;e<t.length;e++){const i=t[e].items;for(let s=0;s<i.length;s++){if(i[s].id===o&&i[s].minOrder<=a&&i[s].maxOrder>=a){const i=r.find((function(n){return n.catId===t[e].catId}));i&&(i.isValid=!0);n=!r.some((function(t){return!1===t.isValid}))}}if(n)break}}if(null==t||!t.length)return!1;if(t.forEach((function(t){t.minCount>0&&-1===r.findIndex((function(e){return e.catId===t.catId}))&&r.push({catId:t.catId,minCount:t.minCount,isValid:!1})})),r.some((function(t){return 0!==t.minCount}))||(n=!0),e){for(let i=0;i<e.length;i++){const o=e[i].id,a=e[i].count;for(let e=0;e<t.length;e++){const i=t[e].items;for(let s=0;s<i.length;s++){if(i[s].id===o&&i[s].minOrder<=a&&i[s].maxOrder>=a){const i=r.find((function(n){return n.catId===t[e].catId}));i&&(i.isValid=!0);n=!r.some((function(t){return!1===t.isValid}))}}if(n)break}}if(!n)return!1}return n};e.addFoodAction=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n,r){const i=r(),o=i.restaurant.current;if(!o)return;const a=o.domain,l=null===i.cart.items?[]:[...i.cart.items],{id:c,available:d,clientFoodItemID:h}=t;if(d){let r=e;if(t.toppingId=t.toppingId||"",t.toppingsSelected&&""===t.toppingId){if(!t.toppingsPrice){const e=t.toppingsSelected.reduce((function(t,e){return t+e.price}),0);Object.assign(t,{toppingsPrice:e})}t.toppingId=m(t.toppingsSelected)}const i=l.filter((function(t){return t.id===c}));if(i.length){i.forEach((function(t){r+=t.quantity}));const n=i.find((function(e){return e.toppingId===t.toppingId}));n?n.quantity+=e:l.push((0,p.updateFoodPrices)(t,e))}else l.push((0,p.updateFoodPrices)(t,e));(0,s.batchRedux)((function(){n({type:u.UPDATE_FOOD,payload:{id:c,quantity:r,clientFoodItemID:h}}),n(g(l,a))}))}}};e.updateQuantity=function(t,e){return function(n,r){const i=r(),o=i.restaurant.current.domain;let a=null===i.cart.items?[]:[...i.cart.items];0==e?(console.log("REMOVE",t,e),a=a.filter((function(e){return e.id!=t.id}))):a.find((function(e){return e.id==t.id}))?(console.log("UPDATE",t,e),a=a.filter((function(e){return e.id!=t.id})),a.push((0,p.updateFoodPrices)(t,e))):(console.log("ADD",t,e),a.push((0,p.updateFoodPrices)(t,e))),n({type:u.UPDATE_FOOD,payload:{id:t.id,quantity:e,clientFoodItemID:t.clientFoodItemID}}),n(g(a,o))}};e.removeFoodAction=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return function(r,i){const o=i(),a=o.restaurant.current.domain,l=o.menu.foodListItem[t];if(l&&l.quantity>0){const i=null===o.cart.items?[]:[...o.cart.items];let c,p;if(n){for(let t=0;t<i.length;t++)if(i[t].toppingId===n){c=t,p=i[t].quantity;break}}else for(let e=0;e<i.length;e++)if(i[e].id===t&&""===i[e].toppingId){c=e,p=i[e].quantity;break}if(!p)return null;p=e?0:p-1,e||p<=0?(p=0,c>-1&&i.splice(c,1)):i[c].quantity=p;let d=l.quantity-1;(e||d<=0)&&(d=0),(0,s.batchRedux)((function(){r({type:u.UPDATE_FOOD,payload:{id:t,quantity:d,clientFoodItemID:l.clientFoodItemID}}),r(g(i,a))}))}return null}};const g=function(t,e){return function(n,r){var i,o,a,u;const c=r();let d=t||c.cart.items||[];const h=c.restaurant.current;if(!h)return;const{deliveryDiscount:f,domain:m,delivery:g,packagingPrice:y,newTaxModel:b,taxOnFood:x,pickupMinOrder:w,minOrder:k,tax:S,deliveryDiscountMinOrder:C,deliveryDiscount:E,packagingIsTaxable:T,isSepidzWeb:I}=h,{deliveryMode:M,usingCredit:A,usingSmartClub:O,paymentMethod:P,pickupSupported:D,taxiDelivery:z}=c.checkout,L=e||m,R=!!g.taxable,W=T,B=c.user.credit||0,j=c.user.smartClub||null,N=c.cart.coupon,F=h.useCustomSmartClubCalculation&&!I,U=null==c||null===(i=c.app)||void 0===i?void 0:i.kiosk,V=null===(o=c.restaurant)||void 0===o||null===(a=o.current)||void 0===a?void 0:a.useDeliveryDiscountWithDeliveryPay;let q=I?(0,p.packagingCalculator)(c):0;console.log({globalPackagingPrice:q}),U&&n(_(60)),console.log({items:d}),d=null===(u=d)||void 0===u?void 0:u.filter((function(t){return t.quantity>0})),d=I?(0,p.addToppingsAsItem)(d,S):(0,p.addPackagesAsItems)(d,W,S,(0,p.packagingCalculator)(c)),d=d.map((function(t){return(0,p.updateFoodPrices)(t,t.quantity,c,I)}));const H=(0,p.getTotal)(d,"finalFoodPrice");console.log("______",H,d);const G=(0,p.getTotal)(d.filter((function(t){return!t.type.includes("FreeItem")})),"packagingSum"),Z=I?0:G,K=q+G,{newItems:Q,discountFromNewCoupon:X,deliveryFreeFromNewCoupon:Y,discountOnPackaging:J}=(0,p.newCouponCalculation)(c,d,I,K);d=Q;c.coupons.couponsList,c.coupons.activatedCoupons;let $=0,tt=0,et=0;I&&(q+=G,q-=J,q<0&&(q=0));let nt=q;const rt=H+q;let{calculatedDeliveryPrice:it,globalDeliveryDiscount:ot}=(0,p.deliveryPriceCalculator)(c,rt,V);console.log({deliveryFreeFromNewCoupon:Y,calculatedDeliveryPrice:it}),it=Y?0:it;let at=0;at=N.forItems?d.reduce((function(t,e){return N.forItems.some((function(t){return+t==+e.id}))&&(t+=e.finalFoodPrice*N.percentage/100),t}),0):H*N.percentage/100,at>N.maxAmount&&(at=N.maxAmount),!(H+(V?it:0)+nt-at>C)||O&&I||(it-=E,it=it<0?0:it);let{calculatedCouponPrice:st,discountRemovedByCoupon:lt,discountOnDeliveryPriceByCoupon:ut,packagingPriceAfterCoupon:ct,couponMax:pt,couponUsedForPackaging:dt,discountOnFoods:ht}=(0,p.couponPriceCalculator)(c,H,d,it,I,nt);if(F&&O){const t=d.reduce((function(t,e){return e.priceAfterCouponShare||0==e.priceAfterCouponShare?t+=e.priceAfterCouponShare:t+=e.finalFoodPrice,t}),0)+it+nt-st,{cash:e,remainingSmartClubCredit:n,percentDiscount:r,creditDiscount:i}=(0,p.smartClubToCash)(t,O,j);if($=n,tt=r,et=i,e&&t>0){let{remain:t}=(0,p.newSmartCalculation)(c,d,e,nt),n=0;nt&&(n=nt>t?t:nt,nt-=n,nt=nt<0?0:Math.round(nt));let r=0;r=it>t-n?t-n:it,it-=r}}let{calculatedTaxPrice:ft,itemsAfterShareDiscount:mt,couponUsed:gt}=(0,p.taxPriceCalculator)(c,d,ht,W,q,it,I,pt,ut);if(W&&I){ft+=(q-dt)*S/100,ft=ft<0?0:ft}if(R){let t=(it-ut)*h.tax/100;t<0&&(t=0),ft+=Math.round(t)}let yt=st-H;yt<0&&(yt=0),st=(null!=dt?dt:0)+(null!=ht?ht:0)+(null!=ut?ut:0),console.log(d,H),console.log("_____________________",{calculatedPrice:H,calculatedDeliveryPrice:it,calculatedPackagingFinalPrice:nt,calculatedTaxPrice:ft,calculatedCouponPrice:st,discountFromNewCoupon:X});let vt=H+it+(I?nt:0)+ft-st-X,_t=vt+st;const bt=(0,p.getTotal)(d.filter((function(t){return!t.type.includes("FreeItem")})),"discountWithQuantity");let xt=0;H<k&&(xt=k-H);let wt=xt,kt=k;if(D&&k>w&&(wt=0,kt=w,H<kt&&(wt=kt-H)),"bank"!==P&&(vt=(0,s.roundPrice)(vt,h.roundNumber)),!F){let{remainingSmartClubCredit:t,percentDiscount:e,creditDiscount:n}=(0,p.smartClubCalculator)(vt,O,j);$=t,tt=e,et=n}if(I&&O){it-=ut||0,it=it<0?0:it,nt-=yt,nt<0&&(nt=0),nt-=dt,nt=nt<0?0:nt;let{taxAfterSmartClubCalculatorSepidzWeb:t,remainDiscountFromSepidzWebSmartClub:e,basketSumAfterSepidzWebSmartClub:n,percentDiscountSepidzWeb:r,creditDiscountSepidzWeb:i}=(0,p.SepidzWebSmartClubCalculator)(c,d,O,j,it,nt);_t-=ft,tt=r,et=i;let o=0,a=0;nt&&(a=nt>e?e:nt,nt-=a,nt=nt<0?0:Math.round(nt)),n+it+nt>C&&(it-=E,it=it<0?0:it,vt-=E);let s=0;if(s=it>e-a?e-a:it,it-=s,o+=a+s,it=it<0?0:Math.round(it),R){let e=it*h.tax/100;e<0&&(e=0),t+=Math.round(e)}ft=t,W&&(ft+=nt*S/100),vt=n+it+nt+ft,_t+=ft;const l=o-o*(null==j?void 0:j.percent)/100;$=e-r-isNaN(l)?0:l}else vt=vt-tt-et;vt<0&&(vt=0),A&&(vt-=B),vt<0&&(vt=0),vt=Math.round(vt),!1!==e&&v(d,L),d=d.filter((function(t){return"food"===t.type||t.type.includes("FreeItem")}));const St=d.reduce((function(t,e){return t+=e.quantity}),0),Ct=d.reduce((function(t,e){return e.type.includes("FreeItem")&&(t+=e.discount),t}),0),Et=d.reduce((function(t,e){return e.type.includes("FreeItem")&&(t+=e.packagingSum),t}),0);console.log("final",{paymentPrice:vt,packagingFromFreeItem:Et,discountFromFreeItem:Ct,items:d,creditDiscount:et,priceWithoutDiscount:_t,calculatedTaxPrice:ft,calculatedDeliveryPrice:it,deliveryDiscount:f,calculatedPackagingFinalPrice:nt,discountPrice:bt,discountFromFreeItem:Ct,discountFromNewCoupon:X,discountRemovedByCoupon:lt,dissss:(lt?0:bt)+Ct+X});const Tt={items:d,itemsCount:St,price:_t,discountPrice:(lt?0:bt)+Ct+X,discountFromNewCoupon:X,couponPrice:st,taxPrice:Math.round(ft),packaging:I?nt+Et:(0,p.packagingCalculator)(c)+Z,deliveryPrice:it,deliveryFinalPrice:it,hasDeliveryDiscount:!!f,finalPrice:vt,taxiDelivery:z,remainingPriceToOrder:parseInt(xt,10),remainingSmartClubCredit:$,remainingUserCredit:parseInt($,10),creditUsed:parseInt(et,10),smartClubDiscount:tt,minOrder:k,lowestMinOrder:kt,lowestRemainingPriceToOrder:wt,discountRemovedByCoupon:lt};n({type:l.UPDATE_CART,payload:Tt})}};e.updateCartAction=g;let y=null;const v=function(t,e){clearTimeout(y),y=setTimeout((0,o.default)((function*(){const n=t.map((function(t){const e={id:t.id,count:t.quantity,type:t.type};return t.toppingsSelected&&(e.toppings=t.toppingsSelected),e}));try{((yield a.default.getItem("@cart_".concat(e)))||0!==(null==n?void 0:n.length))&&(yield a.default.setItem("@cart_".concat(e),JSON.stringify(n)))}catch(t){}})),1e3)};e.restoreCartFromStorageAction=function(t,e){return(0,o.default)((function*(){let n={};try{const e=yield a.default.getItem("@cart_".concat(t));null!==e&&(n=JSON.parse(e),Array.isArray(n)&&(n=n.filter((function(t){return!t.type.includes("FreeItem")}))))}catch(t){}e(n)}))};e.resetCartAction=function(){return function(t,e){const n=e().cart.items;null!==n&&!n.length||null===n||t({type:l.RESET_CART})}};e.emptyCartAction=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,n){const r=n(),i=r.cart.items||[];(0,s.batchRedux)((function(){e((0,d.emptyCouponAction)()),e({type:l.EMPTY_CART}),i.forEach((function(t){e({type:u.UPDATE_FOOD,payload:{id:t.id,quantity:0,clientFoodItemID:t.clientFoodItemID}})}));try{if(t)Object.keys(a.default.storage).forEach((function(t){-1!==t.indexOf("@cart_")&&a.default.removeItem(t)}));else{const t=r.restaurant.current.domain;a.default.removeItem("@cart_".concat(t))}}catch(t){}}))}};e.addCouponAction=function(t,e){return function(n,r){var i;const o=r().restaurant.current,a=null===(i=r().cart)||void 0===i?void 0:i.price;o&&(0,c.checkCoupon)(o.id,t).then((function(i){var o;const{data:s}=i;if(a<s.minAmount)throw new Error("minAmountError, "+s.minAmount);let c=null;if(s.foodItems&&s.foodItems.length&&(c=s.foodItems),n({type:l.ADD_COUPON,payload:{code:t,guid:s.couponGuid,percentage:s.percentage,maxAmount:s.maxAmount,absolute:s.absolute,minAmount:null!==(o=s.minAmount)&&void 0!==o?o:0,title:s.title,discountOnDelivery:s.discountOnDelivery,isSmartClub:s.isSmartClub,forItems:c}}),c){const t=r().menu.foodListItem;c.forEach((function(e){const r="".concat(e);t[r]?n({type:u.FOOD_ACTIVE_BY_COUPON,payload:{id:r,activeByCoupon:!0}}):console.log(r," not found")}))}n(g()),e(s)})).catch((function(t,n){var r;if("CONNECTION_FAILED"===t)e({isValid:!1,message:"ارتباط قطع شده است"});else if(null!=t&&null!==(r=t.message)&&void 0!==r&&r.startsWith("minAmountError")){const n=t.message.split(",")[1];e({message:"حداقل سفارش برای این کد تخفیف ".concat((0,s.currency)(n),"  تومان میباشد")})}else{var i;localStorage.removeItem("smartCoupon");const n=null==t||null===(i=t.response)||void 0===i?void 0:i.data;e&&e(f(f({},n),{},{message:(null==n?void 0:n.message)||"ثبت این کد امکان پذیر نیست"}))}}))}};e.removeCouponAction=function(){return function(t,e){const n=e().cart.coupon.forItems;(0,s.batchRedux)((function(){if(n){const r=e().menu.foodListItem;n.forEach((function(e){const n="".concat(e);r[n]&&t({type:u.FOOD_ACTIVE_BY_COUPON,payload:{id:n,activeByCoupon:!1}})}))}t({type:l.REMOVE_COUPON}),t(g())}))}};e.replaceCartItems=function(t){return function(e){Array.isArray(t)&&(e({type:l.REPLACE_CART_ITEMS,payload:t}),e(g()))}};const _=function(t){return function(e,n){e({type:l.UPDATE_KIOSK_REMAIN_TIME,payload:t})}};e.updateKioskRemainTime=_;e.updateKioskOrderData=function(t){return function(e,n){e({type:l.UPDATE_KIOSK_ORDER_DATA,payload:t})}}},function(t,e){function n(){return t.exports=n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,n.apply(null,arguments)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(21));const o=new class{constructor(){this.storage=localStorage}getItem(t){var e=this;return(0,i.default)((function*(){const n=e.storage.getItem(t);return Promise.resolve(n)}))()}setItem(t,e){var n=this;return(0,i.default)((function*(){const r=n.storage.setItem(t,e);return Promise.resolve(r)}))()}removeItem(t){var e=this;return(0,i.default)((function*(){const n=e.storage.removeItem(t);return Promise.resolve(n)}))()}}("local");e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(7));e.default={apiToken:i.default.auth.token,clientSecret:i.default.auth.secret.web,device:"web"}},function(t,e,n){"use strict";t.exports=n(812)},,function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.useThemeMode=e.useRestaurantStyleProperties=e.default=void 0;var i=r(n(13)),o=r(n(7)),a=r(n(840)),s=n(29),l=n(0),u=n(103),c=n(50);function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.useThemeMode=function(){const t=(0,s.useSelector)((function(t){var e;return null===(e=t.app)||void 0===e?void 0:e.themeMode})),{hasDynamicTheme:e,landingTemplate:n,menuTemplate:r}=o.default;if(!("compact"===r&&e))return{isOrderingDarkMode:!1,isSubscriberDarkMode:!1,isDarkMode:!1};const{isOrderingDarkMode:i,isSubscriberDarkMode:a}=t||{};return{isOrderingDarkMode:i,isSubscriberDarkMode:a,isDarkMode:window.location.pathname.match(/\/order\/[A-Za-z0-9].*/gi)?i:a}};const h={orderingBlurIntensity:60};e.useRestaurantStyleProperties=function(){const t=(0,s.useSelector)((function(t){var e,n;return null==t||null===(e=t.restaurant)||void 0===e||null===(n=e.current)||void 0===n?void 0:n.id})),e=(0,s.useSelector)((function(t){var e;return null==t||null===(e=t.restaurant)||void 0===e?void 0:e.listArray}))||[];if(!t)return h;for(const n of e)if((null==n?void 0:n.id)===t){const{orderingBlurIntensity:t=h.orderingBlurIntensity}=n;return{orderingBlurIntensity:t}}return h};const f=function(t){if("object"!=typeof t)return;return"compact"===o.default.menuTemplate&&Object.assign(t,{button:d(d({},(null==t?void 0:t.button)||{}),{},{radius:24})}),t};e.default=function(){const t=(0,s.useDispatch)(),e=(0,s.useSelector)((function(t){var e;return null===(e=t.setting)||void 0===e?void 0:e.theme}))||"MasterColor",n=(0,s.useSelector)((function(t){var e;return null===(e=t.restaurant)||void 0===e?void 0:e.current})),r=(0,s.useSelector)((function(t){var e;return null===(e=t.restaurant)||void 0===e?void 0:e.listArray})),i=(0,s.useSelector)((function(t){var e;return null===(e=t.app)||void 0===e?void 0:e.themeMode})),p=!(null==n||!n.id)&&(null==r?void 0:r.length)>0,{isOrderingDarkMode:d,isSubscriberDarkMode:h}=i||{},{href:m,pathname:g}=(0,c.useLocation)(),{hasDynamicTheme:y,menuTemplate:v}=o.default;if(!("compact"===v&&y))return f(a.default[e]);const{darkMode:_,jsonStyle:b}=(0,l.useMemo)((function(){return function(t,e,n,r){if(!(null!=t&&t.id||r.match(/\/order\/[A-Za-z0-9].*/gi)))return{darkMode:"3"===o.default.landingTemplate&&!!n};if(null==t||!t.id)return{darkMode:"3"===o.default.landingTemplate&&!!n};for(let n=0;n<e.length;n++){const r=e[n];if((null==r?void 0:r.id)===(null==t?void 0:t.id))return{darkMode:!(null==r||!r.darkMode),jsonStyle:(null==r?void 0:r.jsonStyle)||null}}return{}}(n,r,h,g)}),[null==n?void 0:n.id,h,m,d,g]);p&&_!==d&&t((0,u.setAppDarkMode)({isOrderingDarkMode:_})),p||_===h||t((0,u.setAppDarkMode)({isSubscriberDarkMode:_}));const{dynamicTheme:x}=a.default[e];if("function"!=typeof x)return console.error("failed to load dynamic theme."),f(a.default[e]);const w=x(_?"dark":"light",b);return f(w)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useSupportsEntireIran=e.useClickAwayListener=e.transitionEnd=e.toQueryString=e.toQueryCartString=e.isMobile=e.isIos=e.isAndroid=e.hasSSL=e.getQueryParams=e.getQueryCartParams=e.getPosition=e.getOffsetTop=e.getCurrentLocation=e.animationEnd=void 0;var r=n(29),i=n(0);let o=null;e.transitionEnd=function(){if(null!==o)return o;const t=document.createElement("div"),e={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"};for(const n in e)if(void 0!==t.style[n])return o=e[n],o;return o=!1,o};let a=null;e.animationEnd=function(){if(null!==a)return a;const t=document.createElement("div"),e={animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"};for(const n in e)if(void 0!==t.style[n])return a=e[n],a;return a=!1,a};e.getOffsetTop=function(t){let e=0;for(;t;)e+=t.offsetTop,t=t.offsetParent;return e};e.toQueryString=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[];for(const r in t)if(t.hasOwnProperty(r)){const i=t[r]?encodeURIComponent(t[r]):"";(i||e)&&n.push("".concat(r,"=").concat(i))}return n.join("&")};e.getQueryParams=function(t){const e={},n=("?"===t[0]?t.substr(1):t).split("&");for(let t=0;t<n.length;t++){const r=n[t].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}return e};e.toQueryCartString=function(t){const e=[];return t.forEach((function(t){e.push("".concat(t.id,"-").concat(t.count,"-").concat(t.toppingJson||""))})),e.join("_")};e.getQueryCartParams=function(t){return t?t.split("_").map((function(t){const e=t.split("-");return{id:e[0],count:parseInt(e[1],10)||0,toppingJson:e[2]}})):null};let s=null;e.isMobile=function(){if(null===s){const t=navigator.userAgent||navigator.vendor||window.opera;s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/.test(t)}return s};e.isIos=function(){return!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g)};e.isAndroid=function(){return!!navigator.userAgent.match(/(Android)/g)};const l=e.hasSSL="https:"===window.location.protocol||!1;e.getPosition=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enableHighAccuracy:!0,timeout:5e3,maximumAge:0};return new Promise((function(e,n){l?navigator.geolocation?navigator.geolocation.getCurrentPosition(e,(function(t){n(1===t.code?"سرویس موقعیت مرورگر شما غیر فعال است":"موقعیت شما شناسایی نشد")}),t):n("مرورگر شما قابلیت شناسایی موقعیت شما را ندارد"):n("موقعیت شما شناسایی نشد \n SSL")}))};e.getCurrentLocation=function(){return new Promise((function(t,e){navigator.geolocation.getCurrentPosition((function(e){t(e)}),(function(e){console.error(e),t(!1)}))}))};e.useSupportsEntireIran=function(){const t=(0,r.useSelector)((function(t){var e;return null==t||null===(e=t.restaurant)||void 0===e?void 0:e.current}));if(null!=t&&t.id)return!(null==t||!t.serviceToWholeCountry)};e.useClickAwayListener=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="string"==typeof t?document.getElementById(t):t,o=function(t){n||!r||r.contains(t.target)||e()};(0,i.useEffect)((function(){if(r)return document.addEventListener("click",o),function(){return document.removeEventListener("click",o)}}),[r,e,n])}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(10)),o=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),a=r(n(176)),s=n(861),l=n(29);const u=function(t,e){let{listenClose:n=function(){}}=t;const[r,u]=(0,o.useState)(null),c=(0,l.useSelector)((function(t){return t.app.kiosk}));(0,o.useImperativeHandle)(e,(function(){return{show:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"alert",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3500,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"xs",i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"alert";u({message:t,icon:e,delay:n,size:r,btnOkLabel:i,hasHeader:o,hasFooter:a,type:s})},hide:function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];p(t)}}}),[]);const p=(0,o.useCallback)((function(){u(null),n()}),[]);return r?(0,i.default)(a.default,{type:r.type,onClose:p,size:r.size,hideDelay:r.delay,icon:r.icon,btnOkLabel:r.btnOkLabel,hasHeader:r.hasHeader,hasFooter:r.hasFooter},void 0,(function(){return(0,i.default)(s.Text,{style:c?{fontSize:"24px",lineHeight:"47px"}:{}},void 0,r.message)})):null};e.default=(0,o.forwardRef)(u)},,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.VerificationHolder=e.Title=e.Text=e.SendByPhone=e.ResetHolder=e.LoginImage=e.Hint=e.HeaderText=e.GenderInput=e.Form=e.Container=e.Body=e.BackButton=void 0;var i,o,a,s=r(n(35)),l=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),u=r(n(7)),c=n(33),p=n(42);e.Body=l.default.div.withConfig({componentId:"sc-1xjsbxt-0"})(["align-items:center;",""],(null===u.default||void 0===u.default?void 0:u.default.loginImage)&&(0,l.css)(["display:flex;flex-direction:column;justify-content:flex-start;direction:rtl;padding:20px 0;",""],c.breakpoint.greaterThan("tablet")(i||(i=(0,s.default)(["\n      flex-direction: row;\n      justify-content: center;\n    "]))))),e.LoginImage=l.default.div.withConfig({componentId:"sc-1xjsbxt-1"})(["background-image:url('","');width:250px;height:250px;background-size:contain;background-repeat:no-repeat;"],(function(t){return t.image})),e.Container=l.default.div.withConfig({componentId:"sc-1xjsbxt-2"})(["text-align:center;padding-bottom:20px;"," h4{margin:24px 0;}"],c.breakpoint.greaterThan("tablet")(o||(o=(0,s.default)(["\n    ","\n  "])),(null===u.default||void 0===u.default?void 0:u.default.loginImage)&&(0,l.css)(["width:50%;max-width:350px;"]))),e.Form=l.default.form.withConfig({componentId:"sc-1xjsbxt-3"})(["max-width:80%;margin:20px auto 20px;input{color:",";}",""],(function(t){return t.theme.color.textColor}),c.breakpoint.greaterThan("tablet")(a||(a=(0,s.default)(["\n    width: 80%;\n  "])))),e.VerificationHolder=l.default.div.withConfig({componentId:"sc-1xjsbxt-4"})(["position:relative;margin-bottom:50px;display:block;width:100%;.verify-code{display:flex !important;align-items:bottom;justify-content:space-evenly;direction:ltr;&.has-error{input{color:",";border-bottom-color:",";}}input{width:100%;margin:0 4px;text-align:center;font-size:",";padding:5px;direction:rtl;border:none;border-bottom:1px solid ",";background-color:",";}input[type='number']::-webkit-inner-spin-button,input[type='number']::-webkit-outer-spin-button{-webkit-appearance:none;margin:0;}}"],(function(t){return t.theme.color.danger}),(function(t){return t.theme.color.danger}),(function(t){return(0,p.rem)(16,t.theme.fontSize.base)}),(function(t){return t.theme.color.grayLight}),(function(t){return t.theme.color.fgColor})),e.Hint=l.default.span.withConfig({componentId:"sc-1xjsbxt-5"})(["font-size:",";position:absolute;top:100%;right:0;left:0;padding-top:10px;color:",";direction:rtl;"],(function(t){return(0,p.rem)(12,t.theme.fontSize.base)}),(function(t){return t.theme.color[t.$color]})),e.SendByPhone=l.default.div.withConfig({componentId:"sc-1xjsbxt-6"})(["button,small{margin-bottom:10px;}small{direction:rtl;}"]),e.BackButton=l.default.div.withConfig({componentId:"sc-1xjsbxt-7"})(["position:absolute;top:10px;right:10px;width:40px;height:40px;line-height:40px;cursor:pointer;color:",";z-index:1000;text-align:center;.icon{font-size:0.875rem;}"],(function(t){return t.theme.color.textColor})),e.Title=l.default.h4.withConfig({componentId:"sc-1xjsbxt-8"})(["margin-top:1.5em;margin-bottom:1.5em;line-height:normal;"]),e.HeaderText=l.default.small.withConfig({componentId:"sc-1xjsbxt-9"})(["margin-top:-20px;display:block;"]),e.Text=l.default.small.withConfig({componentId:"sc-1xjsbxt-10"})(["strong{display:inline-block;direction:rtl;min-width:35px;margin:0 3px;letter-spacing:1px;}"]),e.ResetHolder=l.default.div.withConfig({componentId:"sc-1xjsbxt-11"})(["direction:rtl;span{margin-left:5px;}button{padding:0;}"]),e.GenderInput=l.default.div.withConfig({componentId:"sc-1xjsbxt-12"})(["text-align:right;direction:rtl;margin-bottom:15px;"])},function(t,e,n){var r=n(888),i=n(889),o=n(890),a=n(892);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(79),i=n(102);function o(t,e){if(e&&("object"==Object(r.a)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Object(i.a)(t)}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s=r(n(111)),l=r(n(10)),u=r(n(51)),c=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),p=n(133),d=r(n(45)),h=n(904);const f=["type","label","value","error","outline","disabled","validatorIcon","done","icon","id","align","name","hint","ltr","checked","children","autoComplete","withoutLabel","style","onFocus","onBlur","onChange","kiosk"];e.default=function(t){let{type:e,label:n,value:r,error:m,outline:g,disabled:y,validatorIcon:v,done:_,icon:b,id:x,align:w,name:k,hint:S,ltr:C,checked:E,children:T,autoComplete:I=("password"===e?"off":"on"),withoutLabel:M,style:A,onFocus:O=function(){},onBlur:P=function(){},onChange:D=function(){},kiosk:z}=t,L=(0,u.default)(t,f);const[R,W]=(0,c.useState)(!1);if(["text","email","file","hidden","number","tel","password"].indexOf(e)>-1)return(0,l.default)(h.FieldGroup,{align:w,className:"field-group"},void 0,c.default.createElement(h.StyledInput,{type:"password"===e&&(0,p.isIos)()?"text":e,id:x||k,key:x||k,name:k,value:r||"",$done:_,$error:m,$outline:g,$hasValue:!!r,maxLength:L.maxLength,$ltr:C,align:w,onFocus:function(){O(),W(!0)},onBlur:function(){P(),W(!1)},onChange:D,disabled:y,autoComplete:I,placeholder:n,ref:L.innerRef,style:A,kiosk:z}),!M&&(0,l.default)(h.Label,{htmlFor:x||k,$done:_,align:w,$outline:g,icon:b},void 0,n),v&&(m||_)&&(0,l.default)(h.StyledIcon,{$error:m,$done:_,disabled:y},void 0,(0,l.default)(d.default,{name:m?"cross":"tick"})),(!(v&&(m||_))&&b||!v&&b)&&(0,l.default)(h.StyledIcon,{$error:m,$done:_,$icon:b,disabled:y},void 0,(0,l.default)(d.default,{name:b})),S&&!m&&(0,l.default)(h.Hint,{align:w,className:"input-hint"},void 0,S),m&&(0,l.default)(h.Hint,{type:"error",className:"input-hint",align:w,style:z?{fontSize:"18px"}:{}},void 0,m));if("textarea"===e)return(0,l.default)(h.FieldGroup,{},void 0,c.default.createElement(h.Textarea,(0,s.default)({style:A,as:"textarea",$hasValue:!!r,value:r||"",id:x||k,key:x||k,name:k,$ltr:C,$outline:g,$hasFocus:R,placeholder:n,onFocus:function(){O(),W(!0)},onBlur:function(){P(),W(!1)},onChange:D},L)),n&&(0,l.default)(h.Label,{htmlFor:x||k,$done:_},void 0,n),v&&(m||_)&&(0,l.default)(h.StyledIcon,{$error:m,$done:_,disabled:y},void 0,(0,l.default)(d.default,{name:m?"cross":"tick"})),(!(v&&(m||_))&&b||!v&&b)&&(0,l.default)(h.StyledIcon,{$error:m,$done:_,$icon:b,disabled:y},void 0,(0,l.default)(d.default,{name:b})),S&&!m&&(0,l.default)(h.Hint,{className:"input-hint"},void 0,S),m&&(0,l.default)(h.Hint,{type:"error",className:"input-hint"},void 0,m));if("radio"===e){const t=n&&"string"!=typeof n?n():n;return(0,l.default)(h.RadioCheckboxWrapper,{},void 0,(0,l.default)(h.RadioCheckbox,{readOnly:!0,type:e,value:r||"",name:k,checked:E}),(0,l.default)(h.RadioLabel,{htmlFor:x||k,onClick:function(){return D(r)}},void 0,i||(i=(0,l.default)("span",{})),t&&(0,l.default)(h.LabelText,{},void 0,t)))}return"checkbox"===e?(0,l.default)(h.RadioCheckboxWrapper,{},void 0,(0,l.default)(h.RadioCheckbox,{readOnly:!0,type:e,value:r||"",name:k,checked:E}),(0,l.default)(h.CheckboxLabel,{htmlFor:x||k,type:e,onClick:function(){return D(r)}},void 0,o||(o=(0,l.default)("span",{})),n&&(0,l.default)(h.LabelText,{},void 0,n))):"select"===e?(0,l.default)(h.SelectWrapper,{},void 0,(0,l.default)(h.StyledInput,{as:"select",onChange:D,id:x||k,name:k,value:r,$outline:g},x||k,T),a||(a=(0,l.default)(d.default,{name:"angle-down"}))):null}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(396)),i=n(84);let o;r.init({dsn:i.sentryDSN,tracesSampleRate:1,debug:!1});const a=function(){return(new Date).toISOString()};o={info:function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n="".concat(a()," INFO: ").concat(t);console.info(n),e&&r.captureMessage(t,"info")},warn:function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n="".concat(a()," WARN: ").concat(t);console.warn(n),e&&r.captureMessage(t,"warning")},error:function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n="".concat(a()," ERROR: ").concat(t);console.error(n),e&&r.captureException(new Error(t))},debug:function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n="".concat(a()," DEBUG: ").concat(t);console.debug(n),e&&r.captureMessage(t,"debug")}};e.default=o},,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.Wrapper=e.Version=e.StyledFooter=e.Social=e.DsignerCompany=e.Designer=e.Copyright=e.AppLinks=void 0;var i,o,a,s=r(n(35)),l=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),u=n(42),c=r(n(7)),p=n(33);e.StyledFooter=l.default.div.withConfig({componentId:"sc-1ayeo9r-0"})(["border-top:#E0E0E0 1px solid;background-color:",";text-align:center;color:",";direction:rtl;padding-bottom:50px;border-top:1px solid ",";"," "," &:before{content:' ';display:table;}&:after{content:' ';display:table;clear:both;}"],(function(t){return t.theme.color.headerColor}),(function(t){return(0,u.isLight)(t.theme.color.headerColor)?t.theme.color.grayDark:t.theme.color.white}),(function(t){return(0,u.isLight)(t.theme.color.headerColor)?t.theme.color.grayDlight:(0,u.rgba)(t.theme.color.white,.04)}),p.breakpoint.greaterThan("desktop")(i||(i=(0,s.default)(["\n    padding-bottom: 0;\n  "]))),(function(t){return t.isHome&&c.default.transparentHeader&&(0,l.css)(["margin-top:65px;padding-bottom:30px !important;"])})),e.Wrapper=l.default.div.withConfig({componentId:"sc-1ayeo9r-1"})(["padding:1.2em 10px;margin:0 5%;width:90%;"]),e.Copyright=l.default.div.withConfig({componentId:"sc-1ayeo9r-2"})(["font-size:14px;margin-bottom:10px;"," p{margin:0;}span{margin-left:5px;}a{color:",";}"],p.breakpoint.greaterThan("tablet")(o||(o=(0,s.default)(["\n\t  margin-bottom: 0;\n    float: right;\n    width: ",";\n    text-align: ",";\n  "])),(function(t){return t.center?"100%":"50%"}),(function(t){return t.center?"center":"right"})),(function(t){return t.theme.color.primary})),e.Social=l.default.div.withConfig({componentId:"sc-1ayeo9r-3"})([""," nav{direction:ltr;}a{color:",";margin:0 5px;.icon{font-size:24px;}}"],p.breakpoint.greaterThan("tablet")(a||(a=(0,s.default)(["\n    float: left;\n    width: 50%;\n    text-align: left;\n  "]))),(function(t){return t.theme.color.primary})),e.Designer=l.default.div.withConfig({componentId:"sc-1ayeo9r-4"})(["background-color:",";color:",";border-top:1px solid ",";text-align:center;float:left;width:100%;font-size:14px;padding:15px 10px;"],(function(t){return t.theme.color.headerColor}),(function(t){return t.theme.color.grayMedium}),(function(t){return(0,u.isLight)(t.theme.color.headerColor)?t.theme.color.grayDlight:(0,u.rgba)(t.theme.color.white,.04)})),e.DsignerCompany=l.default.div.withConfig({componentId:"sc-1ayeo9r-5"})(["a{img{margin:0 5px;vertical-align:middle;width:16px;height:16px;}color:#ef4123;}"]),e.Version=l.default.small.withConfig({componentId:"sc-1ayeo9r-6"})(["display:block;margin-top:10px;font-family:Arial;"]),e.AppLinks=l.default.div.withConfig({componentId:"sc-1ayeo9r-7"})(["width:100%;margin:20px auto;a{display:inline-block;max-width:130px;margin:0 2px;background-color:",";border-radius:5px;span{padding:0;}&:hover{background-color:",";}}img{width:100%;display:block;}"],(function(t){return t.theme.color.grayDarker}),(function(t){return t.theme.color.grayDarker}))},function(t,e,n){"use strict";n.r(e);e.default=function(t,e){}},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(222);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Object(r.a)(t,e)}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s=r(n(10)),l=r(n(13)),u=r(n(0)),c=r(n(837)),p=r(n(45)),d=r(n(48)),h=(n(29),r(n(425))),f=r(n(838)),m=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(287)),g=r(n(839)),y=n(132);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){(0,l.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.default=function(t){let{children:e,size:n,title:r,icon:l,type:v="modal",align:b="center",hideDelay:x=0,btnOkLabel:w,height:k,hasHeader:S,getAnimatedClose:C=function(t){},confirmLabel:E="ادامه",cancelLabel:T="انصراف",foodItemId:I=null,onClose:M=function(){},onConfirm:A=function(){},customStyles:O=null,hasFooter:P=!0,bodyStyle:D={},boxStyle:z={}}=t;const{onLightBoxClick:L,setIgnoreClose:R,boxRef:W,bodyRef:B,closeHandler:j,calculateHeight:N,ignoreClose:F,close:U,animateEnded:V}=(0,f.default)(v,x,M,C),{isDarkMode:q}=(0,y.useThemeMode)(),{StyledDialog:H,Container:G,Box:Z,Header:K,LightBox:Q,CloseButton:X,Body:Y,IconContainer:J,Footer:$}=_(_({},m),"object"==typeof O?O:{});return(0,s.default)(c.default,{},void 0,(0,s.default)(H,{$align:b},void 0,(0,s.default)(G,{onMouseDown:L,onMouseUp:function(t){return t.preventDefault()}},void 0,u.default.createElement(Z,{isDarkMode:q,$size:n,$align:b,$type:v,$close:U,$height:k,$animateEnded:V,ref:W,style:_({},z)},"modal"===v&&(0,s.default)(K,{isDarkMode:q},void 0,!F&&(0,s.default)(g.default,{closeHandler:j}),I&&(null==I?void 0:I.includes("s-"))&&(0,s.default)(h.default,{actionName:"sub-food-modal",extraParams:"sub-food-id-".concat(I)}),I&&!(null!=I&&I.includes("s-"))&&(0,s.default)(h.default,{actionName:"food-modal",extraParams:"food-id-".concat(I)}),r&&(0,s.default)("h3",{},void 0,r),i||(i=(0,s.default)("div",{className:"clear"}))),S&&(0,s.default)(K,{isDarkMode:q,style:{height:"45px"}},void 0,!F&&(0,s.default)(X,{onClick:function(){return j(!1)}},void 0,o||(o=(0,s.default)(p.default,{name:"cross"}))),I&&(null==I?void 0:I.includes("s-"))&&(0,s.default)(h.default,{actionName:"sub-food-modal",extraParams:"sub-food-id-".concat(I)}),I&&!(null!=I&&I.includes("s-"))&&(0,s.default)(h.default,{actionName:"food-modal",extraParams:"food-id-".concat(I)}),r&&(0,s.default)("h3",{},void 0,r),a||(a=(0,s.default)("div",{className:"clear"}))),u.default.createElement(Y,{$type:v,className:"clearfix",ref:B,style:_(_({},D),{},{marginTop:"".concat(S?"35px":"0")})},l&&(0,s.default)(J,{},void 0,(0,s.default)(p.default,{name:l})),"function"==typeof e?(0,s.default)(e,{setModalIgnoreClose:R,closeModal:j,calculateHeight:N}):e,"alert"===v&&0===x&&null!=w&&(0,s.default)($,{},void 0,(0,s.default)(d.default,{size:"sm",onClick:function(){return j(!0)}},void 0,w||"بستن")),"confirm"===v&&P&&(0,s.default)($,{},void 0,(0,s.default)(d.default,{color:"primary",onClick:function(){j(!0),A()},size:"sm"},void 0,E),(0,s.default)(d.default,{color:"primary",link:!0,onClick:function(){return j(!0)},size:"sm"},void 0,T))))),(0,s.default)(Q,{$close:U,$type:v})))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.getScheduleDeliverytime=e.getRestaurantList=e.getRestaurantInfo=e.getRestaurantData=e.getRestaurant=e.getPreOrderTimes=e.getNearestRestaurantByType=e.getNearestRestaurant=e.getMostOrderedItems=e.getMostOrderOnSubscriber=e.getMenuTagList=e.getMenuList=e.getDeliveryPolygon=e.getBrandList=e._getRestaurant=void 0;var i=r(n(13)),o=r(n(21)),a=r(n(7)),s=n(269),l=r(n(129)),u=n(84);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.getBrandList=function(){return u.api.get("subscriber/brands/".concat(l.default.apiToken))};e.getRestaurantList=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return u.api.get("restaurants/".concat(l.default.apiToken).concat(t?"?lat=".concat(t.lat,"&lng=").concat(t.lng):""))};const d=e.getRestaurantData=function(){var t=(0,o.default)((function*(t){try{const e=yield u.api.get("restaurant/data/".concat(t)),{data:n}=e,r=1===n.complexTypeId?"رستوران":"مجموعه";let i=n.mealTime,o=n.offlineText||"";"خارج از ساعت سفارش گیری"===o?o="سفارش نمی‌پذیریم":(i="",1!==n.complexTypeId&&(o=o.replace("رستوران",r)));return p(p({},n),{},{offlineText:o,mealTime:i,complexTypeName:r})}catch(t){throw t}}));return function(e){return t.apply(this,arguments)}}(),h=function(t){return u.api.get("restaurant/setting/".concat(t,"/").concat(l.default.apiToken))};e.getNearestRestaurant=function(t,e){return u.api.post("restaurant/nearestBranch",p(p({},l.default),{},{lat:t,lng:e}))};e.getNearestRestaurantByType=function(t){let{lat:e,lng:n,deliveryType:r,restaurantId:i}=t;return u.api.post("restaurant/nearestBranch",p(p({},l.default),{},{deliveryType:r,lat:e,lng:n,restaurantGuid:i}))};const f=function(t){return u.api.get("/restaurant/foodtag/".concat(t))};e.getMenuTagList=f;const m=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u.api.get("restaurant/menu/".concat(t).concat(e?"?datetime=".concat(e):""))};e.getMenuList=m;const g=function(t,e){return new Promise((function(n,r){Promise.all([m(t),f(a.default.auth.token),d(t),h(t)]).then((function(t){let[r,i,o,a]=t;const s=a.data;e&&(o.text=e);const l=i.data&&i.data.filter((function(t){return t.filterable}))||[];n({menu:r.data,menuTags:l,data:o,setting:s})})).catch(r)}))};e._getRestaurant=g;e.getRestaurant=(0,s.onlyResolvesLast)(g);e.getRestaurantInfo=function(t){return u.api.get("restaurant/info/".concat(t))};e.getScheduleDeliverytime=function(t){return u.api.get("restaurant/deliverytime/".concat(t))};e.getPreOrderTimes=function(){var t=(0,o.default)((function*(t){let e=null;try{const n=yield u.api.get("restaurant/PreOrderTimes/".concat(t)),{data:{data:r}}=n,i=r.currentDay,o=[];r.days.forEach((function(t){const e=[];t.times.forEach((function(t){const n=t.startTime.split(":"),r=t.endTime.split(":");e.push({start:"".concat(n[0],":").concat(n[1]),end:"".concat(r[0],":").concat(r[1])})}));let n="";i.dayNum===t.dayNum&&i.monthNum===t.monthNum?n="امروز":i.dayNum+1!==t.dayNum||i.monthNum!==t.monthNum&&i.monthNum+1!==t.monthNum||(n="فردا"),o.push({title:"".concat(t.dayName," ").concat(t.dayOfMonthNum," ").concat(t.monthName),sub:n,date:t.dateTime.split("T")[0],month:t.monthNum,day:t.dayNum,times:e})})),e={today:{title:"".concat(i.dayName," ").concat(i.dayOfMonthNum," ").concat(i.monthName),date:i.currentDateTime.split("T")[0],month:i.monthNum,day:i.dayNum},items:o}}catch(t){console.log(t)}return e}));return function(e){return t.apply(this,arguments)}}();e.getMostOrderOnSubscriber=function(){return u.api.get("subscriber/mostordered/".concat(l.default.apiToken))};e.getMostOrderedItems=function(t){return u.api.get("restaurant/mostordered/".concat(t))};e.getDeliveryPolygon=function(){var t=(0,o.default)((function*(t){let e=null;try{const n=yield u.api.get("/restaurant/AvailableRange/".concat(t)),{data:{data:r}}=n;e=r}catch(t){console.log(t)}return e}));return function(e){return t.apply(this,arguments)}}()},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(41),o=n(936),a=new Error("use-react-router may only be used with react-router@^5."),s=new Error("useReactRouter may only be called within a <Router /> context.");e.default=function(){if(!i.__RouterContext)throw a;var t=r.useContext(i.__RouterContext);if(!t)throw s;var e=o.default();return r.useEffect((function(){return t.history.listen(e)}),[t]),t}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.userChargeWallet=e.userChangePassword=e.updateUserProfile=e.removeUserAddress=e.getUserProfile=e.getUserOrderCount=e.getUserCreditHistory=e.getUserCredit=e.getSmartClub=e.fetchUserAddressList=e.fetchUserAddress=e.editUserAddress=e.addUserAddress=void 0;var i=r(n(13)),o=r(n(21)),a=n(84),s=r(n(129));function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.getUserProfile=function(){var t=(0,o.default)((function*(){try{const{data:t}=yield a.apiAuth.get("user/profile");let e=t.fullname||"";return e&&(e=e.trim().replace(/\s{2,}/g," "),t.fullname=e),u({},t)}catch(t){throw t}}));return function(){return t.apply(this,arguments)}}();e.getUserCredit=function(){return a.apiAuth.get("user/credit")};e.getUserOrderCount=function(){return a.apiAuth.get("user/orderCount")};e.fetchUserAddressList=function(){var t=(0,o.default)((function*(t){const e=t?"/restaurant/".concat(t):"";try{const t=yield a.apiAuth.get("user/addresses".concat(e)),{data:n,pricingStrategy:r}=t.data;let i=[];if(n&&n.length){i=n.reverse();i.filter((function(t){return t.thirdPartyMap})).map((function(t){const e=t.text.split("|");return e.length>1&&(t.areaTitle=e[0].trim(),t.text=e[1].trim()),t}))}return{list:i,pricingStrategy:r}}catch(t){throw t}}));return function(e){return t.apply(this,arguments)}}();e.addUserAddress=function(t){return a.apiAuth.post("user/addresses",u(u({},s.default),t))};e.editUserAddress=function(t){return a.apiAuth.put("user/addresses",u(u({},s.default),t))};e.removeUserAddress=function(t){return a.apiAuth.delete("user/addresses/".concat(t))};e.fetchUserAddress=function(t){return a.apiAuth.get("user/addresses/".concat(t))};e.getUserCreditHistory=function(){return a.apiAuth.get("user/CreditHistory")};e.userChargeWallet=function(t,e){return a.apiAuth.post("user/wallet",u(u({},s.default),{},{amount:t,gateway:e}))};e.userChangePassword=function(t,e){return a.apiAuth.put("user/password",u(u({},s.default),{},{oldPassword:t,newPassword:e}))};e.updateUserProfile=function(t){return a.apiAuth.post("user/profile",u(u({},s.default),t))};e.getSmartClub=function(t){return a.apiAuth.get("user/smartclub/".concat(t),{timeout:2e4})}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}var a,s,l;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(220),o=r(n(816)),a=r(n(7)),s=r(n(817));const{theme:l,hasDynamicTheme:u}=a.default,c={setting:{theme:l,hasDynamicTheme:u||!1}},p=window.__REDUX_DEVTOOLS_EXTENSION__&&!1,d=(0,i.compose)((0,i.applyMiddleware)(o.default),p||function(t){return t}),h=(0,i.createStore)(s.default,c,d);e.default=h},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,l=a(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var p=0;p<s.length;p++)o.call(n,s[p])&&(l[s[p]]=n[s[p]])}}return l}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(225);function i(t,e,n){return(e=Object(r.a)(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){return"/"===t.charAt(0)}function i(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}e.a=function(t,e){void 0===e&&(e="");var n,o=t&&t.split("/")||[],a=e&&e.split("/")||[],s=t&&r(t),l=e&&r(e),u=s||l;if(t&&r(t)?a=o:o.length&&(a.pop(),a=a.concat(o)),!a.length)return"/";if(a.length){var c=a[a.length-1];n="."===c||".."===c||""===c}else n=!1;for(var p=0,d=a.length;d>=0;d--){var h=a[d];"."===h?i(a,d):".."===h?(i(a,d),p++):p&&(i(a,d),p--)}if(!u)for(;p--;p)a.unshift("..");!u||""===a[0]||a[0]&&r(a[0])||a.unshift("");var f=a.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f}},function(t,e,n){"use strict";function r(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}e.a=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every((function(e,r){return t(e,n[r])}));if("object"==typeof e||"object"==typeof n){var i=r(e),o=r(n);return i!==e||o!==n?t(i,o):Object.keys(Object.assign({},e,n)).every((function(r){return t(e[r],n[r])}))}return!1}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(79);function i(t){var e=function(t,e){if("object"!=Object(r.a)(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=Object(r.a)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Object(r.a)(e)?e:e+""}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.postOrder=e.postKioskOrder=e.postCheckDuplicate=e.postCancelOrder=e.postCancelLastKioskOrder=e.newBankModelRequest=e.getbankTransaction=e.getUnsuccessfulOrders=e.getOrdersHistory=e.getOrderSummaryList=e.getOrderItemList=e.getOrderDetail=e.getCheckoutBankGatewayList=e.getBoardMenuData=e.getBankGatewayList=e.getActiveOrder=e.checkCoupon=void 0;var i=r(n(21)),o=r(n(13)),a=n(84),s=r(n(129)),l=n(69),u=r(n(218));function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.postOrder=function(t){return a.apiAuth.post("v2/order",p(p({},s.default),t))};e.postCancelLastKioskOrder=function(t){return a.apiAuth.post("v2/CancelLastKioskPosTransaction",p(p({},s.default),t))};e.postKioskOrder=function(t){return a.apiAuth.post("v2/SepKioskPaidFactor",p(p({},s.default),t))};e.checkCoupon=function(t,e){return a.apiAuth.post("checkCoupon",p(p({},s.default),{},{id:t,label:e.replace(/\s/g,"")}))};e.newBankModelRequest=function(t){return a.newBankApi.post("api/BankTransactions/CreateBankTransaction",p(p({},s.default),t))};const d=[{name:"saman",title:"بانک سامان"},{name:"parsian",title:"بانک پارسیان"},{name:"melat",title:"بانک ملت"},{name:"pasargad",title:"بانک پاسارگاد "}];e.getCheckoutBankGatewayList=function(){var t=(0,i.default)((function*(t){if(!t)return[];try{const e=(yield a.api.get("bank/restaurant-gateway?restaurantGuid=".concat(t))).data||[];return e.forEach((function(t){t.title||d.forEach((function(e){t.tag.indexOf(e.name)>-1&&(t.title=e.title)}))})),e}catch(t){throw t}}));return function(e){return t.apply(this,arguments)}}(),e.getBankGatewayList=function(){var t=(0,i.default)((function*(){try{const t=(yield a.api.get("bank/gateway?apiToken=".concat(s.default.apiToken))).data||[];return t.forEach((function(t){t.title||d.forEach((function(e){t.tag.indexOf(e.name)>-1&&(t.title=e.title)}))})),t}catch(t){throw t}}));return function(){return t.apply(this,arguments)}}();e.getUnsuccessfulOrders=function(){return a.apiAuth.get("/factors/UnsuccessfulOrders")};e.getActiveOrder=function(){return a.apiAuth.post("factors/summary",p(p({},s.default),{},{activeOrdersOnly:!0}))};e.getOrderSummaryList=function(){return a.apiAuth.post("factors/summary",p({},s.default))};e.getOrdersHistory=function(){var t=(0,i.default)((function*(){try{const{data:t}=yield a.apiAuth.post("factors/summary",p({},s.default)),e=u.default.getState().restaurant.list,n=[];return t&&t.length&&t.forEach((function(t){const{id:r,trackId:i,stringDate:o,restaurantDomain:a,restaurantBranch:s,restaurantName:u,price:c,finished:p,successful:d}=t;let h,f="waiting";p&&(f=d?"success":"failed"),h=e&&e[a]?e[a].text:s||u.trim(),n.push({id:r,trackId:i,state:f,date:o,restaurant:h,price:(0,l.currency)(c,!0)})})),n}catch(t){throw console.log(t),t}}));return function(){return t.apply(this,arguments)}}(),e.getOrderDetail=function(){var t=(0,i.default)((function*(t){return a.api.get("factor/details?trackid=".concat(t,"&apitoken=").concat(s.default.apiToken))}));return function(e){return t.apply(this,arguments)}}(),e.getOrderItemList=function(){var t=(0,i.default)((function*(t){const e=yield a.api.get("factor/items?trackid=".concat(t,"&apitoken=").concat(s.default.apiToken));return 200===e.status&&e.data.forEach((function(t){if(t.toppingJson){const e=JSON.parse(t.toppingJson);e.forEach((function(n){Object.assign(n,{title:n.DelinoTitle,count:n.ToppingCount,price:n.Price,SubmissionDate:void 0}),t.toppingJson=JSON.stringify(e)}))}})),e}));return function(e){return t.apply(this,arguments)}}();e.getbankTransaction=function(t){return a.apiAuth.get("bank/transaction/".concat(t,"?_=").concat((new Date).getTime()))};e.postCancelOrder=function(t){return a.apiAuth.post("user/CancelFactor",p(p({},s.default),{},{trackId:t}))};e.postCheckDuplicate=function(t){return a.apiAuth.post("/order/CheckDuplicate",p(p({},s.default),t))};e.getBoardMenuData=function(t,e){return a.apiAuth.get("/restaurant/ShowDigitalMenu/".concat(t,"/").concat(e),p({},s.default))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UPDATE_KIOSK_REMAIN_TIME=e.UPDATE_KIOSK_ORDER_DATA=e.UPDATE_CART=e.UPDATE_ACTIVE_SUB_ITEM_DATA=e.RESET_CART=e.REPLACE_CART_ITEMS=e.REMOVE_FOOD_CART=e.REMOVE_COUPON=e.REMOVE_CART=e.EMPTY_CART=e.ADD_FOOD_CART=e.ADD_COUPON=void 0;e.ADD_FOOD_CART="ADD_FOOD_CART",e.REMOVE_FOOD_CART="REMOVE_FOOD_CART",e.UPDATE_CART="UPDATE_CART",e.RESET_CART="RESET_CART",e.ADD_COUPON="ADD_COUPON",e.REMOVE_COUPON="REMOVE_COUPON",e.EMPTY_CART="EMPTY_CART",e.REMOVE_CART="REMOVE_CART",e.REPLACE_CART_ITEMS="REPLACE_CART_ITEMS",e.UPDATE_ACTIVE_SUB_ITEM_DATA="UPDATE_ACTIVE_SUB_ITEM_DATA",e.UPDATE_KIOSK_REMAIN_TIME="UPDATE_KIOSK_REMAIN_TIME",e.UPDATE_KIOSK_ORDER_DATA="UPDATE_KIOSK_ORDER_DATA"},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,u=[],c=!1,p=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):p=-1,u.length&&h())}function h(){if(!c){var t=s(d);c=!0;for(var e=u.length;e;){for(l=u,u=[];++p<e;)l&&l[p].run();p=-1,e=u.length}l=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new f(t,e)),1!==u.length||c||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){t.exports=function(){"use strict";var t,e,n;function r(r,i){if(t)if(e){var o="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",a={};t(a),n=i(a),"undefined"!=typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else e=i;else t=i}return r(0,(function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=r;function r(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}r.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},r.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},r.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},r.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var i=o;function o(t,e){this.x=t,this.y=e}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=n*this.x+e*this.y;return this.x=e*this.x-n*this.y,this.y=r,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=e.x+n*(this.x-e.x)-r*(this.y-e.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(t){return t instanceof o?t:Array.isArray(t)?new o(t[0],t[1]):t};var a="undefined"!=typeof self?self:{},s=Math.pow(2,53)-1;function l(t,e,r,i){var o=new n(t,e,r,i);return function(t){return o.solve(t)}}var u=l(.25,.1,.25,1);function c(t,e,n){return Math.min(n,Math.max(e,t))}function p(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i}function d(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}var h=1;function f(){return h++}function m(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function g(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function y(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}function v(t,e){return-1!==t.indexOf(e,t.length-e.length)}function _(t,e,n){var r={};for(var i in t)r[i]=e.call(n||this,t[i],i,t);return r}function b(t,e,n){var r={};for(var i in t)e.call(n||this,t[i],i,t)&&(r[i]=t[i]);return r}function x(t){return Array.isArray(t)?t.map(x):"object"==typeof t&&t?_(t,x):t}var w={};function k(t){w[t]||("undefined"!=typeof console&&console.warn(t),w[t]=!0)}function S(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function C(t){for(var e=0,n=0,r=t.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)e+=((a=t[i]).x-(o=t[n]).x)*(o.y+a.y);return e}function E(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function T(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(t,n,r,i){var o=r||i;return e[n]=!o||o.toLowerCase(),""})),e["max-age"]){var n=parseInt(e["max-age"],10);isNaN(n)?delete e["max-age"]:e["max-age"]=n}return e}var I=null;function M(t){if(null==I){var e=t.navigator?t.navigator.userAgent:null;I=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return I}function A(t){try{var e=a[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}var O,P,D,z,L=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),R=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,W=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,B={now:L,frame:function(t){var e=R(t);return{cancel:function(){return W(e)}}},getImageData:function(t,e){void 0===e&&(e=0);var n=a.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=t.width,n.height=t.height,r.drawImage(t,0,0,t.width,t.height),r.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:function(t){return O||(O=a.document.createElement("a")),O.href=t,O.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return!!a.matchMedia&&(null==P&&(P=a.matchMedia("(prefers-reduced-motion: reduce)")),P.matches)}},j={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},N={supported:!1,testSupport:function(t){!F&&z&&(U?V(t):D=t)}},F=!1,U=!1;function V(t){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,z),t.isContextLost())return;N.supported=!0}catch(t){}t.deleteTexture(e),F=!0}a.document&&((z=a.document.createElement("img")).onload=function(){D&&V(D),D=null,U=!0},z.onerror=function(){F=!0,D=null},z.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var q="01",H=function(t,e){this._transformRequestFn=t,this._customAccessToken=e,this._createSkuToken()};function G(t){return 0===t.indexOf("mapbox:")}H.prototype._createSkuToken=function(){var t=function(){for(var t="",e=0;e<10;e++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",q,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},H.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},H.prototype.transformRequest=function(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}},H.prototype.normalizeStyleURL=function(t,e){if(!G(t))return t;var n=X(t);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},H.prototype.normalizeGlyphsURL=function(t,e){if(!G(t))return t;var n=X(t);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},H.prototype.normalizeSourceURL=function(t,e){if(!G(t))return t;var n=X(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||e)},H.prototype.normalizeSpriteURL=function(t,e,n,r){var i=X(t);return G(t)?(i.path="/styles/v1"+i.path+"/sprite"+e+n,this._makeAPIURL(i,this._customAccessToken||r)):(i.path+=""+e+n,Y(i))},H.prototype.normalizeTileURL=function(t,e){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!G(t))return t;var n=X(t);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,(B.devicePixelRatio>=2||512===e?"@2x":"")+(N.supported?".webp":"$1")),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path;var r=this._customAccessToken||function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e].match(/^access_token=(.*)$/);if(r)return r[1]}return null}(n.params)||j.ACCESS_TOKEN;return j.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,r)},H.prototype.canonicalizeTileURL=function(t,e){var n=X(t);if(!n.path.match(/(^\/v4\/)/)||!n.path.match(/\.[\w]+$/))return t;var r="mapbox://tiles/";r+=n.path.replace("/v4/","");var i=n.params;return e&&(i=i.filter((function(t){return!t.match(/^access_token=/)}))),i.length&&(r+="?"+i.join("&")),r},H.prototype.canonicalizeTileset=function(t,e){for(var n=!!e&&G(e),r=[],i=0,o=t.tiles||[];i<o.length;i+=1){var a=o[i];K(a)?r.push(this.canonicalizeTileURL(a,n)):r.push(a)}return r},H.prototype._makeAPIURL=function(t,e){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=X(j.API_URL);if(t.protocol=r.protocol,t.authority=r.authority,"http"===t.protocol){var i=t.params.indexOf("secure");i>=0&&t.params.splice(i,1)}if("/"!==r.path&&(t.path=""+r.path+t.path),!j.REQUIRE_ACCESS_TOKEN)return Y(t);if(!(e=e||j.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return t.params=t.params.filter((function(t){return-1===t.indexOf("access_token")})),t.params.push("access_token="+e),Y(t)};var Z=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function K(t){return Z.test(t)}var Q=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function X(t){var e=t.match(Q);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function Y(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function J(t){if(!t)return null;var e=t.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(a.atob(e[1]).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(t){return null}}var $=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};$.prototype.getStorageKey=function(t){var e,n=J(j.ACCESS_TOKEN);return e=n&&n.u?a.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(Number("0x"+e))}))):j.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+e:"mapbox.eventData:"+e},$.prototype.fetchEventData=function(){var t=A("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{var r=a.localStorage.getItem(e);r&&(this.eventData=JSON.parse(r));var i=a.localStorage.getItem(n);i&&(this.anonId=i)}catch(t){k("Unable to read from LocalStorage")}},$.prototype.saveEventData=function(){var t=A("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{a.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){k("Unable to write to LocalStorage")}},$.prototype.processRequests=function(t){},$.prototype.postEvent=function(t,e,n,r){var i=this;if(j.EVENTS_URL){var o=X(j.EVENTS_URL);o.params.push("access_token="+(r||j.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.3",skuId:q,userId:this.anonId},s=e?d(a,e):a,l={url:Y(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=xt(l,(function(t){i.pendingRequest=null,n(t),i.saveEventData(),i.processRequests(r)}))}},$.prototype.queueRequest=function(t,e){this.queue.push(t),this.processRequests(e)};var tt,et,nt=function(t){function e(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postMapLoadEvent=function(t,e,n,r){this.skuToken=n;var i=!(!r&&!j.ACCESS_TOKEN),o=Array.isArray(t)&&t.some((function(t){return G(t)||K(t)}));j.EVENTS_URL&&i&&o&&this.queueRequest({id:e,timestamp:Date.now()},r)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),g(this.anonId)||(this.anonId=m()),this.postEvent(i,{skuToken:this.skuToken},(function(t){t||r&&(e.success[r]=!0)}),t))}},e}($),rt=new(function(t){function e(e){t.call(this,"appUserTurnstile"),this._customAccessToken=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postTurnstileEvent=function(t,e){j.EVENTS_URL&&j.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return G(t)||K(t)}))&&this.queueRequest(Date.now(),e)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=J(j.ACCESS_TOKEN),r=n?n.u:j.ACCESS_TOKEN,i=r!==this.eventData.tokenU;g(this.anonId)||(this.anonId=m(),i=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),l=(o-this.eventData.lastSuccess)/864e5;i=i||l>=1||l<-1||a.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},(function(t){t||(e.eventData.lastSuccess=o,e.eventData.tokenU=r)}),t)}},e}($)),it=rt.postTurnstileEvent.bind(rt),ot=new nt,at=ot.postMapLoadEvent.bind(ot),st=500,lt=50;function ut(){a.caches&&!tt&&(tt=a.caches.open("mapbox-tiles"))}function ct(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}var pt,dt=1/0;function ht(){return null==pt&&(pt=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof a.createImageBitmap),pt}var ft={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(ft);var mt,gt,yt=function(t){function e(e,n,r){401===n&&K(r)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,e),this.status=n,this.url=r,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error),vt=E()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===a.location.protocol?a.parent:a).location.href},_t=function(t,e){if(!(/^file:/.test(n=t.url)||/^file:/.test(vt())&&!/^\w+:/.test(n))){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return function(t,e){var n,r=new a.AbortController,i=new a.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:vt(),signal:r.signal}),o=!1,s=!1,l=(n=i.url).indexOf("sku=")>0&&K(n);"json"===t.type&&i.headers.set("Accept","application/json");var u=function(n,r,o){if(!s){if(n&&"SecurityError"!==n.message&&k(n),r&&o)return c(r);var u=Date.now();a.fetch(i).then((function(n){if(n.ok){var r=l?n.clone():null;return c(n,r,u)}return e(new yt(n.statusText,n.status,t.url))})).catch((function(t){20!==t.code&&e(new Error(t.message))}))}},c=function(n,r,l){("arrayBuffer"===t.type?n.arrayBuffer():"json"===t.type?n.json():n.text()).then((function(t){s||(r&&l&&function(t,e,n){if(ut(),tt){var r={status:e.status,statusText:e.statusText,headers:new a.Headers};e.headers.forEach((function(t,e){return r.headers.set(e,t)}));var i=T(e.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-n<42e4||function(t,e){if(void 0===et)try{new Response(new ReadableStream),et=!0}catch(t){et=!1}et?e(t.body):t.blob().then(e)}(e,(function(e){var n=new a.Response(e,r);ut(),tt&&tt.then((function(e){return e.put(ct(t.url),n)})).catch((function(t){return k(t.message)}))})))}}(i,r,l),o=!0,e(null,t,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(t){s||e(new Error(t.message))}))};return l?function(t,e){if(ut(),!tt)return e(null);var n=ct(t.url);tt.then((function(t){t.match(n).then((function(r){var i=function(t){if(!t)return!1;var e=new Date(t.headers.get("Expires")||0),n=T(t.headers.get("Cache-Control")||"");return e>Date.now()&&!n["no-cache"]}(r);t.delete(n),i&&t.put(n,r.clone()),e(null,r,i)})).catch(e)})).catch(e)}(i,u):u(null,null),{cancel:function(){s=!0,o||r.abort()}}}(t,e);if(E()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var n;return function(t,e){var n=new a.XMLHttpRequest;for(var r in n.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(n.responseType="arraybuffer"),t.headers)n.setRequestHeader(r,t.headers[r]);return"json"===t.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===t.credentials,n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===t.type)try{r=JSON.parse(n.response)}catch(t){return e(t)}e(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else e(new yt(n.statusText,n.status,t.url))},n.send(t.body),{cancel:function(){return n.abort()}}}(t,e)},bt=function(t,e){return _t(d(t,{type:"arrayBuffer"}),e)},xt=function(t,e){return _t(d(t,{method:"POST"}),e)},wt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";mt=[],gt=0;var kt=function(t,e){if(N.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),gt>=j.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:t,callback:e,cancelled:!1,cancel:function(){this.cancelled=!0}};return mt.push(n),n}gt++;var r=!1,i=function(){if(!r)for(r=!0,gt--;mt.length&&gt<j.MAX_PARALLEL_IMAGE_REQUESTS;){var t=mt.shift();t.cancelled||(t.cancel=kt(t.requestParameters,t.callback).cancel)}},o=bt(t,(function(t,n,r,o){i(),t?e(t):n&&(ht()?function(t,e){var n=new a.Blob([new Uint8Array(t)],{type:"image/png"});a.createImageBitmap(n).then((function(t){e(null,t)})).catch((function(t){e(new Error("Could not load image because of "+t.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(n,e):function(t,e,n,r){var i=new a.Image,o=a.URL;i.onload=function(){e(null,i),o.revokeObjectURL(i.src),i.onload=null,a.requestAnimationFrame((function(){i.src=wt}))},i.onerror=function(){return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var s=new a.Blob([new Uint8Array(t)],{type:"image/png"});i.cacheControl=n,i.expires=r,i.src=t.byteLength?o.createObjectURL(s):wt}(n,e,r,o))}));return{cancel:function(){o.cancel(),i()}}};function St(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function Ct(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}var Et=function(t,e){void 0===e&&(e={}),d(this,e),this.type=t},Tt=function(t){function e(e,n){void 0===n&&(n={}),t.call(this,"error",d({error:e},n))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Et),It=function(){};It.prototype.on=function(t,e){return this._listeners=this._listeners||{},St(t,e,this._listeners),this},It.prototype.off=function(t,e){return Ct(t,e,this._listeners),Ct(t,e,this._oneTimeListeners),this},It.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},St(t,e,this._oneTimeListeners),this},It.prototype.fire=function(t,e){"string"==typeof t&&(t=new Et(t,e||{}));var n=t.type;if(this.listens(n)){t.target=this;for(var r=0,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];r<i.length;r+=1)i[r].call(this,t);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];o<a.length;o+=1){var s=a[o];Ct(n,s,this._oneTimeListeners),s.call(this,t)}var l=this._eventedParent;l&&(d(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),l.fire(t))}else t instanceof Tt&&console.error(t.error);return this},It.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},It.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var Mt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},At=function(t,e,n,r){this.message=(t?t+": ":"")+n,r&&(this.identifier=r),null!=e&&e.__line__&&(this.line=e.__line__)};function Ot(t){var e=t.value;return e?[new At(t.key,e,"constants have been deprecated as of v8")]:[]}function Pt(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}function Dt(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function zt(t){if(Array.isArray(t))return t.map(zt);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var e={};for(var n in t)e[n]=zt(t[n]);return e}return Dt(t)}var Lt=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),Rt=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,r=e;n<r.length;n+=1){var i=r[n];this.bindings[i[0]]=i[1]}};Rt.prototype.concat=function(t){return new Rt(this,t)},Rt.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Rt.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var Wt={kind:"null"},Bt={kind:"number"},jt={kind:"string"},Nt={kind:"boolean"},Ft={kind:"color"},Ut={kind:"object"},Vt={kind:"value"},qt={kind:"collator"},Ht={kind:"formatted"},Gt={kind:"resolvedImage"};function Zt(t,e){return{kind:"array",itemType:t,N:e}}function Kt(t){if("array"===t.kind){var e=Kt(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var Qt=[Wt,Bt,jt,Nt,Ft,Ht,Ut,Zt(Vt),Gt];function Xt(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!Xt(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,r=Qt;n<r.length;n+=1)if(!Xt(r[n],e))return null}return"Expected "+Kt(t)+" but found "+Kt(e)+" instead."}function Yt(t,e){return e.some((function(e){return e.kind===t.kind}))}function Jt(t,e){return e.some((function(e){return"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"==typeof t:e===typeof t}))}var $t=e((function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return r("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function o(t){return(e="%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e}function a(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,s=t.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(e=parseInt(s.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===s.length&&(e=parseInt(s.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var l=s.indexOf("("),u=s.indexOf(")");if(-1!==l&&u+1===s.length){var c=s.substr(0,l),p=s.substr(l+1,u-(l+1)).split(","),d=1;switch(c){case"rgba":if(4!==p.length)return null;d=o(p.pop());case"rgb":return 3!==p.length?null:[i(p[0]),i(p[1]),i(p[2]),d];case"hsla":if(4!==p.length)return null;d=o(p.pop());case"hsl":if(3!==p.length)return null;var h=(parseFloat(p[0])%360+360)%360/360,f=o(p[1]),m=o(p[2]),g=m<=.5?m*(f+1):m+f-m*f,y=2*m-g;return[r(255*a(y,g,h+1/3)),r(255*a(y,g,h)),r(255*a(y,g,h-1/3)),d];default:return null}}return null}}catch(t){}})).parseCSSColor,te=function(t,e,n,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=n,this.a=r};te.parse=function(t){if(t){if(t instanceof te)return t;if("string"==typeof t){var e=$t(t);if(e)return new te(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},te.prototype.toString=function(){var t=this.toArray(),e=t[1],n=t[2],r=t[3];return"rgba("+Math.round(t[0])+","+Math.round(e)+","+Math.round(n)+","+r+")"},te.prototype.toArray=function(){var t=this.a;return 0===t?[0,0,0,0]:[255*this.r/t,255*this.g/t,255*this.b/t,t]},te.black=new te(0,0,0,1),te.white=new te(1,1,1,1),te.transparent=new te(0,0,0,0),te.red=new te(1,0,0,1);var ee=function(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};ee.prototype.compare=function(t,e){return this.collator.compare(t,e)},ee.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var ne=function(t,e,n,r,i){this.text=t,this.image=e,this.scale=n,this.fontStack=r,this.textColor=i},re=function(t){this.sections=t};re.fromString=function(t){return new re([new ne(t,null,null,null,null)])},re.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(t){return 0!==t.text.length||t.image&&0!==t.image.name.length}))},re.factory=function(t){return t instanceof re?t:re.fromString(t)},re.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(t){return t.text})).join("")},re.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];if(r.image)t.push(["image",r.image.name]);else{t.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),t.push(i)}}return t};var ie=function(t){this.name=t.name,this.available=t.available};function oe(t,e,n,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[t,e,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ae(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof te)return!0;if(t instanceof ee)return!0;if(t instanceof re)return!0;if(t instanceof ie)return!0;if(Array.isArray(t)){for(var e=0,n=t;e<n.length;e+=1)if(!ae(n[e]))return!1;return!0}if("object"==typeof t){for(var r in t)if(!ae(t[r]))return!1;return!0}return!1}function se(t){if(null===t)return Wt;if("string"==typeof t)return jt;if("boolean"==typeof t)return Nt;if("number"==typeof t)return Bt;if(t instanceof te)return Ft;if(t instanceof ee)return qt;if(t instanceof re)return Ht;if(t instanceof ie)return Gt;if(Array.isArray(t)){for(var e,n=t.length,r=0,i=t;r<i.length;r+=1){var o=se(i[r]);if(e){if(e===o)continue;e=Vt;break}e=o}return Zt(e||Vt,n)}return Ut}function le(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof te||t instanceof re||t instanceof ie?t.toString():JSON.stringify(t)}ie.prototype.toString=function(){return this.name},ie.fromString=function(t){return t?new ie({name:t,available:!1}):null},ie.prototype.serialize=function(){return["image",this.name]};var ue=function(t,e){this.type=t,this.value=e};ue.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!ae(t[1]))return e.error("invalid value");var n=t[1],r=se(n),i=e.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new ue(r,n)},ue.prototype.evaluate=function(){return this.value},ue.prototype.eachChild=function(){},ue.prototype.outputDefined=function(){return!0},ue.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof te?["rgba"].concat(this.value.toArray()):this.value instanceof re?this.value.serialize():this.value};var ce=function(t){this.name="ExpressionEvaluationError",this.message=t};ce.prototype.toJSON=function(){return this.message};var pe={string:jt,number:Bt,boolean:Nt,object:Ut},de=function(t,e){this.type=t,this.args=e};de.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n,r=1,i=t[0];if("array"===i){var o,a;if(t.length>2){var s=t[1];if("string"!=typeof s||!(s in pe)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);o=pe[s],r++}else o=Vt;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],r++}n=Zt(o,a)}else n=pe[i];for(var l=[];r<t.length;r++){var u=e.parse(t[r],r,Vt);if(!u)return null;l.push(u)}return new de(n,l)},de.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!Xt(this.type,se(n)))return n;if(e===this.args.length-1)throw new ce("Expected value to be of type "+Kt(this.type)+", but found "+Kt(se(n))+" instead.")}return null},de.prototype.eachChild=function(t){this.args.forEach(t)},de.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},de.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);var r=t.N;("number"==typeof r||this.args.length>1)&&e.push(r)}}return e.concat(this.args.map((function(t){return t.serialize()})))};var he=function(t){this.type=Ht,this.sections=t};he.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[1];if(!Array.isArray(n)&&"object"==typeof n)return e.error("First argument must be an image or text section.");for(var r=[],i=!1,o=1;o<=t.length-1;++o){var a=t[o];if(i&&"object"==typeof a&&!Array.isArray(a)){i=!1;var s=null;if(a["font-scale"]&&!(s=e.parse(a["font-scale"],1,Bt)))return null;var l=null;if(a["text-font"]&&!(l=e.parse(a["text-font"],1,Zt(jt))))return null;var u=null;if(a["text-color"]&&!(u=e.parse(a["text-color"],1,Ft)))return null;var c=r[r.length-1];c.scale=s,c.font=l,c.textColor=u}else{var p=e.parse(t[o],1,Vt);if(!p)return null;var d=p.type.kind;if("string"!==d&&"value"!==d&&"null"!==d&&"resolvedImage"!==d)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:p,scale:null,font:null,textColor:null})}}return new he(r)},he.prototype.evaluate=function(t){return new re(this.sections.map((function(e){var n=e.content.evaluate(t);return se(n)===Gt?new ne("",n,null,null,null):new ne(le(n),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))},he.prototype.eachChild=function(t){for(var e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t(r.content),r.scale&&t(r.scale),r.font&&t(r.font),r.textColor&&t(r.textColor)}},he.prototype.outputDefined=function(){return!1},he.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),t.push(i)}return t};var fe=function(t){this.type=Gt,this.input=t};fe.parse=function(t,e){if(2!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,jt);return n?new fe(n):e.error("No image name provided.")},fe.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=ie.fromString(e);return n&&t.availableImages&&(n.available=t.availableImages.indexOf(e)>-1),n},fe.prototype.eachChild=function(t){t(this.input)},fe.prototype.outputDefined=function(){return!1},fe.prototype.serialize=function(){return["image",this.input.serialize()]};var me={"to-boolean":Nt,"to-color":Ft,"to-number":Bt,"to-string":jt},ge=function(t,e){this.type=t,this.args=e};ge.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");for(var r=me[n],i=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,Vt);if(!a)return null;i.push(a)}return new ge(r,i)},ge.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(e=i[r].evaluate(t))instanceof te)return e;if("string"==typeof e){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(n=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":oe(e[0],e[1],e[2],e[3])))return new te(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new ce(n||"Could not parse color from value '"+("string"==typeof e?e:String(JSON.stringify(e)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,l=this.args;s<l.length;s+=1){if(null===(a=l[s].evaluate(t)))return 0;var u=Number(a);if(!isNaN(u))return u}throw new ce("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?re.fromString(le(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?ie.fromString(le(this.args[0].evaluate(t))):le(this.args[0].evaluate(t))},ge.prototype.eachChild=function(t){this.args.forEach(t)},ge.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},ge.prototype.serialize=function(){if("formatted"===this.type.kind)return new he([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new fe(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var ye=["Unknown","Point","LineString","Polygon"],ve=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};ve.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ve.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?ye[this.feature.type]:this.feature.type:null},ve.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},ve.prototype.canonicalID=function(){return this.canonical},ve.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ve.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=te.parse(t)),e};var _e=function(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r};_e.prototype.evaluate=function(t){return this._evaluate(t,this.args)},_e.prototype.eachChild=function(t){this.args.forEach(t)},_e.prototype.outputDefined=function(){return!1},_e.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},_e.parse=function(t,e){var n,r=t[0],i=_e.definitions[r];if(!i)return e.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter((function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1})),l=null,u=0,c=s;u<c.length;u+=1){var p=c[u],d=p[0],h=p[1];l=new Fe(e.registry,e.path,null,e.scope);for(var f=[],m=!1,g=1;g<t.length;g++){var y=t[g],v=Array.isArray(d)?d[g-1]:d.type,_=l.parse(y,1+f.length,v);if(!_){m=!0;break}f.push(_)}if(!m)if(Array.isArray(d)&&d.length!==f.length)l.error("Expected "+d.length+" arguments, but found "+f.length+" instead.");else{for(var b=0;b<f.length;b++){var x=Array.isArray(d)?d[b]:d.type,w=f[b];l.concat(b+1).checkSubtype(x,w.type)}if(0===l.errors.length)return new _e(r,o,h,f)}}if(1===s.length)(n=e.errors).push.apply(n,l.errors);else{for(var k=(s.length?s:a).map((function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(Kt).join(", ")+")":"("+Kt(e.type)+"...)"})).join(" | "),S=[],C=1;C<t.length;C++){var E=e.parse(t[C],1+S.length);if(!E)return null;S.push(Kt(E.type))}e.error("Expected arguments of type "+k+", but found ("+S.join(", ")+") instead.")}return null},_e.register=function(t,e){for(var n in _e.definitions=e,e)t[n]=_e};var be=function(t,e,n){this.type=qt,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e};function xe(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function we(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function ke(t,e){var n=(180+t[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,i=Math.pow(2,e.z);return[Math.round(n*i*8192),Math.round(r*i*8192)]}function Se(t,e,n){return e[1]>t[1]!=n[1]>t[1]&&t[0]<(n[0]-e[0])*(t[1]-e[1])/(n[1]-e[1])+e[0]}function Ce(t,e){for(var n,r,i,o,a,s,l,u=!1,c=0,p=e.length;c<p;c++)for(var d=e[c],h=0,f=d.length;h<f-1;h++){if((o=(n=t)[0]-(r=d[h])[0])*(l=n[1]-(i=d[h+1])[1])-(s=n[0]-i[0])*(a=n[1]-r[1])==0&&o*s<=0&&a*l<=0)return!1;Se(t,d[h],d[h+1])&&(u=!u)}return u}function Ee(t,e){for(var n=0;n<e.length;n++)if(Ce(t,e[n]))return!0;return!1}function Te(t,e,n,r){var i=r[0]-n[0],o=r[1]-n[1],a=(t[0]-n[0])*o-i*(t[1]-n[1]),s=(e[0]-n[0])*o-i*(e[1]-n[1]);return a>0&&s<0||a<0&&s>0}function Ie(t,e,n){for(var r=0,i=n;r<i.length;r+=1)for(var o=i[r],a=0;a<o.length-1;++a)if(0!=(p=[(c=o[a+1])[0]-(u=o[a])[0],c[1]-u[1]])[0]*(d=[(l=e)[0]-(s=t)[0],l[1]-s[1]])[1]-p[1]*d[0]&&Te(s,l,u,c)&&Te(u,c,s,l))return!0;var s,l,u,c,p,d;return!1}function Me(t,e){for(var n=0;n<t.length;++n)if(!Ce(t[n],e))return!1;for(var r=0;r<t.length-1;++r)if(Ie(t[r],t[r+1],e))return!1;return!0}function Ae(t,e){for(var n=0;n<e.length;n++)if(Me(t,e[n]))return!0;return!1}function Oe(t,e,n){for(var r=[],i=0;i<t.length;i++){for(var o=[],a=0;a<t[i].length;a++){var s=ke(t[i][a],n);xe(e,s),o.push(s)}r.push(o)}return r}function Pe(t,e,n){for(var r=[],i=0;i<t.length;i++){var o=Oe(t[i],e,n);r.push(o)}return r}function De(t,e,n,r){if(t[0]<n[0]||t[0]>n[2]){var i=.5*r,o=t[0]-n[0]>i?-r:n[0]-t[0]>i?r:0;0===o&&(o=t[0]-n[2]>i?-r:n[2]-t[0]>i?r:0),t[0]+=o}xe(e,t)}function ze(t,e,n,r){for(var i=8192*Math.pow(2,r.z),o=[8192*r.x,8192*r.y],a=[],s=0,l=t;s<l.length;s+=1)for(var u=0,c=l[s];u<c.length;u+=1){var p=c[u],d=[p.x+o[0],p.y+o[1]];De(d,e,n,i),a.push(d)}return a}function Le(t,e,n,r){for(var i,o=8192*Math.pow(2,r.z),a=[8192*r.x,8192*r.y],s=[],l=0,u=t;l<u.length;l+=1){for(var c=[],p=0,d=u[l];p<d.length;p+=1){var h=d[p],f=[h.x+a[0],h.y+a[1]];xe(e,f),c.push(f)}s.push(c)}if(e[2]-e[0]<=o/2){(i=e)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var m=0,g=s;m<g.length;m+=1)for(var y=0,v=g[m];y<v.length;y+=1)De(v[y],e,n,o)}return s}be.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");var r=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Nt);if(!r)return null;var i=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Nt);if(!i)return null;var o=null;return n.locale&&!(o=e.parse(n.locale,1,jt))?null:new be(r,i,o)},be.prototype.evaluate=function(t){return new ee(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},be.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},be.prototype.outputDefined=function(){return!1},be.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var Re=function(t,e){this.type=Nt,this.geojson=t,this.geometries=e};function We(t){if(t instanceof _e){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof Re)return!1;var e=!0;return t.eachChild((function(t){e&&!We(t)&&(e=!1)})),e}function Be(t){if(t instanceof _e&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild((function(t){e&&!Be(t)&&(e=!1)})),e}function je(t,e){if(t instanceof _e&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild((function(t){n&&!je(t,e)&&(n=!1)})),n}Re.parse=function(t,e){if(2!==t.length)return e.error("'within' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(ae(t[1])){var n=t[1];if("FeatureCollection"===n.type)for(var r=0;r<n.features.length;++r){var i=n.features[r].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new Re(n,n.features[r].geometry)}else if("Feature"===n.type){var o=n.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new Re(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new Re(n,n)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Re.prototype.evaluate=function(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){var o=Oe(e.coordinates,r,i),a=ze(t.geometry(),n,r,i);if(!we(n,r))return!1;for(var s=0,l=a;s<l.length;s+=1)if(!Ce(l[s],o))return!1}if("MultiPolygon"===e.type){var u=Pe(e.coordinates,r,i),c=ze(t.geometry(),n,r,i);if(!we(n,r))return!1;for(var p=0,d=c;p<d.length;p+=1)if(!Ee(d[p],u))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){var o=Oe(e.coordinates,r,i),a=Le(t.geometry(),n,r,i);if(!we(n,r))return!1;for(var s=0,l=a;s<l.length;s+=1)if(!Me(l[s],o))return!1}if("MultiPolygon"===e.type){var u=Pe(e.coordinates,r,i),c=Le(t.geometry(),n,r,i);if(!we(n,r))return!1;for(var p=0,d=c;p<d.length;p+=1)if(!Ae(d[p],u))return!1}return!0}(t,this.geometries)}return!1},Re.prototype.eachChild=function(){},Re.prototype.outputDefined=function(){return!0},Re.prototype.serialize=function(){return["within",this.geojson]};var Ne=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};Ne.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new Ne(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},Ne.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Ne.prototype.eachChild=function(){},Ne.prototype.outputDefined=function(){return!1},Ne.prototype.serialize=function(){return["var",this.name]};var Fe=function(t,e,n,r,i){void 0===e&&(e=[]),void 0===r&&(r=new Rt),void 0===i&&(i=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return"["+t+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function Ue(t,e){for(var n,r=t.length-1,i=0,o=r,a=0;i<=o;)if((n=t[a=Math.floor((i+o)/2)])<=e){if(a===r||e<t[a+1])return a;i=a+1}else{if(!(n>e))throw new ce("Input is not a number.");o=a-1}return 0}Fe.prototype.parse=function(t,e,n,r,i){return void 0===i&&(i={}),e?this.concat(e,n,r)._parse(t,i):this._parse(t,i)},Fe.prototype._parse=function(t,e){function n(t,e,n){return"assert"===n?new de(e,[t]):"coerce"===n?new ge(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=t[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[r];if(i){var o=i.parse(t,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=n(o,a,e.typeAnnotation||"coerce");else o=n(o,a,e.typeAnnotation||"assert")}if(!(o instanceof ue)&&"resolvedImage"!==o.type.kind&&function t(e){if(e instanceof Ne)return t(e.boundExpression);if(e instanceof _e&&"error"===e.name)return!1;if(e instanceof be)return!1;if(e instanceof Re)return!1;var n=e instanceof ge||e instanceof de,r=!0;return e.eachChild((function(e){r=n?r&&t(e):r&&e instanceof ue})),!!r&&We(e)&&je(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var l=new ve;try{o=new ue(o.type,o.evaluate(l))}catch(t){return this.error(t.message),null}}return o}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof t+" instead.")},Fe.prototype.concat=function(t,e,n){var r="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new Fe(this.registry,r,e||null,i,this.errors)},Fe.prototype.error=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=""+this.key+e.map((function(t){return"["+t+"]"})).join("");this.errors.push(new Lt(r,t))},Fe.prototype.checkSubtype=function(t,e){var n=Xt(t,e);return n&&this.error(n),n};var Ve=function(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[1];this.labels.push(o[0]),this.outputs.push(a)}};function qe(t,e,n){return t*(1-n)+e*n}Ve.parse=function(t,e){if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");var n=e.parse(t[1],1,Bt);if(!n)return null;var r=[],i=null;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var o=1;o<t.length;o+=2){var a=1===o?-1/0:t[o],s=t[o+1],l=o,u=o+1;if("number"!=typeof a)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(r.length&&r[r.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var c=e.parse(s,u,i);if(!c)return null;i=i||c.type,r.push([a,c])}return new Ve(i,n,r)},Ve.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[Ue(e,r)].evaluate(t)},Ve.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},Ve.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))},Ve.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var He=Object.freeze({__proto__:null,number:qe,color:function(t,e,n){return new te(qe(t.r,e.r,n),qe(t.g,e.g,n),qe(t.b,e.b,n),qe(t.a,e.a,n))},array:function(t,e,n){return t.map((function(t,r){return qe(t,e[r],n)}))}}),Ge=6/29*3*(6/29),Ze=Math.PI/180,Ke=180/Math.PI;function Qe(t){return t>.008856451679035631?Math.pow(t,1/3):t/Ge+4/29}function Xe(t){return t>6/29?t*t*t:Ge*(t-4/29)}function Ye(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Je(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function $e(t){var e=Je(t.r),n=Je(t.g),r=Je(t.b),i=Qe((.4124564*e+.3575761*n+.1804375*r)/.95047),o=Qe((.2126729*e+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-Qe((.0193339*e+.119192*n+.9503041*r)/1.08883)),alpha:t.a}}function tn(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=1*Xe(e),n=.95047*Xe(n),r=1.08883*Xe(r),new te(Ye(3.2404542*n-1.5371385*e-.4985314*r),Ye(-.969266*n+1.8760108*e+.041556*r),Ye(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}function en(t,e,n){var r=e-t;return t+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var nn={forward:$e,reverse:tn,interpolate:function(t,e,n){return{l:qe(t.l,e.l,n),a:qe(t.a,e.a,n),b:qe(t.b,e.b,n),alpha:qe(t.alpha,e.alpha,n)}}},rn={forward:function(t){var e=$e(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*Ke;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}},reverse:function(t){var e=t.h*Ze,n=t.c;return tn({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:en(t.h,e.h,n),c:qe(t.c,e.c,n),l:qe(t.l,e.l,n),alpha:qe(t.alpha,e.alpha,n)}}},on=Object.freeze({__proto__:null,lab:nn,hcl:rn}),an=function(t,e,n,r,i){this.type=t,this.operator=e,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],l=s[1];this.labels.push(s[0]),this.outputs.push(l)}};function sn(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}an.interpolationFactor=function(t,e,r,i){var o=0;if("exponential"===t.name)o=sn(e,t.base,r,i);else if("linear"===t.name)o=sn(e,1,r,i);else if("cubic-bezier"===t.name){var a=t.controlPoints;o=new n(a[0],a[1],a[2],a[3]).solve(sn(e,1,r,i))}return o},an.parse=function(t,e){var n=t[0],r=t[1],i=t[2],o=t.slice(3);if(!Array.isArray(r)||0===r.length)return e.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var a=r[1];if("number"!=typeof a)return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:a}}else{if("cubic-bezier"!==r[0])return e.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some((function(t){return"number"!=typeof t||t<0||t>1})))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(i=e.parse(i,2,Bt)))return null;var l=[],u=null;"interpolate-hcl"===n||"interpolate-lab"===n?u=Ft:e.expectedType&&"value"!==e.expectedType.kind&&(u=e.expectedType);for(var c=0;c<o.length;c+=2){var p=o[c],d=o[c+1],h=c+3,f=c+4;if("number"!=typeof p)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(l.length&&l[l.length-1][0]>=p)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);var m=e.parse(d,f,u);if(!m)return null;u=u||m.type,l.push([p,m])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new an(u,n,r,i,l):e.error("Type "+Kt(u)+" is not interpolatable.")},an.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);var o=Ue(e,r),a=an.interpolationFactor(this.interpolation,r,e[o],e[o+1]),s=n[o].evaluate(t),l=n[o+1].evaluate(t);return"interpolate"===this.operator?He[this.type.kind.toLowerCase()](s,l,a):"interpolate-hcl"===this.operator?rn.reverse(rn.interpolate(rn.forward(s),rn.forward(l),a)):nn.reverse(nn.interpolate(nn.forward(s),nn.forward(l),a))},an.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},an.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))},an.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e};var ln=function(t,e){this.type=t,this.args=e};ln.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,r=e.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=t.slice(1);o<a.length;o+=1){var s=e.parse(a[o],1+i.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,i.push(s)}var l=r&&i.some((function(t){return Xt(r,t.type)}));return new ln(l?Vt:n,i)},ln.prototype.evaluate=function(t){for(var e,n=null,r=0,i=0,o=this.args;i<o.length&&(r++,(n=o[i].evaluate(t))&&n instanceof ie&&!n.available&&(e||(e=n.name),n=null,r===this.args.length&&(n=e)),null===n);i+=1);return n},ln.prototype.eachChild=function(t){this.args.forEach(t)},ln.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},ln.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t};var un=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};un.prototype.evaluate=function(t){return this.result.evaluate(t)},un.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1)t(n[e][1]);t(this.result)},un.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],r=1;r<t.length-1;r+=2){var i=t[r];if("string"!=typeof i)return e.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=e.parse(t[r+1],r+1);if(!o)return null;n.push([i,o])}var a=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return a?new un(n,a):null},un.prototype.outputDefined=function(){return this.result.outputDefined()},un.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var r=n[e];t.push(r[0],r[1].serialize())}return t.push(this.result.serialize()),t};var cn=function(t,e,n){this.type=t,this.index=e,this.input=n};cn.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Bt),r=e.parse(t[2],2,Zt(e.expectedType||Vt));return n&&r?new cn(r.type.itemType,n,r):null},cn.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new ce("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new ce("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new ce("Array index must be an integer, but found "+e+" instead.");return n[e]},cn.prototype.eachChild=function(t){t(this.index),t(this.input)},cn.prototype.outputDefined=function(){return!1},cn.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var pn=function(t,e){this.type=Nt,this.needle=t,this.haystack=e};pn.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Vt),r=e.parse(t[2],2,Vt);return n&&r?Yt(n.type,[Nt,jt,Bt,Wt,Vt])?new pn(n,r):e.error("Expected first argument to be of type boolean, string, number or null, but found "+Kt(n.type)+" instead"):null},pn.prototype.evaluate=function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!n)return!1;if(!Jt(e,["boolean","string","number","null"]))throw new ce("Expected first argument to be of type boolean, string, number or null, but found "+Kt(se(e))+" instead.");if(!Jt(n,["string","array"]))throw new ce("Expected second argument to be of type array or string, but found "+Kt(se(n))+" instead.");return n.indexOf(e)>=0},pn.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},pn.prototype.outputDefined=function(){return!0},pn.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var dn=function(t,e,n){this.type=Bt,this.needle=t,this.haystack=e,this.fromIndex=n};dn.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Vt),r=e.parse(t[2],2,Vt);if(!n||!r)return null;if(!Yt(n.type,[Nt,jt,Bt,Wt,Vt]))return e.error("Expected first argument to be of type boolean, string, number or null, but found "+Kt(n.type)+" instead");if(4===t.length){var i=e.parse(t[3],3,Bt);return i?new dn(n,r,i):null}return new dn(n,r)},dn.prototype.evaluate=function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!Jt(e,["boolean","string","number","null"]))throw new ce("Expected first argument to be of type boolean, string, number or null, but found "+Kt(se(e))+" instead.");if(!Jt(n,["string","array"]))throw new ce("Expected second argument to be of type array or string, but found "+Kt(se(n))+" instead.");if(this.fromIndex){var r=this.fromIndex.evaluate(t);return n.indexOf(e,r)}return n.indexOf(e)},dn.prototype.eachChild=function(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)},dn.prototype.outputDefined=function(){return!1},dn.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var hn=function(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};hn.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var i={},o=[],a=2;a<t.length-1;a+=2){var s=t[a],l=t[a+1];Array.isArray(s)||(s=[s]);var u=e.concat(a);if(0===s.length)return u.error("Expected at least one branch label.");for(var c=0,p=s;c<p.length;c+=1){var d=p[c];if("number"!=typeof d&&"string"!=typeof d)return u.error("Branch labels must be numbers or strings.");if("number"==typeof d&&Math.abs(d)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof d&&Math.floor(d)!==d)return u.error("Numeric branch labels must be integer values.");if(n){if(u.checkSubtype(n,se(d)))return null}else n=se(d);if(void 0!==i[String(d)])return u.error("Branch labels must be unique.");i[String(d)]=o.length}var h=e.parse(l,a,r);if(!h)return null;r=r||h.type,o.push(h)}var f=e.parse(t[1],1,Vt);if(!f)return null;var m=e.parse(t[t.length-1],t.length-1,r);return m?"value"!==f.type.kind&&e.concat(1).checkSubtype(n,f.type)?null:new hn(n,r,f,i,o,m):null},hn.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(se(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},hn.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},hn.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))&&this.otherwise.outputDefined()},hn.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i];void 0===(p=r[this.cases[a]])?(r[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[p][1].push(a)}for(var s=function(e){return"number"===t.inputType.kind?Number(e):e},l=0,u=n;l<u.length;l+=1){var c=u[l],p=c[0],d=c[1];e.push(1===d.length?s(d[0]):d.map(s)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var fn=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};fn.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var r=[],i=1;i<t.length-1;i+=2){var o=e.parse(t[i],i,Nt);if(!o)return null;var a=e.parse(t[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var s=e.parse(t[t.length-1],t.length-1,n);return s?new fn(n,r,s):null},fn.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[1];if(r[0].evaluate(t))return i.evaluate(t)}return this.otherwise.evaluate(t)},fn.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[1];t(r[0]),t(i)}t(this.otherwise)},fn.prototype.outputDefined=function(){return this.branches.every((function(t){return t[1].outputDefined()}))&&this.otherwise.outputDefined()},fn.prototype.serialize=function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t};var mn=function(t,e,n,r){this.type=t,this.input=e,this.beginIndex=n,this.endIndex=r};function gn(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function yn(t,e,n,r){return 0===r.compare(e,n)}function vn(t,e,n){var r="=="!==t&&"!="!==t;return function(){function i(t,e,n){this.type=Nt,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return i.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=t[0],o=e.parse(t[1],1,Vt);if(!o)return null;if(!gn(n,o.type))return e.concat(1).error('"'+n+"\" comparisons are not supported for type '"+Kt(o.type)+"'.");var a=e.parse(t[2],2,Vt);if(!a)return null;if(!gn(n,a.type))return e.concat(2).error('"'+n+"\" comparisons are not supported for type '"+Kt(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot compare types '"+Kt(o.type)+"' and '"+Kt(a.type)+"'.");r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new de(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new de(o.type,[a])));var s=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,qt)))return null}return new i(o,a,s)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=se(o),l=se(a);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new ce('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+s.kind+", "+l.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var u=se(o),c=se(a);if("string"!==u.kind||"string"!==c.kind)return e(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):e(i,o,a)},i.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},i}()}mn.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Vt),r=e.parse(t[2],2,Bt);if(!n||!r)return null;if(!Yt(n.type,[Zt(Vt),jt,Vt]))return e.error("Expected first argument to be of type array or string, but found "+Kt(n.type)+" instead");if(4===t.length){var i=e.parse(t[3],3,Bt);return i?new mn(n.type,n,r,i):null}return new mn(n.type,n,r)},mn.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=this.beginIndex.evaluate(t);if(!Jt(e,["string","array"]))throw new ce("Expected first argument to be of type array or string, but found "+Kt(se(e))+" instead.");if(this.endIndex){var r=this.endIndex.evaluate(t);return e.slice(n,r)}return e.slice(n)},mn.prototype.eachChild=function(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)},mn.prototype.outputDefined=function(){return!1},mn.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var _n=vn("==",(function(t,e,n){return e===n}),yn),bn=vn("!=",(function(t,e,n){return e!==n}),(function(t,e,n,r){return!yn(0,e,n,r)})),xn=vn("<",(function(t,e,n){return e<n}),(function(t,e,n,r){return r.compare(e,n)<0})),wn=vn(">",(function(t,e,n){return e>n}),(function(t,e,n,r){return r.compare(e,n)>0})),kn=vn("<=",(function(t,e,n){return e<=n}),(function(t,e,n,r){return r.compare(e,n)<=0})),Sn=vn(">=",(function(t,e,n){return e>=n}),(function(t,e,n,r){return r.compare(e,n)>=0})),Cn=function(t,e,n,r,i){this.type=jt,this.number=t,this.locale=e,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};Cn.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,Bt);if(!n)return null;var r=t[2];if("object"!=typeof r||Array.isArray(r))return e.error("NumberFormat options argument must be an object.");var i=null;if(r.locale&&!(i=e.parse(r.locale,1,jt)))return null;var o=null;if(r.currency&&!(o=e.parse(r.currency,1,jt)))return null;var a=null;if(r["min-fraction-digits"]&&!(a=e.parse(r["min-fraction-digits"],1,Bt)))return null;var s=null;return r["max-fraction-digits"]&&!(s=e.parse(r["max-fraction-digits"],1,Bt))?null:new Cn(n,i,o,a,s)},Cn.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},Cn.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},Cn.prototype.outputDefined=function(){return!1},Cn.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var En=function(t){this.type=Bt,this.input=t};En.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+Kt(n.type)+" instead."):new En(n):null},En.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new ce("Expected value to be of type string or array, but found "+Kt(se(e))+" instead.")},En.prototype.eachChild=function(t){t(this.input)},En.prototype.outputDefined=function(){return!1},En.prototype.serialize=function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Tn={"==":_n,"!=":bn,">":wn,"<":xn,">=":Sn,"<=":kn,array:de,at:cn,boolean:de,case:fn,coalesce:ln,collator:be,format:he,image:fe,in:pn,"index-of":dn,interpolate:an,"interpolate-hcl":an,"interpolate-lab":an,length:En,let:un,literal:ue,match:hn,number:de,"number-format":Cn,object:de,slice:mn,step:Ve,string:de,"to-boolean":ge,"to-color":ge,"to-number":ge,"to-string":ge,var:Ne,within:Re};function In(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t);var a=o?o.evaluate(t):1,s=oe(n,r,i,a);if(s)throw new ce(s);return new te(n/255*a,r/255*a,i/255*a,a)}function Mn(t,e){return t in e}function An(t,e){var n=e[t];return void 0===n?null:n}function On(t){return{type:t}}function Pn(t){return{result:"success",value:t}}function Dn(t){return{result:"error",value:t}}function zn(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Ln(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Rn(t){return!!t.expression&&t.expression.interpolated}function Wn(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function Bn(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function jn(t){return t}function Nn(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function Fn(t,e,n,r,i){return Nn(typeof n===i?r[n]:void 0,t.default,e.default)}function Un(t,e,n){if("number"!==Wn(n))return Nn(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=Ue(t.stops.map((function(t){return t[0]})),n);return t.stops[i][1]}function Vn(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==Wn(n))return Nn(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var o=Ue(t.stops.map((function(t){return t[0]})),n),a=function(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}(n,r,t.stops[o][0],t.stops[o+1][0]),s=t.stops[o][1],l=t.stops[o+1][1],u=He[e.type]||jn;if(t.colorSpace&&"rgb"!==t.colorSpace){var c=on[t.colorSpace];u=function(t,e){return c.reverse(c.interpolate(c.forward(t),c.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=s.evaluate.apply(void 0,t),r=l.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return u(n,r,a)}}:u(s,l,a)}function qn(t,e,n){return"color"===e.type?n=te.parse(n):"formatted"===e.type?n=re.fromString(n.toString()):"resolvedImage"===e.type?n=ie.fromString(n.toString()):Wn(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),Nn(n,t.default,e.default)}_e.register(Tn,{error:[{kind:"error"},[jt],function(t,e){throw new ce(e[0].evaluate(t))}],typeof:[jt,[Vt],function(t,e){return Kt(se(e[0].evaluate(t)))}],"to-rgba":[Zt(Bt,4),[Ft],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[Ft,[Bt,Bt,Bt],In],rgba:[Ft,[Bt,Bt,Bt,Bt],In],has:{type:Nt,overloads:[[[jt],function(t,e){return Mn(e[0].evaluate(t),t.properties())}],[[jt,Ut],function(t,e){var n=e[1];return Mn(e[0].evaluate(t),n.evaluate(t))}]]},get:{type:Vt,overloads:[[[jt],function(t,e){return An(e[0].evaluate(t),t.properties())}],[[jt,Ut],function(t,e){var n=e[1];return An(e[0].evaluate(t),n.evaluate(t))}]]},"feature-state":[Vt,[jt],function(t,e){return An(e[0].evaluate(t),t.featureState||{})}],properties:[Ut,[],function(t){return t.properties()}],"geometry-type":[jt,[],function(t){return t.geometryType()}],id:[Vt,[],function(t){return t.id()}],zoom:[Bt,[],function(t){return t.globals.zoom}],"heatmap-density":[Bt,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Bt,[],function(t){return t.globals.lineProgress||0}],accumulated:[Vt,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[Bt,On(Bt),function(t,e){for(var n=0,r=0,i=e;r<i.length;r+=1)n+=i[r].evaluate(t);return n}],"*":[Bt,On(Bt),function(t,e){for(var n=1,r=0,i=e;r<i.length;r+=1)n*=i[r].evaluate(t);return n}],"-":{type:Bt,overloads:[[[Bt,Bt],function(t,e){var n=e[1];return e[0].evaluate(t)-n.evaluate(t)}],[[Bt],function(t,e){return-e[0].evaluate(t)}]]},"/":[Bt,[Bt,Bt],function(t,e){var n=e[1];return e[0].evaluate(t)/n.evaluate(t)}],"%":[Bt,[Bt,Bt],function(t,e){var n=e[1];return e[0].evaluate(t)%n.evaluate(t)}],ln2:[Bt,[],function(){return Math.LN2}],pi:[Bt,[],function(){return Math.PI}],e:[Bt,[],function(){return Math.E}],"^":[Bt,[Bt,Bt],function(t,e){var n=e[1];return Math.pow(e[0].evaluate(t),n.evaluate(t))}],sqrt:[Bt,[Bt],function(t,e){return Math.sqrt(e[0].evaluate(t))}],log10:[Bt,[Bt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN10}],ln:[Bt,[Bt],function(t,e){return Math.log(e[0].evaluate(t))}],log2:[Bt,[Bt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN2}],sin:[Bt,[Bt],function(t,e){return Math.sin(e[0].evaluate(t))}],cos:[Bt,[Bt],function(t,e){return Math.cos(e[0].evaluate(t))}],tan:[Bt,[Bt],function(t,e){return Math.tan(e[0].evaluate(t))}],asin:[Bt,[Bt],function(t,e){return Math.asin(e[0].evaluate(t))}],acos:[Bt,[Bt],function(t,e){return Math.acos(e[0].evaluate(t))}],atan:[Bt,[Bt],function(t,e){return Math.atan(e[0].evaluate(t))}],min:[Bt,On(Bt),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[Bt,On(Bt),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[Bt,[Bt],function(t,e){return Math.abs(e[0].evaluate(t))}],round:[Bt,[Bt],function(t,e){var n=e[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[Bt,[Bt],function(t,e){return Math.floor(e[0].evaluate(t))}],ceil:[Bt,[Bt],function(t,e){return Math.ceil(e[0].evaluate(t))}],"filter-==":[Nt,[jt,Vt],function(t,e){var n=e[0],r=e[1];return t.properties()[n.value]===r.value}],"filter-id-==":[Nt,[Vt],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[Nt,[jt],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[Nt,[jt,Vt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[Nt,[Vt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[Nt,[jt,Vt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>o}],"filter-id->":[Nt,[Vt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[Nt,[jt,Vt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[Nt,[Vt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[Nt,[jt,Vt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[Nt,[Vt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[Nt,[Vt],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[Nt,[],function(t){return null!==t.id()&&void 0!==t.id()}],"filter-type-in":[Nt,[Zt(jt)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[Nt,[Zt(Vt)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[Nt,[jt,Zt(Vt)],function(t,e){var n=e[0];return e[1].value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[Nt,[jt,Zt(Vt)],function(t,e){var n=e[0],r=e[1];return function(t,e,n,r){for(;n<=r;){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}(t.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:Nt,overloads:[[[Nt,Nt],function(t,e){var n=e[1];return e[0].evaluate(t)&&n.evaluate(t)}],[On(Nt),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(!r[n].evaluate(t))return!1;return!0}]]},any:{type:Nt,overloads:[[[Nt,Nt],function(t,e){var n=e[1];return e[0].evaluate(t)||n.evaluate(t)}],[On(Nt),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(r[n].evaluate(t))return!0;return!1}]]},"!":[Nt,[Nt],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[Nt,[jt],function(t,e){var n=t.globals&&t.globals.isSupportedScript;return!n||n(e[0].evaluate(t))}],upcase:[jt,[jt],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[jt,[jt],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[jt,On(Vt),function(t,e){return e.map((function(e){return le(e.evaluate(t))})).join("")}],"resolved-locale":[jt,[qt],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var Hn=function(t,e){this.expression=t,this._warningHistory={},this._evaluator=new ve,this._defaultValue=e?function(t){return"color"===t.type&&Bn(t.default)?new te(0,0,0,0):"color"===t.type?te.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null};function Gn(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Tn}function Zn(t,e){var n=new Fe(Tn,[],e?function(t){var e={color:Ft,string:jt,number:Bt,enum:jt,boolean:Nt,formatted:Ht,resolvedImage:Gt};return"array"===t.type?Zt(e[t.value]||Vt,t.length):e[t.type]}(e):void 0),r=n.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return r?Pn(new Hn(r,e)):Dn(n.errors)}Hn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)},Hn.prototype.evaluate=function(t,e,n,r,i,o){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new ce("Expected value to be one of "+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var Kn=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!Be(e.expression)};Kn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)},Kn.prototype.evaluate=function(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)};var Qn=function(t,e,n,r){this.kind=t,this.zoomStops=n,this._styleExpression=e,this.isStateDependent="camera"!==t&&!Be(e.expression),this.interpolationType=r};function Xn(t,e){if("error"===(t=Zn(t,e)).result)return t;var n=t.value.expression,r=We(n);if(!r&&!zn(e))return Dn([new Lt("","data expressions not supported")]);var i=je(n,["zoom"]);if(!i&&!Ln(e))return Dn([new Lt("","zoom expressions not supported")]);var o=function t(e){var n=null;if(e instanceof un)n=t(e.result);else if(e instanceof ln)for(var r=0,i=e.args;r<i.length&&!(n=t(i[r]));r+=1);else(e instanceof Ve||e instanceof an)&&e.input instanceof _e&&"zoom"===e.input.name&&(n=e);return n instanceof Lt||e.eachChild((function(e){var r=t(e);r instanceof Lt?n=r:!n&&r?n=new Lt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new Lt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}(n);return o||i?o instanceof Lt?Dn([o]):o instanceof an&&!Rn(e)?Dn([new Lt("",'"interpolate" expressions cannot be used with this property')]):Pn(o?new Qn(r?"camera":"composite",t.value,o.labels,o instanceof an?o.interpolation:void 0):new Kn(r?"constant":"source",t.value)):Dn([new Lt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Qn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)},Qn.prototype.evaluate=function(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)},Qn.prototype.interpolationFactor=function(t,e,n){return this.interpolationType?an.interpolationFactor(this.interpolationType,t,e,n):0};var Yn=function(t,e){this._parameters=t,this._specification=e,Pt(this,function t(e,n){var r,i,o,a="color"===n.type,s=e.stops&&"object"==typeof e.stops[0][0],l=s||!(s||void 0!==e.property),u=e.type||(Rn(n)?"exponential":"interval");if(a&&((e=Pt({},e)).stops&&(e.stops=e.stops.map((function(t){return[t[0],te.parse(t[1])]}))),e.default=te.parse(e.default?e.default:n.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!on[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===u)r=Vn;else if("interval"===u)r=Un;else if("categorical"===u){r=Fn,i=Object.create(null);for(var c=0,p=e.stops;c<p.length;c+=1){var d=p[c];i[d[0]]=d[1]}o=typeof e.stops[0][0]}else{if("identity"!==u)throw new Error('Unknown function type "'+u+'"');r=qn}if(s){for(var h={},f=[],m=0;m<e.stops.length;m++){var g=e.stops[m],y=g[0].zoom;void 0===h[y]&&(h[y]={zoom:y,type:e.type,property:e.property,default:e.default,stops:[]},f.push(y)),h[y].stops.push([g[0].value,g[1]])}for(var v=[],_=0,b=f;_<b.length;_+=1){var x=b[_];v.push([h[x].zoom,t(h[x],n)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:an.interpolationFactor.bind(void 0,w),zoomStops:v.map((function(t){return t[0]})),evaluate:function(t,r){var i=t.zoom;return Vn({stops:v,base:e.base},n,i).evaluate(i,r)}}}if(l){var k="exponential"===u?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:k,interpolationFactor:an.interpolationFactor.bind(void 0,k),zoomStops:e.stops.map((function(t){return t[0]})),evaluate:function(t){return r(e,n,t.zoom,i,o)}}}return{kind:"source",evaluate:function(t,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?Nn(e.default,n.default):r(e,n,s,i,o)}}}(this._parameters,this._specification))};function Jn(t){var e=t.key,n=t.value,r=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=[],l=Wn(n);if("object"!==l)return[new At(e,n,"object expected, "+l+" found")];for(var u in n){var c=u.split(".")[0],p=r[c]||r["*"],d=void 0;if(i[c])d=i[c];else if(r[c])d=kr;else if(i["*"])d=i["*"];else{if(!r["*"]){s.push(new At(e,n[u],'unknown property "'+u+'"'));continue}d=kr}s=s.concat(d({key:(e?e+".":e)+u,value:n[u],valueSpec:p,style:o,styleSpec:a,object:n,objectKey:u},n))}for(var h in r)i[h]||r[h].required&&void 0===r[h].default&&void 0===n[h]&&s.push(new At(e,n,'missing required property "'+h+'"'));return s}function $n(t){var e=t.value,n=t.valueSpec,r=t.style,i=t.styleSpec,o=t.key,a=t.arrayElementValidator||kr;if("array"!==Wn(e))return[new At(o,e,"array expected, "+Wn(e)+" found")];if(n.length&&e.length!==n.length)return[new At(o,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new At(o,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===Wn(n.value)&&(s=n.value);for(var l=[],u=0;u<e.length;u++)l=l.concat(a({array:e,arrayIndex:u,value:e[u],valueSpec:s,style:r,styleSpec:i,key:o+"["+u+"]"}));return l}function tr(t){var e=t.key,n=t.value,r=t.valueSpec,i=Wn(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new At(e,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new At(e,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new At(e,n,n+" is greater than the maximum value "+r.maximum)]:[]}function er(t){var e,n,r,i=t.valueSpec,o=Dt(t.value.type),a={},s="categorical"!==o&&void 0===t.value.property,l=!s,u="array"===Wn(t.value.stops)&&"array"===Wn(t.value.stops[0])&&"object"===Wn(t.value.stops[0][0]),c=Jn({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===o)return[new At(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat($n({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:p})),"array"===Wn(n)&&0===n.length&&e.push(new At(t.key,n,"array must have at least one stop")),e},default:function(t){return kr({key:t.key,value:t.value,valueSpec:i,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===o&&s&&c.push(new At(t.key,t.value,'missing required property "property"')),"identity"===o||t.value.stops||c.push(new At(t.key,t.value,'missing required property "stops"')),"exponential"===o&&t.valueSpec.expression&&!Rn(t.valueSpec)&&c.push(new At(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(l&&!zn(t.valueSpec)?c.push(new At(t.key,t.value,"property functions not supported")):s&&!Ln(t.valueSpec)&&c.push(new At(t.key,t.value,"zoom functions not supported"))),"categorical"!==o&&!u||void 0!==t.value.property||c.push(new At(t.key,t.value,'"property" property is required')),c;function p(t){var e=[],o=t.value,s=t.key;if("array"!==Wn(o))return[new At(s,o,"array expected, "+Wn(o)+" found")];if(2!==o.length)return[new At(s,o,"array length 2 expected, length "+o.length+" found")];if(u){if("object"!==Wn(o[0]))return[new At(s,o,"object expected, "+Wn(o[0])+" found")];if(void 0===o[0].zoom)return[new At(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new At(s,o,"object stop key must have value")];if(r&&r>Dt(o[0].zoom))return[new At(s,o[0].zoom,"stop zoom values must appear in ascending order")];Dt(o[0].zoom)!==r&&(r=Dt(o[0].zoom),n=void 0,a={}),e=e.concat(Jn({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:tr,value:d}}))}else e=e.concat(d({key:s+"[0]",value:o[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},o));return Gn(zt(o[1]))?e.concat([new At(s+"[1]",o[1],"expressions are not allowed in function stops.")]):e.concat(kr({key:s+"[1]",value:o[1],valueSpec:i,style:t.style,styleSpec:t.styleSpec}))}function d(t,r){var s=Wn(t.value),l=Dt(t.value),u=null!==t.value?t.value:r;if(e){if(s!==e)return[new At(t.key,u,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new At(t.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, "+s+" found";return zn(i)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new At(t.key,u,c)]}return"categorical"!==o||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==o&&"number"===s&&void 0!==n&&l<n?[new At(t.key,u,"stop domain values must appear in ascending order")]:(n=l,"categorical"===o&&l in a?[new At(t.key,u,"stop domain values must be unique")]:(a[l]=!0,[])):[new At(t.key,u,"integer expected, found "+l)]}}function nr(t){var e=("property"===t.expressionContext?Xn:Zn)(zt(t.value),t.valueSpec);if("error"===e.result)return e.value.map((function(e){return new At(""+t.key+e.key,t.value,e.message)}));var n=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!n.outputDefined())return[new At(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!Be(n))return[new At(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!Be(n))return[new At(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!je(n,["zoom","feature-state"]))return[new At(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!We(n))return[new At(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function rr(t){var e=t.key,n=t.value,r=t.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Dt(n))&&i.push(new At(e,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(Dt(n))&&i.push(new At(e,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function ir(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var r=n[e];if(!ir(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}Yn.deserialize=function(t){return new Yn(t._parameters,t._specification)},Yn.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var or={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ar(t){if(null==t)return{filter:function(){return!0},needGeometry:!1};ir(t)||(t=lr(t));var e=Zn(t,or);if("error"===e.result)throw new Error(e.value.map((function(t){return t.key+": "+t.message})).join(", "));return{filter:function(t,n,r){return e.value.evaluate(t,n,{},r)},needGeometry:function t(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var n=1;n<e.length;n++)if(t(e[n]))return!0;return!1}(t)}}function sr(t,e){return t<e?-1:t>e?1:0}function lr(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?ur(t[1],t[2],"=="):"!="===n?dr(ur(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?ur(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map(lr))):"all"===n?["all"].concat(t.slice(1).map(lr)):"none"===n?["all"].concat(t.slice(1).map(lr).map(dr)):"in"===n?cr(t[1],t.slice(2)):"!in"===n?dr(cr(t[1],t.slice(2))):"has"===n?pr(t[1]):"!has"===n?dr(pr(t[1])):"within"!==n||t}function ur(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function cr(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((function(t){return typeof t!=typeof e[0]}))?["filter-in-large",t,["literal",e.sort(sr)]]:["filter-in-small",t,["literal",e]]}}function pr(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function dr(t){return["!",t]}function hr(t){return ir(zt(t.value))?nr(Pt({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,r=e.key;if("array"!==Wn(n))return[new At(r,n,"array expected, "+Wn(n)+" found")];var i,o=e.styleSpec,a=[];if(n.length<1)return[new At(r,n,"filter array must have at least 1 element")];switch(a=a.concat(rr({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),Dt(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Dt(n[1])&&a.push(new At(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new At(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=Wn(n[1]))&&a.push(new At(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=Wn(n[s]),"$type"===Dt(n[1])?a=a.concat(rr({key:r+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new At(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var l=1;l<n.length;l++)a=a.concat(t({key:r+"["+l+"]",value:n[l],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=Wn(n[1]),2!==n.length?a.push(new At(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new At(r+"[1]",n[1],"string expected, "+i+" found"));break;case"within":i=Wn(n[1]),2!==n.length?a.push(new At(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"object"!==i&&a.push(new At(r+"[1]",n[1],"object expected, "+i+" found"))}return a}(t)}function fr(t,e){var n=t.key,r=t.style,i=t.styleSpec,o=t.value,a=t.objectKey,s=i[e+"_"+t.layerType];if(!s)return[];var l=a.match(/^(.*)-transition$/);if("paint"===e&&l&&s[l[1]]&&s[l[1]].transition)return kr({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var u,c=t.valueSpec||s[a];if(!c)return[new At(n,o,'unknown property "'+a+'"')];if("string"===Wn(o)&&zn(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new At(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(u[1])+" }`.")];var p=[];return"symbol"===t.layerType&&("text-field"===a&&r&&!r.glyphs&&p.push(new At(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Bn(zt(o))&&"identity"===Dt(o.type)&&p.push(new At(n,o,'"text-font" does not support identity functions'))),p.concat(kr({key:t.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:e,propertyKey:a}))}function mr(t){return fr(t,"paint")}function gr(t){return fr(t,"layout")}function yr(t){var e=[],n=t.value,r=t.key,i=t.style,o=t.styleSpec;n.type||n.ref||e.push(new At(r,n,'either "type" or "ref" is required'));var a,s=Dt(n.type),l=Dt(n.ref);if(n.id)for(var u=Dt(n.id),c=0;c<t.arrayIndex;c++){var p=i.layers[c];Dt(p.id)===u&&e.push(new At(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+p.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(t){t in n&&e.push(new At(r,n[t],'"'+t+'" is prohibited for ref layers'))})),i.layers.forEach((function(t){Dt(t.id)===l&&(a=t)})),a?a.ref?e.push(new At(r,n.ref,"ref cannot reference another ref layer")):s=Dt(a.type):e.push(new At(r,n.ref,'ref layer "'+l+'" not found'));else if("background"!==s)if(n.source){var d=i.sources&&i.sources[n.source],h=d&&Dt(d.type);d?"vector"===h&&"raster"===s?e.push(new At(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===h&&"raster"!==s?e.push(new At(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==h||n["source-layer"]?"raster-dem"===h&&"hillshade"!==s?e.push(new At(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===h&&d.lineMetrics||e.push(new At(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new At(r,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new At(r,n.source,'source "'+n.source+'" not found'))}else e.push(new At(r,n,'missing required property "source"'));return e=e.concat(Jn({key:r,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return kr({key:r+".type",value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:hr,layout:function(t){return Jn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return gr(Pt({layerType:s},t))}}})},paint:function(t){return Jn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return mr(Pt({layerType:s},t))}}})}}}))}function vr(t){var e=t.value,n=t.key,r=Wn(e);return"string"!==r?[new At(n,e,"string expected, "+r+" found")]:[]}var _r={promoteId:function(t){var e=t.key,n=t.value;if("string"===Wn(n))return vr({key:e,value:n});var r=[];for(var i in n)r.push.apply(r,vr({key:e+"."+i,value:n[i]}));return r}};function br(t){var e=t.value,n=t.key,r=t.styleSpec,i=t.style;if(!e.type)return[new At(n,e,'"type" is required')];var o,a=Dt(e.type);switch(a){case"vector":case"raster":case"raster-dem":return Jn({key:n,value:e,valueSpec:r["source_"+a.replace("-","_")],style:t.style,styleSpec:r,objectElementValidators:_r});case"geojson":if(o=Jn({key:n,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:_r}),e.cluster)for(var s in e.clusterProperties){var l=e.clusterProperties[s],u=l[0],c="string"==typeof u?[u,["accumulated"],["get",s]]:u;o.push.apply(o,nr({key:n+"."+s+".map",value:l[1],expressionContext:"cluster-map"})),o.push.apply(o,nr({key:n+"."+s+".reduce",value:c,expressionContext:"cluster-reduce"}))}return o;case"video":return Jn({key:n,value:e,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return Jn({key:n,value:e,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new At(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return rr({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function xr(t){var e=t.value,n=t.styleSpec,r=n.light,i=t.style,o=[],a=Wn(e);if(void 0===e)return o;if("object"!==a)return o.concat([new At("light",e,"object expected, "+a+" found")]);for(var s in e){var l=s.match(/^(.*)-transition$/);o=o.concat(l&&r[l[1]]&&r[l[1]].transition?kr({key:s,value:e[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?kr({key:s,value:e[s],valueSpec:r[s],style:i,styleSpec:n}):[new At(s,e[s],'unknown property "'+s+'"')])}return o}var wr={"*":function(){return[]},array:$n,boolean:function(t){var e=t.value,n=t.key,r=Wn(e);return"boolean"!==r?[new At(n,e,"boolean expected, "+r+" found")]:[]},number:tr,color:function(t){var e=t.key,n=t.value,r=Wn(n);return"string"!==r?[new At(e,n,"color expected, "+r+" found")]:null===$t(n)?[new At(e,n,'color expected, "'+n+'" found')]:[]},constants:Ot,enum:rr,filter:hr,function:er,layer:yr,object:Jn,source:br,light:xr,string:vr,formatted:function(t){return 0===vr(t).length?[]:nr(t)},resolvedImage:function(t){return 0===vr(t).length?[]:nr(t)}};function kr(t){var e=t.value,n=t.valueSpec,r=t.styleSpec;return n.expression&&Bn(Dt(e))?er(t):n.expression&&Gn(zt(e))?nr(t):n.type&&wr[n.type]?wr[n.type](t):Jn(Pt({},t,{valueSpec:n.type?r[n.type]:n}))}function Sr(t){var e=t.value,n=t.key,r=vr(t);return r.length||(-1===e.indexOf("{fontstack}")&&r.push(new At(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new At(n,e,'"glyphs" url must include a "{range}" token'))),r}function Cr(t,e){void 0===e&&(e=Mt);var n=[];return n=n.concat(kr({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:Sr,"*":function(){return[]}}})),t.constants&&(n=n.concat(Ot({key:"constants",value:t.constants,style:t,styleSpec:e}))),Er(n)}function Er(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function Tr(t){return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return Er(t.apply(this,e))}}Cr.source=Tr(br),Cr.light=Tr(xr),Cr.layer=Tr(yr),Cr.filter=Tr(hr),Cr.paintProperty=Tr(mr),Cr.layoutProperty=Tr(gr);var Ir=Cr,Mr=Ir.light,Ar=Ir.paintProperty,Or=Ir.layoutProperty;function Pr(t,e){var n=!1;if(e&&e.length)for(var r=0,i=e;r<i.length;r+=1)t.fire(new Tt(new Error(i[r].message))),n=!0;return n}var Dr=zr;function zr(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],this.d=(e=i[1])+2*(n=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[3+o],s=i[3+o+1];r.push(a===s?null:i.subarray(a,s))}var l=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var u=0;u<this.d*this.d;u++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var c=n/e*t;this.min=-c,this.max=t+c}zr.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},zr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},zr.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},zr.prototype.query=function(t,e,n,r,i){var o=this.min,a=this.max;if(t<=o&&e<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,n,r,this._queryCell,s,{},i),s},zr.prototype._queryCell=function(t,e,n,r,i,o,a,s){var l=this.cells[i];if(null!==l)for(var u=this.keys,c=this.bboxes,p=0;p<l.length;p++){var d=l[p];if(void 0===a[d]){var h=4*d;(s?s(c[h+0],c[h+1],c[h+2],c[h+3]):t<=c[h+2]&&e<=c[h+3]&&n>=c[h+0]&&r>=c[h+1])?(a[d]=!0,o.push(u[d])):a[d]=!1}}},zr.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var l=this._convertToCellCoord(t),u=this._convertToCellCoord(e),c=this._convertToCellCoord(n),p=this._convertToCellCoord(r),d=l;d<=c;d++)for(var h=u;h<=p;h++){var f=this.d*h+d;if((!s||s(this._convertFromCellCoord(d),this._convertFromCellCoord(h),this._convertFromCellCoord(d+1),this._convertFromCellCoord(h+1)))&&i.call(this,t,e,n,r,f,o,a,s))return}},zr.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},zr.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},zr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(e+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=e,a=0;a<t.length;a++){var s=t[a];i[3+a]=o,i.set(s,o),o+=s.length}return i[3+t.length]=o,i.set(this.keys,o),i[3+t.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var Lr=a.ImageData,Rr=a.ImageBitmap,Wr={};function Br(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Wr[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var jr in Br("Object",Object),Dr.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),{buffer:n}},Dr.deserialize=function(t){return new Dr(t.buffer)},Br("Grid",Dr),Br("Color",te),Br("Error",Error),Br("ResolvedImage",ie),Br("StylePropertyFunction",Yn),Br("StyleExpression",Hn,{omit:["_evaluator"]}),Br("ZoomDependentExpression",Qn),Br("ZoomConstantExpression",Kn),Br("CompoundExpression",_e,{omit:["_evaluate"]}),Tn)Tn[jr]._classRegistryKey||Br("Expression_"+jr,Tn[jr]);function Nr(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function Fr(t){return Rr&&t instanceof Rr}function Ur(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(Nr(t)||Fr(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof Lr)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var r=[],i=0,o=t;i<o.length;i+=1)r.push(Ur(o[i],e));return r}if("object"==typeof t){var a=t.constructor,s=a._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var l=a.serialize?a.serialize(t,e):{};if(!a.serialize){for(var u in t)if(t.hasOwnProperty(u)&&!(Wr[s].omit.indexOf(u)>=0)){var c=t[u];l[u]=Wr[s].shallow.indexOf(u)>=0?c:Ur(c,e)}t instanceof Error&&(l.message=t.message)}if(l.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(l.$name=s),l}throw new Error("can't serialize object of type "+typeof t)}function Vr(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||Nr(t)||Fr(t)||ArrayBuffer.isView(t)||t instanceof Lr)return t;if(Array.isArray(t))return t.map(Vr);if("object"==typeof t){var e=t.$name||"Object",n=Wr[e].klass;if(!n)throw new Error("can't deserialize unregistered class "+e);if(n.deserialize)return n.deserialize(t);for(var r=Object.create(n.prototype),i=0,o=Object.keys(t);i<o.length;i+=1){var a=o[i];if("$name"!==a){var s=t[a];r[a]=Wr[e].shallow.indexOf(a)>=0?s:Vr(s)}}return r}throw new Error("can't deserialize object of type "+typeof t)}var qr=function(){this.first=!0};qr.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))};var Hr={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function Gr(t){for(var e=0,n=t;e<n.length;e+=1)if(Zr(n[e].charCodeAt(0)))return!0;return!1}function Zr(t){return!(746!==t&&747!==t&&(t<4352||!(Hr["Bopomofo Extended"](t)||Hr.Bopomofo(t)||Hr["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||Hr["CJK Compatibility Ideographs"](t)||Hr["CJK Compatibility"](t)||Hr["CJK Radicals Supplement"](t)||Hr["CJK Strokes"](t)||!(!Hr["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||Hr["CJK Unified Ideographs Extension A"](t)||Hr["CJK Unified Ideographs"](t)||Hr["Enclosed CJK Letters and Months"](t)||Hr["Hangul Compatibility Jamo"](t)||Hr["Hangul Jamo Extended-A"](t)||Hr["Hangul Jamo Extended-B"](t)||Hr["Hangul Jamo"](t)||Hr["Hangul Syllables"](t)||Hr.Hiragana(t)||Hr["Ideographic Description Characters"](t)||Hr.Kanbun(t)||Hr["Kangxi Radicals"](t)||Hr["Katakana Phonetic Extensions"](t)||Hr.Katakana(t)&&12540!==t||!(!Hr["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!Hr["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||Hr["Unified Canadian Aboriginal Syllabics"](t)||Hr["Unified Canadian Aboriginal Syllabics Extended"](t)||Hr["Vertical Forms"](t)||Hr["Yijing Hexagram Symbols"](t)||Hr["Yi Syllables"](t)||Hr["Yi Radicals"](t))))}function Kr(t){return!(Zr(t)||function(t){return!!(Hr["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||Hr["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||Hr["Letterlike Symbols"](t)||Hr["Number Forms"](t)||Hr["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||Hr["Control Pictures"](t)&&9251!==t||Hr["Optical Character Recognition"](t)||Hr["Enclosed Alphanumerics"](t)||Hr["Geometric Shapes"](t)||Hr["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||Hr["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||Hr["CJK Symbols and Punctuation"](t)||Hr.Katakana(t)||Hr["Private Use Area"](t)||Hr["CJK Compatibility Forms"](t)||Hr["Small Form Variants"](t)||Hr["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function Qr(t){return t>=1424&&t<=2303||Hr["Arabic Presentation Forms-A"](t)||Hr["Arabic Presentation Forms-B"](t)}function Xr(t,e){return!(!e&&Qr(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||Hr.Khmer(t))}function Yr(t){for(var e=0,n=t;e<n.length;e+=1)if(Qr(n[e].charCodeAt(0)))return!0;return!1}var Jr=null,$r="unavailable",ti=null,ei=function(t){t&&"string"==typeof t&&t.indexOf("NetworkError")>-1&&($r="error"),Jr&&Jr(t)};function ni(){ri.fire(new Et("pluginStateChange",{pluginStatus:$r,pluginURL:ti}))}var ri=new It,ii=function(){return $r},oi=function(){if("deferred"!==$r||!ti)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");$r="loading",ni(),ti&&bt({url:ti},(function(t){t?ei(t):($r="loaded",ni())}))},ai={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===$r||null!=ai.applyArabicShaping},isLoading:function(){return"loading"===$r},setState:function(t){$r=t.pluginStatus,ti=t.pluginURL},isParsed:function(){return null!=ai.applyArabicShaping&&null!=ai.processBidirectionalText&&null!=ai.processStyledBidirectionalText},getPluginURL:function(){return ti}},si=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new qr,this.transition={})};si.prototype.isSupportedScript=function(t){return function(t,e){for(var n=0,r=t;n<r.length;n+=1)if(!Xr(r[n].charCodeAt(0),e))return!1;return!0}(t,ai.isLoaded())},si.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},si.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),n=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*e}};var li=function(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(Bn(t))return new Yn(t,e);if(Gn(t)){var n=Xn(t,e);if("error"===n.result)throw new Error(n.value.map((function(t){return t.key+": "+t.message})).join(", "));return n.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=te.parse(t)),{kind:"constant",evaluate:function(){return r}}}(void 0===e?t.specification.default:e,t.specification)};li.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},li.prototype.possiblyEvaluate=function(t,e,n){return this.property.possiblyEvaluate(this,t,e,n)};var ui=function(t){this.property=t,this.value=new li(t,void 0)};ui.prototype.transitioned=function(t,e){return new pi(this.property,this.value,e,d({},t.transition,this.transition),t.now)},ui.prototype.untransitioned=function(){return new pi(this.property,this.value,null,{},0)};var ci=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};ci.prototype.getValue=function(t){return x(this._values[t].value.value)},ci.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new ui(this._values[t].property)),this._values[t].value=new li(this._values[t].property,null===e?void 0:x(e))},ci.prototype.getTransition=function(t){return x(this._values[t].transition)},ci.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new ui(this._values[t].property)),this._values[t].transition=x(e)||void 0},ci.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i);var o=this.getTransition(r);void 0!==o&&(t[r+"-transition"]=o)}return t},ci.prototype.transitioned=function(t,e){for(var n=new di(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(t,e._values[o])}return n},ci.prototype.untransitioned=function(){for(var t=new di(this._properties),e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e];t._values[r]=this._values[r].untransitioned()}return t};var pi=function(t,e,n,r,i){this.property=t,this.value=e,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,t.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};pi.prototype.possiblyEvaluate=function(t,e,n){var r=t.now||0,i=this.value.possiblyEvaluate(t,e,n),o=this.prior;if(o){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return o.possiblyEvaluate(t,e,n);var a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(t,e,n),i,function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}(a))}return i};var di=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};di.prototype.possiblyEvaluate=function(t,e,n){for(var r=new mi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(t,e,n)}return r},di.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1)if(this._values[e[t]].prior)return!0;return!1};var hi=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};hi.prototype.getValue=function(t){return x(this._values[t].value)},hi.prototype.setValue=function(t,e){this._values[t]=new li(this._values[t].property,null===e?void 0:x(e))},hi.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i)}return t},hi.prototype.possiblyEvaluate=function(t,e,n){for(var r=new mi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(t,e,n)}return r};var fi=function(t,e,n){this.property=t,this.value=e,this.parameters=n};fi.prototype.isConstant=function(){return"constant"===this.value.kind},fi.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},fi.prototype.evaluate=function(t,e,n,r){return this.property.evaluate(this.value,this.parameters,t,e,n,r)};var mi=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};mi.prototype.get=function(t){return this._values[t]};var gi=function(t){this.specification=t};gi.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},gi.prototype.interpolate=function(t,e,n){var r=He[this.specification.type];return r?r(t,e,n):t};var yi=function(t,e){this.specification=t,this.overrides=e};yi.prototype.possiblyEvaluate=function(t,e,n,r){return new fi(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},n,r)}:t.expression,e)},yi.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new fi(this,{kind:"constant",value:void 0},t.parameters);var r=He[this.specification.type];return r?new fi(this,{kind:"constant",value:r(t.value.value,e.value.value,n)},t.parameters):t},yi.prototype.evaluate=function(t,e,n,r,i,o){return"constant"===t.kind?t.value:t.evaluate(e,n,r,i,o)};var vi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(t,e,n,r){if(void 0===t.value)return new fi(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var i=t.expression.evaluate(e,null,{},n,r),o="resolvedImage"===t.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,e);return new fi(this,{kind:"constant",value:a},e)}if("camera"===t.expression.kind){var s=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new fi(this,{kind:"constant",value:s},e)}return new fi(this,t.expression,e)},e.prototype.evaluate=function(t,e,n,r,i,o){if("source"===t.kind){var a=t.evaluate(e,n,r,i,o);return this._calculate(a,a,a,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},n,r),t.evaluate({zoom:Math.floor(e.zoom)},n,r),t.evaluate({zoom:Math.floor(e.zoom)+1},n,r),e):t.value},e.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},e.prototype.interpolate=function(t){return t},e}(yi),_i=function(t){this.specification=t};_i.prototype.possiblyEvaluate=function(t,e,n,r){if(void 0!==t.value){if("constant"===t.expression.kind){var i=t.expression.evaluate(e,null,{},n,r);return this._calculate(i,i,i,e)}return this._calculate(t.expression.evaluate(new si(Math.floor(e.zoom-1),e)),t.expression.evaluate(new si(Math.floor(e.zoom),e)),t.expression.evaluate(new si(Math.floor(e.zoom+1),e)),e)}},_i.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},_i.prototype.interpolate=function(t){return t};var bi=function(t){this.specification=t};bi.prototype.possiblyEvaluate=function(t,e,n,r){return!!t.expression.evaluate(e,null,{},n,r)},bi.prototype.interpolate=function(){return!1};var xi=function(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var n=t[e];n.specification.overridable&&this.overridableProperties.push(e);var r=this.defaultPropertyValues[e]=new li(n,void 0),i=this.defaultTransitionablePropertyValues[e]=new ui(n);this.defaultTransitioningPropertyValues[e]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=r.possiblyEvaluate({})}};Br("DataDrivenProperty",yi),Br("DataConstantProperty",gi),Br("CrossFadedDataDrivenProperty",vi),Br("CrossFadedProperty",_i),Br("ColorRampProperty",bi);var wi=function(t){function e(e,n){if(t.call(this),this.id=e.id,this.type=e.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==e.type&&(this.metadata=(e=e).metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),n.layout&&(this._unevaluatedLayout=new hi(n.layout)),n.paint)){for(var r in this._transitionablePaint=new ci(n.paint),e.paint)this.setPaintProperty(r,e.paint[r],{validate:!1});for(var i in e.layout)this.setLayoutProperty(i,e.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new mi(n.paint)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,n){void 0===n&&(n={}),null!=e&&this._validate(Or,"layers."+this.id+".layout."+t,t,e,n)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e)},e.prototype.getPaintProperty=function(t){return v(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,n){if(void 0===n&&(n={}),null!=e&&this._validate(Ar,"layers."+this.id+".paint."+t,t,e,n))return!1;if(v(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0),!1;var r=this._transitionablePaint._values[t],i="cross-faded-data-driven"===r.property.specification["property-type"],o=r.value.isDataDriven(),a=r.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);var s=this._transitionablePaint._values[t].value;return s.isDataDriven()||o||i||this._handleOverridablePaintPropertyUpdate(t,a,s)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){},e.prototype._handleOverridablePaintPropertyUpdate=function(t,e,n){return!1},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),b(t,(function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)}))},e.prototype._validate=function(t,e,n,r,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&Pr(this,t.call(Ir,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:Mt,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof fi&&zn(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},e}(It),ki={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Si=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ci=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Ei(t,e){void 0===e&&(e=1);var n=0,r=0;return{members:t.map((function(t){var i=ki[t.type].BYTES_PER_ELEMENT,o=n=Ti(n,Math.max(e,i)),a=t.components||1;return r=Math.max(r,i),n+=i*a,{name:t.name,type:t.type,components:a,offset:o}})),size:Ti(n,Math.max(r,e)),alignment:e}}function Ti(t,e){return Math.ceil(t/e)*e}Ci.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},Ci.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},Ci.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ci.prototype.clear=function(){this.length=0},Ci.prototype.resize=function(t){this.reserve(t),this.length=t},Ci.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},Ci.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Ii=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.int16[r+0]=e,this.int16[r+1]=n,t},e}(Ci);Ii.prototype.bytesPerElement=4,Br("StructArrayLayout2i4",Ii);var Mi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.int16[o+0]=e,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,t},e}(Ci);Mi.prototype.bytesPerElement=8,Br("StructArrayLayout4i8",Mi);var Ai=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Ci);Ai.prototype.bytesPerElement=12,Br("StructArrayLayout2i4i12",Ai);var Oi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=4*t,l=8*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.uint8[l+4]=r,this.uint8[l+5]=i,this.uint8[l+6]=o,this.uint8[l+7]=a,t},e}(Ci);Oi.prototype.bytesPerElement=8,Br("StructArrayLayout2i4ub8",Oi);var Pi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.float32[r+0]=e,this.float32[r+1]=n,t},e}(Ci);Pi.prototype.bytesPerElement=8,Br("StructArrayLayout2f8",Pi);var Di=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u){var c=this.length;return this.resize(c+1),this.emplace(c,t,e,n,r,i,o,a,s,l,u)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c){var p=10*t;return this.uint16[p+0]=e,this.uint16[p+1]=n,this.uint16[p+2]=r,this.uint16[p+3]=i,this.uint16[p+4]=o,this.uint16[p+5]=a,this.uint16[p+6]=s,this.uint16[p+7]=l,this.uint16[p+8]=u,this.uint16[p+9]=c,t},e}(Ci);Di.prototype.bytesPerElement=20,Br("StructArrayLayout10ui20",Di);var zi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c,p){var d=this.length;return this.resize(d+1),this.emplace(d,t,e,n,r,i,o,a,s,l,u,c,p)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,p,d){var h=12*t;return this.int16[h+0]=e,this.int16[h+1]=n,this.int16[h+2]=r,this.int16[h+3]=i,this.uint16[h+4]=o,this.uint16[h+5]=a,this.uint16[h+6]=s,this.uint16[h+7]=l,this.int16[h+8]=u,this.int16[h+9]=c,this.int16[h+10]=p,this.int16[h+11]=d,t},e}(Ci);zi.prototype.bytesPerElement=24,Br("StructArrayLayout4i4ui4i24",zi);var Li=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.float32[i+0]=e,this.float32[i+1]=n,this.float32[i+2]=r,t},e}(Ci);Li.prototype.bytesPerElement=12,Br("StructArrayLayout3f12",Li);var Ri=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint32[1*t+0]=e,t},e}(Ci);Ri.prototype.bytesPerElement=4,Br("StructArrayLayout1ul4",Ri);var Wi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l){var u=this.length;return this.resize(u+1),this.emplace(u,t,e,n,r,i,o,a,s,l)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u){var c=10*t,p=5*t;return this.int16[c+0]=e,this.int16[c+1]=n,this.int16[c+2]=r,this.int16[c+3]=i,this.int16[c+4]=o,this.int16[c+5]=a,this.uint32[p+3]=s,this.uint16[c+8]=l,this.uint16[c+9]=u,t},e}(Ci);Wi.prototype.bytesPerElement=20,Br("StructArrayLayout6i1ul2ui20",Wi);var Bi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Ci);Bi.prototype.bytesPerElement=12,Br("StructArrayLayout2i2i2i12",Bi);var ji=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,n,r,i)},e.prototype.emplace=function(t,e,n,r,i,o){var a=4*t,s=8*t;return this.float32[a+0]=e,this.float32[a+1]=n,this.float32[a+2]=r,this.int16[s+6]=i,this.int16[s+7]=o,t},e}(Ci);ji.prototype.bytesPerElement=16,Br("StructArrayLayout2f1f2i16",ji);var Ni=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=12*t,a=3*t;return this.uint8[o+0]=e,this.uint8[o+1]=n,this.float32[a+1]=r,this.float32[a+2]=i,t},e}(Ci);Ni.prototype.bytesPerElement=12,Br("StructArrayLayout2ub2f12",Ni);var Fi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=n,this.uint16[i+2]=r,t},e}(Ci);Fi.prototype.bytesPerElement=6,Br("StructArrayLayout3ui6",Fi);var Ui=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m,g){var y=this.length;return this.resize(y+1),this.emplace(y,t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m,g)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m,g,y){var v=24*t,_=12*t,b=48*t;return this.int16[v+0]=e,this.int16[v+1]=n,this.uint16[v+2]=r,this.uint16[v+3]=i,this.uint32[_+2]=o,this.uint32[_+3]=a,this.uint32[_+4]=s,this.uint16[v+10]=l,this.uint16[v+11]=u,this.uint16[v+12]=c,this.float32[_+7]=p,this.float32[_+8]=d,this.uint8[b+36]=h,this.uint8[b+37]=f,this.uint8[b+38]=m,this.uint32[_+10]=g,this.int16[v+22]=y,t},e}(Ci);Ui.prototype.bytesPerElement=48,Br("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ui);var Vi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b,x,w,k,S,C,E,T){var I=this.length;return this.resize(I+1),this.emplace(I,t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b,x,w,k,S,C,E,T)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b,x,w,k,S,C,E,T,I){var M=34*t,A=17*t;return this.int16[M+0]=e,this.int16[M+1]=n,this.int16[M+2]=r,this.int16[M+3]=i,this.int16[M+4]=o,this.int16[M+5]=a,this.int16[M+6]=s,this.int16[M+7]=l,this.uint16[M+8]=u,this.uint16[M+9]=c,this.uint16[M+10]=p,this.uint16[M+11]=d,this.uint16[M+12]=h,this.uint16[M+13]=f,this.uint16[M+14]=m,this.uint16[M+15]=g,this.uint16[M+16]=y,this.uint16[M+17]=v,this.uint16[M+18]=_,this.uint16[M+19]=b,this.uint16[M+20]=x,this.uint16[M+21]=w,this.uint16[M+22]=k,this.uint32[A+12]=S,this.float32[A+13]=C,this.float32[A+14]=E,this.float32[A+15]=T,this.float32[A+16]=I,t},e}(Ci);Vi.prototype.bytesPerElement=68,Br("StructArrayLayout8i15ui1ul4f68",Vi);var qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.float32[1*t+0]=e,t},e}(Ci);qi.prototype.bytesPerElement=4,Br("StructArrayLayout1f4",qi);var Hi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.int16[i+0]=e,this.int16[i+1]=n,this.int16[i+2]=r,t},e}(Ci);Hi.prototype.bytesPerElement=6,Br("StructArrayLayout3i6",Hi);var Gi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=4*t;return this.uint32[2*t+0]=e,this.uint16[i+2]=n,this.uint16[i+3]=r,t},e}(Ci);Gi.prototype.bytesPerElement=8,Br("StructArrayLayout1ul2ui8",Gi);var Zi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.uint16[r+0]=e,this.uint16[r+1]=n,t},e}(Ci);Zi.prototype.bytesPerElement=4,Br("StructArrayLayout2ui4",Zi);var Ki=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint16[1*t+0]=e,t},e}(Ci);Ki.prototype.bytesPerElement=2,Br("StructArrayLayout1ui2",Ki);var Qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.float32[o+0]=e,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,t},e}(Ci);Qi.prototype.bytesPerElement=16,Br("StructArrayLayout4f16",Qi);var Xi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(Si);Xi.prototype.size=20;var Yi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Xi(this,t)},e}(Wi);Br("CollisionBoxArray",Yi);var Ji=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(t){this._structArray.uint8[this._pos1+37]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+38]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+10]=t},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(e.prototype,n),e}(Si);Ji.prototype.size=48;var $i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Ji(this,t)},e}(Ui);Br("PlacedSymbolArray",$i);var to=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+12]=t},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},n.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(e.prototype,n),e}(Si);to.prototype.size=68;var eo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new to(this,t)},e}(Vi);Br("SymbolInstanceArray",eo);var no=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e}(qi);Br("GlyphOffsetArray",no);var ro=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e}(Hi);Br("SymbolLineVertexArray",ro);var io=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(e.prototype,n),e}(Si);io.prototype.size=8;var oo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new io(this,t)},e}(Gi);Br("FeatureIndexArray",oo);var ao=Ei([{name:"a_pos",components:2,type:"Int16"}],4).members,so=function(t){void 0===t&&(t=[]),this.segments=t};function lo(t,e){return 256*(t=c(Math.floor(t),0,255))+c(Math.floor(e),0,255)}so.prototype.prepareSegment=function(t,e,n,r){var i=this.segments[this.segments.length-1];return t>so.MAX_VERTEX_ARRAY_LENGTH&&k("Max vertices per segment is "+so.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!i||i.vertexLength+t>so.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i},so.prototype.get=function(){return this.segments},so.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var n=e[t];for(var r in n.vaos)n.vaos[r].destroy()}},so.simpleSegment=function(t,e,n,r){return new so([{vertexOffset:t,primitiveOffset:e,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},so.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Br("SegmentVector",so);var uo=Ei([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),co=e((function(t){t.exports=function(t,e){var n,r,i,o,a,s,l,u;for(r=t.length-(n=3&t.length),i=e,a=3432918353,s=461845907,u=0;u<r;)l=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24,++u,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&t.charCodeAt(u+2))<<16;case 2:l^=(255&t.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&t.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),po=e((function(t){t.exports=function(t,e){for(var n,r=t.length,i=e^r,o=0;r>=4;)n=1540483477*(65535&(n=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&t.charCodeAt(o+2))<<16;case 2:i^=(255&t.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),ho=co,fo=po;ho.murmur3=co,ho.murmur2=fo;var mo=function(){this.ids=[],this.positions=[],this.indexed=!1};mo.prototype.add=function(t,e,n,r){this.ids.push(yo(t)),this.positions.push(e,n,r)},mo.prototype.getPositions=function(t){for(var e=yo(t),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=e?r=i:n=i+1}for(var o=[];this.ids[n]===e;)o.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return o},mo.serialize=function(t,e){var n=new Float64Array(t.ids),r=new Uint32Array(t.positions);return function t(e,n,r,i){for(;r<i;){for(var o=e[r+i>>1],a=r-1,s=i+1;;){do{a++}while(e[a]<o);do{s--}while(e[s]>o);if(a>=s)break;vo(e,a,s),vo(n,3*a,3*s),vo(n,3*a+1,3*s+1),vo(n,3*a+2,3*s+2)}s-r<i-s?(t(e,n,r,s),r=s+1):(t(e,n,s+1,i),i=s)}}(n,r,0,n.length-1),e&&e.push(n.buffer,r.buffer),{ids:n,positions:r}},mo.deserialize=function(t){var e=new mo;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e};var go=Math.pow(2,53)-1;function yo(t){var e=+t;return!isNaN(e)&&e<=go?e:ho(String(t))}function vo(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}Br("FeaturePositionMap",mo);var _o=function(t,e){this.gl=t.gl,this.location=e},bo=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},e}(_o),xo=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))},e}(_o),wo=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},e}(_o),ko=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},e}(_o),So=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},e}(_o),Co=function(t){function e(e,n){t.call(this,e,n),this.current=te.transparent}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},e}(_o),Eo=new Float32Array(16),To=function(t){function e(e,n){t.call(this,e,n),this.current=Eo}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},e}(_o);function Io(t){return[lo(255*t.r,255*t.g),lo(255*t.b,255*t.a)]}var Mo=function(t,e,n){this.value=t,this.uniformNames=e.map((function(t){return"u_"+t})),this.type=n};Mo.prototype.setUniform=function(t,e,n){t.set(n.constantOr(this.value))},Mo.prototype.getBinding=function(t,e,n){return"color"===this.type?new Co(t,e):new xo(t,e)};var Ao=function(t,e){this.uniformNames=e.map((function(t){return"u_"+t})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Ao.prototype.setConstantPatternPositions=function(t,e){this.pixelRatioFrom=e.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=e.tlbr,this.patternTo=t.tlbr},Ao.prototype.setUniform=function(t,e,n,r){var i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&t.set(i)},Ao.prototype.getBinding=function(t,e,n){return"u_pattern"===n.substr(0,9)?new So(t,e):new xo(t,e)};var Oo=function(t,e,n,r){this.expression=t,this.type=n,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new r};Oo.prototype.populatePaintArray=function(t,e,n,r,i){var o=this.paintVertexArray.length,a=this.expression.evaluate(new si(0),e,{},r,[],i);this.paintVertexArray.resize(t),this._setPaintValue(o,t,a)},Oo.prototype.updatePaintArray=function(t,e,n,r){var i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(t,e,i)},Oo.prototype._setPaintValue=function(t,e,n){if("color"===this.type)for(var r=Io(n),i=t;i<e;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var o=t;o<e;o++)this.paintVertexArray.emplace(o,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},Oo.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Oo.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Po=function(t,e,n,r,i,o){this.expression=t,this.uniformNames=e.map((function(t){return"u_"+t+"_t"})),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new o};Po.prototype.populatePaintArray=function(t,e,n,r,i){var o=this.expression.evaluate(new si(this.zoom),e,{},r,[],i),a=this.expression.evaluate(new si(this.zoom+1),e,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(s,t,o,a)},Po.prototype.updatePaintArray=function(t,e,n,r){var i=this.expression.evaluate({zoom:this.zoom},n,r),o=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(t,e,i,o)},Po.prototype._setPaintValue=function(t,e,n,r){if("color"===this.type)for(var i=Io(n),o=Io(r),a=t;a<e;a++)this.paintVertexArray.emplace(a,i[0],i[1],o[0],o[1]);else{for(var s=t;s<e;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}},Po.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Po.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Po.prototype.setUniform=function(t,e){var n=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,r=c(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);t.set(r)},Po.prototype.getBinding=function(t,e,n){return new xo(t,e)};var Do=function(t,e,n,r,i,o){this.expression=t,this.type=e,this.useIntegerZoom=n,this.zoom=r,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Do.prototype.populatePaintArray=function(t,e,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(r,t,e.patterns&&e.patterns[this.layerId],n)},Do.prototype.updatePaintArray=function(t,e,n,r,i){this._setPaintValues(t,e,n.patterns&&n.patterns[this.layerId],i)},Do.prototype._setPaintValues=function(t,e,n,r){if(r&&n){var i=r[n.min],o=r[n.mid],a=r[n.max];if(i&&o&&a)for(var s=t;s<e;s++)this.zoomInPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],o.pixelRatio,i.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],a.tl[0],a.tl[1],a.br[0],a.br[1],o.pixelRatio,a.pixelRatio)}},Do.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,uo.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,uo.members,this.expression.isStateDependent))},Do.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var zo=function(t,e,n){this.binders={},this._buffers=[];var r=[];for(var i in t.paint._values)if(n(i)){var o=t.paint.get(i);if(o instanceof fi&&zn(o.property.specification)){var a=Ro(i,t.type),s=o.value,l=o.property.specification.type,u=o.property.useIntegerZoom,c=o.property.specification["property-type"],p="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===s.kind)this.binders[i]=p?new Ao(s.value,a):new Mo(s.value,a,l),r.push("/u_"+i);else if("source"===s.kind||p){var d=Wo(i,l,"source");this.binders[i]=p?new Do(s,l,u,e,d,t.id):new Oo(s,a,l,d),r.push("/a_"+i)}else{var h=Wo(i,l,"composite");this.binders[i]=new Po(s,a,l,u,e,h),r.push("/z_"+i)}}}this.cacheKey=r.sort().join("")};zo.prototype.getMaxValue=function(t){var e=this.binders[t];return e instanceof Oo||e instanceof Po?e.maxValue:0},zo.prototype.populatePaintArrays=function(t,e,n,r,i){for(var o in this.binders){var a=this.binders[o];(a instanceof Oo||a instanceof Po||a instanceof Do)&&a.populatePaintArray(t,e,n,r,i)}},zo.prototype.setConstantPatternPositions=function(t,e){for(var n in this.binders){var r=this.binders[n];r instanceof Ao&&r.setConstantPatternPositions(t,e)}},zo.prototype.updatePaintArrays=function(t,e,n,r,i){var o=!1;for(var a in t)for(var s=0,l=e.getPositions(a);s<l.length;s+=1){var u=l[s],c=n.feature(u.index);for(var p in this.binders){var d=this.binders[p];if((d instanceof Oo||d instanceof Po||d instanceof Do)&&!0===d.expression.isStateDependent){var h=r.paint.get(p);d.expression=h.value,d.updatePaintArray(u.start,u.end,c,t[a],i),o=!0}}}return o},zo.prototype.defines=function(){var t=[];for(var e in this.binders){var n=this.binders[e];(n instanceof Mo||n instanceof Ao)&&t.push.apply(t,n.uniformNames.map((function(t){return"#define HAS_UNIFORM_"+t})))}return t},zo.prototype.getBinderAttributes=function(){var t=[];for(var e in this.binders){var n=this.binders[e];if(n instanceof Oo||n instanceof Po)for(var r=0;r<n.paintVertexAttributes.length;r++)t.push(n.paintVertexAttributes[r].name);else if(n instanceof Do)for(var i=0;i<uo.members.length;i++)t.push(uo.members[i].name)}return t},zo.prototype.getBinderUniforms=function(){var t=[];for(var e in this.binders){var n=this.binders[e];if(n instanceof Mo||n instanceof Ao||n instanceof Po)for(var r=0,i=n.uniformNames;r<i.length;r+=1)t.push(i[r])}return t},zo.prototype.getPaintVertexBuffers=function(){return this._buffers},zo.prototype.getUniforms=function(t,e){var n=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof Mo||i instanceof Ao||i instanceof Po)for(var o=0,a=i.uniformNames;o<a.length;o+=1){var s=a[o];if(e[s]){var l=i.getBinding(t,e[s],s);n.push({name:s,property:r,binding:l})}}}return n},zo.prototype.setUniforms=function(t,e,n,r){for(var i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.name,l=a.property;this.binders[l].setUniform(a.binding,r,n.get(l),s)}},zo.prototype.updatePaintBuffers=function(t){for(var e in this._buffers=[],this.binders){var n=this.binders[e];if(t&&n instanceof Do){var r=2===t.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(n instanceof Oo||n instanceof Po)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},zo.prototype.upload=function(t){for(var e in this.binders){var n=this.binders[e];(n instanceof Oo||n instanceof Po||n instanceof Do)&&n.upload(t)}this.updatePaintBuffers()},zo.prototype.destroy=function(){for(var t in this.binders){var e=this.binders[t];(e instanceof Oo||e instanceof Po||e instanceof Do)&&e.destroy()}};var Lo=function(t,e,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var r=0,i=t;r<i.length;r+=1){var o=i[r];this.programConfigurations[o.id]=new zo(o,e,n)}this.needsUpload=!1,this._featureMap=new mo,this._bufferOffset=0};function Ro(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t]||[t.replace(e+"-","").replace(/-/g,"_")]}function Wo(t,e,n){var r={color:{source:Pi,composite:Qi},number:{source:qi,composite:Pi}},i=function(t){return{"line-pattern":{source:Di,composite:Di},"fill-pattern":{source:Di,composite:Di},"fill-extrusion-pattern":{source:Di,composite:Di}}[t]}(t);return i&&i[n]||r[e][n]}Lo.prototype.populatePaintArrays=function(t,e,n,r,i,o){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(t,e,r,i,o);void 0!==e.id&&this._featureMap.add(e.id,n,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},Lo.prototype.updatePaintArrays=function(t,e,n,r){for(var i=0,o=n;i<o.length;i+=1){var a=o[i];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(t,this._featureMap,e,a,r)||this.needsUpload}},Lo.prototype.get=function(t){return this.programConfigurations[t]},Lo.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},Lo.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},Br("ConstantBinder",Mo),Br("CrossFadedConstantBinder",Ao),Br("SourceExpressionBinder",Oo),Br("CrossFadedCompositeBinder",Do),Br("CompositeExpressionBinder",Po),Br("ProgramConfiguration",zo,{omit:["_buffers"]}),Br("ProgramConfigurationSet",Lo);var Bo=Math.pow(2,14)-1,jo=-Bo-1;function No(t){for(var e=8192/t.extent,n=t.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o],s=Math.round(a.x*e),l=Math.round(a.y*e);a.x=c(s,jo,Bo),a.y=c(l,jo,Bo),(s<a.x||s>a.x+1||l<a.y||l>a.y+1)&&k("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function Fo(t,e){return{type:t.type,id:t.id,properties:t.properties,geometry:e?No(t):[]}}function Uo(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}var Vo=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ii,this.indexArray=new Fi,this.segments=new so,this.programConfigurations=new Lo(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function qo(t,e){for(var n=0;n<t.length;n++)if($o(e,t[n]))return!0;for(var r=0;r<e.length;r++)if($o(t,e[r]))return!0;return!!Ko(t,e)}function Ho(t,e,n){return!!$o(t,e)||!!Xo(e,t,n)}function Go(t,e){if(1===t.length)return Jo(e,t[0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if($o(t,r[i]))return!0;for(var o=0;o<t.length;o++)if(Jo(e,t[o]))return!0;for(var a=0;a<e.length;a++)if(Ko(t,e[a]))return!0;return!1}function Zo(t,e,n){if(t.length>1){if(Ko(t,e))return!0;for(var r=0;r<e.length;r++)if(Xo(e[r],t,n))return!0}for(var i=0;i<t.length;i++)if(Xo(t[i],e,n))return!0;return!1}function Ko(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],i=t[n+1],o=0;o<e.length-1;o++)if(Qo(r,i,e[o],e[o+1]))return!0;return!1}function Qo(t,e,n,r){return S(t,n,r)!==S(e,n,r)&&S(t,e,n)!==S(t,e,r)}function Xo(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++)if(Yo(t,e[i-1],e[i])<r)return!0;return!1}function Yo(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return t.distSqr(i<0?e:i>1?n:n.sub(e)._mult(i)._add(e))}function Jo(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++)for(var s=0,l=(n=t[a]).length-1;s<n.length;l=s++)(r=n[s]).y>e.y!=(i=n[l]).y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function $o(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function ta(t,e,n){var r=n[0],i=n[2];if(t.x<r.x&&e.x<r.x||t.x>i.x&&e.x>i.x||t.y<r.y&&e.y<r.y||t.y>i.y&&e.y>i.y)return!1;var o=S(t,e,n[0]);return o!==S(t,e,n[1])||o!==S(t,e,n[2])||o!==S(t,e,n[3])}function ea(t,e,n){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:n.programConfigurations.get(e.id).getMaxValue(t)}function na(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ra(t,e,n,r,o){if(!e[0]&&!e[1])return t;var a=i.convert(e)._mult(o);"viewport"===n&&a._rotate(-r);for(var s=[],l=0;l<t.length;l++)s.push(t[l].sub(a));return s}Vo.prototype.populate=function(t,e,n){var r=this.layers[0],i=[],o=null;"circle"===r.type&&(o=r.layout.get("circle-sort-key"));for(var a=0,s=t;a<s.length;a+=1){var l=s[a],u=l.feature,c=l.id,p=l.index,d=l.sourceLayerIndex,h=this.layers[0]._featureFilter.needGeometry,f=Fo(u,h);if(this.layers[0]._featureFilter.filter(new si(this.zoom),f,n)){var m=o?o.evaluate(f,{},n):void 0,g={id:c,properties:u.properties,type:u.type,sourceLayerIndex:d,index:p,geometry:h?f.geometry:No(u),patterns:{},sortKey:m};i.push(g)}}o&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var y=0,v=i;y<v.length;y+=1){var _=v[y],b=_.geometry,x=_.index,w=_.sourceLayerIndex,k=t[x].feature;this.addFeature(_,b,x,n),e.featureIndex.insert(k,b,x,w,this.index)}},Vo.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Vo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Vo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Vo.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ao),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Vo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Vo.prototype.addFeature=function(t,e,n,r){for(var i=0,o=e;i<o.length;i+=1)for(var a=0,s=o[i];a<s.length;a+=1){var l=s[a],u=l.x,c=l.y;if(!(u<0||u>=8192||c<0||c>=8192)){var p=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),d=p.vertexLength;Uo(this.layoutVertexArray,u,c,-1,-1),Uo(this.layoutVertexArray,u,c,1,-1),Uo(this.layoutVertexArray,u,c,1,1),Uo(this.layoutVertexArray,u,c,-1,1),this.indexArray.emplaceBack(d,d+1,d+2),this.indexArray.emplaceBack(d,d+3,d+2),p.vertexLength+=4,p.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,{},r)},Br("CircleBucket",Vo,{omit:["layers"]});var ia=new xi({"circle-sort-key":new yi(Mt.layout_circle["circle-sort-key"])}),oa={paint:new xi({"circle-radius":new yi(Mt.paint_circle["circle-radius"]),"circle-color":new yi(Mt.paint_circle["circle-color"]),"circle-blur":new yi(Mt.paint_circle["circle-blur"]),"circle-opacity":new yi(Mt.paint_circle["circle-opacity"]),"circle-translate":new gi(Mt.paint_circle["circle-translate"]),"circle-translate-anchor":new gi(Mt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new gi(Mt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new gi(Mt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new yi(Mt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new yi(Mt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new yi(Mt.paint_circle["circle-stroke-opacity"])}),layout:ia},aa="undefined"!=typeof Float32Array?Float32Array:Array;function sa(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function la(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],d=e[9],h=e[10],f=e[11],m=e[12],g=e[13],y=e[14],v=e[15],_=n[0],b=n[1],x=n[2],w=n[3];return t[0]=_*r+b*s+x*p+w*m,t[1]=_*i+b*l+x*d+w*g,t[2]=_*o+b*u+x*h+w*y,t[3]=_*a+b*c+x*f+w*v,t[4]=(_=n[4])*r+(b=n[5])*s+(x=n[6])*p+(w=n[7])*m,t[5]=_*i+b*l+x*d+w*g,t[6]=_*o+b*u+x*h+w*y,t[7]=_*a+b*c+x*f+w*v,t[8]=(_=n[8])*r+(b=n[9])*s+(x=n[10])*p+(w=n[11])*m,t[9]=_*i+b*l+x*d+w*g,t[10]=_*o+b*u+x*h+w*y,t[11]=_*a+b*c+x*f+w*v,t[12]=(_=n[12])*r+(b=n[13])*s+(x=n[14])*p+(w=n[15])*m,t[13]=_*i+b*l+x*d+w*g,t[14]=_*o+b*u+x*h+w*y,t[15]=_*a+b*c+x*f+w*v,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,e=0,n=arguments.length;n--;)e+=t[n]*t[n];return Math.sqrt(e)});var ua,ca=la;function pa(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}ua=new aa(3),aa!=Float32Array&&(ua[0]=0,ua[1]=0,ua[2]=0),function(){var t=new aa(4);aa!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();var da=(function(){var t=new aa(2);aa!=Float32Array&&(t[0]=0,t[1]=0)}(),function(t){function e(e){t.call(this,e,oa)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new Vo(t)},e.prototype.queryRadius=function(t){var e=t;return ea("circle-radius",this,e)+ea("circle-stroke-width",this,e)+na(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a,s){for(var l=ra(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),u=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),c="map"===this.paint.get("circle-pitch-alignment"),p=c?l:function(t,e){return t.map((function(t){return ha(t,e)}))}(l,s),d=c?u*a:u,h=0,f=r;h<f.length;h+=1)for(var m=0,g=f[h];m<g.length;m+=1){var y=g[m],v=c?y:ha(y,s),_=d,b=pa([],[y.x,y.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=b[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=o.cameraToCenterDistance/b[3]),Ho(p,v,_))return!0}return!1},e}(wi));function ha(t,e){var n=pa([],[t.x,t.y,0,1],e);return new i(n[0]/n[3],n[1]/n[3])}var fa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Vo);function ma(t,e,n,r){var i=e.width,o=e.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return t.width=i,t.height=o,t.data=r,t}function ga(t,e,n){var r=e.width,i=e.height;if(r!==t.width||i!==t.height){var o=ma({},{width:r,height:i},n);ya(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,i)},n),t.width=r,t.height=i,t.data=o.data}}function ya(t,e,n,r,i,o){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,l=0;l<i.height;l++)for(var u=((n.y+l)*t.width+n.x)*o,c=((r.y+l)*e.width+r.x)*o,p=0;p<i.width*o;p++)s[c+p]=a[u+p];return e}Br("HeatmapBucket",fa,{omit:["layers"]});var va=function(t,e){ma(this,t,1,e)};va.prototype.resize=function(t){ga(this,t,1)},va.prototype.clone=function(){return new va({width:this.width,height:this.height},new Uint8Array(this.data))},va.copy=function(t,e,n,r,i){ya(t,e,n,r,i,1)};var _a=function(t,e){ma(this,t,4,e)};_a.prototype.resize=function(t){ga(this,t,4)},_a.prototype.replace=function(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t},_a.prototype.clone=function(){return new _a({width:this.width,height:this.height},new Uint8Array(this.data))},_a.copy=function(t,e,n,r,i){ya(t,e,n,r,i,4)},Br("AlphaImage",va),Br("RGBAImage",_a);var ba={paint:new xi({"heatmap-radius":new yi(Mt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new yi(Mt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new gi(Mt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new bi(Mt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new gi(Mt.paint_heatmap["heatmap-opacity"])})};function xa(t){var e={},n=t.resolution||256,r=t.clips?t.clips.length:1,i=t.image||new _a({width:n,height:r}),o=function(n,r,o){e[t.evaluationKey]=o;var a=t.expression.evaluate(e);i.data[n+r+0]=Math.floor(255*a.r/a.a),i.data[n+r+1]=Math.floor(255*a.g/a.a),i.data[n+r+2]=Math.floor(255*a.b/a.a),i.data[n+r+3]=Math.floor(255*a.a)};if(t.clips)for(var a=0,s=0;a<r;++a,s+=4*n)for(var l=0,u=0;l<n;l++,u+=4){var c=l/(n-1),p=t.clips[a];o(s,u,p.start*(1-c)+p.end*c)}else for(var d=0,h=0;d<n;d++,h+=4)o(0,h,d/(n-1));return i}var wa=function(t){function e(e){t.call(this,e,ba),this._updateColorRamp()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new fa(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){this.colorRamp=xa({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(wi),ka={paint:new xi({"hillshade-illumination-direction":new gi(Mt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new gi(Mt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new gi(Mt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new gi(Mt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new gi(Mt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new gi(Mt.paint_hillshade["hillshade-accent-color"])})},Sa=function(t){function e(e){t.call(this,e,ka)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(wi),Ca=Ei([{name:"a_pos",components:2,type:"Int16"}],4).members,Ea=Ia,Ta=Ia;function Ia(t,e,n){n=n||2;var r,i,o,a,s,l,u,c=e&&e.length,p=c?e[0]*n:t.length,d=Ma(t,0,p,n,!0),h=[];if(!d||d.next===d.prev)return h;if(c&&(d=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=Ma(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(Na(a));for(s.sort(Ra),i=0;i<s.length;i++)Wa(s[i],n),n=Aa(n,n.next);return n}(t,e,d,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var f=n;f<p;f+=n)(s=t[f])<r&&(r=s),(l=t[f+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);u=0!==(u=Math.max(o-r,a-i))?1/u:0}return Oa(d,h,n,r,i,u),h}function Ma(t,e,n,r,i){var o,a;if(i===$a(t,e,n,r)>0)for(o=e;o<n;o+=r)a=Xa(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=Xa(o,t[o],t[o+1],a);return a&&qa(a,a.next)&&(Ya(a),a=a.next),a}function Aa(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!qa(r,r.next)&&0!==Va(r.prev,r,r.next))r=r.next;else{if(Ya(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function Oa(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=ja(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ);e++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(t,r,i,o);for(var s,l,u=t;t.prev!==t.next;)if(s=t.prev,l=t.next,o?Da(t,r,i,o):Pa(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),Ya(t),t=l.next,u=l.next;else if((t=l)===u){a?1===a?Oa(t=za(Aa(t),e,n),e,n,r,i,o,2):2===a&&La(t,e,n,r,i,o):Oa(Aa(t),e,n,r,i,o,1);break}}}function Pa(t){var e=t.prev,n=t,r=t.next;if(Va(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Fa(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Va(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Da(t,e,n,r){var i=t.prev,o=t,a=t.next;if(Va(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,u=ja(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,e,n,r),c=ja(s,l,e,n,r),p=t.prevZ,d=t.nextZ;p&&p.z>=u&&d&&d.z<=c;){if(p!==t.prev&&p!==t.next&&Fa(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Va(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,d!==t.prev&&d!==t.next&&Fa(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Va(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;p&&p.z>=u;){if(p!==t.prev&&p!==t.next&&Fa(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Va(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;d&&d.z<=c;){if(d!==t.prev&&d!==t.next&&Fa(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Va(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function za(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!qa(i,o)&&Ha(i,r,r.next,o)&&Ka(i,o)&&Ka(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Ya(r),Ya(r.next),r=t=o),r=r.next}while(r!==t);return Aa(r)}function La(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Ua(a,s)){var l=Qa(a,s);return a=Aa(a,a.next),l=Aa(l,l.next),Oa(a,e,n,r,i,o),void Oa(l,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)}function Ra(t,e){return t.x-e.x}function Wa(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n;var l,u=n,c=n.x,p=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Fa(o<p?i:a,o,c,p,o<p?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),Ka(r,t)&&(l<d||l===d&&(r.x>n.x||r.x===n.x&&Ba(n,r)))&&(n=r,d=l)),r=r.next}while(r!==u);return n}(t,e)){var n=Qa(e,t);Aa(e,e.next),Aa(n,n.next)}}function Ba(t,e){return Va(t.prev,t,e.prev)<0&&Va(e.next,t,t.next)<0}function ja(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Na(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function Fa(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Ua(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Ha(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(Ka(t,e)&&Ka(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(Va(t.prev,t,e.prev)||Va(t,e.prev,e))||qa(t,e)&&Va(t.prev,t,t.next)>0&&Va(e.prev,e,e.next)>0)}function Va(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function qa(t,e){return t.x===e.x&&t.y===e.y}function Ha(t,e,n,r){var i=Za(Va(t,e,n)),o=Za(Va(t,e,r)),a=Za(Va(n,r,t)),s=Za(Va(n,r,e));return i!==o&&a!==s||!(0!==i||!Ga(t,n,e))||!(0!==o||!Ga(t,r,e))||!(0!==a||!Ga(n,t,r))||!(0!==s||!Ga(n,e,r))}function Ga(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Za(t){return t>0?1:t<0?-1:0}function Ka(t,e){return Va(t.prev,t,t.next)<0?Va(t,e,t.next)>=0&&Va(t,t.prev,e)>=0:Va(t,e,t.prev)<0||Va(t,t.next,e)<0}function Qa(t,e){var n=new Ja(t.i,t.x,t.y),r=new Ja(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Xa(t,e,n,r){var i=new Ja(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ya(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ja(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $a(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function ts(t,e,n,r,i){!function t(e,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*u/a+c)),Math.min(i,Math.floor(n+(a-s)*u/a+c)),o)}var p=e[n],d=r,h=i;for(es(e,r,n),o(e[i],p)>0&&es(e,r,i);d<h;){for(es(e,d,h),d++,h--;o(e[d],p)<0;)d++;for(;o(e[h],p)>0;)h--}0===o(e[r],p)?es(e,r,h):es(e,++h,i),h<=n&&(r=h+1),n<=h&&(i=h-1)}}(t,e,n||0,r||t.length-1,i||ns)}function es(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ns(t,e){return t<e?-1:t>e?1:0}function rs(t,e){var n=t.length;if(n<=1)return[t];for(var r,i,o=[],a=0;a<n;a++){var s=C(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&o.push(r),r=[t[a]]):r.push(t[a]))}if(r&&o.push(r),e>1)for(var l=0;l<o.length;l++)o[l].length<=e||(ts(o[l],e,1,o[l].length-1,is),o[l]=o[l].slice(0,e));return o}function is(t,e){return e.area-t.area}function os(t,e,n){for(var r=n.patternDependencies,i=!1,o=0,a=e;o<a.length;o+=1){var s=a[o].paint.get(t+"-pattern");s.isConstant()||(i=!0);var l=s.constantOr(null);l&&(i=!0,r[l.to]=!0,r[l.from]=!0)}return i}function as(t,e,n,r,i){for(var o=i.patternDependencies,a=0,s=e;a<s.length;a+=1){var l=s[a],u=l.paint.get(t+"-pattern").value;if("constant"!==u.kind){var c=u.evaluate({zoom:r-1},n,{},i.availableImages),p=u.evaluate({zoom:r},n,{},i.availableImages),d=u.evaluate({zoom:r+1},n,{},i.availableImages);p=p&&p.name?p.name:p,d=d&&d.name?d.name:d,o[c=c&&c.name?c.name:c]=!0,o[p]=!0,o[d]=!0,n.patterns[l.id]={min:c,mid:p,max:d}}}return n}Ia.deviation=function(t,e,n,r){var i=e&&e.length,o=Math.abs($a(t,0,i?e[0]*n:t.length,n));if(i)for(var a=0,s=e.length;a<s;a++)o-=Math.abs($a(t,e[a]*n,a<s-1?e[a+1]*n:t.length,n));var l=0;for(a=0;a<r.length;a+=3){var u=r[a]*n,c=r[a+1]*n,p=r[a+2]*n;l+=Math.abs((t[u]-t[p])*(t[c+1]-t[u+1])-(t[u]-t[c])*(t[p+1]-t[u+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},Ia.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&n.holes.push(r+=t[i-1].length)}return n},Ea.default=Ta;var ss=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ii,this.indexArray=new Fi,this.indexArray2=new Zi,this.programConfigurations=new Lo(t.layers,t.zoom),this.segments=new so,this.segments2=new so,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};ss.prototype.populate=function(t,e,n){this.hasPattern=os("fill",this.layers,e);for(var r=this.layers[0].layout.get("fill-sort-key"),i=[],o=0,a=t;o<a.length;o+=1){var s=a[o],l=s.feature,u=s.id,c=s.index,p=s.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,h=Fo(l,d);if(this.layers[0]._featureFilter.filter(new si(this.zoom),h,n)){var f=r?r.evaluate(h,{},n,e.availableImages):void 0,m={id:u,properties:l.properties,type:l.type,sourceLayerIndex:p,index:c,geometry:d?h.geometry:No(l),patterns:{},sortKey:f};i.push(m)}}r&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var g=0,y=i;g<y.length;g+=1){var v=y[g],_=v.geometry,b=v.index,x=v.sourceLayerIndex;if(this.hasPattern){var w=as("fill",this.layers,v,this.zoom,e);this.patternFeatures.push(w)}else this.addFeature(v,_,b,n,{});e.featureIndex.insert(t[b].feature,_,b,x,this.index)}},ss.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},ss.prototype.addFeatures=function(t,e,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,e,n)}},ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ss.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ca),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ss.prototype.addFeature=function(t,e,n,r,i){for(var o=0,a=rs(e,500);o<a.length;o+=1){for(var s=a[o],l=0,u=0,c=s;u<c.length;u+=1)l+=c[u].length;for(var p=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray),d=p.vertexLength,h=[],f=[],m=0,g=s;m<g.length;m+=1){var y=g[m];if(0!==y.length){y!==s[0]&&f.push(h.length/2);var v=this.segments2.prepareSegment(y.length,this.layoutVertexArray,this.indexArray2),_=v.vertexLength;this.layoutVertexArray.emplaceBack(y[0].x,y[0].y),this.indexArray2.emplaceBack(_+y.length-1,_),h.push(y[0].x),h.push(y[0].y);for(var b=1;b<y.length;b++)this.layoutVertexArray.emplaceBack(y[b].x,y[b].y),this.indexArray2.emplaceBack(_+b-1,_+b),h.push(y[b].x),h.push(y[b].y);v.vertexLength+=y.length,v.primitiveLength+=y.length}}for(var x=Ea(h,f),w=0;w<x.length;w+=3)this.indexArray.emplaceBack(d+x[w],d+x[w+1],d+x[w+2]);p.vertexLength+=l,p.primitiveLength+=x.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)},Br("FillBucket",ss,{omit:["layers","patternFeatures"]});var ls=new xi({"fill-sort-key":new yi(Mt.layout_fill["fill-sort-key"])}),us={paint:new xi({"fill-antialias":new gi(Mt.paint_fill["fill-antialias"]),"fill-opacity":new yi(Mt.paint_fill["fill-opacity"]),"fill-color":new yi(Mt.paint_fill["fill-color"]),"fill-outline-color":new yi(Mt.paint_fill["fill-outline-color"]),"fill-translate":new gi(Mt.paint_fill["fill-translate"]),"fill-translate-anchor":new gi(Mt.paint_fill["fill-translate-anchor"]),"fill-pattern":new vi(Mt.paint_fill["fill-pattern"])}),layout:ls},cs=function(t){function e(e){t.call(this,e,us)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new ss(t)},e.prototype.queryRadius=function(){return na(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){return Go(ra(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)},e.prototype.isTileClipped=function(){return!0},e}(wi),ps=Ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,ds=hs;function hs(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(fs,this,e)}function fs(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function ms(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)r+=((n=t[a]).x-(e=t[i]).x)*(e.y+n.y);return r}hs.types=["Unknown","Point","LineString","Polygon"],hs.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,o=0,a=0,s=0,l=[];t.pos<n;){if(o<=0){var u=t.readVarint();r=7&u,o=u>>3}if(o--,1===r||2===r)a+=t.readSVarint(),s+=t.readSVarint(),1===r&&(e&&l.push(e),e=[]),e.push(new i(a,s));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&l.push(e),l},hs.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;t.pos<e;){if(r<=0){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=t.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=t.readSVarint())<l&&(l=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},hs.prototype.toGeoJSON=function(t,e,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*t,s=this.extent*e,l=this.loadGeometry(),u=hs.types[this.type];function c(t){for(var e=0;e<t.length;e++){var n=t[e];t[e]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var p=[];for(r=0;r<l.length;r++)p[r]=l[r][0];c(l=p);break;case 2:for(r=0;r<l.length;r++)c(l[r]);break;case 3:for(l=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=ms(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}(l),r=0;r<l.length;r++)for(i=0;i<l[r].length;i++)c(l[r][i])}1===l.length?l=l[0]:u="Multi"+u;var d={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(d.id=this.id),d};var gs=ys;function ys(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(vs,this,e),this.length=this._features.length}function vs(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(n))}function _s(t,e,n){if(3===t){var r=new gs(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}ys.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new ds(this._pbf,e,this.extent,this._keys,this._values)};var bs={VectorTile:function(t,e){this.layers=t.readFields(_s,{},e)},VectorTileFeature:ds,VectorTileLayer:gs},xs=bs.VectorTileFeature.types,ws=Math.pow(2,13);function ks(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,2*Math.floor(r*ws)+a,i*ws*2,o*ws*2,Math.round(s))}var Ss=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ai,this.indexArray=new Fi,this.programConfigurations=new Lo(t.layers,t.zoom),this.segments=new so,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function Cs(t,e){return t.x===e.x&&(t.x<0||t.x>8192)||t.y===e.y&&(t.y<0||t.y>8192)}Ss.prototype.populate=function(t,e,n){this.features=[],this.hasPattern=os("fill-extrusion",this.layers,e);for(var r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.id,l=o.index,u=o.sourceLayerIndex,c=this.layers[0]._featureFilter.needGeometry,p=Fo(a,c);if(this.layers[0]._featureFilter.filter(new si(this.zoom),p,n)){var d={id:s,sourceLayerIndex:u,index:l,geometry:c?p.geometry:No(a),properties:a.properties,type:a.type,patterns:{}};this.hasPattern?this.features.push(as("fill-extrusion",this.layers,d,this.zoom,e)):this.addFeature(d,d.geometry,l,n,{}),e.featureIndex.insert(a,d.geometry,l,u,this.index,!0)}}},Ss.prototype.addFeatures=function(t,e,n){for(var r=0,i=this.features;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,e,n)}},Ss.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ss.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ps),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ss.prototype.addFeature=function(t,e,n,r,i){for(var o=0,a=rs(e,500);o<a.length;o+=1){for(var s=a[o],l=0,u=0,c=s;u<c.length;u+=1)l+=c[u].length;for(var p=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),d=0,h=s;d<h.length;d+=1){var f=h[d];if(0!==f.length&&!((P=f).every((function(t){return t.x<0}))||P.every((function(t){return t.x>8192}))||P.every((function(t){return t.y<0}))||P.every((function(t){return t.y>8192}))))for(var m=0,g=0;g<f.length;g++){var y=f[g];if(g>=1){var v=f[g-1];if(!Cs(y,v)){p.vertexLength+4>so.MAX_VERTEX_ARRAY_LENGTH&&(p=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var _=y.sub(v)._perp()._unit(),b=v.dist(y);m+b>32768&&(m=0),ks(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,0,m),ks(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,1,m),ks(this.layoutVertexArray,v.x,v.y,_.x,_.y,0,0,m+=b),ks(this.layoutVertexArray,v.x,v.y,_.x,_.y,0,1,m);var x=p.vertexLength;this.indexArray.emplaceBack(x,x+2,x+1),this.indexArray.emplaceBack(x+1,x+2,x+3),p.vertexLength+=4,p.primitiveLength+=2}}}}if(p.vertexLength+l>so.MAX_VERTEX_ARRAY_LENGTH&&(p=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray)),"Polygon"===xs[t.type]){for(var w=[],k=[],S=p.vertexLength,C=0,E=s;C<E.length;C+=1){var T=E[C];if(0!==T.length){T!==s[0]&&k.push(w.length/2);for(var I=0;I<T.length;I++){var M=T[I];ks(this.layoutVertexArray,M.x,M.y,0,0,1,1,0),w.push(M.x),w.push(M.y)}}}for(var A=Ea(w,k),O=0;O<A.length;O+=3)this.indexArray.emplaceBack(S+A[O],S+A[O+2],S+A[O+1]);p.primitiveLength+=A.length/3,p.vertexLength+=l}}var P;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)},Br("FillExtrusionBucket",Ss,{omit:["layers","features"]});var Es={paint:new xi({"fill-extrusion-opacity":new gi(Mt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new yi(Mt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new gi(Mt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new gi(Mt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new vi(Mt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new yi(Mt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new yi(Mt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new gi(Mt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Ts=function(t){function e(e){t.call(this,e,Es)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new Ss(t)},e.prototype.queryRadius=function(){return na(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(t,e,n,r,o,a,s,l){var u=ra(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(e,n),p=this.paint.get("fill-extrusion-base").evaluate(e,n),d=function(t,e,n,r){for(var o=[],a=0,s=t;a<s.length;a+=1){var l=s[a],u=[l.x,l.y,0,1];pa(u,u,e),o.push(new i(u[0]/u[3],u[1]/u[3]))}return o}(u,l),h=function(t,e,n,r){for(var o=[],a=[],s=r[8]*e,l=r[9]*e,u=r[10]*e,c=r[11]*e,p=r[8]*n,d=r[9]*n,h=r[10]*n,f=r[11]*n,m=0,g=t;m<g.length;m+=1){for(var y=[],v=[],_=0,b=g[m];_<b.length;_+=1){var x=b[_],w=x.x,k=x.y,S=r[0]*w+r[4]*k+r[12],C=r[1]*w+r[5]*k+r[13],E=r[2]*w+r[6]*k+r[14],T=r[3]*w+r[7]*k+r[15],I=E+u,M=T+c,A=S+p,O=C+d,P=E+h,D=T+f,z=new i((S+s)/M,(C+l)/M);z.z=I/M,y.push(z);var L=new i(A/D,O/D);L.z=P/D,v.push(L)}o.push(y),a.push(v)}return[o,a]}(r,p,c,l);return function(t,e,n){var r=1/0;Go(n,e)&&(r=Ms(n,e[0]));for(var i=0;i<e.length;i++)for(var o=e[i],a=t[i],s=0;s<o.length-1;s++){var l=o[s],u=[l,o[s+1],a[s+1],a[s],l];qo(n,u)&&(r=Math.min(r,Ms(n,u)))}return r!==1/0&&r}(h[0],h[1],d)},e}(wi);function Is(t,e){return t.x*e.x+t.y*e.y}function Ms(t,e){if(1===t.length){for(var n,r=0,i=e[r++];!n||i.equals(n);)if(!(n=e[r++]))return 1/0;for(;r<e.length;r++){var o=e[r],a=t[0],s=n.sub(i),l=o.sub(i),u=a.sub(i),c=Is(s,s),p=Is(s,l),d=Is(l,l),h=Is(u,s),f=Is(u,l),m=c*d-p*p,g=(d*h-p*f)/m,y=(c*f-p*h)/m,v=i.z*(1-g-y)+n.z*g+o.z*y;if(isFinite(v))return v}return 1/0}for(var _=1/0,b=0,x=e;b<x.length;b+=1)_=Math.min(_,x[b].z);return _}var As=Ei([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Os=Ei([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Ps=bs.VectorTileFeature.types,Ds=Math.cos(Math.PI/180*37.5),zs=Math.pow(2,14)/.5,Ls=function(t){var e=this;this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(t){e.gradients[t.id]={}})),this.layoutVertexArray=new Oi,this.layoutVertexArray2=new Pi,this.indexArray=new Fi,this.programConfigurations=new Lo(t.layers,t.zoom),this.segments=new so,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};Ls.prototype.populate=function(t,e,n){this.hasPattern=os("line",this.layers,e);for(var r=this.layers[0].layout.get("line-sort-key"),i=[],o=0,a=t;o<a.length;o+=1){var s=a[o],l=s.feature,u=s.id,c=s.index,p=s.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,h=Fo(l,d);if(this.layers[0]._featureFilter.filter(new si(this.zoom),h,n)){var f=r?r.evaluate(h,{},n):void 0,m={id:u,properties:l.properties,type:l.type,sourceLayerIndex:p,index:c,geometry:d?h.geometry:No(l),patterns:{},sortKey:f};i.push(m)}}r&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var g=0,y=i;g<y.length;g+=1){var v=y[g],_=v.geometry,b=v.index,x=v.sourceLayerIndex;if(this.hasPattern){var w=as("line",this.layers,v,this.zoom,e);this.patternFeatures.push(w)}else this.addFeature(v,_,b,n,{});e.featureIndex.insert(t[b].feature,_,b,x,this.index)}},Ls.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Ls.prototype.addFeatures=function(t,e,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,e,n)}},Ls.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ls.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ls.prototype.upload=function(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Os)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,As),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Ls.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ls.prototype.lineFeatureClips=function(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}},Ls.prototype.addFeature=function(t,e,n,r,i){var o=this.layers[0].layout,a=o.get("line-join").evaluate(t,{}),s=o.get("line-cap"),l=o.get("line-miter-limit"),u=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(var c=0,p=e;c<p.length;c+=1)this.addLine(p[c],t,a,s,l,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)},Ls.prototype.addLine=function(t,e,n,r,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var a=0;a<t.length-1;a++)this.totalDistance+=t[a].dist(t[a+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===Ps[e.type],l=t.length;l>=2&&t[l-1].equals(t[l-2]);)l--;for(var u=0;u<l-1&&t[u].equals(t[u+1]);)u++;if(!(l<(s?3:2))){"bevel"===n&&(i=1.05);var c,p=this.overscaling<=16?122880/(512*this.overscaling):0,d=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray),h=void 0,f=void 0,m=void 0,g=void 0;this.e1=this.e2=-1,s&&(g=t[u].sub(c=t[l-2])._unit()._perp());for(var y=u;y<l;y++)if(!(f=y===l-1?s?t[u+1]:void 0:t[y+1])||!t[y].equals(f)){g&&(m=g),c&&(h=c),c=t[y],g=f?f.sub(c)._unit()._perp():m;var v=(m=m||g).add(g);0===v.x&&0===v.y||v._unit();var _=m.x*g.x+m.y*g.y,b=v.x*g.x+v.y*g.y,x=0!==b?1/b:1/0,w=2*Math.sqrt(2-2*b),k=b<Ds&&h&&f,S=m.x*g.y-m.y*g.x>0;if(k&&y>u){var C=c.dist(h);if(C>2*p){var E=c.sub(c.sub(h)._mult(p/C)._round());this.updateDistance(h,E),this.addCurrentVertex(E,m,0,0,d),h=E}}var T=h&&f,I=T?n:s?"butt":r;if(T&&"round"===I&&(x<o?I="miter":x<=2&&(I="fakeround")),"miter"===I&&x>i&&(I="bevel"),"bevel"===I&&(x>2&&(I="flipbevel"),x<i&&(I="miter")),h&&this.updateDistance(h,c),"miter"===I)v._mult(x),this.addCurrentVertex(c,v,0,0,d);else if("flipbevel"===I){if(x>100)v=g.mult(-1);else{var M=x*m.add(g).mag()/m.sub(g).mag();v._perp()._mult(M*(S?-1:1))}this.addCurrentVertex(c,v,0,0,d),this.addCurrentVertex(c,v.mult(-1),0,0,d)}else if("bevel"===I||"fakeround"===I){var A=-Math.sqrt(x*x-1),O=S?A:0,P=S?0:A;if(h&&this.addCurrentVertex(c,m,O,P,d),"fakeround"===I)for(var D=Math.round(180*w/Math.PI/20),z=1;z<D;z++){var L=z/D;if(.5!==L){var R=L-.5;L+=L*R*(L-1)*((1.0904+_*(_*(3.55645-1.43519*_)-3.2452))*R*R+(.848013+_*(.215638*_-1.06021)))}var W=g.sub(m)._mult(L)._add(m)._unit()._mult(S?-1:1);this.addHalfVertex(c,W.x,W.y,!1,S,0,d)}f&&this.addCurrentVertex(c,g,-O,-P,d)}else if("butt"===I)this.addCurrentVertex(c,v,0,0,d);else if("square"===I){var B=h?1:-1;this.addCurrentVertex(c,v,B,B,d)}else"round"===I&&(h&&(this.addCurrentVertex(c,m,0,0,d),this.addCurrentVertex(c,m,1,1,d,!0)),f&&(this.addCurrentVertex(c,g,-1,-1,d,!0),this.addCurrentVertex(c,g,0,0,d)));if(k&&y<l-1){var j=c.dist(f);if(j>2*p){var N=c.add(f.sub(c)._mult(p/j)._round());this.updateDistance(c,N),this.addCurrentVertex(N,g,0,0,d),c=N}}}}},Ls.prototype.addCurrentVertex=function(t,e,n,r,i,o){void 0===o&&(o=!1);var a=e.y*r-e.x,s=-e.y-e.x*r;this.addHalfVertex(t,e.x+e.y*n,e.y-e.x*n,o,!1,n,i),this.addHalfVertex(t,a,s,o,!0,-r,i),this.distance>zs/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(t,e,n,r,i,o))},Ls.prototype.addHalfVertex=function(t,e,n,r,i,o,a){var s=.5*(this.lineClips?this.scaledDistance*(zs-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t.x<<1)+(r?1:0),(t.y<<1)+(i?1:0),Math.round(63*e)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1)|(63&s)<<2,s>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var l=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),a.primitiveLength++),i?this.e2=l:this.e1=l},Ls.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Ls.prototype.updateDistance=function(t,e){this.distance+=t.dist(e),this.updateScaledDistance()},Br("LineBucket",Ls,{omit:["layers","patternFeatures"]});var Rs=new xi({"line-cap":new gi(Mt.layout_line["line-cap"]),"line-join":new yi(Mt.layout_line["line-join"]),"line-miter-limit":new gi(Mt.layout_line["line-miter-limit"]),"line-round-limit":new gi(Mt.layout_line["line-round-limit"]),"line-sort-key":new yi(Mt.layout_line["line-sort-key"])}),Ws={paint:new xi({"line-opacity":new yi(Mt.paint_line["line-opacity"]),"line-color":new yi(Mt.paint_line["line-color"]),"line-translate":new gi(Mt.paint_line["line-translate"]),"line-translate-anchor":new gi(Mt.paint_line["line-translate-anchor"]),"line-width":new yi(Mt.paint_line["line-width"]),"line-gap-width":new yi(Mt.paint_line["line-gap-width"]),"line-offset":new yi(Mt.paint_line["line-offset"]),"line-blur":new yi(Mt.paint_line["line-blur"]),"line-dasharray":new _i(Mt.paint_line["line-dasharray"]),"line-pattern":new vi(Mt.paint_line["line-pattern"]),"line-gradient":new bi(Mt.paint_line["line-gradient"])}),layout:Rs},Bs=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(e,n){return n=new si(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),t.prototype.possiblyEvaluate.call(this,e,n)},e.prototype.evaluate=function(e,n,r,i){return n=d({},n,{zoom:Math.floor(n.zoom)}),t.prototype.evaluate.call(this,e,n,r,i)},e}(yi))(Ws.paint.properties["line-width"].specification);Bs.useIntegerZoom=!0;var js=function(t){function e(e){t.call(this,e,Ws),this.gradientVersion=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Ve,this.gradientVersion=(this.gradientVersion+1)%s)},e.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n),this.paint._values["line-floorwidth"]=Bs.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new Ls(t)},e.prototype.queryRadius=function(t){var e=t,n=Ns(ea("line-width",this,e),ea("line-gap-width",this,e)),r=ea("line-offset",this,e);return n/2+Math.abs(r)+na(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,o,a,s){var l=ra(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),u=s/2*Ns(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),c=this.paint.get("line-offset").evaluate(e,n);return c&&(r=function(t,e){for(var n=[],r=new i(0,0),o=0;o<t.length;o++){for(var a=t[o],s=[],l=0;l<a.length;l++){var u=a[l],c=a[l+1],p=0===l?r:u.sub(a[l-1])._unit()._perp(),d=l===a.length-1?r:c.sub(u)._unit()._perp(),h=p._add(d)._unit();h._mult(1/(h.x*d.x+h.y*d.y)),s.push(h._mult(e)._add(u))}n.push(s)}return n}(r,c*s)),function(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];if(t.length>=3)for(var o=0;o<i.length;o++)if($o(t,i[o]))return!0;if(Zo(t,i,n))return!0}return!1}(l,r,u)},e.prototype.isTileClipped=function(){return!0},e}(wi);function Ns(t,e){return e>0?e+2*t:t}var Fs=Ei([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Us=Ei([{name:"a_projected_pos",components:3,type:"Float32"}],4),Vs=(Ei([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Ei([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),qs=(Ei([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Hs=Ei([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Gs(t,e,n){return t.sections.forEach((function(t){t.text=function(t,e,n){var r=e.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?t=t.toLocaleUpperCase():"lowercase"===r&&(t=t.toLocaleLowerCase()),ai.applyArabicShaping&&(t=ai.applyArabicShaping(t)),t}(t.text,e,n)})),t}Ei([{name:"triangle",components:3,type:"Uint16"}]),Ei([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ei([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ei([{type:"Float32",name:"offsetX"}]),Ei([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Zs={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},Ks=function(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,p=n?i-1:0,d=n?-1:1,h=t[e+p];for(p+=d,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+t[e+p],p+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+p],p+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},Qs=function(t,e,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,p=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+p>=1?d/l:d*Math.pow(2,1-p))*l>=2&&(a++,l/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(e*l-1)*Math.pow(2,i),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;t[n+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[n+h]=255&a,h+=f,a/=256,u-=8);t[n+h-f]|=128*m},Xs=Ys;function Ys(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Ys.Varint=0,Ys.Fixed64=1,Ys.Bytes=2,Ys.Fixed32=5;var Js="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function $s(t){return t.type===Ys.Bytes?t.readVarint()+t.pos:t.pos+1}function tl(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function el(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function nl(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function rl(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function il(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function ol(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function al(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function sl(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function ll(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function ul(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function cl(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function pl(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function dl(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function hl(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function fl(t,e,n){1===t&&n.readMessage(ml,e)}function ml(t,e,n){if(3===t){var r=n.readMessage(gl,{}),i=r.width,o=r.height,a=r.left,s=r.top,l=r.advance;e.push({id:r.id,bitmap:new va({width:i+6,height:o+6},r.bitmap),metrics:{width:i,height:o,left:a,top:s,advance:l}})}}function gl(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}function yl(t){for(var e=0,n=0,r=0,i=t;r<i.length;r+=1){var o=i[r];e+=o.w*o.h,n=Math.max(n,o.w)}t.sort((function(t,e){return e.h-t.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),n),h:1/0}],s=0,l=0,u=0,c=t;u<c.length;u+=1)for(var p=c[u],d=a.length-1;d>=0;d--){var h=a[d];if(!(p.w>h.w||p.h>h.h)){if(p.x=h.x,p.y=h.y,l=Math.max(l,p.y+p.h),s=Math.max(s,p.x+p.w),p.w===h.w&&p.h===h.h){var f=a.pop();d<a.length&&(a[d]=f)}else p.h===h.h?(h.x+=p.w,h.w-=p.w):p.w===h.w?(h.y+=p.h,h.h-=p.h):(a.push({x:h.x+p.w,y:h.y,w:h.w-p.w,h:p.h}),h.y+=p.h,h.h-=p.h);break}}return{w:s,h:l,fill:e/(s*l)||0}}Ys.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=pl(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=hl(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=pl(this.buf,this.pos)+4294967296*pl(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=pl(this.buf,this.pos)+4294967296*hl(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=Ks(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Ks(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return tl(t,r,e);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return tl(t,r,e);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return tl(t,r,e);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return tl(t,r,e);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return tl(t,r,e);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return tl(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&Js?function(t,e,n){return Js.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){for(var r="",i=e;i<n;){var o,a,s,l=t[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>n)break;1===c?l<128&&(u=l):2===c?128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(a=t[i+2],128==(192&(o=t[i+1]))&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(a=t[i+2],s=t[i+3],128==(192&(o=t[i+1]))&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),i+=c}return r}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==Ys.Bytes)return t.push(this.readVarint(e));var n=$s(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==Ys.Bytes)return t.push(this.readSVarint());var e=$s(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Ys.Bytes)return t.push(this.readBoolean());var e=$s(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Ys.Bytes)return t.push(this.readFloat());var e=$s(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Ys.Bytes)return t.push(this.readDouble());var e=$s(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Ys.Bytes)return t.push(this.readFixed32());var e=$s(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Ys.Bytes)return t.push(this.readSFixed32());var e=$s(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Ys.Bytes)return t.push(this.readFixed64());var e=$s(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Ys.Bytes)return t.push(this.readSFixed64());var e=$s(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Ys.Varint)for(;this.buf[this.pos++]>127;);else if(e===Ys.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Ys.Fixed32)this.pos+=4;else{if(e!==Ys.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),dl(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),dl(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),dl(this.buf,-1&t,this.pos),dl(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),dl(this.buf,-1&t,this.pos),dl(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,n.buf[n.pos]=127&(t>>>=7)}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&el(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),Qs(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Qs(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&el(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,Ys.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,nl,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,rl,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,al,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,il,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,ol,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,sl,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,ll,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,ul,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,cl,e)},writeBytesField:function(t,e){this.writeTag(t,Ys.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Ys.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Ys.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Ys.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Ys.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Ys.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Ys.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Ys.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Ys.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Ys.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var vl=function(t,e){var n=e.pixelRatio,r=e.version,i=e.stretchX,o=e.stretchY,a=e.content;this.paddedRect=t,this.pixelRatio=n,this.stretchX=i,this.stretchY=o,this.content=a,this.version=r},_l={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};_l.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},_l.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},_l.tlbr.get=function(){return this.tl.concat(this.br)},_l.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(vl.prototype,_l);var bl=function(t,e){var n={},r={};this.haveRenderCallbacks=[];var i=[];this.addImages(t,n,i),this.addImages(e,r,i);var o=yl(i),a=new _a({width:o.w||1,height:o.h||1});for(var s in t){var l=t[s],u=n[s].paddedRect;_a.copy(l.data,a,{x:0,y:0},{x:u.x+1,y:u.y+1},l.data)}for(var c in e){var p=e[c],d=r[c].paddedRect,h=d.x+1,f=d.y+1,m=p.data.width,g=p.data.height;_a.copy(p.data,a,{x:0,y:0},{x:h,y:f},p.data),_a.copy(p.data,a,{x:0,y:g-1},{x:h,y:f-1},{width:m,height:1}),_a.copy(p.data,a,{x:0,y:0},{x:h,y:f+g},{width:m,height:1}),_a.copy(p.data,a,{x:m-1,y:0},{x:h-1,y:f},{width:1,height:g}),_a.copy(p.data,a,{x:0,y:0},{x:h+m,y:f},{width:1,height:g})}this.image=a,this.iconPositions=n,this.patternPositions=r};bl.prototype.addImages=function(t,e,n){for(var r in t){var i=t[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),e[r]=new vl(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},bl.prototype.patchUpdatedImages=function(t,e){for(var n in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[n],t.getImage(n),e),this.patchUpdatedImage(this.patternPositions[n],t.getImage(n),e)},bl.prototype.patchUpdatedImage=function(t,e,n){if(t&&e&&t.version!==e.version){t.version=e.version;var r=t.tl;n.update(e.data,void 0,{x:r[0],y:r[1]})}},Br("ImagePosition",vl),Br("ImageAtlas",bl);var xl={horizontal:1,vertical:2,horizontalOnly:3},wl=function(){this.scale=1,this.fontStack="",this.imageName=null};wl.forText=function(t,e){var n=new wl;return n.scale=t||1,n.fontStack=e,n},wl.forImage=function(t){var e=new wl;return e.imageName=t,e};var kl=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Sl(t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m){var g,y=kl.fromFeature(t,i);p===xl.vertical&&y.verticalizePunctuation();var v=ai.processBidirectionalText,_=ai.processStyledBidirectionalText;if(v&&1===y.sections.length){g=[];for(var b=0,x=v(y.toString(),Ol(y,u,o,e,r,h,f));b<x.length;b+=1){var w=x[b],k=new kl;k.text=w,k.sections=y.sections;for(var S=0;S<w.length;S++)k.sectionIndex.push(0);g.push(k)}}else if(_){g=[];for(var C=0,E=_(y.text,y.sectionIndex,Ol(y,u,o,e,r,h,f));C<E.length;C+=1){var T=E[C],I=new kl;I.text=T[0],I.sectionIndex=T[1],I.sections=y.sections,g.push(I)}}else g=function(t,e){for(var n=[],r=t.text,i=0,o=0,a=e;o<a.length;o+=1){var s=a[o];n.push(t.substring(i,s)),i=s}return i<r.length&&n.push(t.substring(i,r.length)),n}(y,Ol(y,u,o,e,r,h,f));var M=[],A={positionedLines:M,text:y.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:p,iconsInText:!1,verticalizable:!1};return function(t,e,n,r,i,o,a,s,l,u,c,p){for(var d=0,h=-17,f=0,m=0,g="right"===s?1:"left"===s?0:.5,y=0,v=0,_=i;v<_.length;v+=1){var b=_[v];b.trim();var x=b.getMaxScale(),w=24*(x-1),k={positionedGlyphs:[],lineOffset:0};t.positionedLines[y]=k;var S=k.positionedGlyphs,C=0;if(b.length()){for(var E=0;E<b.length();E++){var T=b.getSection(E),I=b.getSectionIndex(E),M=b.getCharCode(E),A=0,O=null,P=null,D=null,z=24,L=!(l===xl.horizontal||!c&&!Zr(M)||c&&(Cl[M]||(q=M,Hr.Arabic(q)||Hr["Arabic Supplement"](q)||Hr["Arabic Extended-A"](q)||Hr["Arabic Presentation Forms-A"](q)||Hr["Arabic Presentation Forms-B"](q))));if(T.imageName){var R=r[T.imageName];if(!R)continue;D=T.imageName,t.iconsInText=t.iconsInText||!0,P=R.paddedRect;var W=R.displaySize;T.scale=24*T.scale/p,A=w+(24-W[1]*T.scale),z=(O={width:W[0],height:W[1],left:1,top:-3,advance:L?W[1]:W[0]}).advance;var B=L?W[0]*T.scale-24*x:W[1]*T.scale-24*x;B>0&&B>C&&(C=B)}else{var j=n[T.fontStack],N=j&&j[M];if(N&&N.rect)P=N.rect,O=N.metrics;else{var F=e[T.fontStack],U=F&&F[M];if(!U)continue;O=U.metrics}A=24*(x-T.scale)}L?(t.verticalizable=!0,S.push({glyph:M,imageName:D,x:d,y:h+A,vertical:L,scale:T.scale,fontStack:T.fontStack,sectionIndex:I,metrics:O,rect:P}),d+=z*T.scale+u):(S.push({glyph:M,imageName:D,x:d,y:h+A,vertical:L,scale:T.scale,fontStack:T.fontStack,sectionIndex:I,metrics:O,rect:P}),d+=O.advance*T.scale+u)}0!==S.length&&(f=Math.max(d-u,f),Dl(S,0,S.length-1,g,C)),d=0;var V=o*x+C;k.lineOffset=Math.max(C,w),h+=V,m=Math.max(V,m),++y}else h+=o,++y}var q,H=h- -17,G=Pl(a),Z=G.horizontalAlign,K=G.verticalAlign;(function(t,e,n,r,i,o,a,s,l){var u,c=(e-n)*i;u=o!==a?-s*r- -17:(-r*l+.5)*a;for(var p=0,d=t;p<d.length;p+=1)for(var h=0,f=d[p].positionedGlyphs;h<f.length;h+=1){var m=f[h];m.x+=c,m.y+=u}})(t.positionedLines,g,Z,K,f,m,o,H,i.length),t.top+=-K*H,t.bottom=t.top+H,t.left+=-Z*f,t.right=t.left+f}(A,e,n,r,g,a,s,l,p,u,d,m),!function(t){for(var e=0,n=t;e<n.length;e+=1)if(0!==n[e].positionedGlyphs.length)return!1;return!0}(M)&&A}kl.fromFeature=function(t,e){for(var n=new kl,r=0;r<t.sections.length;r++){var i=t.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,e)}return n},kl.prototype.length=function(){return this.text.length},kl.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},kl.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},kl.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},kl.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n+1)||null,i=t.charCodeAt(n-1)||null;e+=r&&Kr(r)&&!Zs[t[n+1]]||i&&Kr(i)&&!Zs[t[n-1]]||!Zs[t[n]]?t[n]:Zs[t[n]]}return e}(this.text)},kl.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&Cl[this.text.charCodeAt(e)];e++)t++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=t&&Cl[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)},kl.prototype.substring=function(t,e){var n=new kl;return n.text=this.text.substring(t,e),n.sectionIndex=this.sectionIndex.slice(t,e),n.sections=this.sections,n},kl.prototype.toString=function(){return this.text},kl.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce((function(e,n){return Math.max(e,t.sections[n].scale)}),0)},kl.prototype.addTextSection=function(t,e){this.text+=t.text,this.sections.push(wl.forText(t.scale,t.fontStack||e));for(var n=this.sections.length-1,r=0;r<t.text.length;++r)this.sectionIndex.push(n)},kl.prototype.addImageSection=function(t){var e=t.image?t.image.name:"";if(0!==e.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(wl.forImage(e)),this.sectionIndex.push(this.sections.length-1)):k("Reached maximum number of images 6401")}else k("Can't add FormattedSection with an empty image.")},kl.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Cl={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},El={};function Tl(t,e,n,r,i,o){if(e.imageName){var a=r[e.imageName];return a?a.displaySize[0]*e.scale*24/o+i:0}var s=n[e.fontStack],l=s&&s[t];return l?l.metrics.advance*e.scale+i:0}function Il(t,e,n,r){var i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function Ml(t,e,n){var r=0;return 10===t&&(r-=1e4),n&&(r+=150),40!==t&&65288!==t||(r+=50),41!==e&&65289!==e||(r+=50),r}function Al(t,e,n,r,i,o){for(var a=null,s=Il(e,n,i,o),l=0,u=r;l<u.length;l+=1){var c=u[l],p=Il(e-c.x,n,i,o)+c.badness;p<=s&&(a=c,s=p)}return{index:t,x:e,priorBreak:a,badness:s}}function Ol(t,e,n,r,i,o,a){if("point"!==o)return[];if(!t)return[];for(var s,l=[],u=function(t,e,n,r,i,o){for(var a=0,s=0;s<t.length();s++){var l=t.getSection(s);a+=Tl(t.getCharCode(s),l,r,i,e,o)}return a/Math.max(1,Math.ceil(a/n))}(t,e,n,r,i,a),c=t.text.indexOf("​")>=0,p=0,d=0;d<t.length();d++){var h=t.getSection(d),f=t.getCharCode(d);if(Cl[f]||(p+=Tl(f,h,r,i,e,a)),d<t.length()-1){var m=!((s=f)<11904||!(Hr["Bopomofo Extended"](s)||Hr.Bopomofo(s)||Hr["CJK Compatibility Forms"](s)||Hr["CJK Compatibility Ideographs"](s)||Hr["CJK Compatibility"](s)||Hr["CJK Radicals Supplement"](s)||Hr["CJK Strokes"](s)||Hr["CJK Symbols and Punctuation"](s)||Hr["CJK Unified Ideographs Extension A"](s)||Hr["CJK Unified Ideographs"](s)||Hr["Enclosed CJK Letters and Months"](s)||Hr["Halfwidth and Fullwidth Forms"](s)||Hr.Hiragana(s)||Hr["Ideographic Description Characters"](s)||Hr["Kangxi Radicals"](s)||Hr["Katakana Phonetic Extensions"](s)||Hr.Katakana(s)||Hr["Vertical Forms"](s)||Hr["Yi Radicals"](s)||Hr["Yi Syllables"](s)));(El[f]||m||h.imageName)&&l.push(Al(d+1,p,u,l,Ml(f,t.getCharCode(d+1),m&&c),!1))}}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(Al(t.length(),p,u,l,0,!0))}function Pl(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function Dl(t,e,n,r,i){if(r||i)for(var o=t[n],a=(t[n].x+o.metrics.advance*o.scale)*r,s=e;s<=n;s++)t[s].x-=a,t[s].y+=i}function zl(t,e,n,r,i,o){var a,s=t.image;if(s.content){var l=s.content,u=s.pixelRatio||1;a=[l[0]/u,l[1]/u,s.displaySize[0]-l[2]/u,s.displaySize[1]-l[3]/u]}var c,p,d,h,f=e.left*o,m=e.right*o;"width"===n||"both"===n?(h=i[0]+f-r[3],p=i[0]+m+r[1]):p=(h=i[0]+(f+m-s.displaySize[0])/2)+s.displaySize[0];var g=e.top*o,y=e.bottom*o;return"height"===n||"both"===n?(c=i[1]+g-r[0],d=i[1]+y+r[2]):d=(c=i[1]+(g+y-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:p,bottom:d,left:h,collisionPadding:a}}El[10]=!0,El[32]=!0,El[38]=!0,El[40]=!0,El[41]=!0,El[43]=!0,El[45]=!0,El[47]=!0,El[173]=!0,El[183]=!0,El[8203]=!0,El[8208]=!0,El[8211]=!0,El[8231]=!0;var Ll=function(t){function e(e,n,r,i){t.call(this,e,n),this.angle=r,void 0!==i&&(this.segment=i)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(i);function Rl(t,e){var n=e.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new si(t+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,o=0;o<r.length&&r[o]<=t;)o++;for(var a=o=Math.max(0,o-1);a<r.length&&r[a]<t+1;)a++;a=Math.min(r.length-1,a);var s=r[o],l=r[a];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:l,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:l,minSize:n.evaluate(new si(s)),maxSize:n.evaluate(new si(l)),interpolationType:i}}function Wl(t,e,n){var r=e.uSize,i=n.lowerSize;return"source"===t.kind?i/128:"composite"===t.kind?qe(i/128,n.upperSize/128,e.uSizeT):r}function Bl(t,e){var n=0,r=0;if("constant"===t.kind)r=t.layoutSize;else if("source"!==t.kind){var i=t.interpolationType,o=i?c(an.interpolationFactor(i,e,t.minZoom,t.maxZoom),0,1):0;"camera"===t.kind?r=qe(t.minSize,t.maxSize,o):n=o}return{uSizeT:n,uSize:r}}Br("Anchor",Ll);var jl=Object.freeze({__proto__:null,getSizeData:Rl,evaluateSizeForFeature:Wl,evaluateSizeForZoom:Bl,SIZE_PACK_FACTOR:128});function Nl(t,e,n,r,i){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var l=[],u=0;s<n/2;){var c=t[a],p=t[a+1];if(!p)return!1;var d=t[a-1].angleTo(c)-c.angleTo(p);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:d}),u+=d;s-l[0].distance>r;)u-=l.shift().angleDelta;if(u>i)return!1;a++,s+=c.dist(p)}return!0}function Fl(t){for(var e=0,n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function Ul(t,e,n){return t?.6*e*n:0}function Vl(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function ql(t,e,n,r,i,o){for(var a=Ul(n,i,o),s=Vl(n,r)*o,l=0,u=Fl(t)/2,c=0;c<t.length-1;c++){var p=t[c],d=t[c+1],h=p.dist(d);if(l+h>u){var f=(u-l)/h,m=qe(p.x,d.x,f),g=qe(p.y,d.y,f),y=new Ll(m,g,d.angleTo(p),c);return y._round(),!a||Nl(t,y,s,a,e)?y:void 0}l+=h}}function Hl(t,e,n,r,i,o,a,s,l){var u=Ul(r,o,a),c=Vl(r,i),p=c*a,d=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;return e-p<e/4&&(e=p+e/4),function t(e,n,r,i,o,a,s,l,u){for(var c=a/2,p=Fl(e),d=0,h=n-r,f=[],m=0;m<e.length-1;m++){for(var g=e[m],y=e[m+1],v=g.dist(y),_=y.angleTo(g);h+r<d+v;){var b=((h+=r)-d)/v,x=qe(g.x,y.x,b),w=qe(g.y,y.y,b);if(x>=0&&x<u&&w>=0&&w<u&&h-c>=0&&h+c<=p){var k=new Ll(x,w,_,m);k._round(),i&&!Nl(e,k,a,i,o)||f.push(k)}}d+=v}return l||f.length||s||(f=t(e,d/2,r,i,o,a,s,!0,u)),f}(t,d?e/2*s%e:(c/2+2*o)*a*s%e,e,u,n,p,d,!1,l)}function Gl(t,e,n,r,o){for(var a=[],s=0;s<t.length;s++)for(var l=t[s],u=void 0,c=0;c<l.length-1;c++){var p=l[c],d=l[c+1];p.x<e&&d.x<e||(p.x<e?p=new i(e,p.y+(e-p.x)/(d.x-p.x)*(d.y-p.y))._round():d.x<e&&(d=new i(e,p.y+(e-p.x)/(d.x-p.x)*(d.y-p.y))._round()),p.y<n&&d.y<n||(p.y<n?p=new i(p.x+(n-p.y)/(d.y-p.y)*(d.x-p.x),n)._round():d.y<n&&(d=new i(p.x+(n-p.y)/(d.y-p.y)*(d.x-p.x),n)._round()),p.x>=r&&d.x>=r||(p.x>=r?p=new i(r,p.y+(r-p.x)/(d.x-p.x)*(d.y-p.y))._round():d.x>=r&&(d=new i(r,p.y+(r-p.x)/(d.x-p.x)*(d.y-p.y))._round()),p.y>=o&&d.y>=o||(p.y>=o?p=new i(p.x+(o-p.y)/(d.y-p.y)*(d.x-p.x),o)._round():d.y>=o&&(d=new i(p.x+(o-p.y)/(d.y-p.y)*(d.x-p.x),o)._round()),u&&p.equals(u[u.length-1])||a.push(u=[p]),u.push(d)))))}return a}function Zl(t,e,n,r){var o=[],a=t.image,s=a.pixelRatio,l=a.paddedRect.w-2,u=a.paddedRect.h-2,c=t.right-t.left,p=t.bottom-t.top,d=a.stretchX||[[0,l]],h=a.stretchY||[[0,u]],f=function(t,e){return t+e[1]-e[0]},m=d.reduce(f,0),g=h.reduce(f,0),y=l-m,v=u-g,_=0,b=m,x=0,w=g,k=0,S=y,C=0,E=v;if(a.content&&r){var T=a.content;_=Kl(d,0,T[0]),x=Kl(h,0,T[1]),b=Kl(d,T[0],T[2]),w=Kl(h,T[1],T[3]),k=T[0]-_,C=T[1]-x,S=T[2]-T[0]-b,E=T[3]-T[1]-w}var I=function(r,o,l,u){var d=Xl(r.stretch-_,b,c,t.left),h=Yl(r.fixed-k,S,r.stretch,m),f=Xl(o.stretch-x,w,p,t.top),y=Yl(o.fixed-C,E,o.stretch,g),v=Xl(l.stretch-_,b,c,t.left),T=Yl(l.fixed-k,S,l.stretch,m),I=Xl(u.stretch-x,w,p,t.top),M=Yl(u.fixed-C,E,u.stretch,g),A=new i(d,f),O=new i(v,f),P=new i(v,I),D=new i(d,I),z=new i(h/s,y/s),L=new i(T/s,M/s),R=e*Math.PI/180;if(R){var W=Math.sin(R),B=Math.cos(R),j=[B,-W,W,B];A._matMult(j),O._matMult(j),D._matMult(j),P._matMult(j)}var N=r.stretch+r.fixed,F=o.stretch+o.fixed;return{tl:A,tr:O,bl:D,br:P,tex:{x:a.paddedRect.x+1+N,y:a.paddedRect.y+1+F,w:l.stretch+l.fixed-N,h:u.stretch+u.fixed-F},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:z,pixelOffsetBR:L,minFontScaleX:S/s/c,minFontScaleY:E/s/p,isSDF:n}};if(r&&(a.stretchX||a.stretchY))for(var M=Ql(d,y,m),A=Ql(h,v,g),O=0;O<M.length-1;O++)for(var P=M[O],D=M[O+1],z=0;z<A.length-1;z++)o.push(I(P,A[z],D,A[z+1]));else o.push(I({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:u+1}));return o}function Kl(t,e,n){for(var r=0,i=0,o=t;i<o.length;i+=1){var a=o[i];r+=Math.max(e,Math.min(n,a[1]))-Math.max(e,Math.min(n,a[0]))}return r}function Ql(t,e,n){for(var r=[{fixed:-1,stretch:0}],i=0,o=t;i<o.length;i+=1){var a=o[i],s=a[0],l=a[1],u=r[r.length-1];r.push({fixed:s-u.stretch,stretch:u.stretch}),r.push({fixed:s-u.stretch,stretch:u.stretch+(l-s)})}return r.push({fixed:e+1,stretch:n}),r}function Xl(t,e,n,r){return t/e*n+r}function Yl(t,e,n,r){return t-e*n/r}var Jl=function(t,e,n,r,o,a,s,l,u,c){if(this.boxStartIndex=t.length,u){var p=a.top,d=a.bottom,h=a.collisionPadding;h&&(p-=h[1],d+=h[3]);var f=d-p;f>0&&(f=Math.max(10,f),this.circleDiameter=f)}else{var m=a.top*s-l,g=a.bottom*s+l,y=a.left*s-l,v=a.right*s+l,_=a.collisionPadding;if(_&&(y-=_[0]*s,m-=_[1]*s,v+=_[2]*s,g+=_[3]*s),c){var b=new i(y,m),x=new i(v,m),w=new i(y,g),k=new i(v,g),S=c*Math.PI/180;b._rotate(S),x._rotate(S),w._rotate(S),k._rotate(S),y=Math.min(b.x,x.x,w.x,k.x),v=Math.max(b.x,x.x,w.x,k.x),m=Math.min(b.y,x.y,w.y,k.y),g=Math.max(b.y,x.y,w.y,k.y)}t.emplaceBack(e.x,e.y,y,m,v,g,n,r,o)}this.boxEndIndex=t.length},$l=function(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=tu),this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function tu(t,e){return t<e?-1:t>e?1:0}function eu(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var r=1/0,o=1/0,a=-1/0,s=-1/0,l=t[0],u=0;u<l.length;u++){var c=l[u];(!u||c.x<r)&&(r=c.x),(!u||c.y<o)&&(o=c.y),(!u||c.x>a)&&(a=c.x),(!u||c.y>s)&&(s=c.y)}var p=Math.min(a-r,s-o),d=p/2,h=new $l([],nu);if(0===p)return new i(r,o);for(var f=r;f<a;f+=p)for(var m=o;m<s;m+=p)h.push(new ru(f+d,m+d,d,t));for(var g=function(t){for(var e=0,n=0,r=0,i=t[0],o=0,a=i.length,s=a-1;o<a;s=o++){var l=i[o],u=i[s],c=l.x*u.y-u.x*l.y;n+=(l.x+u.x)*c,r+=(l.y+u.y)*c,e+=3*c}return new ru(n/e,r/e,0,t)}(t),y=h.length;h.length;){var v=h.pop();(v.d>g.d||!g.d)&&(g=v,n&&console.log("found best %d after %d probes",Math.round(1e4*v.d)/1e4,y)),v.max-g.d<=e||(h.push(new ru(v.p.x-(d=v.h/2),v.p.y-d,d,t)),h.push(new ru(v.p.x+d,v.p.y-d,d,t)),h.push(new ru(v.p.x-d,v.p.y+d,d,t)),h.push(new ru(v.p.x+d,v.p.y+d,d,t)),y+=4)}return n&&(console.log("num probes: "+y),console.log("best distance: "+g.d)),g.p}function nu(t,e){return e.max-t.max}function ru(t,e,n,r){this.p=new i(t,e),this.h=n,this.d=function(t,e){for(var n=!1,r=1/0,i=0;i<e.length;i++)for(var o=e[i],a=0,s=o.length,l=s-1;a<s;l=a++){var u=o[a],c=o[l];u.y>t.y!=c.y>t.y&&t.x<(c.x-u.x)*(t.y-u.y)/(c.y-u.y)+u.x&&(n=!n),r=Math.min(r,Yo(t,u,c))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}$l.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},$l.prototype.pop=function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}},$l.prototype.peek=function(){return this.data[0]},$l.prototype._up=function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},$l.prototype._down=function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=e[o],s=o+1;if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i};var iu=Number.POSITIVE_INFINITY;function ou(t,e){return e[1]!==iu?function(t,e,n){var r=0,i=0;switch(e=Math.abs(e),n=Math.abs(n),t){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(t){case"top-right":case"bottom-right":case"right":r=-e;break;case"top-left":case"bottom-left":case"left":r=e}return[r,i]}(t,e[0],e[1]):function(t,e){var n=0,r=0;e<0&&(e=0);var i=e/Math.sqrt(2);switch(t){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-e;break;case"top":r=e-7}switch(t){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=e;break;case"right":n=-e}return[n,r]}(t,e[0])}function au(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function su(t,e,n,r,o,a,s,l,u,c,p,d,h,f,m){var g=function(t,e,n,r,o,a,s,l){for(var u=r.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,c=[],p=0,d=e.positionedLines;p<d.length;p+=1)for(var h=d[p],f=0,m=h.positionedGlyphs;f<m.length;f+=1){var g=m[f];if(g.rect){var y=g.rect||{},v=4,_=!0,b=1,x=0,w=(o||l)&&g.vertical,k=g.metrics.advance*g.scale/2;if(l&&e.verticalizable&&(x=h.lineOffset/2-(g.imageName?-(24-g.metrics.width*g.scale)/2:24*(g.scale-1))),g.imageName){var S=s[g.imageName];_=S.sdf,v=1/(b=S.pixelRatio)}var C=o?[g.x+k,g.y]:[0,0],E=o?[0,0]:[g.x+k+n[0],g.y+n[1]-x],T=[0,0];w&&(T=E,E=[0,0]);var I=(g.metrics.left-v)*g.scale-k+E[0],M=(-g.metrics.top-v)*g.scale+E[1],A=I+y.w*g.scale/b,O=M+y.h*g.scale/b,P=new i(I,M),D=new i(A,M),z=new i(I,O),L=new i(A,O);if(w){var R=new i(-k,k- -17),W=-Math.PI/2,B=12-k,j=new i(22-B,-(g.imageName?B:0)),N=new(Function.prototype.bind.apply(i,[null].concat(T)));P._rotateAround(W,R)._add(j)._add(N),D._rotateAround(W,R)._add(j)._add(N),z._rotateAround(W,R)._add(j)._add(N),L._rotateAround(W,R)._add(j)._add(N)}if(u){var F=Math.sin(u),U=Math.cos(u),V=[U,-F,F,U];P._matMult(V),D._matMult(V),z._matMult(V),L._matMult(V)}var q=new i(0,0),H=new i(0,0);c.push({tl:P,tr:D,bl:z,br:L,tex:y,writingMode:e.writingMode,glyphOffset:C,sectionIndex:g.sectionIndex,isSDF:_,pixelOffsetTL:q,pixelOffsetBR:H,minFontScaleX:0,minFontScaleY:0})}}return c}(0,n,l,o,a,s,r,t.allowVerticalPlacement),y=t.textSizeData,v=null;"source"===y.kind?(v=[128*o.layout.get("text-size").evaluate(s,{})])[0]>32640&&k(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===y.kind&&((v=[128*f.compositeTextSizes[0].evaluate(s,{},m),128*f.compositeTextSizes[1].evaluate(s,{},m)])[0]>32640||v[1]>32640)&&k(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),t.addSymbols(t.text,g,v,l,a,s,c,e,u.lineStartIndex,u.lineLength,h,m);for(var _=0,b=p;_<b.length;_+=1)d[b[_]]=t.text.placedSymbolArray.length-1;return 4*g.length}function lu(t){for(var e in t)return t[e];return null}function uu(t,e,n,r){var i=t.compareText;if(e in i){for(var o=i[e],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[e]=[];return i[e].push(r),!1}var cu=bs.VectorTileFeature.types,pu=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function du(t,e,n,r,i,o,a,s,l,u,c,p,d){var h=s?Math.min(32640,Math.round(s[0])):0,f=s?Math.min(32640,Math.round(s[1])):0;t.emplaceBack(e,n,Math.round(32*r),Math.round(32*i),o,a,(h<<1)+(l?1:0),f,16*u,16*c,256*p,256*d)}function hu(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}function fu(t){for(var e=0,n=t.sections;e<n.length;e+=1)if(Yr(n[e].text))return!0;return!1}var mu=function(t){this.layoutVertexArray=new zi,this.indexArray=new Fi,this.programConfigurations=t,this.segments=new so,this.dynamicLayoutVertexArray=new Li,this.opacityVertexArray=new Ri,this.placedSymbolArray=new $i};mu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},mu.prototype.upload=function(t,e,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Fs.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Us.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,pu,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(t))},mu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Br("SymbolBuffers",mu);var gu=function(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new so,this.collisionVertexArray=new Ni};gu.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Vs.members,!0)},gu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Br("CollisionBuffers",gu);var yu=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=sa([]),this.placementViewportMatrix=sa([]);var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Rl(this.zoom,e["text-size"]),this.iconSizeData=Rl(this.zoom,e["icon-size"]);var n=this.layers[0].layout,r=n.get("symbol-sort-key"),i=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==r.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((function(t){return xl[t]}))),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id})),this.sourceID=t.sourceID};yu.prototype.createArrays=function(){this.text=new mu(new Lo(this.layers,this.zoom,(function(t){return/^text/.test(t)}))),this.icon=new mu(new Lo(this.layers,this.zoom,(function(t){return/^icon/.test(t)}))),this.glyphOffsetArray=new no,this.lineVertexArray=new ro,this.symbolInstances=new eo},yu.prototype.calculateGlyphDependencies=function(t,e,n,r,i){for(var o=0;o<t.length;o++)if(e[t.charCodeAt(o)]=!0,(n||r)&&i){var a=Zs[t.charAt(o)];a&&(e[a.charCodeAt(0)]=!0)}},yu.prototype.populate=function(t,e,n){var r=this.layers[0],i=r.layout,o=i.get("text-font"),a=i.get("text-field"),s=i.get("icon-image"),l=("constant"!==a.value.kind||a.value.value instanceof re&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),u="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,c=i.get("symbol-sort-key");if(this.features=[],l||u){for(var p=e.iconDependencies,d=e.glyphDependencies,h=e.availableImages,f=new si(this.zoom),m=0,g=t;m<g.length;m+=1){var y=g[m],v=y.feature,_=y.id,b=y.index,x=y.sourceLayerIndex,w=r._featureFilter.needGeometry,k=Fo(v,w);if(r._featureFilter.filter(f,k,n)){w||(k.geometry=No(v));var S=void 0;if(l){var C=r.getValueAndResolveTokens("text-field",k,n,h),E=re.factory(C);fu(E)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ii()||this.hasRTLText&&ai.isParsed())&&(S=Gs(E,r,k))}var T=void 0;if(u){var I=r.getValueAndResolveTokens("icon-image",k,n,h);T=I instanceof ie?I:ie.fromString(I)}if(S||T){var M=this.sortFeaturesByKey?c.evaluate(k,{},n):void 0;if(this.features.push({id:_,text:S,icon:T,index:b,sourceLayerIndex:x,geometry:k.geometry,properties:v.properties,type:cu[v.type],sortKey:M}),T&&(p[T.name]=!0),S){var A=o.evaluate(k,{},n).join(","),O="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(xl.vertical)>=0;for(var P=0,D=S.sections;P<D.length;P+=1){var z=D[P];if(z.image)p[z.image.name]=!0;else{var L=Gr(S.toString()),R=z.fontStack||A,W=d[R]=d[R]||{};this.calculateGlyphDependencies(z.text,W,O,this.allowVerticalPlacement,L)}}}}}}"line"===i.get("symbol-placement")&&(this.features=function(t){var e={},n={},r=[],i=0;function o(e){r.push(t[e]),i++}function a(t,e,i){var o=n[t];return delete n[t],n[e]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(t,n,i){var o=e[n];return delete e[n],e[t]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function l(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var u=0;u<t.length;u++){var c=t[u],p=c.geometry,d=c.text?c.text.toString():null;if(d){var h=l(d,p),f=l(d,p,!0);if(h in n&&f in e&&n[h]!==e[f]){var m=s(h,f,p),g=a(h,f,r[m].geometry);delete e[h],delete n[f],n[l(d,r[g].geometry,!0)]=g,r[m].geometry=null}else h in n?a(h,f,p):f in e?s(h,f,p):(o(u),e[h]=i-1,n[f]=i-1)}else o(u)}return r.filter((function(t){return t.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(t,e){return t.sortKey-e.sortKey}))}},yu.prototype.update=function(t,e,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,n))},yu.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},yu.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},yu.prototype.upload=function(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},yu.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},yu.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},yu.prototype.addToLineVertexArray=function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),i=t.dist(e[t.segment]),o={},a=t.segment+1;a<e.length;a++)o[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:r},a<e.length-1&&(r+=e[a+1].dist(e[a]));for(var s=t.segment||0;s>=0;s--)o[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=e[s-1].dist(e[s]));for(var l=0;l<e.length;l++){var u=o[l];this.lineVertexArray.emplaceBack(u.x,u.y,u.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},yu.prototype.addSymbols=function(t,e,n,r,i,o,a,s,l,u,c,p){for(var d=t.indexArray,h=t.layoutVertexArray,f=t.segments.prepareSegment(4*e.length,h,d,this.canOverlap?o.sortKey:void 0),m=this.glyphOffsetArray.length,g=f.vertexLength,y=this.allowVerticalPlacement&&a===xl.vertical?Math.PI/2:0,v=o.text&&o.text.sections,_=0;_<e.length;_++){var b=e[_],x=b.tl,w=b.tr,k=b.bl,S=b.br,C=b.tex,E=b.pixelOffsetTL,T=b.pixelOffsetBR,I=b.minFontScaleX,M=b.minFontScaleY,A=b.glyphOffset,O=b.isSDF,P=b.sectionIndex,D=f.vertexLength,z=A[1];du(h,s.x,s.y,x.x,z+x.y,C.x,C.y,n,O,E.x,E.y,I,M),du(h,s.x,s.y,w.x,z+w.y,C.x+C.w,C.y,n,O,T.x,E.y,I,M),du(h,s.x,s.y,k.x,z+k.y,C.x,C.y+C.h,n,O,E.x,T.y,I,M),du(h,s.x,s.y,S.x,z+S.y,C.x+C.w,C.y+C.h,n,O,T.x,T.y,I,M),hu(t.dynamicLayoutVertexArray,s,y),d.emplaceBack(D,D+1,D+2),d.emplaceBack(D+1,D+2,D+3),f.vertexLength+=4,f.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(A[0]),_!==e.length-1&&P===e[_+1].sectionIndex||t.programConfigurations.populatePaintArrays(h.length,o,o.index,{},p,v&&v[P])}t.placedSymbolArray.emplaceBack(s.x,s.y,m,this.glyphOffsetArray.length-m,g,l,u,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,0,!1,0,c)},yu.prototype._addCollisionDebugVertex=function(t,e,n,r,i,o){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))},yu.prototype.addCollisionDebugVertices=function(t,e,n,r,o,a,s){var l=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),u=l.vertexLength,c=o.layoutVertexArray,p=o.collisionVertexArray,d=s.anchorX,h=s.anchorY;this._addCollisionDebugVertex(c,p,a,d,h,new i(t,e)),this._addCollisionDebugVertex(c,p,a,d,h,new i(n,e)),this._addCollisionDebugVertex(c,p,a,d,h,new i(n,r)),this._addCollisionDebugVertex(c,p,a,d,h,new i(t,r)),l.vertexLength+=4;var f=o.indexArray;f.emplaceBack(u,u+1),f.emplaceBack(u+1,u+2),f.emplaceBack(u+2,u+3),f.emplaceBack(u+3,u),l.primitiveLength+=4},yu.prototype.addDebugCollisionBoxes=function(t,e,n,r){for(var i=t;i<e;i++){var o=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(o.x1,o.y1,o.x2,o.y2,r?this.textCollisionBox:this.iconCollisionBox,o.anchorPoint,n)}},yu.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new gu(Bi,qs.members,Zi),this.iconCollisionBox=new gu(Bi,qs.members,Zi);for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1),this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex,e.verticalIconBoxEndIndex,e,!1)}},yu.prototype._deserializeCollisionBoxesForSymbol=function(t,e,n,r,i,o,a,s,l){for(var u={},c=e;c<n;c++){var p=t.get(c);u.textBox={x1:p.x1,y1:p.y1,x2:p.x2,y2:p.y2,anchorPointX:p.anchorPointX,anchorPointY:p.anchorPointY},u.textFeatureIndex=p.featureIndex;break}for(var d=r;d<i;d++){var h=t.get(d);u.verticalTextBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,anchorPointX:h.anchorPointX,anchorPointY:h.anchorPointY},u.verticalTextFeatureIndex=h.featureIndex;break}for(var f=o;f<a;f++){var m=t.get(f);u.iconBox={x1:m.x1,y1:m.y1,x2:m.x2,y2:m.y2,anchorPointX:m.anchorPointX,anchorPointY:m.anchorPointY},u.iconFeatureIndex=m.featureIndex;break}for(var g=s;g<l;g++){var y=t.get(g);u.verticalIconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,anchorPointX:y.anchorPointX,anchorPointY:y.anchorPointY},u.verticalIconFeatureIndex=y.featureIndex;break}return u},yu.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var n=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},yu.prototype.hasTextData=function(){return this.text.segments.get().length>0},yu.prototype.hasIconData=function(){return this.icon.segments.get().length>0},yu.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},yu.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},yu.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},yu.prototype.addIndicesForPlacedSymbol=function(t,e){for(var n=t.placedSymbolArray.get(e),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)t.indexArray.emplaceBack(i,i+1,i+2),t.indexArray.emplaceBack(i+1,i+2,i+3)},yu.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var e=Math.sin(t),n=Math.cos(t),r=[],i=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var s=this.symbolInstances.get(a);r.push(0|Math.round(e*s.anchorX+n*s.anchorY)),i.push(s.featureIndex)}return o.sort((function(t,e){return r[t]-r[e]||i[e]-i[t]})),o},yu.prototype.addToSortKeyRanges=function(t,e){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===e?n.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})},yu.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,r=this.symbolInstanceIndexes;n<r.length;n+=1){var i=this.symbolInstances.get(r[n]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(t,n,r){t>=0&&r.indexOf(t)===n&&e.addIndicesForPlacedSymbol(e.text,t)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Br("SymbolBucket",yu,{omit:["layers","collisionBoxArray","features","compareText"]}),yu.MAX_GLYPHS=65535,yu.addDynamicAttributes=hu;var vu=new xi({"symbol-placement":new gi(Mt.layout_symbol["symbol-placement"]),"symbol-spacing":new gi(Mt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new gi(Mt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new yi(Mt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new gi(Mt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new gi(Mt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new gi(Mt.layout_symbol["icon-ignore-placement"]),"icon-optional":new gi(Mt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new gi(Mt.layout_symbol["icon-rotation-alignment"]),"icon-size":new yi(Mt.layout_symbol["icon-size"]),"icon-text-fit":new gi(Mt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new gi(Mt.layout_symbol["icon-text-fit-padding"]),"icon-image":new yi(Mt.layout_symbol["icon-image"]),"icon-rotate":new yi(Mt.layout_symbol["icon-rotate"]),"icon-padding":new gi(Mt.layout_symbol["icon-padding"]),"icon-keep-upright":new gi(Mt.layout_symbol["icon-keep-upright"]),"icon-offset":new yi(Mt.layout_symbol["icon-offset"]),"icon-anchor":new yi(Mt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new gi(Mt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new gi(Mt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new gi(Mt.layout_symbol["text-rotation-alignment"]),"text-field":new yi(Mt.layout_symbol["text-field"]),"text-font":new yi(Mt.layout_symbol["text-font"]),"text-size":new yi(Mt.layout_symbol["text-size"]),"text-max-width":new yi(Mt.layout_symbol["text-max-width"]),"text-line-height":new gi(Mt.layout_symbol["text-line-height"]),"text-letter-spacing":new yi(Mt.layout_symbol["text-letter-spacing"]),"text-justify":new yi(Mt.layout_symbol["text-justify"]),"text-radial-offset":new yi(Mt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new gi(Mt.layout_symbol["text-variable-anchor"]),"text-anchor":new yi(Mt.layout_symbol["text-anchor"]),"text-max-angle":new gi(Mt.layout_symbol["text-max-angle"]),"text-writing-mode":new gi(Mt.layout_symbol["text-writing-mode"]),"text-rotate":new yi(Mt.layout_symbol["text-rotate"]),"text-padding":new gi(Mt.layout_symbol["text-padding"]),"text-keep-upright":new gi(Mt.layout_symbol["text-keep-upright"]),"text-transform":new yi(Mt.layout_symbol["text-transform"]),"text-offset":new yi(Mt.layout_symbol["text-offset"]),"text-allow-overlap":new gi(Mt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new gi(Mt.layout_symbol["text-ignore-placement"]),"text-optional":new gi(Mt.layout_symbol["text-optional"])}),_u={paint:new xi({"icon-opacity":new yi(Mt.paint_symbol["icon-opacity"]),"icon-color":new yi(Mt.paint_symbol["icon-color"]),"icon-halo-color":new yi(Mt.paint_symbol["icon-halo-color"]),"icon-halo-width":new yi(Mt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new yi(Mt.paint_symbol["icon-halo-blur"]),"icon-translate":new gi(Mt.paint_symbol["icon-translate"]),"icon-translate-anchor":new gi(Mt.paint_symbol["icon-translate-anchor"]),"text-opacity":new yi(Mt.paint_symbol["text-opacity"]),"text-color":new yi(Mt.paint_symbol["text-color"],{runtimeType:Ft,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new yi(Mt.paint_symbol["text-halo-color"]),"text-halo-width":new yi(Mt.paint_symbol["text-halo-width"]),"text-halo-blur":new yi(Mt.paint_symbol["text-halo-blur"]),"text-translate":new gi(Mt.paint_symbol["text-translate"]),"text-translate-anchor":new gi(Mt.paint_symbol["text-translate-anchor"])}),layout:vu},bu=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Wt,this.defaultValue=t};bu.prototype.evaluate=function(t){if(t.formattedSection){var e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},bu.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},bu.prototype.outputDefined=function(){return!1},bu.prototype.serialize=function(){return null},Br("FormatSectionOverride",bu,{omit:["defaultValue"]});var xu=function(t){function e(e){t.call(this,e,_u)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){if(t.prototype.recalculate.call(this,e,n),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){for(var i=[],o=0,a=r;o<a.length;o+=1){var s=a[o];i.indexOf(s)<0&&i.push(s)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(t,e,n,r){var i=this.layout.get(t).evaluate(e,{},n,r),o=this._unevaluatedLayout._values[t];return o.isDataDriven()||Gn(o.value)||!i?i:function(t,e){return e.replace(/{([^{}]+)}/g,(function(e,n){return n in t?String(t[n]):""}))}(e.properties,i)},e.prototype.createBucket=function(t){return new yu(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var t=0,n=_u.paint.overridableProperties;t<n.length;t+=1){var r=n[t];if(e.hasPaintOverride(this.layout,r)){var i,o=this.paint.get(r),a=new bu(o),s=new Hn(a,o.property.specification);i="constant"===o.value.kind||"source"===o.value.kind?new Kn("source",s):new Qn("composite",s,o.value.zoomStops,o.value._interpolationType),this.paint._values[r]=new fi(o.property,i,o.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(t,n,r){return!(!this.layout||n.isDataDriven()||r.isDataDriven())&&e.hasPaintOverride(this.layout,t)},e.hasPaintOverride=function(t,e){var n=t.get("text-field"),r=_u.paint.properties[e],i=!1,o=function(t){for(var e=0,n=t;e<n.length;e+=1)if(r.overrides&&r.overrides.hasOverride(n[e]))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof re)o(n.value.value.sections);else if("source"===n.value.kind){var a=function(t){i||(t instanceof ue&&se(t.value)===Ht?o(t.value.sections):t instanceof he?o(t.sections):t.eachChild(a))},s=n.value;s._styleExpression&&a(s._styleExpression.expression)}return i},e}(wi),wu={paint:new xi({"background-color":new gi(Mt.paint_background["background-color"]),"background-pattern":new _i(Mt.paint_background["background-pattern"]),"background-opacity":new gi(Mt.paint_background["background-opacity"])})},ku=function(t){function e(e){t.call(this,e,wu)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(wi),Su={paint:new xi({"raster-opacity":new gi(Mt.paint_raster["raster-opacity"]),"raster-hue-rotate":new gi(Mt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new gi(Mt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new gi(Mt.paint_raster["raster-brightness-max"]),"raster-saturation":new gi(Mt.paint_raster["raster-saturation"]),"raster-contrast":new gi(Mt.paint_raster["raster-contrast"]),"raster-resampling":new gi(Mt.paint_raster["raster-resampling"]),"raster-fade-duration":new gi(Mt.paint_raster["raster-fade-duration"])})},Cu=function(t){function e(e){t.call(this,e,Su)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(wi),Eu=function(t){function e(e){t.call(this,e,{}),this.implementation=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},e.prototype.onRemove=function(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)},e}(wi),Tu={circle:da,heatmap:wa,hillshade:Sa,fill:cs,"fill-extrusion":Ts,line:js,symbol:xu,background:ku,raster:Cu},Iu=a.HTMLImageElement,Mu=a.HTMLCanvasElement,Au=a.HTMLVideoElement,Ou=a.ImageData,Pu=a.ImageBitmap,Du=function(t,e,n,r){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,r)};Du.prototype.update=function(t,e,n){var r=t.width,i=t.height,o=!(this.size&&this.size[0]===r&&this.size[1]===i||n),a=this.context,s=a.gl;if(this.useMipmap=Boolean(e&&e.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!e||!1!==e.premultiply)),o)this.size=[r,i],t instanceof Iu||t instanceof Mu||t instanceof Au||t instanceof Ou||Pu&&t instanceof Pu?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,t.data);else{var l=n||{x:0,y:0},u=l.x,c=l.y;t instanceof Iu||t instanceof Mu||t instanceof Au||t instanceof Ou||Pu&&t instanceof Pu?s.texSubImage2D(s.TEXTURE_2D,0,u,c,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,u,c,r,i,s.RGBA,s.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Du.prototype.bind=function(t,e,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)},Du.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Du.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var zu=function(t){var e=this;this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){e._triggered=!1,e._callback()})};zu.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){t._triggered=!1,t._callback()}),0))},zu.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Lu=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},y(["receive","process"],this),this.invoker=new zu(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=E()?t:a};function Ru(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}Lu.prototype.send=function(t,e,n,r,i){var o=this;void 0===i&&(i=!1);var a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[a]=n);var s=M(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:t,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:Ur(e,s)},s),{cancel:function(){n&&delete o.callbacks[a],o.target.postMessage({id:a,type:"<cancel>",targetMapId:r,sourceMapId:o.mapId})}}},Lu.prototype.receive=function(t){var e=t.data,n=e.id;if(n&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){delete this.tasks[n];var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r()}else E()||e.mustQueue?(this.tasks[n]=e,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,e)},Lu.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),e=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),e&&this.processTask(t,e)}},Lu.prototype.processTask=function(t,e){var n=this;if("<response>"===e.type){var r=this.callbacks[t];delete this.callbacks[t],r&&(e.error?r(Vr(e.error)):r(null,Vr(e.data)))}else{var i=!1,o=M(this.globalScope)?void 0:[],a=e.hasCallback?function(e,r){i=!0,delete n.cancelCallbacks[t],n.target.postMessage({id:t,type:"<response>",sourceMapId:n.mapId,error:e?Ur(e):null,data:Ur(r,o)},o)}:function(t){i=!0},s=null,l=Vr(e.data);if(this.parent[e.type])s=this.parent[e.type](e.sourceMapId,l,a);else if(this.parent.getWorkerSource){var u=e.type.split(".");s=this.parent.getWorkerSource(e.sourceMapId,u[0],l.source)[u[1]](l,a)}else a(new Error("Could not find function "+e.type));!i&&s&&s.cancel&&(this.cancelCallbacks[t]=s.cancel)}},Lu.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Wu=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Wu.prototype.setNorthEast=function(t){return this._ne=t instanceof Bu?new Bu(t.lng,t.lat):Bu.convert(t),this},Wu.prototype.setSouthWest=function(t){return this._sw=t instanceof Bu?new Bu(t.lng,t.lat):Bu.convert(t),this},Wu.prototype.extend=function(t){var e,n,r=this._sw,i=this._ne;if(t instanceof Bu)e=t,n=t;else{if(!(t instanceof Wu))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(Wu.convert(t)):this.extend(Bu.convert(t)):this;if(n=t._ne,!(e=t._sw)||!n)return this}return r||i?(r.lng=Math.min(e.lng,r.lng),r.lat=Math.min(e.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new Bu(e.lng,e.lat),this._ne=new Bu(n.lng,n.lat)),this},Wu.prototype.getCenter=function(){return new Bu((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Wu.prototype.getSouthWest=function(){return this._sw},Wu.prototype.getNorthEast=function(){return this._ne},Wu.prototype.getNorthWest=function(){return new Bu(this.getWest(),this.getNorth())},Wu.prototype.getSouthEast=function(){return new Bu(this.getEast(),this.getSouth())},Wu.prototype.getWest=function(){return this._sw.lng},Wu.prototype.getSouth=function(){return this._sw.lat},Wu.prototype.getEast=function(){return this._ne.lng},Wu.prototype.getNorth=function(){return this._ne.lat},Wu.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Wu.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Wu.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Wu.prototype.contains=function(t){var e=Bu.convert(t),n=e.lng,r=e.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i},Wu.convert=function(t){return!t||t instanceof Wu?t:new Wu(t)};var Bu=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Bu.prototype.wrap=function(){return new Bu(p(this.lng,-180,180),this.lat)},Bu.prototype.toArray=function(){return[this.lng,this.lat]},Bu.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Bu.prototype.distanceTo=function(t){var e=Math.PI/180,n=this.lat*e,r=t.lat*e,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((t.lng-this.lng)*e);return 6371008.8*Math.acos(Math.min(i,1))},Bu.prototype.toBounds=function(t){void 0===t&&(t=0);var e=360*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new Wu(new Bu(this.lng-n,this.lat-e),new Bu(this.lng+n,this.lat+e))},Bu.convert=function(t){if(t instanceof Bu)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new Bu(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new Bu(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var ju=2*Math.PI*6371008.8;function Nu(t){return ju*Math.cos(t*Math.PI/180)}function Fu(t){return(180+t)/360}function Uu(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Vu(t,e){return t/Nu(e)}function qu(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}var Hu=function(t,e,n){void 0===n&&(n=0),this.x=+t,this.y=+e,this.z=+n};Hu.fromLngLat=function(t,e){void 0===e&&(e=0);var n=Bu.convert(t);return new Hu(Fu(n.lng),Uu(n.lat),Vu(e,n.lat))},Hu.prototype.toLngLat=function(){return new Bu(360*this.x-180,qu(this.y))},Hu.prototype.toAltitude=function(){return this.z*Nu(qu(this.y))},Hu.prototype.meterInMercatorCoordinateUnits=function(){return 1/ju*(t=qu(this.y),1/Math.cos(t*Math.PI/180));var t};var Gu=function(t,e,n){this.z=t,this.x=e,this.y=n,this.key=Qu(0,t,t,e,n)};Gu.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},Gu.prototype.url=function(t,e){var n,r,i,o,a,s=(r=this.y,i=this.z,o=Ru(256*(n=this.x),256*(r=Math.pow(2,i)-r-1),i),a=Ru(256*(n+1),256*(r+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),l=function(t,e,n){for(var r,i="",o=t;o>0;o--)i+=(e&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",s)},Gu.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new i(8192*(t.x*e-this.x),8192*(t.y*e-this.y))},Gu.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Zu=function(t,e){this.wrap=t,this.canonical=e,this.key=Qu(t,e.z,e.z,e.x,e.y)},Ku=function(t,e,n,r,i){this.overscaledZ=t,this.wrap=e,this.canonical=new Gu(n,+r,+i),this.key=Qu(e,t,n,r,i)};function Qu(t,e,n,r,i){(t*=2)<0&&(t=-1*t-1);var o=1<<n;return(o*o*t+o*i+r).toString(36)+n.toString(36)+e.toString(36)}Ku.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Ku.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new Ku(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ku(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Ku.prototype.calculateScaledKey=function(t,e){var n=this.canonical.z-t;return t>this.canonical.z?Qu(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y):Qu(this.wrap*+e,t,t,this.canonical.x>>n,this.canonical.y>>n)},Ku.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Ku.prototype.children=function(t){if(this.overscaledZ>=t)return[new Ku(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new Ku(e,this.wrap,e,n,r),new Ku(e,this.wrap,e,n+1,r),new Ku(e,this.wrap,e,n,r+1),new Ku(e,this.wrap,e,n+1,r+1)]},Ku.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Ku.prototype.wrapped=function(){return new Ku(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ku.prototype.unwrapTo=function(t){return new Ku(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Ku.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ku.prototype.toUnwrapped=function(){return new Zu(this.wrap,this.canonical)},Ku.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ku.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new Hu(t.x-this.wrap,t.y))},Br("CanonicalTileID",Gu),Br("OverscaledTileID",Ku,{omit:["posMatrix"]});var Xu=function(t,e,n){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return k('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=e.height;var r=this.dim=e.height-2;this.data=new Uint32Array(e.data.buffer),this.encoding=n||"mapbox";for(var i=0;i<r;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(r,i)]=this.data[this._idx(r-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,r)]=this.data[this._idx(i,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]};Xu.prototype.get=function(t,e){var n=new Uint8Array(this.data.buffer),r=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])},Xu.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Xu.prototype._idx=function(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)},Xu.prototype._unpackMapbox=function(t,e,n){return(256*t*256+256*e+n)/10-1e4},Xu.prototype._unpackTerrarium=function(t,e,n){return 256*t+e+n/256-32768},Xu.prototype.getPixels=function(){return new _a({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Xu.prototype.backfillBorder=function(t,e,n){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var r=e*this.dim,i=e*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(e){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=-e*this.dim,l=-n*this.dim,u=o;u<a;u++)for(var c=r;c<i;c++)this.data[this._idx(c,u)]=t.data[this._idx(c+s,u+l)]},Br("DEMData",Xu);var Yu=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}};Yu.prototype.encode=function(t){return this._stringToNumber[t]},Yu.prototype.decode=function(t){return this._numberToString[t]};var Ju=function(t,e,n,r,i){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,this.id=i},$u={geometry:{configurable:!0}};$u.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},$u.geometry.set=function(t){this._geometry=t},Ju.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(Ju.prototype,$u);var tc=function(){this.state={},this.stateChanges={},this.deletedStates={}};tc.prototype.updateState=function(t,e,n){var r=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][r]=this.stateChanges[t][r]||{},d(this.stateChanges[t][r],n),null===this.deletedStates[t])for(var i in this.deletedStates[t]={},this.state[t])i!==r&&(this.deletedStates[t][i]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][r])for(var o in this.deletedStates[t][r]={},this.state[t][r])n[o]||(this.deletedStates[t][r][o]=null);else for(var a in n)this.deletedStates[t]&&this.deletedStates[t][r]&&null===this.deletedStates[t][r][a]&&delete this.deletedStates[t][r][a]},tc.prototype.removeFeatureState=function(t,e,n){if(null!==this.deletedStates[t]){var r=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},n&&void 0!==e)null!==this.deletedStates[t][r]&&(this.deletedStates[t][r]=this.deletedStates[t][r]||{},this.deletedStates[t][r][n]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][r])for(n in this.deletedStates[t][r]={},this.stateChanges[t][r])this.deletedStates[t][r][n]=null;else this.deletedStates[t][r]=null;else this.deletedStates[t]=null}},tc.prototype.getState=function(t,e){var n=String(e),r=d({},(this.state[t]||{})[n],(this.stateChanges[t]||{})[n]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var i=this.deletedStates[t][e];if(null===i)return{};for(var o in i)delete r[o]}return r},tc.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},tc.prototype.coalesceChanges=function(t,e){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),d(this.state[r][o],this.stateChanges[r][o]),i[o]=this.state[r][o];n[r]=i}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var l in this.state[a])s[l]={},this.state[a][l]={};else for(var u in this.deletedStates[a]){if(null===this.deletedStates[a][u])this.state[a][u]={};else for(var c=0,p=Object.keys(this.deletedStates[a][u]);c<p.length;c+=1)delete this.state[a][u][p[c]];s[u]=this.state[a][u]}n[a]=n[a]||{},d(n[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var h in t)t[h].setFeatureState(n,e)};var ec=function(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Dr(8192,16,0),this.grid3D=new Dr(8192,16,0),this.featureIndexArray=new oo,this.promoteId=e};function nc(t,e,n,r,i){return _(t,(function(t,o){var a=e instanceof mi?e.get(o):null;return a&&a.evaluate?a.evaluate(n,r,i):a}))}function rc(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0,a=t;o<a.length;o+=1){var s=a[o];e=Math.min(e,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),i=Math.max(i,s.y)}return{minX:e,minY:n,maxX:r,maxY:i}}function ic(t,e){return e-t}ec.prototype.insert=function(t,e,n,r,i,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=o?this.grid3D:this.grid,l=0;l<e.length;l++){for(var u=e[l],c=[1/0,1/0,-1/0,-1/0],p=0;p<u.length;p++){var d=u[p];c[0]=Math.min(c[0],d.x),c[1]=Math.min(c[1],d.y),c[2]=Math.max(c[2],d.x),c[3]=Math.max(c[3],d.y)}c[0]<8192&&c[1]<8192&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}},ec.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new bs.VectorTile(new Xs(this.rawTileData)).layers,this.sourceLayerCoder=new Yu(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},ec.prototype.query=function(t,e,n,r){var o=this;this.loadVTLayers();for(var a=t.params||{},s=8192/t.tileSize/t.scale,l=ar(a.filter),u=t.queryGeometry,c=t.queryPadding*s,p=rc(u),d=this.grid.query(p.minX-c,p.minY-c,p.maxX+c,p.maxY+c),h=rc(t.cameraQueryGeometry),f=0,m=this.grid3D.query(h.minX-c,h.minY-c,h.maxX+c,h.maxY+c,(function(e,n,r,o){return function(t,e,n,r,o){for(var a=0,s=t;a<s.length;a+=1){var l=s[a];if(e<=l.x&&n<=l.y&&r>=l.x&&o>=l.y)return!0}var u=[new i(e,n),new i(e,o),new i(r,o),new i(r,n)];if(t.length>2)for(var c=0,p=u;c<p.length;c+=1)if($o(t,p[c]))return!0;for(var d=0;d<t.length-1;d++)if(ta(t[d],t[d+1],u))return!0;return!1}(t.cameraQueryGeometry,e-c,n-c,r+c,o+c)}));f<m.length;f+=1)d.push(m[f]);d.sort(ic);for(var g,y={},v=function(i){var c=d[i];if(c!==g){g=c;var p=o.featureIndexArray.get(c),h=null;o.loadMatchingFeature(y,p.bucketIndex,p.sourceLayerIndex,p.featureIndex,l,a.layers,a.availableImages,e,n,r,(function(e,n,r){return h||(h=No(e)),n.queryIntersectsFeature(u,e,r,h,o.z,t.transform,s,t.pixelPosMatrix)}))}},_=0;_<d.length;_++)v(_);return y},ec.prototype.loadMatchingFeature=function(t,e,n,r,i,o,a,s,l,u,c){var p=this.bucketLayerIDs[e];if(!o||function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}(o,p)){var h=this.sourceLayerCoder.decode(n),f=this.vtLayers[h].feature(r);if(i.needGeometry){var m=Fo(f,!0);if(!i.filter(new si(this.tileID.overscaledZ),m,this.tileID.canonical))return}else if(!i.filter(new si(this.tileID.overscaledZ),f))return;for(var g=this.getId(f,h),y=0;y<p.length;y++){var v=p[y];if(!(o&&o.indexOf(v)<0)){var _=s[v];if(_){var b={};void 0!==g&&u&&(b=u.getState(_.sourceLayer||"_geojsonTileLayer",g));var x=d({},l[v]);x.paint=nc(x.paint,_.paint,f,b,a),x.layout=nc(x.layout,_.layout,f,b,a);var w=!c||c(f,_,b);if(w){var k=new Ju(f,this.z,this.x,this.y,g);k.layer=x;var S=t[v];void 0===S&&(S=t[v]=[]),S.push({featureIndex:r,feature:k,intersectionZ:w})}}}}}},ec.prototype.lookupSymbolFeatures=function(t,e,n,r,i,o,a,s){var l={};this.loadVTLayers();for(var u=ar(i),c=0,p=t;c<p.length;c+=1)this.loadMatchingFeature(l,n,r,p[c],u,o,a,s,e);return l},ec.prototype.hasLayer=function(t){for(var e=0,n=this.bucketLayerIDs;e<n.length;e+=1)for(var r=0,i=n[e];r<i.length;r+=1)if(t===i[r])return!0;return!1},ec.prototype.getId=function(t,e){var n=t.id;return this.promoteId&&"boolean"==typeof(n=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[e]])&&(n=Number(n)),n},Br("FeatureIndex",ec,{omit:["rawTileData","sourceLayerCoder"]});var oc=function(t,e){this.tileID=t,this.uid=f(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};oc.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<B.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},oc.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},oc.prototype.loadVectorData=function(t,e,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var r in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var n={};if(!e)return n;for(var r=function(){var t=o[i],r=t.layerIds.map((function(t){return e.getLayer(t)})).filter(Boolean);if(0!==r.length){t.layers=r,t.stateDependentLayerIds&&(t.stateDependentLayers=t.stateDependentLayerIds.map((function(t){return r.filter((function(e){return e.id===t}))[0]})));for(var a=0,s=r;a<s.length;a+=1)n[s[a].id]=t}},i=0,o=t;i<o.length;i+=1)r();return n}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof yu){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var a=this.buckets[o];if(a instanceof yu&&a.hasRTLText){this.hasRTLText=!0,ai.isLoading()||ai.isLoaded()||"deferred"!==ii()||oi();break}}for(var s in this.queryPadding=0,this.buckets){var l=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(s).queryRadius(l))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new Yi},oc.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},oc.prototype.getBucket=function(t){return this.buckets[t.id]},oc.prototype.upload=function(t){for(var e in this.buckets){var n=this.buckets[e];n.uploadPending()&&n.upload(t)}var r=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Du(t,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Du(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},oc.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},oc.prototype.queryRenderedFeatures=function(t,e,n,r,i,o,a,s,l,u){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:u,transform:s,params:a,queryPadding:this.queryPadding*l},t,e,n):{}},oc.prototype.querySourceFeatures=function(t,e){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var r=n.loadVTLayers(),i=e?e.sourceLayer:"",o=r._geojsonTileLayer||r[i];if(o)for(var a=ar(e&&e.filter),s=this.tileID.canonical,l=s.z,u=s.x,c=s.y,p={z:l,x:u,y:c},d=0;d<o.length;d++){var h=o.feature(d);if(a.needGeometry){var f=Fo(h,!0);if(!a.filter(new si(this.tileID.overscaledZ),f,this.tileID.canonical))continue}else if(!a.filter(new si(this.tileID.overscaledZ),h))continue;var m=n.getId(h,i),g=new Ju(h,l,u,c,m);g.tile=p,t.push(g)}}},oc.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},oc.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},oc.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=T(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(e)if(this.expirationTime<e)i=!0;else{var o=this.expirationTime-e;o?this.expirationTime=r+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},oc.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},oc.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(e.style.hasLayer(r)){var i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=t[o];if(a&&s&&0!==Object.keys(s).length){i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});var l=e&&e.style&&e.style.getLayer(r);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(i)))}}}},oc.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},oc.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<B.now()},oc.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},oc.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=B.now()+t},oc.prototype.setDependencies=function(t,e){for(var n={},r=0,i=e;r<i.length;r+=1)n[i[r]]=!0;this.dependencies[t]=n},oc.prototype.hasDependency=function(t,e){for(var n=0,r=t;n<r.length;n+=1){var i=this.dependencies[r[n]];if(i)for(var o=0,a=e;o<a.length;o+=1)if(i[a[o]])return!0}return!1};var ac=a.performance,sc=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},ac.mark(this._marks.start)};sc.prototype.finish=function(){ac.mark(this._marks.end);var t=ac.getEntriesByName(this._marks.measure);return 0===t.length&&(ac.measure(this._marks.measure,this._marks.start,this._marks.end),t=ac.getEntriesByName(this._marks.measure),ac.clearMarks(this._marks.start),ac.clearMarks(this._marks.end),ac.clearMeasures(this._marks.measure)),t},t.Actor=Lu,t.AlphaImage=va,t.CanonicalTileID=Gu,t.CollisionBoxArray=Yi,t.Color=te,t.DEMData=Xu,t.DataConstantProperty=gi,t.DictionaryCoder=Yu,t.EXTENT=8192,t.ErrorEvent=Tt,t.EvaluationParameters=si,t.Event=Et,t.Evented=It,t.FeatureIndex=ec,t.FillBucket=ss,t.FillExtrusionBucket=Ss,t.ImageAtlas=bl,t.ImagePosition=vl,t.LineBucket=Ls,t.LngLat=Bu,t.LngLatBounds=Wu,t.MercatorCoordinate=Hu,t.ONE_EM=24,t.OverscaledTileID=Ku,t.Point=i,t.Point$1=i,t.Properties=xi,t.Protobuf=Xs,t.RGBAImage=_a,t.RequestManager=H,t.RequestPerformance=sc,t.ResourceType=ft,t.SegmentVector=so,t.SourceFeatureState=tc,t.StructArrayLayout1ui2=Ki,t.StructArrayLayout2f1f2i16=ji,t.StructArrayLayout2i4=Ii,t.StructArrayLayout3ui6=Fi,t.StructArrayLayout4i8=Mi,t.SymbolBucket=yu,t.Texture=Du,t.Tile=oc,t.Transitionable=ci,t.Uniform1f=xo,t.Uniform1i=bo,t.Uniform2f=wo,t.Uniform3f=ko,t.Uniform4f=So,t.UniformColor=Co,t.UniformMatrix4f=To,t.UnwrappedTileID=Zu,t.ValidationError=At,t.WritingMode=xl,t.ZoomHistory=qr,t.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},t.addDynamicAttributes=hu,t.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,i=new Array(t.length),o=null;t.forEach((function(t,a){e(t,(function(t,e){t&&(o=t),i[a]=e,0==--r&&n(o,i)}))}))},t.bezier=l,t.bindAll=y,t.browser=B,t.cacheEntryPossiblyAdded=function(t){++dt>lt&&(t.getActor().send("enforceCacheSizeLimit",st),dt=0)},t.clamp=c,t.clearTileCache=function(t){var e=a.caches.delete("mapbox-tiles");t&&e.catch(t).then((function(){return t()}))},t.clipLine=Gl,t.clone=function(t){var e=new aa(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$1=x,t.clone$2=function(t){var e=new aa(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.collisionCircleLayout=Hs,t.config=j,t.create=function(){var t=new aa(16);return aa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$1=function(){var t=new aa(9);return aa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},t.create$2=function(){var t=new aa(4);return aa!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},t.createCommonjsModule=e,t.createExpression=Zn,t.createLayout=Ei,t.createStyleLayer=function(t){return"custom"===t.type?new Eu(t):new Tu[t.type](t)},t.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=i*l-o*s,t[1]=o*a-r*l,t[2]=r*s-i*a,t},t.deepEqual=function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var i in e)if(!t(e[i],n[i]))return!1;return!0}return e===n},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},t.dot$1=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.ease=u,t.emitValidationErrors=Pr,t.endsWith=v,t.enforceCacheSizeLimit=function(t){ut(),tt&&tt.then((function(e){e.keys().then((function(n){for(var r=0;r<n.length-t;r++)e.delete(n[r])}))}))},t.evaluateSizeForFeature=Wl,t.evaluateSizeForZoom=Bl,t.evaluateVariableOffset=ou,t.evented=ri,t.extend=d,t.featureFilter=ar,t.filterObject=b,t.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.getAnchorAlignment=Pl,t.getAnchorJustification=au,t.getArrayBuffer=bt,t.getImage=kt,t.getJSON=function(t,e){return _t(d(t,{type:"json"}),e)},t.getRTLTextPluginStatus=ii,t.getReferrer=vt,t.getVideo=function(t,e){var n,r,i=a.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(var o=0;o<t.length;o++){var s=a.document.createElement("source");n=t[o],r=void 0,(r=a.document.createElement("a")).href=n,(r.protocol!==a.document.location.protocol||r.host!==a.document.location.host)&&(i.crossOrigin="Anonymous"),s.src=t[o],i.appendChild(s)}return{cancel:function(){}}},t.identity=sa,t.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],d=e[10],h=e[11],f=e[12],m=e[13],g=e[14],y=e[15],v=n*s-r*a,_=n*l-i*a,b=n*u-o*a,x=r*l-i*s,w=r*u-o*s,k=i*u-o*l,S=c*m-p*f,C=c*g-d*f,E=c*y-h*f,T=p*g-d*m,I=p*y-h*m,M=d*y-h*g,A=v*M-_*I+b*T+x*E-w*C+k*S;return A?(t[0]=(s*M-l*I+u*T)*(A=1/A),t[1]=(i*I-r*M-o*T)*A,t[2]=(m*k-g*w+y*x)*A,t[3]=(d*w-p*k-h*x)*A,t[4]=(l*E-a*M-u*C)*A,t[5]=(n*M-i*E+o*C)*A,t[6]=(g*b-f*k-y*_)*A,t[7]=(c*k-d*b+h*_)*A,t[8]=(a*I-s*E+u*S)*A,t[9]=(r*E-n*I-o*S)*A,t[10]=(f*w-m*b+y*v)*A,t[11]=(p*b-c*w-h*v)*A,t[12]=(s*C-a*T-l*S)*A,t[13]=(n*T-r*C+i*S)*A,t[14]=(m*_-f*x-g*v)*A,t[15]=(c*x-p*_+d*v)*A,t):null},t.isChar=Hr,t.isMapboxURL=G,t.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},t.makeRequest=_t,t.mapObject=_,t.mercatorXfromLng=Fu,t.mercatorYfromLat=Uu,t.mercatorZfromAltitude=Vu,t.mul=ca,t.multiply=la,t.mvt=bs,t.nextPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},t.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t},t.number=qe,t.offscreenCanvasSupported=ht,t.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*u,t[15]=1,t},t.parseGlyphPBF=function(t){return new Xs(t).readFields(fl,[])},t.pbf=Xs,t.performSymbolLayout=function(t,e,n,r,i,o,a){t.createArrays(),t.tilePixelRatio=8192/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,l=t.layers[0]._unevaluatedLayout._values,u={};if("composite"===t.textSizeData.kind){var c=t.textSizeData,p=c.maxZoom;u.compositeTextSizes=[l["text-size"].possiblyEvaluate(new si(c.minZoom),a),l["text-size"].possiblyEvaluate(new si(p),a)]}if("composite"===t.iconSizeData.kind){var d=t.iconSizeData,h=d.maxZoom;u.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new si(d.minZoom),a),l["icon-size"].possiblyEvaluate(new si(h),a)]}u.layoutTextSize=l["text-size"].possiblyEvaluate(new si(t.zoom+1),a),u.layoutIconSize=l["icon-size"].possiblyEvaluate(new si(t.zoom+1),a),u.textMaxSize=l["text-size"].possiblyEvaluate(new si(18));for(var f=24*s.get("text-line-height"),m="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),g=s.get("text-keep-upright"),y=s.get("text-size"),v=function(){var o=b[_],l=s.get("text-font").evaluate(o,{},a).join(","),c=y.evaluate(o,{},a),p=u.layoutTextSize.evaluate(o,{},a),d=u.layoutIconSize.evaluate(o,{},a),h={horizontal:{},vertical:void 0},v=o.text,x=[0,0];if(v){var w=v.toString(),S=24*s.get("text-letter-spacing").evaluate(o,{},a),C=function(t){for(var e=0,n=t;e<n.length;e+=1)if(r=n[e].charCodeAt(0),Hr.Arabic(r)||Hr["Arabic Supplement"](r)||Hr["Arabic Extended-A"](r)||Hr["Arabic Presentation Forms-A"](r)||Hr["Arabic Presentation Forms-B"](r))return!1;var r;return!0}(w)?S:0,E=s.get("text-anchor").evaluate(o,{},a),T=s.get("text-variable-anchor");if(!T){var I=s.get("text-radial-offset").evaluate(o,{},a);x=I?ou(E,[24*I,iu]):s.get("text-offset").evaluate(o,{},a).map((function(t){return 24*t}))}var M=m?"center":s.get("text-justify").evaluate(o,{},a),A=s.get("symbol-placement"),O="point"===A?24*s.get("text-max-width").evaluate(o,{},a):0,P=function(){t.allowVerticalPlacement&&Gr(w)&&(h.vertical=Sl(v,e,n,i,l,O,f,E,"left",C,x,xl.vertical,!0,A,p,c))};if(!m&&T){for(var D="auto"===M?T.map((function(t){return au(t)})):[M],z=!1,L=0;L<D.length;L++){var R=D[L];if(!h.horizontal[R])if(z)h.horizontal[R]=h.horizontal[0];else{var W=Sl(v,e,n,i,l,O,f,"center",R,C,x,xl.horizontal,!1,A,p,c);W&&(h.horizontal[R]=W,z=1===W.positionedLines.length)}}P()}else{"auto"===M&&(M=au(E));var B=Sl(v,e,n,i,l,O,f,E,M,C,x,xl.horizontal,!1,A,p,c);B&&(h.horizontal[M]=B),P(),Gr(w)&&m&&g&&(h.vertical=Sl(v,e,n,i,l,O,f,E,M,C,x,xl.vertical,!1,A,p,c))}}var j=void 0,N=!1;if(o.icon&&o.icon.name){var F=r[o.icon.name];F&&(j=function(t,e,n){var r=Pl(n),i=e[0]-t.displaySize[0]*r.horizontalAlign,o=e[1]-t.displaySize[1]*r.verticalAlign;return{image:t,top:o,bottom:o+t.displaySize[1],left:i,right:i+t.displaySize[0]}}(i[o.icon.name],s.get("icon-offset").evaluate(o,{},a),s.get("icon-anchor").evaluate(o,{},a)),N=F.sdf,void 0===t.sdfIcons?t.sdfIcons=F.sdf:t.sdfIcons!==F.sdf&&k("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(F.pixelRatio!==t.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}var U=lu(h.horizontal)||h.vertical;t.iconsInText=!!U&&U.iconsInText,(U||j)&&function(t,e,n,r,i,o,a,s,l,u,c){var p=o.textMaxSize.evaluate(e,{});void 0===p&&(p=a);var d,h=t.layers[0].layout,f=h.get("icon-offset").evaluate(e,{},c),m=lu(n.horizontal),g=a/24,y=t.tilePixelRatio*g,v=t.tilePixelRatio*p/24,_=t.tilePixelRatio*s,b=t.tilePixelRatio*h.get("symbol-spacing"),x=h.get("text-padding")*t.tilePixelRatio,w=h.get("icon-padding")*t.tilePixelRatio,S=h.get("text-max-angle")/180*Math.PI,C="map"===h.get("text-rotation-alignment")&&"point"!==h.get("symbol-placement"),E="map"===h.get("icon-rotation-alignment")&&"point"!==h.get("symbol-placement"),T=h.get("symbol-placement"),I=b/2,M=h.get("icon-text-fit");r&&"none"!==M&&(t.allowVerticalPlacement&&n.vertical&&(d=zl(r,n.vertical,M,h.get("icon-text-fit-padding"),f,g)),m&&(r=zl(r,m,M,h.get("icon-text-fit-padding"),f,g)));var A=function(s,p){p.x<0||p.x>=8192||p.y<0||p.y>=8192||function(t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b,x,w,S,C){var E,T,I,M,A,O=t.addToLineVertexArray(e,n),P=0,D=0,z=0,L=0,R=-1,W=-1,B={},j=ho(""),N=0,F=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(N=(E=s.layout.get("text-offset").evaluate(b,{},S).map((function(t){return 24*t})))[0],F=E[1]):(N=24*s.layout.get("text-radial-offset").evaluate(b,{},S),F=iu),t.allowVerticalPlacement&&r.vertical){var U=s.layout.get("text-rotate").evaluate(b,{},S)+90;M=new Jl(l,e,u,c,p,r.vertical,d,h,f,U),a&&(A=new Jl(l,e,u,c,p,a,g,y,f,U))}if(i){var V=s.layout.get("icon-rotate").evaluate(b,{}),q="none"!==s.layout.get("icon-text-fit"),H=Zl(i,V,w,q),G=a?Zl(a,V,w,q):void 0;I=new Jl(l,e,u,c,p,i,g,y,!1,V),P=4*H.length;var Z=t.iconSizeData,K=null;"source"===Z.kind?(K=[128*s.layout.get("icon-size").evaluate(b,{})])[0]>32640&&k(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===Z.kind&&((K=[128*x.compositeIconSizes[0].evaluate(b,{},S),128*x.compositeIconSizes[1].evaluate(b,{},S)])[0]>32640||K[1]>32640)&&k(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),t.addSymbols(t.icon,H,K,_,v,b,!1,e,O.lineStartIndex,O.lineLength,-1,S),R=t.icon.placedSymbolArray.length-1,G&&(D=4*G.length,t.addSymbols(t.icon,G,K,_,v,b,xl.vertical,e,O.lineStartIndex,O.lineLength,-1,S),W=t.icon.placedSymbolArray.length-1)}for(var Q in r.horizontal){var X=r.horizontal[Q];if(!T){j=ho(X.text);var Y=s.layout.get("text-rotate").evaluate(b,{},S);T=new Jl(l,e,u,c,p,X,d,h,f,Y)}var J=1===X.positionedLines.length;if(z+=su(t,e,X,o,s,f,b,m,O,r.vertical?xl.horizontal:xl.horizontalOnly,J?Object.keys(r.horizontal):[Q],B,R,x,S),J)break}r.vertical&&(L+=su(t,e,r.vertical,o,s,f,b,m,O,xl.vertical,["vertical"],B,W,x,S));var $=T?T.boxStartIndex:t.collisionBoxArray.length,tt=T?T.boxEndIndex:t.collisionBoxArray.length,et=M?M.boxStartIndex:t.collisionBoxArray.length,nt=M?M.boxEndIndex:t.collisionBoxArray.length,rt=I?I.boxStartIndex:t.collisionBoxArray.length,it=I?I.boxEndIndex:t.collisionBoxArray.length,ot=A?A.boxStartIndex:t.collisionBoxArray.length,at=A?A.boxEndIndex:t.collisionBoxArray.length,st=-1,lt=function(t,e){return t&&t.circleDiameter?Math.max(t.circleDiameter,e):e};st=lt(T,st),st=lt(M,st),st=lt(I,st);var ut=(st=lt(A,st))>-1?1:0;ut&&(st*=C/24),t.glyphOffsetArray.length>=yu.MAX_GLYPHS&&k("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==b.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,b.sortKey),t.symbolInstances.emplaceBack(e.x,e.y,B.right>=0?B.right:-1,B.center>=0?B.center:-1,B.left>=0?B.left:-1,B.vertical||-1,R,W,j,$,tt,et,nt,rt,it,ot,at,u,z,L,P,D,ut,0,d,N,F,st)}(t,p,s,n,r,i,d,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,y,x,C,l,_,w,E,f,e,o,u,c,a)};if("line"===T)for(var O=0,P=Gl(e.geometry,0,0,8192,8192);O<P.length;O+=1)for(var D=P[O],z=0,L=Hl(D,b,S,n.vertical||m,r,24,v,t.overscaling,8192);z<L.length;z+=1){var R=L[z];m&&uu(t,m.text,I,R)||A(D,R)}else if("line-center"===T)for(var W=0,B=e.geometry;W<B.length;W+=1){var j=B[W];if(j.length>1){var N=ql(j,S,n.vertical||m,r,24,v);N&&A(j,N)}}else if("Polygon"===e.type)for(var F=0,U=rs(e.geometry,0);F<U.length;F+=1){var V=U[F],q=eu(V,16);A(V[0],new Ll(q.x,q.y,0))}else if("LineString"===e.type)for(var H=0,G=e.geometry;H<G.length;H+=1){var Z=G[H];A(Z,new Ll(Z[0].x,Z[0].y,0))}else if("Point"===e.type)for(var K=0,Q=e.geometry;K<Q.length;K+=1)for(var X=0,Y=Q[K];X<Y.length;X+=1){var J=Y[X];A([J],new Ll(J.x,J.y,0))}}(t,o,h,j,r,u,p,d,x,N,a)},_=0,b=t.features;_<b.length;_+=1)v();o&&t.generateCollisionDebugBuffers()},t.perspective=function(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(t[10]=(i+r)*(o=1/(r-i)),t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t},t.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n},t.plugin=ai,t.polygonIntersectsPolygon=qo,t.postMapLoadEvent=at,t.postTurnstileEvent=it,t.potpack=yl,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.register=Br,t.registerForPluginStateChange=function(t){return t({pluginStatus:$r,pluginURL:ti}),ri.on("pluginStateChange",t),t},t.renderColorRamp=xa,t.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*s,t[1]=i*l+a*s,t[2]=r*-s+o*l,t[3]=i*-s+a*l,t},t.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],p=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+c*r,t[6]=s*i+p*r,t[7]=l*i+d*r,t[8]=u*i-o*r,t[9]=c*i-a*r,t[10]=p*i-s*r,t[11]=d*i-l*r,t},t.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],p=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*r,t[1]=a*i+c*r,t[2]=s*i+p*r,t[3]=l*i+d*r,t[4]=u*i-o*r,t[5]=c*i-a*r,t[6]=p*i-s*r,t[7]=d*i-l*r,t},t.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.scale$1=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},t.scale$2=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},t.setCacheLimits=function(t,e){st=t,lt=e},t.setRTLTextPlugin=function(t,e,n){if(void 0===n&&(n=!1),"deferred"===$r||"loading"===$r||"loaded"===$r)throw new Error("setRTLTextPlugin cannot be called multiple times.");ti=B.resolveURL(t),$r="deferred",Jr=e,ni(),n||oi()},t.sphericalToCartesian=function(t){var e=t[0],n=t[1],r=t[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(r),y:e*Math.sin(n)*Math.sin(r),z:e*Math.cos(r)}},t.sqrLen=function(t){var e=t[0],n=t[1];return e*e+n*n},t.styleSpec=Mt,t.sub=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},t.symbolSize=jl,t.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},t.transformMat4=pa,t.translate=function(t,e,n){var r,i,o,a,s,l,u,c,p,d,h,f,m=n[0],g=n[1],y=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*y+e[12],t[13]=e[1]*m+e[5]*g+e[9]*y+e[13],t[14]=e[2]*m+e[6]*g+e[10]*y+e[14],t[15]=e[3]*m+e[7]*g+e[11]*y+e[15]):(i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],d=e[9],h=e[10],f=e[11],t[0]=r=e[0],t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=p,t[9]=d,t[10]=h,t[11]=f,t[12]=r*m+s*g+p*y+e[12],t[13]=i*m+l*g+d*y+e[13],t[14]=o*m+u*g+h*y+e[14],t[15]=a*m+c*g+f*y+e[15]),t},t.triggerPluginCompletionEvent=ei,t.uniqueId=f,t.validateCustomStyleLayer=function(t){var e=[],n=t.id;return void 0===n&&e.push({message:"layers."+n+': missing required property "id"'}),void 0===t.render&&e.push({message:"layers."+n+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),e},t.validateLight=Mr,t.validateStyle=Ir,t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.vectorTile=bs,t.version="1.13.3",t.warnOnce=k,t.webpSupported=N,t.window=a,t.wrap=p})),r(0,(function(t){function e(t){var n=typeof t;if("number"===n||"boolean"===n||"string"===n||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var r="[",i=0,o=t;i<o.length;i+=1)r+=e(o[i])+",";return r+"]"}for(var a=Object.keys(t).sort(),s="{",l=0;l<a.length;l++)s+=JSON.stringify(a[l])+":"+e(t[a[l]])+",";return s+"}"}function n(n){for(var r="",i=0,o=t.refProperties;i<o.length;i+=1)r+="/"+e(n[o[i]]);return r}var r=function(t){this.keyCache={},t&&this.replace(t)};r.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},r.prototype.update=function(e,r){for(var i=this,o=0,a=e;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var l=this._layers[s.id]=t.createStyleLayer(s);l._featureFilter=t.featureFilter(l.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var u=0,c=r;u<c.length;u+=1){var p=c[u];delete this.keyCache[p],delete this._layerConfigs[p],delete this._layers[p]}this.familiesBySource={};for(var d=0,h=function(t,e){for(var r={},i=0;i<t.length;i++){var o=e&&e[t[i].id]||n(t[i]);e&&(e[t[i].id]=o);var a=r[o];a||(a=r[o]=[]),a.push(t[i])}var s=[];for(var l in r)s.push(r[l]);return s}(t.values(this._layerConfigs),this.keyCache);d<h.length;d+=1){var f=h[d].map((function(t){return i._layers[t.id]})),m=f[0];if("none"!==m.visibility){var g=m.source||"",y=this.familiesBySource[g];y||(y=this.familiesBySource[g]={});var v=m.sourceLayer||"_geojsonTileLayer",_=y[v];_||(_=y[v]=[]),_.push(f)}}};var i=function(e){var n={},r=[];for(var i in e){var o=e[i],a=n[i]={};for(var s in o){var l=o[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u={x:0,y:0,w:l.bitmap.width+2,h:l.bitmap.height+2};r.push(u),a[s]={rect:u,metrics:l.metrics}}}}var c=t.potpack(r),p=new t.AlphaImage({width:c.w||1,height:c.h||1});for(var d in e){var h=e[d];for(var f in h){var m=h[+f];if(m&&0!==m.bitmap.width&&0!==m.bitmap.height){var g=n[d][f].rect;t.AlphaImage.copy(m.bitmap,p,{x:0,y:0},{x:g.x+1,y:g.y+1},m.bitmap)}}}this.image=p,this.positions=n};t.register("GlyphAtlas",i);var o=function(e){this.tileID=new t.OverscaledTileID(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId};function a(e,n,r){for(var i=new t.EvaluationParameters(n),o=0,a=e;o<a.length;o+=1)a[o].recalculate(i,r)}function s(e,n){var r=t.getArrayBuffer(e.request,(function(e,r,i,o){e?n(e):r&&n(null,{vectorTile:new t.vectorTile.VectorTile(new t.pbf(r)),rawData:r,cacheControl:i,expires:o})}));return function(){r.cancel(),n()}}o.prototype.parse=function(e,n,r,o,s){var l=this;this.status="parsing",this.data=e,this.collisionBoxArray=new t.CollisionBoxArray;var u=new t.DictionaryCoder(Object.keys(e.layers).sort()),c=new t.FeatureIndex(this.tileID,this.promoteId);c.bucketLayerIDs=[];var p,d,h,f,m={},g={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},y=n.familiesBySource[this.source];for(var v in y){var _=e.layers[v];if(_){1===_.version&&t.warnOnce('Vector tile source "'+this.source+'" layer "'+v+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var b=u.encode(v),x=[],w=0;w<_.length;w++){var k=_.feature(w),S=c.getId(k,v);x.push({feature:k,id:S,index:w,sourceLayerIndex:b})}for(var C=0,E=y[v];C<E.length;C+=1){var T=E[C],I=T[0];I.minzoom&&this.zoom<Math.floor(I.minzoom)||I.maxzoom&&this.zoom>=I.maxzoom||"none"!==I.visibility&&(a(T,this.zoom,r),(m[I.id]=I.createBucket({index:c.bucketLayerIDs.length,layers:T,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:b,sourceID:this.source})).populate(x,g,this.tileID.canonical),c.bucketLayerIDs.push(T.map((function(t){return t.id}))))}}}var M=t.mapObject(g.glyphDependencies,(function(t){return Object.keys(t).map(Number)}));Object.keys(M).length?o.send("getGlyphs",{uid:this.uid,stacks:M},(function(t,e){p||(p=t,d=e,P.call(l))})):d={};var A=Object.keys(g.iconDependencies);A.length?o.send("getImages",{icons:A,source:this.source,tileID:this.tileID,type:"icons"},(function(t,e){p||(p=t,h=e,P.call(l))})):h={};var O=Object.keys(g.patternDependencies);function P(){if(p)return s(p);if(d&&h&&f){var e=new i(d),n=new t.ImageAtlas(h,f);for(var o in m){var l=m[o];l instanceof t.SymbolBucket?(a(l.layers,this.zoom,r),t.performSymbolLayout(l,d,e.positions,h,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):l.hasPattern&&(l instanceof t.LineBucket||l instanceof t.FillBucket||l instanceof t.FillExtrusionBucket)&&(a(l.layers,this.zoom,r),l.addFeatures(g,this.tileID.canonical,n.patternPositions))}this.status="done",s(null,{buckets:t.values(m).filter((function(t){return!t.isEmpty()})),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,imageAtlas:n,glyphMap:this.returnDependencies?d:null,iconMap:this.returnDependencies?h:null,glyphPositions:this.returnDependencies?e.positions:null})}}O.length?o.send("getImages",{icons:O,source:this.source,tileID:this.tileID,type:"patterns"},(function(t,e){p||(p=t,f=e,P.call(l))})):f={},P.call(this)};var l=function(t,e,n,r){this.actor=t,this.layerIndex=e,this.availableImages=n,this.loadVectorData=r||s,this.loading={},this.loaded={}};l.prototype.loadTile=function(e,n){var r=this,i=e.uid;this.loading||(this.loading={});var a=!!(e&&e.request&&e.request.collectResourceTiming)&&new t.RequestPerformance(e.request),s=this.loading[i]=new o(e);s.abort=this.loadVectorData(e,(function(e,o){if(delete r.loading[i],e||!o)return s.status="done",r.loaded[i]=s,n(e);var l=o.rawData,u={};o.expires&&(u.expires=o.expires),o.cacheControl&&(u.cacheControl=o.cacheControl);var c={};if(a){var p=a.finish();p&&(c.resourceTiming=JSON.parse(JSON.stringify(p)))}s.vectorTile=o.vectorTile,s.parse(o.vectorTile,r.layerIndex,r.availableImages,r.actor,(function(e,r){if(e||!r)return n(e);n(null,t.extend({rawTileData:l.slice(0)},r,u,c))})),r.loaded=r.loaded||{},r.loaded[i]=s}))},l.prototype.reloadTile=function(t,e){var n=this,r=this.loaded,i=t.uid,o=this;if(r&&r[i]){var a=r[i];a.showCollisionBoxes=t.showCollisionBoxes;var s=function(t,r){var i=a.reloadCallback;i&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,n.availableImages,o.actor,i)),e(t,r)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},l.prototype.abortTile=function(t,e){var n=this.loading,r=t.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),e()},l.prototype.removeTile=function(t,e){var n=this.loaded,r=t.uid;n&&n[r]&&delete n[r],e()};var u=t.window.ImageBitmap,c=function(){this.loaded={}};function p(t,e){if(0!==t.length){d(t[0],e);for(var n=1;n<t.length;n++)d(t[n],!e)}}function d(t,e){for(var n=0,r=0,i=0,o=t.length,a=o-1;i<o;a=i++){var s=(t[i][0]-t[a][0])*(t[a][1]+t[i][1]),l=n+s;r+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+r>=0!=!!e&&t.reverse()}c.prototype.loadTile=function(e,n){var r=e.uid,i=e.encoding,o=e.rawImageData,a=u&&o instanceof u?this.getImageData(o):o,s=new t.DEMData(r,a,i);this.loaded=this.loaded||{},this.loaded[r]=s,n(null,s)},c.prototype.getImageData=function(e){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,e.width+2,e.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new t.RGBAImage({width:n.width,height:n.height},n.data)},c.prototype.removeTile=function(t){var e=this.loaded,n=t.uid;e&&e[n]&&delete e[n]};var h=t.vectorTile.VectorTileFeature.prototype.toGeoJSON,f=function(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))};f.prototype.loadGeometry=function(){if(1===this._feature.type){for(var e=[],n=0,r=this._feature.geometry;n<r.length;n+=1){var i=r[n];e.push([new t.Point$1(i[0],i[1])])}return e}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var l=[],u=0,c=s[a];u<c.length;u+=1){var p=c[u];l.push(new t.Point$1(p[0],p[1]))}o.push(l)}return o},f.prototype.toGeoJSON=function(t,e,n){return h.call(this,t,e,n)};var m=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=e.length,this._features=e};m.prototype.feature=function(t){return new f(this._features[t])};var g=t.vectorTile.VectorTileFeature,y=v;function v(t,e){this.options=e||{},this.features=t,this.length=t.length}function _(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}v.prototype.feature=function(t){return new _(this.features[t],this.options.extent)},_.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<r.length;o++)i.push(new t.Point$1(r[o][0],r[o][1]));this.geometry.push(i)}return this.geometry},_.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var l=a[s];e=Math.min(e,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[e,r,n,i]},_.prototype.toGeoJSON=g.prototype.toGeoJSON;var b=w,x=y;function w(e){var n=new t.pbf;return function(t,e){for(var n in t.layers)e.writeMessage(3,k,t.layers[n])}(e,n),n.finish()}function k(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,S,r);var i=r.keys;for(n=0;n<i.length;n++)e.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)e.writeMessage(4,M,o[n])}function S(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,C,t),e.writeVarintField(3,n.type),e.writeMessage(4,I,n)}function C(t,e){var n=t.feature,r=t.keys,i=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var l=o[s];void 0===l&&(r.push(s),o[s]=l=r.length-1),e.writeVarint(l);var u=n.properties[s],c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var p=c+":"+u,d=a[p];void 0===d&&(i.push(u),a[p]=d=i.length-1),e.writeVarint(d)}}function E(t,e){return(e<<3)+(7&t)}function T(t){return t<<1^t>>31}function I(t,e){for(var n=t.loadGeometry(),r=t.type,i=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],u=1;1===r&&(u=l.length),e.writeVarint(E(1,u));for(var c=3===r?l.length-1:l.length,p=0;p<c;p++){1===p&&1!==r&&e.writeVarint(E(2,c-1));var d=l[p].x-i,h=l[p].y-o;e.writeVarint(T(d)),e.writeVarint(T(h)),i+=d,o+=h}3===r&&e.writeVarint(E(7,1))}}function M(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function A(t,e,n,r){O(t,n,r),O(e,2*n,2*r),O(e,2*n+1,2*r+1)}function O(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function P(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}b.fromVectorTileJs=w,b.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var r in t)n[r]=new y(t[r].features,e),n[r].name=r,n[r].version=e.version,n[r].extent=e.extent;return w({layers:n})},b.GeoJSONWrapper=x;var D=function(t){return t[0]},z=function(t){return t[1]},L=function(t,e,n,r,i){void 0===e&&(e=D),void 0===n&&(n=z),void 0===r&&(r=64),void 0===i&&(i=Float64Array),this.nodeSize=r,this.points=t;for(var o=t.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(t.length),s=this.coords=new i(2*t.length),l=0;l<t.length;l++)a[l]=l,s[2*l]=e(t[l]),s[2*l+1]=n(t[l]);!function t(e,n,r,i,o,a){if(!(o-i<=r)){var s=i+o>>1;!function t(e,n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);t(e,n,r,Math.max(i,Math.floor(r-l*c/s+p)),Math.min(o,Math.floor(r+(s-l)*c/s+p)),a)}var d=n[2*r+a],h=i,f=o;for(A(e,n,i,r),n[2*o+a]>d&&A(e,n,i,o);h<f;){for(A(e,n,h,f),h++,f--;n[2*h+a]<d;)h++;for(;n[2*f+a]>d;)f--}n[2*i+a]===d?A(e,n,i,f):A(e,n,++f,o),f<=r&&(i=f+1),r<=f&&(o=f-1)}}(e,n,s,i,o,a%2),t(e,n,r,i,s-1,a+1),t(e,n,r,s+1,o,a+1)}}(a,s,r,0,a.length-1,0)};L.prototype.range=function(t,e,n,r){return function(t,e,n,r,i,o,a){for(var s,l,u=[0,t.length-1,0],c=[];u.length;){var p=u.pop(),d=u.pop(),h=u.pop();if(d-h<=a)for(var f=h;f<=d;f++)l=e[2*f+1],(s=e[2*f])>=n&&s<=i&&l>=r&&l<=o&&c.push(t[f]);else{var m=Math.floor((h+d)/2);l=e[2*m+1],(s=e[2*m])>=n&&s<=i&&l>=r&&l<=o&&c.push(t[m]);var g=(p+1)%2;(0===p?n<=s:r<=l)&&(u.push(h),u.push(m-1),u.push(g)),(0===p?i>=s:o>=l)&&(u.push(m+1),u.push(d),u.push(g))}}return c}(this.ids,this.coords,t,e,n,r,this.nodeSize)},L.prototype.within=function(t,e,n){return function(t,e,n,r,i,o){for(var a=[0,t.length-1,0],s=[],l=i*i;a.length;){var u=a.pop(),c=a.pop(),p=a.pop();if(c-p<=o)for(var d=p;d<=c;d++)P(e[2*d],e[2*d+1],n,r)<=l&&s.push(t[d]);else{var h=Math.floor((p+c)/2),f=e[2*h],m=e[2*h+1];P(f,m,n,r)<=l&&s.push(t[h]);var g=(u+1)%2;(0===u?n-i<=f:r-i<=m)&&(a.push(p),a.push(h-1),a.push(g)),(0===u?n+i>=f:r+i>=m)&&(a.push(h+1),a.push(c),a.push(g))}}return s}(this.ids,this.coords,t,e,n,this.nodeSize)};var R={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(t){return t}},W=function(t){this.options=q(Object.create(R),t),this.trees=new Array(this.options.maxZoom+1)};function B(t,e,n,r,i){return{x:t,y:e,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function j(t,e){var n=t.geometry.coordinates,r=n[1];return{x:U(n[0]),y:V(r),zoom:1/0,index:e,parentId:-1}}function N(t){return{type:"Feature",id:t.id,properties:F(t),geometry:{type:"Point",coordinates:[(r=t.x,360*(r-.5)),(e=t.y,n=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var e,n,r}function F(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return q(q({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function U(t){return t/360+.5}function V(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function q(t,e){for(var n in e)t[n]=e[n];return t}function H(t){return t.x}function G(t){return t.y}function Z(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var l=((t-n)*a+(e-r)*s)/(a*a+s*s);l>1?(n=i,r=o):l>0&&(n+=a*l,r+=s*l)}return(a=t-n)*a+(s=e-r)*s}function K(t,e,n,r){var i={id:void 0===t?null:t,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)Q(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<e.length;r++)Q(t,e[r]);else if("MultiPolygon"===n)for(r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)Q(t,e[r][i])}(i),i}function Q(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function X(t,e,n,r){if(e.geometry){var i=e.geometry.coordinates,o=e.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=e.id;if(n.promoteId?l=e.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===o)Y(i,s);else if("MultiPoint"===o)for(var u=0;u<i.length;u++)Y(i[u],s);else if("LineString"===o)J(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(u=0;u<i.length;u++)J(i[u],s=[],a,!1),t.push(K(l,"LineString",s,e.properties));return}$(i,s,a,!1)}else if("Polygon"===o)$(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(u=0;u<e.geometry.geometries.length;u++)X(t,{id:l,geometry:e.geometry.geometries[u],properties:e.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<i.length;u++){var c=[];$(i[u],c,a,!0),s.push(c)}}t.push(K(l,o,s,e.properties))}}function Y(t,e){e.push(tt(t[0])),e.push(et(t[1])),e.push(0)}function J(t,e,n,r){for(var i,o,a=0,s=0;s<t.length;s++){var l=tt(t[s][0]),u=et(t[s][1]);e.push(l),e.push(u),e.push(0),s>0&&(a+=r?(i*u-l*o)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(u-o,2))),i=l,o=u}var c=e.length-3;e[2]=1,function t(e,n,r,i){for(var o,a=i,s=r-n>>1,l=r-n,u=e[n],c=e[n+1],p=e[r],d=e[r+1],h=n+3;h<r;h+=3){var f=Z(e[h],e[h+1],u,c,p,d);if(f>a)o=h,a=f;else if(f===a){var m=Math.abs(h-s);m<l&&(o=h,l=m)}}a>i&&(o-n>3&&t(e,n,o,i),e[o+2]=a,r-o>3&&t(e,o,r,i))}(e,0,c,n),e[c+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function $(t,e,n,r){for(var i=0;i<t.length;i++){var o=[];J(t[i],o,n,r),e.push(o)}}function tt(t){return t/360+.5}function et(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function nt(t,e,n,r,i,o,a,s){if(r/=e,o>=(n/=e)&&a<r)return t;if(a<n||o>=r)return null;for(var l=[],u=0;u<t.length;u++){var c=t[u],p=c.geometry,d=c.type,h=0===i?c.minX:c.minY,f=0===i?c.maxX:c.maxY;if(h>=n&&f<r)l.push(c);else if(!(f<n||h>=r)){var m=[];if("Point"===d||"MultiPoint"===d)rt(p,m,n,r,i);else if("LineString"===d)it(p,m,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===d)at(p,m,n,r,i,!1);else if("Polygon"===d)at(p,m,n,r,i,!0);else if("MultiPolygon"===d)for(var g=0;g<p.length;g++){var y=[];at(p[g],y,n,r,i,!0),y.length&&m.push(y)}if(m.length){if(s.lineMetrics&&"LineString"===d){for(g=0;g<m.length;g++)l.push(K(c.id,d,m[g],c.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===m.length?(d="LineString",m=m[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===m.length?"Point":"MultiPoint"),l.push(K(c.id,d,m,c.tags))}}}return l.length?l:null}function rt(t,e,n,r,i){for(var o=0;o<t.length;o+=3){var a=t[o+i];a>=n&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function it(t,e,n,r,i,o,a){for(var s,l,u=ot(t),c=0===i?lt:ut,p=t.start,d=0;d<t.length-3;d+=3){var h=t[d],f=t[d+1],m=t[d+2],g=t[d+3],y=t[d+4],v=0===i?h:f,_=0===i?g:y,b=!1;a&&(s=Math.sqrt(Math.pow(h-g,2)+Math.pow(f-y,2))),v<n?_>n&&(l=c(u,h,f,g,y,n),a&&(u.start=p+s*l)):v>r?_<r&&(l=c(u,h,f,g,y,r),a&&(u.start=p+s*l)):st(u,h,f,m),_<n&&v>=n&&(l=c(u,h,f,g,y,n),b=!0),_>r&&v<=r&&(l=c(u,h,f,g,y,r),b=!0),!o&&b&&(a&&(u.end=p+s*l),e.push(u),u=ot(t)),a&&(p+=s)}var x=t.length-3;h=t[x],f=t[x+1],m=t[x+2],(v=0===i?h:f)>=n&&v<=r&&st(u,h,f,m),x=u.length-3,o&&x>=3&&(u[x]!==u[0]||u[x+1]!==u[1])&&st(u,u[0],u[1],u[2]),u.length&&e.push(u)}function ot(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function at(t,e,n,r,i,o){for(var a=0;a<t.length;a++)it(t[a],e,n,r,i,o,!1)}function st(t,e,n,r){t.push(e),t.push(n),t.push(r)}function lt(t,e,n,r,i,o){var a=(o-e)/(r-e);return t.push(o),t.push(n+(i-n)*a),t.push(1),a}function ut(t,e,n,r,i,o){var a=(o-n)/(i-n);return t.push(e+(r-e)*a),t.push(o),t.push(1),a}function ct(t,e){for(var n=[],r=0;r<t.length;r++){var i,o=t[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=pt(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(pt(o.geometry[s],e))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var l=[],u=0;u<o.geometry[s].length;u++)l.push(pt(o.geometry[s][u],e));i.push(l)}n.push(K(o.id,a,i,o.tags))}return n}function pt(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}function dt(t,e){if(t.transformed)return t;var n,r,i,o=1<<t.z,a=t.x,s=t.y;for(n=0;n<t.features.length;n++){var l=t.features[n],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(r=0;r<u.length;r+=2)l.geometry.push(ht(u[r],u[r+1],e,o,a,s));else for(r=0;r<u.length;r++){var p=[];for(i=0;i<u[r].length;i+=2)p.push(ht(u[r][i],u[r][i+1],e,o,a,s));l.geometry.push(p)}}return t.transformed=!0,t}function ht(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}function ft(t,e,n,r,i){for(var o=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,mt(a,t[s],o,i);var l=t[s].minX,u=t[s].minY,c=t[s].maxX,p=t[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),p>a.maxY&&(a.maxY=p)}return a}function mt(t,e,n,r){var i=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)gt(a,i,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)gt(a,i[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<i.length;l++){var u=i[l];for(s=0;s<u.length;s++)gt(a,u[s],t,n,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===o&&r.lineMetrics){for(var p in c={},e.tags)c[p]=e.tags[p];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var d={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==e.id&&(d.id=e.id),t.features.push(d)}}function gt(t,e,n,r,i,o){var a=r*r;if(r>0&&e.size<(i?a:r))n.numPoints+=e.length/3;else{for(var s=[],l=0;l<e.length;l+=3)(0===r||e[l+2]>a)&&(n.numSimplified++,s.push(e[l]),s.push(e[l+1])),n.numPoints++;i&&function(t,e){for(var n=0,r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(n>0===e)for(r=0,i=t.length;r<i/2;r+=2){var a=t[r],s=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=a,t[i-1-r]=s}}(s,o),t.push(s)}}function yt(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)X(n,t.features[r],e,r);else X(n,"Feature"===t.type?t:{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(t,e){var n=e.buffer/e.extent,r=t,i=nt(t,1,-1-n,n,0,-1,2,e),o=nt(t,1,1-n,2+n,0,-1,2,e);return(i||o)&&(r=nt(t,1,-n,1+n,0,-1,2,e)||[],i&&(r=ct(i,1).concat(r)),o&&(r=r.concat(ct(o,-1)))),r}(r,e)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function vt(t,e,n){return 32*((1<<t)*n+e)+t}function _t(t,e){var n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return e(null,null);var i=new m(r.features),o=b(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:i,rawData:o.buffer})}W.prototype.load=function(t){var e=this.options,n=e.log,r=e.minZoom,i=e.maxZoom,o=e.nodeSize;n&&console.time("total time");var a="prepare "+t.length+" points";n&&console.time(a),this.points=t;for(var s=[],l=0;l<t.length;l++)t[l].geometry&&s.push(j(t[l],l));this.trees[i+1]=new L(s,H,G,o,Float32Array),n&&console.timeEnd(a);for(var u=i;u>=r;u--){var c=+Date.now();s=this._cluster(s,u),this.trees[u]=new L(s,H,G,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",u,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this},W.prototype.getClusters=function(t,e){var n=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),i=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],e),s=this.getClusters([-180,r,i,o],e);return a.concat(s)}for(var l=this.trees[this._limitZoom(e)],u=[],c=0,p=l.range(U(n),V(o),U(i),V(r));c<p.length;c+=1){var d=l.points[p[c]];u.push(d.numPoints?N(d):this.points[d.index])}return u},W.prototype.getChildren=function(t){var e=this._getOriginId(t),n=this._getOriginZoom(t),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[e];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],l=0,u=i.within(o.x,o.y,a);l<u.length;l+=1){var c=i.points[u[l]];c.parentId===t&&s.push(c.numPoints?N(c):this.points[c.index])}if(0===s.length)throw new Error(r);return s},W.prototype.getLeaves=function(t,e,n){var r=[];return this._appendLeaves(r,t,e=e||10,n=n||0,0),r},W.prototype.getTile=function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options,a=o.radius/o.extent,s=(n-a)/i,l=(n+1+a)/i,u={features:[]};return this._addTileFeatures(r.range((e-a)/i,s,(e+1+a)/i,l),r.points,e,n,i,u),0===e&&this._addTileFeatures(r.range(1-a/i,s,1,l),r.points,i,n,i,u),e===i-1&&this._addTileFeatures(r.range(0,s,a/i,l),r.points,-1,n,i,u),u.features.length?u:null},W.prototype.getClusterExpansionZoom=function(t){for(var e=this._getOriginZoom(t)-1;e<=this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},W.prototype._appendLeaves=function(t,e,n,r,i){for(var o=0,a=this.getChildren(e);o<a.length;o+=1){var s=a[o],l=s.properties;if(l&&l.cluster?i+l.point_count<=r?i+=l.point_count:i=this._appendLeaves(t,l.cluster_id,n,r,i):i<r?i++:t.push(s),t.length===n)break}return i},W.prototype._addTileFeatures=function(t,e,n,r,i,o){for(var a=0,s=t;a<s.length;a+=1){var l=e[s[a]],u=l.numPoints,c={type:1,geometry:[[Math.round(this.options.extent*(l.x*i-n)),Math.round(this.options.extent*(l.y*i-r))]],tags:u?F(l):this.points[l.index].properties},p=void 0;u?p=l.id:this.options.generateId?p=l.index:this.points[l.index].id&&(p=this.points[l.index].id),void 0!==p&&(c.id=p),o.features.push(c)}},W.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(+t,this.options.maxZoom+1))},W.prototype._cluster=function(t,e){for(var n=[],r=this.options,i=r.reduce,o=r.minPoints,a=r.radius/(r.extent*Math.pow(2,e)),s=0;s<t.length;s++){var l=t[s];if(!(l.zoom<=e)){l.zoom=e;for(var u=this.trees[e+1],c=u.within(l.x,l.y,a),p=l.numPoints||1,d=p,h=0,f=c;h<f.length;h+=1){var m=u.points[f[h]];m.zoom>e&&(d+=m.numPoints||1)}if(d>=o){for(var g=l.x*p,y=l.y*p,v=i&&p>1?this._map(l,!0):null,_=(s<<5)+(e+1)+this.points.length,b=0,x=c;b<x.length;b+=1){var w=u.points[x[b]];if(!(w.zoom<=e)){w.zoom=e;var k=w.numPoints||1;g+=w.x*k,y+=w.y*k,w.parentId=_,i&&(v||(v=this._map(l,!0)),i(v,this._map(w)))}}l.parentId=_,n.push(B(g/d,y/d,_,d,v))}else if(n.push(l),d>1)for(var S=0,C=c;S<C.length;S+=1){var E=u.points[C[S]];E.zoom<=e||(E.zoom=e,n.push(E))}}}return n},W.prototype._getOriginId=function(t){return t-this.points.length>>5},W.prototype._getOriginZoom=function(t){return(t-this.points.length)%32},W.prototype._map=function(t,e){if(t.numPoints)return e?q({},t.properties):t.properties;var n=this.points[t.index].properties,r=this.options.map(n);return e&&r===n?q({},r):r},yt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},yt.prototype.splitTile=function(t,e,n,r,i,o,a){for(var s=[t,e,n,r],l=this.options,u=l.debug;s.length;){r=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var c=1<<e,p=vt(e,n,r),d=this.tiles[p];if(!d&&(u>1&&console.time("creation"),d=this.tiles[p]=ft(t,e,n,r,l),this.tileCoords.push({z:e,x:n,y:r}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var h="z"+e;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(d.source=t,i){if(e===l.maxZoom||e===i)continue;var f=1<<i-e;if(n!==Math.floor(o/f)||r!==Math.floor(a/f))continue}else if(e===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue;if(d.source=null,0!==t.length){u>1&&console.time("clipping");var m,g,y,v,_,b,x=.5*l.buffer/l.extent,w=.5-x,k=.5+x,S=1+x;m=g=y=v=null,_=nt(t,c,n-x,n+k,0,d.minX,d.maxX,l),b=nt(t,c,n+w,n+S,0,d.minX,d.maxX,l),t=null,_&&(m=nt(_,c,r-x,r+k,1,d.minY,d.maxY,l),g=nt(_,c,r+w,r+S,1,d.minY,d.maxY,l),_=null),b&&(y=nt(b,c,r-x,r+k,1,d.minY,d.maxY,l),v=nt(b,c,r+w,r+S,1,d.minY,d.maxY,l),b=null),u>1&&console.timeEnd("clipping"),s.push(m||[],e+1,2*n,2*r),s.push(g||[],e+1,2*n,2*r+1),s.push(y||[],e+1,2*n+1,2*r),s.push(v||[],e+1,2*n+1,2*r+1)}}},yt.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,o=r.debug;if(t<0||t>24)return null;var a=1<<t,s=vt(t,e=(e%a+a)%a,n);if(this.tiles[s])return dt(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var l,u=t,c=e,p=n;!l&&u>0;)u--,c=Math.floor(c/2),p=Math.floor(p/2),l=this.tiles[vt(u,c,p)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",u,c,p),o>1&&console.time("drilling down"),this.splitTile(l.source,u,c,p,t,e,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?dt(this.tiles[s],i):null):null};var bt=function(e){function n(t,n,r,i){e.call(this,t,n,r,_t),i&&(this.loadGeoJSON=i)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(r&&r.request&&r.request.collectResourceTiming)&&new t.RequestPerformance(r.request);this.loadGeoJSON(r,(function(o,a){if(o||!a)return n(o);if("object"!=typeof a)return n(new Error("Input data given to '"+r.source+"' is not a valid GeoJSON object."));!function t(e,n){var r,i=e&&e.type;if("FeatureCollection"===i)for(r=0;r<e.features.length;r++)t(e.features[r],n);else if("GeometryCollection"===i)for(r=0;r<e.geometries.length;r++)t(e.geometries[r],n);else if("Feature"===i)t(e.geometry,n);else if("Polygon"===i)p(e.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<e.coordinates.length;r++)p(e.coordinates[r],n);return e}(a,!0);try{if(r.filter){var s=t.createExpression(r.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map((function(t){return t.key+": "+t.message})).join(", "));var l=a.features.filter((function(t){return s.value.evaluate({zoom:0},t)}));a={type:"FeatureCollection",features:l}}e._geoJSONIndex=r.cluster?new W(function(e){var n=e.superclusterOptions,r=e.clusterProperties;if(!r||!n)return n;for(var i={},o={},a={accumulated:null,zoom:0},s={properties:null},l=Object.keys(r),u=0,c=l;u<c.length;u+=1){var p=c[u],d=r[p],h=d[0],f=t.createExpression(d[1]),m=t.createExpression("string"==typeof h?[h,["accumulated"],["get",p]]:h);i[p]=f.value,o[p]=m.value}return n.map=function(t){s.properties=t;for(var e={},n=0,r=l;n<r.length;n+=1){var o=r[n];e[o]=i[o].evaluate(a,s)}return e},n.reduce=function(t,e){s.properties=e;for(var n=0,r=l;n<r.length;n+=1){var i=r[n];a.accumulated=t[i],t[i]=o[i].evaluate(a,s)}},n}(r)).load(a.features):function(t,e){return new yt(t,e)}(a,r.geojsonVtOptions)}catch(o){return n(o)}e.loaded={};var u={};if(i){var c=i.finish();c&&(u.resourceTiming={},u.resourceTiming[r.source]=JSON.parse(JSON.stringify(c)))}n(null,u)}))}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(t,n){var r=this.loaded;return r&&r[t.uid]?e.prototype.reloadTile.call(this,t,n):this.loadTile(t,n)},n.prototype.loadGeoJSON=function(e,n){if(e.request)t.getJSON(e.request,n);else{if("string"!=typeof e.data)return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."));try{return n(null,JSON.parse(e.data))}catch(t){return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},n.prototype.getClusterExpansionZoom=function(t,e){try{e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))}catch(t){e(t)}},n.prototype.getClusterChildren=function(t,e){try{e(null,this._geoJSONIndex.getChildren(t.clusterId))}catch(t){e(t)}},n.prototype.getClusterLeaves=function(t,e){try{e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))}catch(t){e(t)}},n}(l),xt=function(e){var n=this;this.self=e,this.actor=new t.Actor(e,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:bt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(n.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');n.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(e){if(t.plugin.isParsed())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}};return xt.prototype.setReferrer=function(t,e){this.referrer=e},xt.prototype.setImages=function(t,e,n){for(var r in this.availableImages[t]=e,this.workerSources[t]){var i=this.workerSources[t][r];for(var o in i)i[o].availableImages=e}n()},xt.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},xt.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},xt.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).loadTile(e,n)},xt.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t,e.source).loadTile(e,n)},xt.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).reloadTile(e,n)},xt.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)},xt.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)},xt.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},xt.prototype.removeSource=function(t,e,n){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var r=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==r.removeSource?r.removeSource(e,n):n()}},xt.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}},xt.prototype.syncRTLPluginState=function(e,n,r){try{t.plugin.setState(n);var i=t.plugin.getPluginURL();if(t.plugin.isLoaded()&&!t.plugin.isParsed()&&null!=i){this.self.importScripts(i);var o=t.plugin.isParsed();r(o?void 0:new Error("RTL Text Plugin failed to import scripts from "+i),o)}}catch(t){r(t.toString())}},xt.prototype.getAvailableImages=function(t){var e=this.availableImages[t];return e||(e=[]),e},xt.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new r),e},xt.prototype.getWorkerSource=function(t,e,n){var r=this;return this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),this.workerSources[t][e][n]||(this.workerSources[t][e][n]=new this.workerSourceTypes[e]({send:function(e,n,i){r.actor.send(e,n,i,t)}},this.getLayerIndex(t),this.getAvailableImages(t))),this.workerSources[t][e][n]},xt.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new c),this.demWorkerSources[t][e]},xt.prototype.enforceCacheSizeLimit=function(e,n){t.enforceCacheSizeLimit(n)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new xt(self)),xt})),r(0,(function(t){var e=t.createCommonjsModule((function(t){function e(t){return!n(t)}function n(t){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{e=new Worker(r),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(r),t}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var t=document.createElement("canvas");t.width=t.height=1;var e=t.getContext("2d");if(!e)return!1;var n=e.getImageData(0,0,1,1);return n&&n.width===t.width}()?(void 0===r[n=t&&t.failIfMajorPerformanceCaveat]&&(r[n]=function(t){var n=function(t){var n=document.createElement("canvas"),r=Object.create(e.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=t,n.probablySupportsContext?n.probablySupportsContext("webgl",r)||n.probablySupportsContext("experimental-webgl",r):n.supportsContext?n.supportsContext("webgl",r)||n.supportsContext("experimental-webgl",r):n.getContext("webgl",r)||n.getContext("experimental-webgl",r)}(t);if(!n)return!1;var r=n.createShader(n.VERTEX_SHADER);return!(!r||n.isContextLost())&&(n.shaderSource(r,"void main() {}"),n.compileShader(r),!0===n.getShaderParameter(r,n.COMPILE_STATUS))}(n)),r[n]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var n}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e,window.mapboxgl.notSupportedReason=n);var r={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),n={create:function(e,n,r){var i=t.window.document.createElement(e);return void 0!==n&&(i.className=n),r&&r.appendChild(i),i},createNS:function(e,n){return t.window.document.createElementNS(e,n)}},r=t.window.document&&t.window.document.documentElement.style;function i(t){if(!r)return t[0];for(var e=0;e<t.length;e++)if(t[e]in r)return t[e];return t[0]}var o,a=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){r&&a&&(o=r[a],r[a]="none")},n.enableDrag=function(){r&&a&&(r[a]=o)};var s=i(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[s]=e};var l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){l=!0}});t.window.addEventListener("test",u,u),t.window.removeEventListener("test",u,u)}catch(t){l=!1}n.addEventListener=function(t,e,n,r){void 0===r&&(r={}),t.addEventListener(e,n,"passive"in r&&l?r:r.capture)},n.removeEventListener=function(t,e,n,r){void 0===r&&(r={}),t.removeEventListener(e,n,"passive"in r&&l?r:r.capture)};var c=function(e){e.preventDefault(),e.stopPropagation(),t.window.removeEventListener("click",c,!0)};function p(t){var e=t.userImage;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}n.suppressClick=function(){t.window.addEventListener("click",c,!0),t.window.setTimeout((function(){t.window.removeEventListener("click",c,!0)}),0)},n.mousePos=function(e,n){var r=e.getBoundingClientRect();return new t.Point(n.clientX-r.left-e.clientLeft,n.clientY-r.top-e.clientTop)},n.touchPos=function(e,n){for(var r=e.getBoundingClientRect(),i=[],o=0;o<n.length;o++)i.push(new t.Point(n[o].clientX-r.left-e.clientLeft,n[o].clientY-r.top-e.clientTop));return i},n.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var d=function(e){function n(){e.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,n=this.requestors;e<n.length;e+=1){var r=n[e];this._notify(r.ids,r.callback)}this.requestors=[]}},n.prototype.getImage=function(t){return this.images[t]},n.prototype.addImage=function(t,e){this._validate(t,e)&&(this.images[t]=e)},n.prototype._validate=function(e,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchX" value'))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchY" value'))),r=!1),this._validateContent(n.content,n)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "content" value'))),r=!1),r},n.prototype._validateStretch=function(t,e){if(!t)return!0;for(var n=0,r=0,i=t;r<i.length;r+=1){var o=i[r];if(o[0]<n||o[1]<o[0]||e<o[1])return!1;n=o[1]}return!0},n.prototype._validateContent=function(t,e){return!(t&&(4!==t.length||t[0]<0||e.data.width<t[0]||t[1]<0||e.data.height<t[1]||t[2]<0||e.data.width<t[2]||t[3]<0||e.data.height<t[3]||t[2]<t[0]||t[3]<t[1]))},n.prototype.updateImage=function(t,e){e.version=this.images[t].version+1,this.images[t]=e,this.updatedImages[t]=!0},n.prototype.removeImage=function(t){var e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(t,e){var n=!0;if(!this.isLoaded())for(var r=0,i=t;r<i.length;r+=1)this.images[i[r]]||(n=!1);this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},n.prototype._notify=function(e,n){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i];this.images[a]||this.fire(new t.Event("styleimagemissing",{id:a}));var s=this.images[a];s?r[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:t.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,r)},n.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},n.prototype.getPattern=function(e){var n=this.patterns[e],r=this.getImage(e);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},o=new t.ImagePosition(i,r);this.patterns[e]={bin:i,position:o}}return this._updatePatternAtlas(),this.patterns[e].position},n.prototype.bind=function(e){var n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var e=[];for(var n in this.patterns)e.push(this.patterns[n].bin);var r=t.potpack(e),i=r.w,o=r.h,a=this.atlasImage;for(var s in a.resize({width:i||1,height:o||1}),this.patterns){var l=this.patterns[s].bin,u=l.x+1,c=l.y+1,p=this.images[s].data,d=p.width,h=p.height;t.RGBAImage.copy(p,a,{x:0,y:0},{x:u,y:c},{width:d,height:h}),t.RGBAImage.copy(p,a,{x:0,y:h-1},{x:u,y:c-1},{width:d,height:1}),t.RGBAImage.copy(p,a,{x:0,y:0},{x:u,y:c+h},{width:d,height:1}),t.RGBAImage.copy(p,a,{x:d-1,y:0},{x:u-1,y:c},{width:1,height:h}),t.RGBAImage.copy(p,a,{x:0,y:0},{x:u+d,y:c},{width:1,height:h})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];p(i)&&this.updateImage(r,i)}}},n}(t.Evented),h=g,f=g,m=1e20;function g(t,e,n,r,i,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function y(t,e,n,r,i,o,a){for(var s=0;s<e;s++){for(var l=0;l<n;l++)r[l]=t[l*e+s];for(v(r,i,o,a,n),l=0;l<n;l++)t[l*e+s]=i[l]}for(l=0;l<n;l++){for(s=0;s<e;s++)r[s]=t[l*e+s];for(v(r,i,o,a,e),s=0;s<e;s++)t[l*e+s]=Math.sqrt(i[s])}}function v(t,e,n,r,i){n[0]=0,r[0]=-m,r[1]=+m;for(var o=1,a=0;o<i;o++){for(var s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=r[a];)a--,s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,r[a]=s,r[a+1]=+m}for(o=0,a=0;o<i;o++){for(;r[a+1]<o;)a++;e[o]=(o-n[a])*(o-n[a])+t[n[a]]}}g.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=e.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?m:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?m:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(y(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),y(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++)n[r]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[r]-this.gridInner[r])/this.radius+this.cutoff))));return n},h.default=f;var _=function(t,e){this.requestManager=t,this.localIdeographFontFamily=e,this.entries={}};_.prototype.setURL=function(t){this.url=t},_.prototype.getGlyphs=function(e,n){var r=this,i=[];for(var o in e)for(var a=0,s=e[o];a<s.length;a+=1)i.push({stack:o,id:s[a]});t.asyncAll(i,(function(t,e){var n=t.stack,i=t.id,o=r.entries[n];o||(o=r.entries[n]={glyphs:{},requests:{},ranges:{}});var a=o.glyphs[i];if(void 0===a){if(a=r._tinySDF(o,n,i))return o.glyphs[i]=a,void e(null,{stack:n,id:i,glyph:a});var s=Math.floor(i/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else if(o.ranges[s])e(null,{stack:n,id:i,glyph:a});else{var l=o.requests[s];l||(l=o.requests[s]=[],_.loadGlyphRange(n,s,r.url,r.requestManager,(function(t,e){if(e){for(var n in e)r._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=e[+n]);o.ranges[s]=!0}for(var i=0,a=l;i<a.length;i+=1)(0,a[i])(t,e);delete o.requests[s]}))),l.push((function(t,r){t?e(t):r&&e(null,{stack:n,id:i,glyph:r[i]||null})}))}}else e(null,{stack:n,id:i,glyph:a})}),(function(t,e){if(t)n(t);else if(e){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.stack,l=a.id,u=a.glyph;(r[s]||(r[s]={}))[l]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}n(null,r)}}))},_.prototype._doesCharSupportLocalGlyph=function(e){return!!this.localIdeographFontFamily&&(t.isChar["CJK Unified Ideographs"](e)||t.isChar["Hangul Syllables"](e)||t.isChar.Hiragana(e)||t.isChar.Katakana(e))},_.prototype._tinySDF=function(e,n,r){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var o=e.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=e.tinySDF=new _.TinySDF(24,3,8,.25,i,a)}return{id:r,bitmap:new t.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},_.loadGlyphRange=function(e,n,r,i,o){var a=256*n,s=a+255,l=i.transformRequest(i.normalizeGlyphsURL(r).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(l,(function(e,n){if(e)o(e);else if(n){for(var r={},i=0,a=t.parseGlyphPBF(n);i<a.length;i+=1){var s=a[i];r[s.id]=s}o(null,r)}}))},_.TinySDF=h;var b=function(){this.specification=t.styleSpec.light.position};b.prototype.possiblyEvaluate=function(e,n){return t.sphericalToCartesian(e.expression.evaluate(n))},b.prototype.interpolate=function(e,n,r){return{x:t.number(e.x,n.x,r),y:t.number(e.y,n.y,r),z:t.number(e.z,n.z,r)}};var x=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new b,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),w=function(e){function n(n){e.call(this),this._transitionable=new t.Transitionable(x),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(e,n){if(void 0===n&&(n={}),!this._validate(t.validateLight,e,n))for(var r in e){var i=e[r];t.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-"-transition".length),i):this._transitionable.setValue(r,i)}},n.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},n.prototype._validate=function(e,n,r){return(!r||!1!==r.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},n}(t.Evented),k=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};k.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(t,e)),this.dashEntry[n]},k.prototype.getDashRanges=function(t,e,n){var r=[],i=t.length%2==1?-t[t.length-1]*n:0,o=t[0]*n,a=!0;r.push({left:i,right:o,isDash:a,zeroLength:0===t[0]});for(var s=t[0],l=1;l<t.length;l++){var u=t[l];r.push({left:i=s*n,right:o=(s+=u)*n,isDash:a=!a,zeroLength:0===u})}return r},k.prototype.addRoundDash=function(t,e,n){for(var r=e/2,i=-n;i<=n;i++)for(var o=this.width*(this.nextRow+n+i),a=0,s=t[a],l=0;l<this.width;l++){l/s.right>1&&(s=t[++a]);var u=Math.abs(l-s.left),c=Math.abs(l-s.right),p=Math.min(u,c),d=void 0,h=i/n*(r+1);if(s.isDash){var f=r-Math.abs(h);d=Math.sqrt(p*p+f*f)}else d=r-Math.sqrt(p*p+h*h);this.data[o+l]=Math.max(0,Math.min(255,d+128))}},k.prototype.addRegularDash=function(t){for(var e=t.length-1;e>=0;--e){var n=t[e],r=t[e+1];n.zeroLength?t.splice(e,1):r&&r.isDash===n.isDash&&(r.left=n.left,t.splice(e,1))}var i=t[0],o=t[t.length-1];i.isDash===o.isDash&&(i.left=o.left-this.width,o.right=i.right+this.width);for(var a=this.width*this.nextRow,s=0,l=t[s],u=0;u<this.width;u++){u/l.right>1&&(l=t[++s]);var c=Math.abs(u-l.left),p=Math.abs(u-l.right),d=Math.min(c,p);this.data[a+u]=Math.max(0,Math.min(255,(l.isDash?d:-d)+128))}},k.prototype.addDash=function(e,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<e.length;a++)o+=e[a];if(0!==o){var s=this.width/o,l=this.getDashRanges(e,this.width,s);n?this.addRoundDash(l,s,r):this.addRegularDash(l)}var u={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,u},k.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,this.data))};var S=function e(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var i=this.workerPool.acquire(this.id),o=0;o<i.length;o++){var a=new e.Actor(i[o],r,this.id);a.name="Worker "+o,this.actors.push(a)}};function C(e,n,r){var i=function(i,o){if(i)return r(i);if(o){var a=t.pick(t.extend(o,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(a.vectorLayers=o.vector_layers,a.vectorLayerIds=a.vectorLayers.map((function(t){return t.id}))),a.tiles=n.canonicalizeTileset(a,e.url),r(null,a)}};return e.url?t.getJSON(n.transformRequest(n.normalizeSourceURL(e.url),t.ResourceType.Source),i):t.browser.frame((function(){return i(null,e)}))}S.prototype.broadcast=function(e,n,r){t.asyncAll(this.actors,(function(t,r){t.send(e,n,r)}),r=r||function(){})},S.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},S.prototype.remove=function(){this.actors.forEach((function(t){t.remove()})),this.actors=[],this.workerPool.release(this.id)},S.Actor=t.Actor;var E=function(e,n,r){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=n||0,this.maxzoom=r||24};E.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},E.prototype.contains=function(e){var n=Math.pow(2,e.z),r=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*n);return e.x>=r&&e.x<o&&e.y>=i&&e.y<a};var T=function(e){function n(n,r,i,o){if(e.call(this),this.id=n,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(r,["url","scheme","tileSize","promoteId"])),this._options=t.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=C(this._options,this.map._requestManager,(function(n,r){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new E(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles,e.map._requestManager._customAccessToken),t.postMapLoadEvent(r.tiles,e.map._getMapId(),e.map._requestManager._skuToken,e.map._requestManager._customAccessToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setSourceProperty=function(t){this._tileJSONRequest&&this._tileJSONRequest.cancel(),t(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},n.prototype.setTiles=function(t){var e=this;return this.setSourceProperty((function(){e._options.tiles=t})),this},n.prototype.setUrl=function(t){var e=this;return this.setSourceProperty((function(){e.url=t,e._options.url=t})),this},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.loadTile=function(e,n){var r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(r,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function o(r,i){return delete e.request,e.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(e.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&e.setExpiryData(i),e.loadVectorData(i,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=n:e.request=e.actor.send("reloadTile",i,o.bind(this)):(e.actor=this.dispatcher.getActor(),e.request=e.actor.send("loadTile",i,o.bind(this)))},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.unloadTile=function(t){t.unloadVectorData(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.hasTransition=function(){return!1},n}(t.Evented),I=function(e){function n(n,r,i,o){e.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},r),t.extend(this,t.pick(r,["url","scheme","tileSize"]))}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=C(this._options,this.map._requestManager,(function(n,r){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new E(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles),t.postMapLoadEvent(r.tiles,e.map._getMapId(),e.map._requestManager._skuToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.loadTile=function(e,n){var r=this,i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(i,t.ResourceType.Tile),(function(i,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(i)e.state="errored",n(i);else if(o){r.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=r.map.painter.context,s=a.gl;e.texture=r.map.painter.getTileTexture(o.width),e.texture?e.texture.update(o,{useMipmap:!0}):(e.texture=new t.Texture(a,o,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",t.cacheEntryPossiblyAdded(r.dispatcher),n(null)}}))},n.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},n.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},n.prototype.hasTransition=function(){return!1},n}(t.Evented),M=function(e){function n(n,r,i,o){e.call(this,n,r,i,o),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(e,n){var r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function i(t,r){t&&(e.state="errored",n(t)),r&&(e.dem=r,e.needsHillshadePrepare=!0,e.state="loaded",n(null))}e.request=t.getImage(this.map._requestManager.transformRequest(r,t.ResourceType.Tile),function(r,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(r)e.state="errored",n(r);else if(o){this.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=t.window.ImageBitmap&&o instanceof t.window.ImageBitmap&&t.offscreenCanvasSupported()?o:t.browser.getImageData(o,1),s={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:a,encoding:this.encoding};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",s,i.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},n.prototype._getNeighboringTiles=function(e){var n=e.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?e.wrap-1:e.wrap,a=(n.x+1+r)%r,s=n.x+1===r?e.wrap+1:e.wrap,l={};return l[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(l[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),l},n.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",t.actor&&t.actor.send("removeDEMTile",{uid:t.uid,source:this.id})},n}(I),A=function(e){function n(n,r,i,o){e.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(o),this._data=r.data,this._options=t.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;var a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:t.EXTENT,radius:(r.clusterRadius||50)*a,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)e.fire(new t.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(r.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",r))}}))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setData=function(e){var n=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(e){if(e)n.fire(new t.ErrorEvent(e));else{var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new t.Event("data",r))}})),this},n.prototype.getClusterExpansionZoom=function(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this},n.prototype.getClusterChildren=function(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this},n.prototype.getClusterLeaves=function(t,e,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:n},r),this},n.prototype._updateWorkerData=function(e){var n=this;this._loaded=!1;var r=t.extend({},this.workerOptions),i=this._data;"string"==typeof i?(r.request=this.map._requestManager.transformRequest(t.browser.resolveURL(i),t.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.actor.send(this.type+".loadData",r,(function(t,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.actor.send(n.type+".coalesce",{source:r.source},null),e(t))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.loadTile=function(e,n){var r=this,i=e.actor?"reloadTile":"loadTile";e.actor=this.actor,e.request=this.actor.send(i,{type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(t,o){return delete e.request,e.unloadVectorData(),e.aborted?n(null):t?n(t):(e.loadVectorData(o,r.map.painter,"reloadTile"===i),n(null))}))},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0},n.prototype.unloadTile=function(t){t.unloadVectorData(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})},n.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},n.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(t.Evented),O=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),P=function(e){function n(t,n,r,i){e.call(this),this.id=t,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(e,n){var r=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),(function(i,o){r._loaded=!0,i?r.fire(new t.ErrorEvent(i)):o&&(r.image=o,e&&(r.coordinates=e),n&&n(),r._finishLoading())}))},n.prototype.loaded=function(){return this._loaded},n.prototype.updateImage=function(t){var e=this;return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,(function(){e.texture=null})),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setCoordinates=function(e){var n=this;this.coordinates=e;var r=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0,s=e;a<s.length;a+=1){var l=s[a];n=Math.min(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.x),o=Math.max(o,l.y)}var u=Math.max(i-n,o-r),c=Math.max(0,Math.floor(-Math.log(u)/Math.LN2)),p=Math.pow(2,c);return new t.CanonicalTileID(c,Math.floor((n+i)/2*p),Math.floor((r+o)/2*p))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map((function(t){return n.tileID.getTilePoint(t)._round()}));return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(t.Evented),D=function(e){function n(t,n,r,i){e.call(this,t,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1;var n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1)this.urls.push(this.map._requestManager.transformRequest(i[r],t.ResourceType.Source).url);t.getVideo(this.urls,(function(n,r){e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(e.video=r,e.video.loop=!0,e.video.setAttribute("playsinline",""),e.video.addEventListener("playing",(function(){e.map.triggerRepaint()})),e.map&&e.video.play(),e._finishLoading())}))},n.prototype.pause=function(){this.video&&this.video.pause()},n.prototype.play=function(){this.video&&this.video.play()},n.prototype.seek=function(e){if(this.video){var n=this.video.seekable;e<n.start(0)||e>n.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+n.start(0)+" and "+n.end(0)+"-second mark."))):this.video.currentTime=e}},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(P),z=function(e){function n(n,r,i,o){e.call(this,n,r,i,o),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((function(t){return!Array.isArray(t)||2!==t.length||t.some((function(t){return"number"!=typeof t}))}))||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1},n}(P),L={vector:T,raster:I,"raster-dem":M,geojson:A,video:D,image:P,canvas:z};function R(e,n){var r=t.identity([]);return t.translate(r,r,[1,1,0]),t.scale(r,r,[.5*e.width,.5*e.height,1]),t.multiply(r,r,e.calculatePosMatrix(n.toUnwrapped()))}function W(t,e,n,r,i,o){var a=function(t,e,n){if(t)for(var r=0,i=t;r<i.length;r+=1){var o=e[i[r]];if(o&&o.source===n&&"fill-extrusion"===o.type)return!0}else for(var a in e){var s=e[a];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(i&&i.layers,e,t.id),s=o.maxPitchScaleFactor(),l=t.tilesIn(r,s,a);l.sort(B);for(var u=[],c=0,p=l;c<p.length;c+=1){var d=p[c];u.push({wrappedTileID:d.tileID.wrapped().key,queryResults:d.tile.queryRenderedFeatures(e,n,t._state,d.queryGeometry,d.cameraQueryGeometry,d.scale,i,o,s,R(t.transform,d.tileID))})}var h=function(t){for(var e={},n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,l=n[s]=n[s]||{};for(var u in a)for(var c=a[u],p=l[u]=l[u]||{},d=e[u]=e[u]||[],h=0,f=c;h<f.length;h+=1){var m=f[h];p[m.featureIndex]||(p[m.featureIndex]=!0,d.push(m))}}return e}(u);for(var f in h)h[f].forEach((function(e){var n=e.feature,r=t.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return h}function B(t,e){var n=t.tileID,r=e.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var j=function(t,e){this.max=t,this.onRemove=e,this.reset()};j.prototype.reset=function(){for(var t in this.data)for(var e=0,n=this.data[t];e<n.length;e+=1){var r=n[e];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},j.prototype.add=function(t,e,n){var r=this,i=t.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:e,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout((function(){r.remove(t,o)}),n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},j.prototype.has=function(t){return t.wrapped().key in this.data},j.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},j.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},j.prototype.getByKey=function(t){var e=this.data[t];return e?e[0].value:null},j.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},j.prototype.remove=function(t,e){if(!this.has(t))return this;var n=t.wrapped().key,r=void 0===e?0:this.data[n].indexOf(e),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},j.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this},j.prototype.filter=function(t){var e=[];for(var n in this.data)for(var r=0,i=this.data[n];r<i.length;r+=1){var o=i[r];t(o.value)||e.push(o)}for(var a=0,s=e;a<s.length;a+=1){var l=s[a];this.remove(l.value.tileID,l)}};var N=function(t,e,n){this.context=t;var r=t.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};N.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},N.prototype.updateData=function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},N.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var F={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},U=function(t,e,n,r){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=r,this.context=t;var i=t.gl;this.buffer=i.createBuffer(),t.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};U.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},U.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},U.prototype.enableAttributes=function(t,e){for(var n=0;n<this.attributes.length;n++){var r=e.attributes[this.attributes[n].name];void 0!==r&&t.enableVertexAttribArray(r)}},U.prototype.setVertexAttribPointers=function(t,e,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=e.attributes[i.name];void 0!==o&&t.vertexAttribPointer(o,i.components,t[F[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},U.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var V=function(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};V.prototype.get=function(){return this.current},V.prototype.set=function(t){},V.prototype.getDefault=function(){return this.default},V.prototype.setDefault=function(){this.set(this.default)};var q=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(V),H=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},e}(V),G=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},e}(V),Z=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(V),K=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)},e}(V),Q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)},e}(V),X=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(t){var e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)},e}(V),Y=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)},e}(V),J=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},e}(V),$=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)},e}(V),tt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},e}(V),et=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)},e}(V),nt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}},e}(V),rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.ONE,t.ZERO]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)},e}(V),it=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(V),ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},e}(V),at=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}},e}(V),st=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)},e}(V),lt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)},e}(V),ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)},e}(V),ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)},e}(V),pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(V),dt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},e}(V),ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(V),ft=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},e}(V),mt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},e}(V),gt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1},e}(V),yt=function(t){function e(e){t.call(this,e),this.vao=e.extVertexArrayObject}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)},e}(V),vt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}},e}(V),_t=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},e}(V),bt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}},e}(V),xt=function(t){function e(e,n){t.call(this,e),this.context=e,this.parent=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e}(V),wt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e}(xt),kt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(xt),St=function(t,e,n,r){this.context=t,this.width=e,this.height=n;var i=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new wt(t,i),r&&(this.depthAttachment=new kt(t,i))};St.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();if(e&&t.deleteTexture(e),this.depthAttachment){var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n)}t.deleteFramebuffer(this.framebuffer)};var Ct=function(t,e,n){this.func=t,this.mask=e,this.range=n};Ct.ReadOnly=!1,Ct.ReadWrite=!0,Ct.disabled=new Ct(519,Ct.ReadOnly,[0,1]);var Et=function(t,e,n,r,i,o){this.test=t,this.ref=e,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};Et.disabled=new Et({func:519,mask:0},0,0,7680,7680,7680);var Tt=function(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n};Tt.disabled=new Tt(Tt.Replace=[1,0],t.Color.transparent,[!1,!1,!1,!1]),Tt.unblended=new Tt(Tt.Replace,t.Color.transparent,[!0,!0,!0,!0]),Tt.alphaBlended=new Tt([1,771],t.Color.transparent,[!0,!0,!0,!0]);var It=function(t,e,n){this.enable=t,this.mode=e,this.frontFace=n};It.disabled=new It(!1,1029,2305),It.backCCW=new It(!0,1029,2305);var Mt=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new q(this),this.clearDepth=new H(this),this.clearStencil=new G(this),this.colorMask=new Z(this),this.depthMask=new K(this),this.stencilMask=new Q(this),this.stencilFunc=new X(this),this.stencilOp=new Y(this),this.stencilTest=new J(this),this.depthRange=new $(this),this.depthTest=new tt(this),this.depthFunc=new et(this),this.blend=new nt(this),this.blendFunc=new rt(this),this.blendColor=new it(this),this.blendEquation=new ot(this),this.cullFace=new at(this),this.cullFaceSide=new st(this),this.frontFace=new lt(this),this.program=new ut(this),this.activeTexture=new ct(this),this.viewport=new pt(this),this.bindFramebuffer=new dt(this),this.bindRenderbuffer=new ht(this),this.bindTexture=new ft(this),this.bindVertexBuffer=new mt(this),this.bindElementBuffer=new gt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new yt(this),this.pixelStoreUnpack=new vt(this),this.pixelStoreUnpackPremultiplyAlpha=new _t(this),this.pixelStoreUnpackFlipY=new bt(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(t.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=t.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=t.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)};Mt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Mt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Mt.prototype.createIndexBuffer=function(t,e){return new N(this,t,e)},Mt.prototype.createVertexBuffer=function(t,e,n){return new U(this,t,e,n)},Mt.prototype.createRenderbuffer=function(t,e,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),i},Mt.prototype.createFramebuffer=function(t,e,n){return new St(this,t,e,n)},Mt.prototype.clear=function(t){var e=t.color,n=t.depth,r=this.gl,i=0;e&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},Mt.prototype.setCullFace=function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))},Mt.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},Mt.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},Mt.prototype.setColorMode=function(e){t.deepEqual(e.blendFunction,Tt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},Mt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var At=function(e){function n(n,r,i){var o=this;e.call(this),this.id=n,this.dispatcher=i,this.on("data",(function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),this.on("error",(function(){o._sourceErrored=!0})),this._source=function(e,n,r,i){var o=new L[n.type](e,n,r,i);if(o.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+o.id);return t.bindAll(["load","abort","unload","serialize","prepare"],o),o}(n,r,i,this),this._tiles={},this._cache=new j(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new t.SourceFeatureState}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},n.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},n.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,(function(){}))},n.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,(function(){}))},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[e];n.upload(t),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return t.values(this._tiles).map((function(t){return t.tileID})).sort(Ot).map((function(t){return t.key}))},n.prototype.getRenderableIds=function(e){var n=this,r=[];for(var i in this._tiles)this._isIdRenderable(i,e)&&r.push(this._tiles[i]);return e?r.sort((function(e,r){var i=e.tileID,o=r.tileID,a=new t.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),s=new t.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x})).map((function(t){return t.tileID.key})):r.map((function(t){return t.tileID})).sort(Ot).map((function(t){return t.key}))},n.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},n.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},n.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},n.prototype._tileLoaded=function(e,n,r,i){if(i)return e.state="errored",void(404!==i.status?this._source.fire(new t.ErrorEvent(i,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===r&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}))},n.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var r=e[n];if(t.neighboringTiles&&t.neighboringTiles[r]){var i=this.getTileByID(r);o(t,i),o(i,t)}}function o(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,r=e.tileID.canonical.y-t.tileID.canonical.y,i=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,r),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}},n.prototype.getTile=function(t){return this.getTileByID(t.key)},n.prototype.getTileByID=function(t){return this._tiles[t]},n.prototype._retainLoadedChildren=function(t,e,n,r){for(var i in this._tiles){var o=this._tiles[i];if(!(r[i]||!o.hasData()||o.tileID.overscaledZ<=e||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>e+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var l=a;l.overscaledZ>e;)if(t[(l=l.scaledTo(l.overscaledZ-1)).key]){r[a.key]=a;break}}}},n.prototype.findLoadedParent=function(t,e){if(t.key in this._loadedParentTiles){var n=this._loadedParentTiles[t.key];return n&&n.tileID.overscaledZ>=e?n:null}for(var r=t.overscaledZ-1;r>=e;r--){var i=t.scaledTo(r),o=this._getLoadedTile(i);if(o)return o}},n.prototype._getLoadedTile=function(t){var e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(t.wrapped().key)},n.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/this._source.tileSize)+1,n=Math.ceil(t.height/this._source.tileSize)+1,r=Math.floor(e*n*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(i)},n.prototype.handleWrapJump=function(t){var e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+e),n[i.tileID.key]=i}for(var o in this._tiles=n,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}},n.prototype.update=function(e){var r=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(i=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(t){return r._source.hasTile(t)})))):i=[];var o=e.coveringZoomLevel(this._source),a=Math.max(o-n.maxOverzooming,this._source.minzoom),s=Math.max(o+n.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(i,o);if(Pt(this._source.type)){for(var u={},c={},p=0,d=Object.keys(l);p<d.length;p+=1){var h=d[p],f=l[h],m=this._tiles[h];if(m&&!(m.fadeEndTime&&m.fadeEndTime<=t.browser.now())){var g=this.findLoadedParent(f,a);g&&(this._addTile(g.tileID),u[g.tileID.key]=g.tileID),c[h]=f}}for(var y in this._retainLoadedChildren(c,o,s,l),u)l[y]||(this._coveredTiles[y]=!0,l[y]=u[y])}for(var v in l)this._tiles[v].clearFadeHold();for(var _=0,b=t.keysDifference(this._tiles,l);_<b.length;_+=1){var x=b[_],w=this._tiles[x];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(x)}this._updateLoadedParentTileCache()}},n.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},n.prototype._updateRetainedTiles=function(t,e){for(var r={},i={},o=Math.max(e-n.maxOverzooming,this._source.minzoom),a=Math.max(e+n.maxUnderzooming,this._source.minzoom),s={},l=0,u=t;l<u.length;l+=1){var c=u[l],p=this._addTile(c);r[c.key]=c,p.hasData()||e<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,e,a,r);for(var d=0,h=t;d<h.length;d+=1){var f=h[d],m=this._tiles[f.key];if(!m.hasData()){if(e+1>this._source.maxzoom){var g=f.children(this._source.maxzoom)[0],y=this.getTile(g);if(y&&y.hasData()){r[g.key]=g;continue}}else{var v=f.children(this._source.maxzoom);if(r[v[0].key]&&r[v[1].key]&&r[v[2].key]&&r[v[3].key])continue}for(var _=m.wasRequested(),b=f.overscaledZ-1;b>=o;--b){var x=f.scaledTo(b);if(i[x.key])break;if(i[x.key]=!0,!(m=this.getTile(x))&&_&&(m=this._addTile(x)),m&&(r[x.key]=x,_=m.wasRequested(),m.hasData()))break}}}return r},n.prototype._updateLoadedParentTileCache=function(){for(var t in this._loadedParentTiles={},this._tiles){for(var e=[],n=void 0,r=this._tiles[t].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}e.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i))break;r=i}for(var o=0,a=e;o<a.length;o+=1)this._loadedParentTiles[a[o]]=n}},n.prototype._addTile=function(e){var n=this._tiles[e.key];if(n)return n;(n=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,n)));var r=Boolean(n);return r||(n=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,e.key,n.state))),n?(n.uses++,this._tiles[e.key]=n,r||this._source.fire(new t.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout((function(){n._reloadTile(t,"expired"),delete n._timers[t]}),r))},n.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},n.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},n.prototype.tilesIn=function(e,n,r){var i=this,o=[],a=this.transform;if(!a)return o;for(var s=r?a.getCameraQueryGeometry(e):e,l=e.map((function(t){return a.pointCoordinate(t)})),u=s.map((function(t){return a.pointCoordinate(t)})),c=this.getIds(),p=1/0,d=1/0,h=-1/0,f=-1/0,m=0,g=u;m<g.length;m+=1){var y=g[m];p=Math.min(p,y.x),d=Math.min(d,y.y),h=Math.max(h,y.x),f=Math.max(f,y.y)}for(var v=function(e){var r=i._tiles[c[e]];if(!r.holdingForFade()){var s=r.tileID,m=Math.pow(2,a.zoom-r.tileID.overscaledZ),g=n*r.queryPadding*t.EXTENT/r.tileSize/m,y=[s.getTilePoint(new t.MercatorCoordinate(p,d)),s.getTilePoint(new t.MercatorCoordinate(h,f))];if(y[0].x-g<t.EXTENT&&y[0].y-g<t.EXTENT&&y[1].x+g>=0&&y[1].y+g>=0){var v=l.map((function(t){return s.getTilePoint(t)})),_=u.map((function(t){return s.getTilePoint(t)}));o.push({tile:r,tileID:s,queryGeometry:v,cameraQueryGeometry:_,scale:m})}}},_=0;_<c.length;_++)v(_);return o},n.prototype.getVisibleCoordinates=function(t){for(var e=this,n=this.getRenderableIds(t).map((function(t){return e._tiles[t].tileID})),r=0,i=n;r<i.length;r+=1){var o=i[r];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Pt(this._source.type))for(var e in this._tiles){var n=this._tiles[e];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=t.browser.now())return!0}return!1},n.prototype.setFeatureState=function(t,e,n){this._state.updateState(t=t||"_geojsonTileLayer",e,n)},n.prototype.removeFeatureState=function(t,e,n){this._state.removeFeatureState(t=t||"_geojsonTileLayer",e,n)},n.prototype.getFeatureState=function(t,e){return this._state.getState(t=t||"_geojsonTileLayer",e)},n.prototype.setDependencies=function(t,e,n){var r=this._tiles[t];r&&r.setDependencies(e,n)},n.prototype.reloadTilesForDependencies=function(t,e){for(var n in this._tiles)this._tiles[n].hasDependency(t,e)&&this._reloadTile(n,"reloading");this._cache.filter((function(n){return!n.hasDependency(t,e)}))},n}(t.Evented);function Ot(t,e){var n=Math.abs(2*t.wrap)-+(t.wrap<0),r=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||r-n||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function Pt(t){return"raster"===t||"image"===t||"video"===t}function Dt(){return new t.window.Worker(Qi.workerUrl)}At.maxOverzooming=10,At.maxUnderzooming=3;var zt="mapboxgl_preloaded_worker_pool",Lt=function(){this.active={}};Lt.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<Lt.workerCount;)this.workers.push(new Dt);return this.active[t]=!0,this.workers.slice()},Lt.prototype.release=function(t){delete this.active[t],0===this.numActive()&&(this.workers.forEach((function(t){t.terminate()})),this.workers=null)},Lt.prototype.isPreloaded=function(){return!!this.active[zt]},Lt.prototype.numActive=function(){return Object.keys(this.active).length};var Rt,Wt=Math.floor(t.browser.hardwareConcurrency/2);function Bt(){return Rt||(Rt=new Lt),Rt}function jt(e,n){var r={};for(var i in e)"ref"!==i&&(r[i]=e[i]);return t.refProperties.forEach((function(t){t in n&&(r[t]=n[t])})),r}function Nt(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=jt(t[r],e[t[r].ref]));return t}Lt.workerCount=Math.max(Math.min(Wt,6),1);var Ft={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ut(t,e,n){n.push({command:Ft.addSource,args:[t,e[t]]})}function Vt(t,e,n){e.push({command:Ft.removeSource,args:[t]}),n[t]=!0}function qt(t,e,n,r){Vt(t,n,r),Ut(t,e,n)}function Ht(e,n,r){var i;for(i in e[r])if(e[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;return!0}function Gt(e,n,r,i,o,a){var s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}))}function Zt(t){return t.id}function Kt(t,e){return t[e.id]=e,t}var Qt=function(t,e){this.reset(t,e)};Qt.prototype.reset=function(t,e){this.points=t||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(e||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Qt.prototype.lerp=function(e){if(1===this.points.length)return this.points[0];e=t.clamp(e,0,1);for(var n=1,r=this._distances[n],i=e*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var o=n-1,a=this._distances[o],s=r-a,l=s>0?(i-a)/s:0;return this.points[o].mult(1-l).add(this.points[n].mult(l))};var Xt=function(t,e,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};function Yt(e,n,r,i,o){var a=t.create();return n?(t.scale(a,a,[1/o,1/o,1]),r||t.rotateZ(a,a,i.angle)):t.multiply(a,i.labelPlaneMatrix,e),a}function Jt(e,n,r,i,o){if(n){var a=t.clone(e);return t.scale(a,a,[o,o,1]),r||t.rotateZ(a,a,-i.angle),a}return i.glCoordMatrix}function $t(e,n){var r=[e.x,e.y,0,1];ce(r,r,n);var i=r[3];return{point:new t.Point(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function te(t,e){return.5+t/e*.5}function ee(t,e){var n=t[0]/t[3],r=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&r>=-e[1]&&r<=e[1]}function ne(e,n,r,i,o,a,s,l){var u=i?e.textSizeData:e.iconSizeData,c=t.evaluateSizeForZoom(u,r.transform.zoom),p=[256/r.width*2+1,256/r.height*2+1],d=i?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;d.clear();for(var h=e.lineVertexArray,f=i?e.text.placedSymbolArray:e.icon.placedSymbolArray,m=r.transform.width/r.transform.height,g=!1,y=0;y<f.length;y++){var v=f.get(y);if(v.hidden||v.writingMode===t.WritingMode.vertical&&!g)ue(v.numGlyphs,d);else{g=!1;var _=[v.anchorX,v.anchorY,0,1];if(t.transformMat4(_,_,n),ee(_,p)){var b=te(r.transform.cameraToCenterDistance,_[3]),x=t.evaluateSizeForFeature(u,c,v),w=s?x/b:x*b,k=new t.Point(v.anchorX,v.anchorY),S=$t(k,o).point,C={},E=oe(v,w,!1,l,n,o,a,e.glyphOffsetArray,h,d,S,k,C,m);g=E.useVertical,(E.notEnoughRoom||g||E.needsFlipping&&oe(v,w,!0,l,n,o,a,e.glyphOffsetArray,h,d,S,k,C,m).notEnoughRoom)&&ue(v.numGlyphs,d)}else ue(v.numGlyphs,d)}}i?e.text.dynamicLayoutVertexBuffer.updateData(d):e.icon.dynamicLayoutVertexBuffer.updateData(d)}function re(t,e,n,r,i,o,a,s,l,u,c){var p=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,h=s.lineStartIndex+s.lineLength,f=e.getoffsetX(s.glyphStartIndex),m=e.getoffsetX(p-1),g=se(t*f,n,r,i,o,a,s.segment,d,h,l,u,c);if(!g)return null;var y=se(t*m,n,r,i,o,a,s.segment,d,h,l,u,c);return y?{first:g,last:y}:null}function ie(e,n,r,i){return e===t.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(e===t.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function oe(e,n,r,i,o,a,s,l,u,c,p,d,h,f){var m,g=n/24,y=e.lineOffsetX*g,v=e.lineOffsetY*g;if(e.numGlyphs>1){var _=e.glyphStartIndex+e.numGlyphs,b=e.lineStartIndex,x=e.lineStartIndex+e.lineLength,w=re(g,l,y,v,r,p,d,e,u,a,h);if(!w)return{notEnoughRoom:!0};var k=$t(w.first.point,s).point,S=$t(w.last.point,s).point;if(i&&!r){var C=ie(e.writingMode,k,S,f);if(C)return C}m=[w.first];for(var E=e.glyphStartIndex+1;E<_-1;E++)m.push(se(g*l.getoffsetX(E),y,v,r,p,d,e.segment,b,x,u,a,h));m.push(w.last)}else{if(i&&!r){var T=$t(d,o).point,I=e.lineStartIndex+e.segment+1,M=new t.Point(u.getx(I),u.gety(I)),A=$t(M,o),O=A.signedDistanceFromCamera>0?A.point:ae(d,M,T,1,o),P=ie(e.writingMode,T,O,f);if(P)return P}var D=se(g*l.getoffsetX(e.glyphStartIndex),y,v,r,p,d,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,u,a,h);if(!D)return{notEnoughRoom:!0};m=[D]}for(var z=0,L=m;z<L.length;z+=1){var R=L[z];t.addDynamicAttributes(c,R.point,R.angle)}return{}}function ae(t,e,n,r,i){var o=$t(t.add(t.sub(e)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function se(e,n,r,i,o,a,s,l,u,c,p,d){var h=i?e-n:e+n,f=h>0?1:-1,m=0;i&&(f*=-1,m=Math.PI),f<0&&(m+=Math.PI);for(var g=f>0?l+s:l+s+1,y=o,v=o,_=0,b=0,x=Math.abs(h),w=[];_+b<=x;){if((g+=f)<l||g>=u)return null;if(v=y,w.push(y),void 0===(y=d[g])){var k=new t.Point(c.getx(g),c.gety(g)),S=$t(k,p);if(S.signedDistanceFromCamera>0)y=d[g]=S.point;else{var C=g-f;y=ae(0===_?a:new t.Point(c.getx(C),c.gety(C)),k,v,x-_+1,p)}}_+=b,b=v.dist(y)}var E=(x-_)/b,T=y.sub(v),I=T.mult(E)._add(v);I._add(T._unit()._perp()._mult(r*f));var M=m+Math.atan2(y.y-v.y,y.x-v.x);return w.push(I),{point:I,angle:M,path:w}}Xt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Xt.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Xt.prototype.insertCircle=function(t,e,n,r){this._forEachCell(e-r,n-r,e+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(r)},Xt.prototype._insertBoxCell=function(t,e,n,r,i,o){this.boxCells[i].push(o)},Xt.prototype._insertCircleCell=function(t,e,n,r,i,o){this.circleCells[i].push(o)},Xt.prototype._query=function(t,e,n,r,i,o){if(n<0||t>this.width||r<0||e>this.height)return!i&&[];var a=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],p=this.circles[3*l+2];a.push({key:this.circleKeys[l],x1:u-p,y1:c-p,x2:u+p,y2:c+p})}return o?a.filter(o):a}return this._forEachCell(t,e,n,r,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a},Xt.prototype._queryCircle=function(t,e,n,r,i){var o=t-n,a=t+n,s=e-n,l=e+n;if(a<0||o>this.width||l<0||s>this.height)return!r&&[];var u=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,u,{hitTest:r,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}},i),r?u.length>0:u},Xt.prototype.query=function(t,e,n,r,i){return this._query(t,e,n,r,!1,i)},Xt.prototype.hitTest=function(t,e,n,r,i){return this._query(t,e,n,r,!0,i)},Xt.prototype.hitTestCircle=function(t,e,n,r){return this._queryCircle(t,e,n,!0,r)},Xt.prototype._queryCell=function(t,e,n,r,i,o,a,s){var l=a.seenUids,u=this.boxCells[i];if(null!==u)for(var c=this.bboxes,p=0,d=u;p<d.length;p+=1){var h=d[p];if(!l.box[h]){l.box[h]=!0;var f=4*h;if(t<=c[f+2]&&e<=c[f+3]&&n>=c[f+0]&&r>=c[f+1]&&(!s||s(this.boxKeys[h]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[h],x1:c[f],y1:c[f+1],x2:c[f+2],y2:c[f+3]})}}}var m=this.circleCells[i];if(null!==m)for(var g=this.circles,y=0,v=m;y<v.length;y+=1){var _=v[y];if(!l.circle[_]){l.circle[_]=!0;var b=3*_;if(this._circleAndRectCollide(g[b],g[b+1],g[b+2],t,e,n,r)&&(!s||s(this.circleKeys[_]))){if(a.hitTest)return o.push(!0),!0;var x=g[b],w=g[b+1],k=g[b+2];o.push({key:this.circleKeys[_],x1:x-k,y1:w-k,x2:x+k,y2:w+k})}}}},Xt.prototype._queryCellCircle=function(t,e,n,r,i,o,a,s){var l=a.circle,u=a.seenUids,c=this.boxCells[i];if(null!==c)for(var p=this.bboxes,d=0,h=c;d<h.length;d+=1){var f=h[d];if(!u.box[f]){u.box[f]=!0;var m=4*f;if(this._circleAndRectCollide(l.x,l.y,l.radius,p[m+0],p[m+1],p[m+2],p[m+3])&&(!s||s(this.boxKeys[f])))return o.push(!0),!0}}var g=this.circleCells[i];if(null!==g)for(var y=this.circles,v=0,_=g;v<_.length;v+=1){var b=_[v];if(!u.circle[b]){u.circle[b]=!0;var x=3*b;if(this._circlesCollide(y[x],y[x+1],y[x+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[b])))return o.push(!0),!0}}},Xt.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var l=this._convertToXCellCoord(t),u=this._convertToYCellCoord(e),c=this._convertToXCellCoord(n),p=this._convertToYCellCoord(r),d=l;d<=c;d++)for(var h=u;h<=p;h++)if(i.call(this,t,e,n,r,this.xCellCount*h+d,o,a,s))return},Xt.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Xt.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},Xt.prototype._circlesCollide=function(t,e,n,r,i,o){var a=r-t,s=i-e,l=n+o;return l*l>a*a+s*s},Xt.prototype._circleAndRectCollide=function(t,e,n,r,i,o,a){var s=(o-r)/2,l=Math.abs(t-(r+s));if(l>s+n)return!1;var u=(a-i)/2,c=Math.abs(e-(i+u));if(c>u+n)return!1;if(l<=s||c<=u)return!0;var p=l-s,d=c-u;return p*p+d*d<=n*n};var le=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ue(t,e){for(var n=0;n<t;n++){var r=e.length;e.resize(r+4),e.float32.set(le,3*r)}}function ce(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t[3]=n[3]*r+n[7]*i+n[15],t}var pe=function(t,e,n){void 0===e&&(e=new Xt(t.width+200,t.height+200,25)),void 0===n&&(n=new Xt(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200};function de(e,n,r){return n*(t.EXTENT/(e.tileSize*Math.pow(2,r-e.tileID.overscaledZ)))}pe.prototype.placeCollisionBox=function(t,e,n,r,i){var o=this.projectAndGetPerspectiveRatio(r,t.anchorPointX,t.anchorPointY),a=n*o.perspectiveRatio,s=t.x1*a+o.point.x,l=t.y1*a+o.point.y,u=t.x2*a+o.point.x,c=t.y2*a+o.point.y;return!this.isInsideGrid(s,l,u,c)||!e&&this.grid.hitTest(s,l,u,c,i)?{box:[],offscreen:!1}:{box:[s,l,u,c],offscreen:this.isOffscreen(s,l,u,c)}},pe.prototype.placeCollisionCircles=function(e,n,r,i,o,a,s,l,u,c,p,d,h){var f=[],m=new t.Point(n.anchorX,n.anchorY),g=$t(m,a),y=te(this.transform.cameraToCenterDistance,g.signedDistanceFromCamera),v=(c?o/y:o*y)/t.ONE_EM,_=$t(m,s).point,b=re(v,i,n.lineOffsetX*v,n.lineOffsetY*v,!1,_,m,n,r,s,{}),x=!1,w=!1,k=!0;if(b){for(var S=.5*d*y+h,C=new t.Point(-100,-100),E=new t.Point(this.screenRightBoundary,this.screenBottomBoundary),T=new Qt,I=b.first,M=b.last,A=[],O=I.path.length-1;O>=1;O--)A.push(I.path[O]);for(var P=1;P<M.path.length;P++)A.push(M.path[P]);var D=2.5*S;if(l){var z=A.map((function(t){return $t(t,l)}));A=z.some((function(t){return t.signedDistanceFromCamera<=0}))?[]:z.map((function(t){return t.point}))}var L=[];if(A.length>0){for(var R=A[0].clone(),W=A[0].clone(),B=1;B<A.length;B++)R.x=Math.min(R.x,A[B].x),R.y=Math.min(R.y,A[B].y),W.x=Math.max(W.x,A[B].x),W.y=Math.max(W.y,A[B].y);L=R.x>=C.x&&W.x<=E.x&&R.y>=C.y&&W.y<=E.y?[A]:W.x<C.x||R.x>E.x||W.y<C.y||R.y>E.y?[]:t.clipLine([A],C.x,C.y,E.x,E.y)}for(var j=0,N=L;j<N.length;j+=1){var F;T.reset(N[j],.25*S),F=T.length<=.5*S?1:Math.ceil(T.paddedLength/D)+1;for(var U=0;U<F;U++){var V=U/Math.max(F-1,1),q=T.lerp(V),H=q.x+100,G=q.y+100;f.push(H,G,S,0);var Z=H-S,K=G-S,Q=H+S,X=G+S;if(k=k&&this.isOffscreen(Z,K,Q,X),w=w||this.isInsideGrid(Z,K,Q,X),!e&&this.grid.hitTestCircle(H,G,S,p)&&(x=!0,!u))return{circles:[],offscreen:!1,collisionDetected:x}}}}return{circles:!u&&x||!w?[]:f,offscreen:k,collisionDetected:x}},pe.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],r=1/0,i=1/0,o=-1/0,a=-1/0,s=0,l=e;s<l.length;s+=1){var u=l[s],c=new t.Point(u.x+100,u.y+100);r=Math.min(r,c.x),i=Math.min(i,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y),n.push(c)}for(var p={},d={},h=0,f=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a));h<f.length;h+=1){var m=f[h],g=m.key;if(void 0===p[g.bucketInstanceId]&&(p[g.bucketInstanceId]={}),!p[g.bucketInstanceId][g.featureIndex]){var y=[new t.Point(m.x1,m.y1),new t.Point(m.x2,m.y1),new t.Point(m.x2,m.y2),new t.Point(m.x1,m.y2)];t.polygonIntersectsPolygon(n,y)&&(p[g.bucketInstanceId][g.featureIndex]=!0,void 0===d[g.bucketInstanceId]&&(d[g.bucketInstanceId]=[]),d[g.bucketInstanceId].push(g.featureIndex))}}return d},pe.prototype.insertCollisionBox=function(t,e,n,r,i){(e?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},t[0],t[1],t[2],t[3])},pe.prototype.insertCollisionCircles=function(t,e,n,r,i){for(var o=e?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<t.length;s+=4)o.insertCircle(a,t[s],t[s+1],t[s+2])},pe.prototype.projectAndGetPerspectiveRatio=function(e,n,r){var i=[n,r,0,1];return ce(i,i,e),{point:new t.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},pe.prototype.isOffscreen=function(t,e,n,r){return n<100||t>=this.screenRightBoundary||r<100||e>this.screenBottomBoundary},pe.prototype.isInsideGrid=function(t,e,n,r){return n>=0&&t<this.gridRightBoundary&&r>=0&&e<this.gridBottomBoundary},pe.prototype.getViewportMatrix=function(){var e=t.identity([]);return t.translate(e,e,[-100,-100,0]),e};var he=function(t,e,n,r){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):r&&n?1:0,this.placed=n};he.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var fe=function(t,e,n,r,i){this.text=new he(t?t.text:null,e,n,i),this.icon=new he(t?t.icon:null,e,r,i)};fe.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var me=function(t,e,n){this.text=t,this.icon=e,this.skipFade=n},ge=function(){this.invProjMatrix=t.create(),this.viewportMatrix=t.create(),this.circles=[]},ye=function(t,e,n,r,i){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i},ve=function(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};function _e(e,n,r,i,o){var a=t.getAnchorAlignment(e),s=-(a.horizontalAlign-.5)*n,l=-(a.verticalAlign-.5)*r,u=t.evaluateVariableOffset(e,i);return new t.Point(s+u[0]*o,l+u[1]*o)}function be(e,n,r,i,o,a){var s=e.x1,l=e.x2,u=e.y1,c=e.y2,p=e.anchorPointX,d=e.anchorPointY,h=new t.Point(n,r);return i&&h._rotate(o?a:-a),{x1:s+h.x,y1:u+h.y,x2:l+h.x,y2:c+h.y,anchorPointX:p,anchorPointY:d}}ve.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var xe=function(t,e,n,r){this.transform=t.clone(),this.collisionIndex=new pe(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new ve(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}};function we(t,e,n,r,i){t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0)}xe.prototype.getBucketParts=function(e,n,r,i){var o=r.getBucket(n),a=r.latestFeatureIndex;if(o&&a&&n.id===o.layerIds[0]){var s=r.collisionBoxArray,l=o.layers[0].layout,u=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/t.EXTENT,p=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),d="map"===l.get("text-pitch-alignment"),h="map"===l.get("text-rotation-alignment"),f=de(r,1,this.transform.zoom),m=Yt(p,d,h,this.transform,f),g=null;if(d){var y=Jt(p,d,h,this.transform,f);g=t.multiply([],this.transform.labelPlaneMatrix,y)}this.retainedQueryData[o.bucketInstanceId]=new ye(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,r.tileID);var v={bucket:o,layout:l,posMatrix:p,textLabelPlaneMatrix:m,labelToScreenMatrix:g,scale:u,textPixelRatio:c,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:t.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(var _=0,b=o.sortKeyRanges;_<b.length;_+=1){var x=b[_];e.push({sortKey:x.sortKey,symbolInstanceStart:x.symbolInstanceStart,symbolInstanceEnd:x.symbolInstanceEnd,parameters:v})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:v})}},xe.prototype.attemptAnchorPlacement=function(t,e,n,r,i,o,a,s,l,u,c,p,d,h,f){var m,g=[p.textOffset0,p.textOffset1],y=_e(t,n,r,g,i),v=this.collisionIndex.placeCollisionBox(be(e,y.x,y.y,o,a,this.transform.angle),c,s,l,u.predicate);if(!f||0!==this.collisionIndex.placeCollisionBox(be(f,y.x,y.y,o,a,this.transform.angle),c,s,l,u.predicate).box.length)return v.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID].text&&(m=this.prevPlacement.variableOffsets[p.crossTileID].anchor),this.variableOffsets[p.crossTileID]={textOffset:g,width:n,height:r,anchor:t,textBoxScale:i,prevAnchor:m},this.markUsedJustification(d,t,p,h),d.allowVerticalPlacement&&(this.markUsedOrientation(d,h,p),this.placedOrientations[p.crossTileID]=h),{shift:y,placedGlyphBoxes:v}):void 0},xe.prototype.placeLayerBucketPart=function(e,n,r){var i=this,o=e.parameters,a=o.bucket,s=o.layout,l=o.posMatrix,u=o.textLabelPlaneMatrix,c=o.labelToScreenMatrix,p=o.textPixelRatio,d=o.holdingForFade,h=o.collisionBoxArray,f=o.partiallyEvaluatedTextSize,m=o.collisionGroup,g=s.get("text-optional"),y=s.get("icon-optional"),v=s.get("text-allow-overlap"),_=s.get("icon-allow-overlap"),b="map"===s.get("text-rotation-alignment"),x="map"===s.get("text-pitch-alignment"),w="none"!==s.get("icon-text-fit"),k="viewport-y"===s.get("symbol-z-order"),S=v&&(_||!a.hasIconData()||y),C=_&&(v||!a.hasTextData()||g);!a.collisionArrays&&h&&a.deserializeCollisionBoxes(h);var E=function(e,o){if(!n[e.crossTileID])if(d)i.placements[e.crossTileID]=new me(!1,!1,!1);else{var h,k=!1,E=!1,T=!0,I=null,M={box:null,offscreen:null},A={box:null,offscreen:null},O=null,P=null,D=0,z=0,L=0;o.textFeatureIndex?D=o.textFeatureIndex:e.useRuntimeCollisionCircles&&(D=e.featureIndex),o.verticalTextFeatureIndex&&(z=o.verticalTextFeatureIndex);var R=o.textBox;if(R){var W=function(n){var r=t.WritingMode.horizontal;if(a.allowVerticalPlacement&&!n&&i.prevPlacement){var o=i.prevPlacement.placedOrientations[e.crossTileID];o&&(i.placedOrientations[e.crossTileID]=o,i.markUsedOrientation(a,r=o,e))}return r},B=function(n,r){if(a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&o.verticalTextBox)for(var i=0,s=a.writingModes;i<s.length&&(s[i]===t.WritingMode.vertical?(M=r(),A=M):M=n(),!(M&&M.box&&M.box.length));i+=1);else M=n()};if(s.get("text-variable-anchor")){var j=s.get("text-variable-anchor");if(i.prevPlacement&&i.prevPlacement.variableOffsets[e.crossTileID]){var N=i.prevPlacement.variableOffsets[e.crossTileID];j.indexOf(N.anchor)>0&&(j=j.filter((function(t){return t!==N.anchor}))).unshift(N.anchor)}var F=function(t,n,r){for(var o=t.x2-t.x1,s=t.y2-t.y1,u=e.textBoxScale,c=w&&!_?n:null,d={box:[],offscreen:!1},h=v?2*j.length:j.length,f=0;f<h;++f){var g=i.attemptAnchorPlacement(j[f%j.length],t,o,s,u,b,x,p,l,m,f>=j.length,e,a,r,c);if(g&&(d=g.placedGlyphBoxes)&&d.box&&d.box.length){k=!0,I=g.shift;break}}return d};B((function(){return F(R,o.iconBox,t.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&!(M&&M.box&&M.box.length)&&e.numVerticalGlyphVertices>0&&n?F(n,o.verticalIconBox,t.WritingMode.vertical):{box:null,offscreen:null}})),M&&(k=M.box,T=M.offscreen);var U=W(M&&M.box);if(!k&&i.prevPlacement){var V=i.prevPlacement.variableOffsets[e.crossTileID];V&&(i.variableOffsets[e.crossTileID]=V,i.markUsedJustification(a,V.anchor,e,U))}}else{var q=function(t,n){var r=i.collisionIndex.placeCollisionBox(t,v,p,l,m.predicate);return r&&r.box&&r.box.length&&(i.markUsedOrientation(a,n,e),i.placedOrientations[e.crossTileID]=n),r};B((function(){return q(R,t.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&n?q(n,t.WritingMode.vertical):{box:null,offscreen:null}})),W(M&&M.box&&M.box.length)}}if(k=(h=M)&&h.box&&h.box.length>0,T=h&&h.offscreen,e.useRuntimeCollisionCircles){var H=a.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),G=t.evaluateSizeForFeature(a.textSizeData,f,H),Z=s.get("text-padding");O=i.collisionIndex.placeCollisionCircles(v,H,a.lineVertexArray,a.glyphOffsetArray,G,l,u,c,r,x,m.predicate,e.collisionCircleDiameter,Z),k=v||O.circles.length>0&&!O.collisionDetected,T=T&&O.offscreen}if(o.iconFeatureIndex&&(L=o.iconFeatureIndex),o.iconBox){var K=function(t){var e=w&&I?be(t,I.x,I.y,b,x,i.transform.angle):t;return i.collisionIndex.placeCollisionBox(e,_,p,l,m.predicate)};E=A&&A.box&&A.box.length&&o.verticalIconBox?(P=K(o.verticalIconBox)).box.length>0:(P=K(o.iconBox)).box.length>0,T=T&&P.offscreen}var Q=g||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,X=y||0===e.numIconVertices;if(Q||X?X?Q||(E=E&&k):k=E&&k:E=k=E&&k,k&&h&&h.box&&i.collisionIndex.insertCollisionBox(h.box,s.get("text-ignore-placement"),a.bucketInstanceId,A&&A.box&&z?z:D,m.ID),E&&P&&i.collisionIndex.insertCollisionBox(P.box,s.get("icon-ignore-placement"),a.bucketInstanceId,L,m.ID),O&&(k&&i.collisionIndex.insertCollisionCircles(O.circles,s.get("text-ignore-placement"),a.bucketInstanceId,D,m.ID),r)){var Y=a.bucketInstanceId,J=i.collisionCircleArrays[Y];void 0===J&&(J=i.collisionCircleArrays[Y]=new ge);for(var $=0;$<O.circles.length;$+=4)J.circles.push(O.circles[$+0]),J.circles.push(O.circles[$+1]),J.circles.push(O.circles[$+2]),J.circles.push(O.collisionDetected?1:0)}i.placements[e.crossTileID]=new me(k||S,E||C,T||a.justReloaded),n[e.crossTileID]=!0}};if(k)for(var T=a.getSortedSymbolIndexes(this.transform.angle),I=T.length-1;I>=0;--I){var M=T[I];E(a.symbolInstances.get(M),a.collisionArrays[M])}else for(var A=e.symbolInstanceStart;A<e.symbolInstanceEnd;A++)E(a.symbolInstances.get(A),a.collisionArrays[A]);if(r&&a.bucketInstanceId in this.collisionCircleArrays){var O=this.collisionCircleArrays[a.bucketInstanceId];t.invert(O.invProjMatrix,l),O.viewportMatrix=this.collisionIndex.getViewportMatrix()}a.justReloaded=!1},xe.prototype.markUsedJustification=function(e,n,r,i){var o;o=i===t.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[t.getAnchorJustification(n)];for(var a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];a<s.length;a+=1){var l=s[a];l>=0&&(e.text.placedSymbolArray.get(l).crossTileID=o>=0&&l!==o?0:r.crossTileID)}},xe.prototype.markUsedOrientation=function(e,n,r){for(var i=n===t.WritingMode.horizontal||n===t.WritingMode.horizontalOnly?n:0,o=n===t.WritingMode.vertical?n:0,a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];a<s.length;a+=1)e.text.placedSymbolArray.get(s[a]).placedOrientation=i;r.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)},xe.prototype.commit=function(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;var e=this.prevPlacement,n=!1;this.prevZoomAdjustment=e?e.zoomAdjustment(this.transform.zoom):0;var r=e?e.symbolFadeChange(t):1,i=e?e.opacities:{},o=e?e.variableOffsets:{},a=e?e.placedOrientations:{};for(var s in this.placements){var l=this.placements[s],u=i[s];u?(this.opacities[s]=new fe(u,r,l.text,l.icon),n=n||l.text!==u.text.placed||l.icon!==u.icon.placed):(this.opacities[s]=new fe(null,r,l.text,l.icon,l.skipFade),n=n||l.text||l.icon)}for(var c in i){var p=i[c];if(!this.opacities[c]){var d=new fe(p,r,!1,!1);d.isHidden()||(this.opacities[c]=d,n=n||p.text.placed||p.icon.placed)}}for(var h in o)this.variableOffsets[h]||!this.opacities[h]||this.opacities[h].isHidden()||(this.variableOffsets[h]=o[h]);for(var f in a)this.placedOrientations[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.placedOrientations[f]=a[f]);n?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},xe.prototype.updateLayerOpacities=function(t,e){for(var n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.getBucket(t);a&&o.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},xe.prototype.updateBucketOpacities=function(e,n,r){var i=this;e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();var o=e.layers[0].layout,a=new fe(null,0,!1,!1,!0),s=o.get("text-allow-overlap"),l=o.get("icon-allow-overlap"),u=o.get("text-variable-anchor"),c="map"===o.get("text-rotation-alignment"),p="map"===o.get("text-pitch-alignment"),d="none"!==o.get("icon-text-fit"),h=new fe(null,0,s&&(l||!e.hasIconData()||o.get("icon-optional")),l&&(s||!e.hasTextData()||o.get("text-optional")),!0);!e.collisionArrays&&r&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(r);for(var f=function(t,e,n){for(var r=0;r<e/4;r++)t.opacityVertexArray.emplaceBack(n)},m=function(r){var o=e.symbolInstances.get(r),s=o.numHorizontalGlyphVertices,l=o.numVerticalGlyphVertices,m=o.crossTileID,g=i.opacities[m];n[m]?g=a:g||(i.opacities[m]=g=h),n[m]=!0;var y=o.numIconVertices>0,v=i.placedOrientations[o.crossTileID],_=v===t.WritingMode.vertical,b=v===t.WritingMode.horizontal||v===t.WritingMode.horizontalOnly;if(s>0||l>0){var x=Ae(g.text);f(e.text,s,_?Oe:x),f(e.text,l,b?Oe:x);var w=g.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(t){t>=0&&(e.text.placedSymbolArray.get(t).hidden=w||_?1:0)})),o.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=w||b?1:0);var k=i.variableOffsets[o.crossTileID];k&&i.markUsedJustification(e,k.anchor,o,v);var S=i.placedOrientations[o.crossTileID];S&&(i.markUsedJustification(e,"left",o,S),i.markUsedOrientation(e,S,o))}if(y){var C=Ae(g.icon),E=!(d&&o.verticalPlacedIconSymbolIndex&&_);o.placedIconSymbolIndex>=0&&(f(e.icon,o.numIconVertices,E?C:Oe),e.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=g.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(f(e.icon,o.numVerticalIconVertices,E?Oe:C),e.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=g.icon.isHidden())}if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){var T=e.collisionArrays[r];if(T){var I=new t.Point(0,0);if(T.textBox||T.verticalTextBox){var M=!0;if(u){var A=i.variableOffsets[m];A?(I=_e(A.anchor,A.width,A.height,A.textOffset,A.textBoxScale),c&&I._rotate(p?i.transform.angle:-i.transform.angle)):M=!1}T.textBox&&we(e.textCollisionBox.collisionVertexArray,g.text.placed,!M||_,I.x,I.y),T.verticalTextBox&&we(e.textCollisionBox.collisionVertexArray,g.text.placed,!M||b,I.x,I.y)}var O=Boolean(!b&&T.verticalIconBox);T.iconBox&&we(e.iconCollisionBox.collisionVertexArray,g.icon.placed,O,d?I.x:0,d?I.y:0),T.verticalIconBox&&we(e.iconCollisionBox.collisionVertexArray,g.icon.placed,!O,d?I.x:0,d?I.y:0)}}},g=0;g<e.symbolInstances.length;g++)m(g);if(e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.bucketInstanceId in this.collisionCircleArrays){var y=this.collisionCircleArrays[e.bucketInstanceId];e.placementInvProjMatrix=y.invProjMatrix,e.placementViewportMatrix=y.viewportMatrix,e.collisionCircleArray=y.circles,delete this.collisionCircleArrays[e.bucketInstanceId]}},xe.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},xe.prototype.zoomAdjustment=function(t){return Math.max(0,(this.transform.zoom-t)/1.5)},xe.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},xe.prototype.stillRecent=function(t,e){var n=this.zoomAtLastRecencyCheck===e?1-this.zoomAdjustment(e):1;return this.zoomAtLastRecencyCheck=e,this.commitTime+this.fadeDuration*n>t},xe.prototype.setStale=function(){this.stale=!0};var ke=Math.pow(2,25),Se=Math.pow(2,24),Ce=Math.pow(2,17),Ee=Math.pow(2,16),Te=Math.pow(2,9),Ie=Math.pow(2,8),Me=Math.pow(2,1);function Ae(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*ke+e*Se+n*Ce+e*Ee+n*Te+e*Ie+n*Me+e}var Oe=0,Pe=function(t){this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Pe.prototype.continuePlacement=function(t,e,n,r,i){for(var o=this._bucketParts;this._currentTileIndex<t.length;)if(e.getBucketParts(o,r,t[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((function(t,e){return t.sortKey-e.sortKey})));this._currentPartIndex<o.length;)if(e.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1};var De=function(t,e,n,r,i,o,a){this.placement=new xe(t,i,o,a),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};De.prototype.isDone=function(){return this._done},De.prototype.continuePlacement=function(e,n,r){for(var i=this,o=t.browser.now(),a=function(){var e=t.browser.now()-o;return!i._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var s=n[e[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new Pe(s)),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},De.prototype.commit=function(t){return this.placement.commit(t),this.placement};var ze=512/t.EXTENT/2,Le=function(t,e,n){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<e.length;r++){var i=e.get(r),o=i.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,t)})}};Le.prototype.getScaledCoordinates=function(e,n){var r=ze/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*t.EXTENT+e.anchorX)*r),y:Math.floor((n.canonical.y*t.EXTENT+e.anchorY)*r)}},Le.prototype.findMatches=function(t,e,n){for(var r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),i=0;i<t.length;i++){var o=t.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,e),l=0,u=a;l<u.length;l+=1){var c=u[l];if(Math.abs(c.coord.x-s.x)<=r&&Math.abs(c.coord.y-s.y)<=r&&!n[c.crossTileID]){n[c.crossTileID]=!0,o.crossTileID=c.crossTileID;break}}}}};var Re=function(){this.maxCrossTileID=0};Re.prototype.generate=function(){return++this.maxCrossTileID};var We=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};We.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=t},We.prototype.addBucket=function(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var r=0;r<e.symbolInstances.length;r++)e.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var i=this.usedCrossTileIDs[t.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>t.overscaledZ)for(var s in a){var l=a[s];l.tileID.isChildOf(t)&&l.findMatches(e.symbolInstances,t,i)}else{var u=a[t.scaledTo(Number(o)).key];u&&u.findMatches(e.symbolInstances,t,i)}}for(var c=0;c<e.symbolInstances.length;c++){var p=e.symbolInstances.get(c);p.crossTileID||(p.crossTileID=n.generate(),i[p.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Le(t,e.symbolInstances,e.bucketInstanceId),!0},We.prototype.removeBucketCrossTileIDs=function(t,e){for(var n in e.indexedSymbolInstances)for(var r=0,i=e.indexedSymbolInstances[n];r<i.length;r+=1)delete this.usedCrossTileIDs[t][i[r].crossTileID]},We.prototype.removeStaleBuckets=function(t){var e=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)t[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],e=!0)}return e};var Be=function(){this.layerIndexes={},this.crossTileIDs=new Re,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Be.prototype.addLayer=function(t,e,n){var r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new We);var i=!1,o={};r.handleWrapJump(n);for(var a=0,s=e;a<s.length;a+=1){var l=s[a],u=l.getBucket(t);u&&t.id===u.layerIds[0]&&(u.bucketInstanceId||(u.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(l.tileID,u,this.crossTileIDs)&&(i=!0),o[u.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},Be.prototype.pruneUnusedLayers=function(t){var e={};for(var n in t.forEach((function(t){e[t]=!0})),this.layerIndexes)e[n]||delete this.layerIndexes[n]};var je=function(e,n){return t.emitValidationErrors(e,n&&n.filter((function(t){return"source.canvas"!==t.identifier})))},Ne=t.pick(Ft,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Fe=t.pick(Ft,["setCenter","setZoom","setBearing","setPitch"]),Ue=function(){var e={},n=t.styleSpec.$version;for(var r in t.styleSpec.$root){var i,o=t.styleSpec.$root[r];o.required&&null!=(i="version"===r?n:"array"===o.type?[]:{})&&(e[r]=i)}return e}(),Ve=function(e){function n(r,i){var o=this;void 0===i&&(i={}),e.call(this),this.map=r,this.dispatcher=new S(Bt(),this),this.imageManager=new d,this.imageManager.setEventedParent(this),this.glyphManager=new _(r._requestManager,i.localIdeographFontFamily),this.lineAtlas=new k(256,512),this.crossTileSymbolIndex=new Be,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());var a=this;this._rtlTextPluginCallback=n.registerForPluginStateChange((function(e){a.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:e.pluginStatus,pluginURL:e.pluginURL},(function(e,n){if(t.triggerPluginCompletionEvent(e),n&&n.every((function(t){return t})))for(var r in a.sourceCaches)a.sourceCaches[r].reload()}))})),this.on("data",(function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===n.id&&o._validateLayer(i)}}}}))}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadURL=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof n.validate?n.validate:!t.isMapboxURL(e);e=this.map._requestManager.normalizeStyleURL(e,n.accessToken);var o=this.map._requestManager.transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(o,(function(e,n){r._request=null,e?r.fire(new t.ErrorEvent(e)):n&&r._load(n,i)}))},n.prototype.loadJSON=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame((function(){r._request=null,r._load(e,!1!==n.validate)}))},n.prototype.loadEmpty=function(){this.fire(new t.Event("dataloading",{dataType:"style"})),this._load(Ue,!1)},n.prototype._load=function(e,n){if(!n||!je(this,t.validateStyle(e))){for(var r in this._loaded=!0,this.stylesheet=e,e.sources)this.addSource(r,e.sources[r],{validate:!1});e.sprite?this._loadSprite(e.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var i=Nt(this.stylesheet.layers);this._order=i.map((function(t){return t.id})),this._layers={},this._serializedLayers={};for(var o=0,a=i;o<a.length;o+=1){var s=a[o];(s=t.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},n.prototype._loadSprite=function(e){var n=this;this._spriteRequest=function(e,n,r){var i,o,a,s=t.browser.devicePixelRatio>1?"@2x":"",l=t.getJSON(n.transformRequest(n.normalizeSpriteURL(e,s,".json"),t.ResourceType.SpriteJSON),(function(t,e){l=null,a||(a=t,i=e,c())})),u=t.getImage(n.transformRequest(n.normalizeSpriteURL(e,s,".png"),t.ResourceType.SpriteImage),(function(t,e){u=null,a||(a=t,o=e,c())}));function c(){if(a)r(a);else if(i&&o){var e=t.browser.getImageData(o),n={};for(var s in i){var l=i[s],u=l.width,c=l.height,p=l.x,d=l.y,h=l.sdf,f=l.pixelRatio,m=l.stretchX,g=l.stretchY,y=l.content,v=new t.RGBAImage({width:u,height:c});t.RGBAImage.copy(e,v,{x:p,y:d},{x:0,y:0},{width:u,height:c}),n[s]={data:v,pixelRatio:f,sdf:h,stretchX:m,stretchY:g,content:y}}r(null,n)}}return{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}}}(e,this.map._requestManager,(function(e,r){if(n._spriteRequest=null,e)n.fire(new t.ErrorEvent(e));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.fire(new t.Event("data",{dataType:"style"}))}))},n.prototype._validateLayer=function(e){var n=this.sourceCaches[e.source];if(n){var r=e.sourceLayer;if(r){var i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+i.id+'" as specified by style layer "'+e.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(t){for(var e=[],n=0,r=t;n<r.length;n+=1){var i=this._layers[r[n]];"custom"!==i.type&&e.push(i.serialize())}return e},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(e){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var o in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}var l={};for(var u in this.sourceCaches){var c=this.sourceCaches[u];l[u]=c.used,c.used=!1}for(var p=0,d=this._order;p<d.length;p+=1){var h=this._layers[d[p]];h.recalculate(e,this._availableImages),!h.isHidden(e.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}for(var f in l){var m=this.sourceCaches[f];l[f]!==m.used&&m.fire(new t.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:f}))}this.light.recalculate(e),this.z=e.zoom,n&&this.fire(new t.Event("data",{dataType:"style"}))}},n.prototype._updateTilesForChangedImages=function(){var t=Object.keys(this._changedImages);if(t.length){for(var e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}},n.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},n.prototype.setState=function(e){var n=this;if(this._checkLoaded(),je(this,t.validateStyle(e)))return!1;(e=t.clone$1(e)).layers=Nt(e.layers);var r=function(e,n){if(!e)return[{command:Ft.setStyle,args:[n]}];var r=[];try{if(!t.deepEqual(e.version,n.version))return[{command:Ft.setStyle,args:[n]}];t.deepEqual(e.center,n.center)||r.push({command:Ft.setCenter,args:[n.center]}),t.deepEqual(e.zoom,n.zoom)||r.push({command:Ft.setZoom,args:[n.zoom]}),t.deepEqual(e.bearing,n.bearing)||r.push({command:Ft.setBearing,args:[n.bearing]}),t.deepEqual(e.pitch,n.pitch)||r.push({command:Ft.setPitch,args:[n.pitch]}),t.deepEqual(e.sprite,n.sprite)||r.push({command:Ft.setSprite,args:[n.sprite]}),t.deepEqual(e.glyphs,n.glyphs)||r.push({command:Ft.setGlyphs,args:[n.glyphs]}),t.deepEqual(e.transition,n.transition)||r.push({command:Ft.setTransition,args:[n.transition]}),t.deepEqual(e.light,n.light)||r.push({command:Ft.setLight,args:[n.light]});var i={},o=[];!function(e,n,r,i){var o;for(o in n=n||{},e=e||{})e.hasOwnProperty(o)&&(n.hasOwnProperty(o)||Vt(o,r,i));for(o in n)n.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t.deepEqual(e[o],n[o])||("geojson"===e[o].type&&"geojson"===n[o].type&&Ht(e,n,o)?r.push({command:Ft.setGeoJSONSourceData,args:[o,n[o].data]}):qt(o,n,r,i)):Ut(o,n,r))}(e.sources,n.sources,o,i);var a=[];e.layers&&e.layers.forEach((function(t){i[t.source]?r.push({command:Ft.removeLayer,args:[t.id]}):a.push(t)})),r=r.concat(o),function(e,n,r){n=n||[];var i,o,a,s,l,u,c,p=(e=e||[]).map(Zt),d=n.map(Zt),h=e.reduce(Kt,{}),f=n.reduce(Kt,{}),m=p.slice(),g=Object.create(null);for(i=0,o=0;i<p.length;i++)f.hasOwnProperty(a=p[i])?o++:(r.push({command:Ft.removeLayer,args:[a]}),m.splice(m.indexOf(a,o),1));for(i=0,o=0;i<d.length;i++)m[m.length-1-i]!==(a=d[d.length-1-i])&&(h.hasOwnProperty(a)?(r.push({command:Ft.removeLayer,args:[a]}),m.splice(m.lastIndexOf(a,m.length-o),1)):o++,r.push({command:Ft.addLayer,args:[f[a],u=m[m.length-i]]}),m.splice(m.length-i,0,a),g[a]=!0);for(i=0;i<d.length;i++)if(s=h[a=d[i]],l=f[a],!g[a]&&!t.deepEqual(s,l))if(t.deepEqual(s.source,l.source)&&t.deepEqual(s["source-layer"],l["source-layer"])&&t.deepEqual(s.type,l.type)){for(c in Gt(s.layout,l.layout,r,a,null,Ft.setLayoutProperty),Gt(s.paint,l.paint,r,a,null,Ft.setPaintProperty),t.deepEqual(s.filter,l.filter)||r.push({command:Ft.setFilter,args:[a,l.filter]}),t.deepEqual(s.minzoom,l.minzoom)&&t.deepEqual(s.maxzoom,l.maxzoom)||r.push({command:Ft.setLayerZoomRange,args:[a,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Gt(s[c],l[c],r,a,c.slice(6),Ft.setPaintProperty):t.deepEqual(s[c],l[c])||r.push({command:Ft.setLayerProperty,args:[a,c,l[c]]}));for(c in l)l.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Gt(s[c],l[c],r,a,c.slice(6),Ft.setPaintProperty):t.deepEqual(s[c],l[c])||r.push({command:Ft.setLayerProperty,args:[a,c,l[c]]}))}else r.push({command:Ft.removeLayer,args:[a]}),u=m[m.lastIndexOf(a)+1],r.push({command:Ft.addLayer,args:[l,u]})}(a,n.layers,r)}catch(t){console.warn("Unable to compute style diff:",t),r=[{command:Ft.setStyle,args:[n]}]}return r}(this.serialize(),e).filter((function(t){return!(t.command in Fe)}));if(0===r.length)return!1;var i=r.filter((function(t){return!(t.command in Ne)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(t){return t.command})).join(", ")+".");return r.forEach((function(t){"setTransition"!==t.command&&n[t.command].apply(n,t.args)})),this.stylesheet=e,!0},n.prototype.addImage=function(e,n){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,n),this._afterImageUpdated(e)},n.prototype.updateImage=function(t,e){this.imageManager.updateImage(t,e)},n.prototype.getImage=function(t){return this.imageManager.getImage(t)},n.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this._afterImageUpdated(e)},n.prototype._afterImageUpdated=function(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new t.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(e,n,r){var i=this;if(void 0===r&&(r={}),this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(t.validateStyle.source,"sources."+e,n,null,r))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[e]=new At(e,n,this.dispatcher);o.style=this,o.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:o.serialize(),sourceId:e}})),o.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+n+'" is using it.')));var r=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],r.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},n.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},n.prototype.addLayer=function(e,n,r){void 0===r&&(r={}),this._checkLoaded();var i=e.id;if(this.getLayer(i))this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var o;if("custom"===e.type){if(je(this,t.validateCustomStyleLayer(e)))return;o=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(i,e.source),e=t.clone$1(e),e=t.extend(e,{source:i})),this._validate(t.validateStyle.layer,"layers."+i,e,{arrayIndex:-1},r))return;o=t.createStyleLayer(e),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[o.id]=o.serialize()}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},n.prototype.moveLayer=function(e,n){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==n){var r=this._order.indexOf(e);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(i,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(e){this._checkLoaded();var n=this._layers[e];if(n){n.setEventedParent(null);var r=this._order.indexOf(e);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(t){return this._layers[t]},n.prototype.hasLayer=function(t){return t in this._layers},n.prototype.setLayerZoomRange=function(e,n,r){this._checkLoaded();var i=this.getLayer(e);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(e,n,r){void 0===r&&(r={}),this._checkLoaded();var i=this.getLayer(e);if(i){if(!t.deepEqual(i.filter,n))return null==n?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(t.validateStyle.filter,"layers."+i.id+".filter",n,null,r)||(i.filter=t.clone$1(n),this._updateLayer(i)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(e){return t.clone$1(this.getLayer(e).filter)},n.prototype.setLayoutProperty=function(e,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getLayoutProperty(n),r)||(o.setLayoutProperty(n,r,i),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(e,n){var r=this.getLayer(e);if(r)return r.getLayoutProperty(n);this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(e,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getPaintProperty(n),r)||(o.setPaintProperty(n,r,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},n.prototype.setFeatureState=function(e,n){this._checkLoaded();var r=e.source,i=e.sourceLayer,o=this.sourceCaches[r];if(void 0!==o){var a=o.getSource().type;"geojson"===a&&i?this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||i?(void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),o.setFeatureState(i,e.id,n)):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(e,n){this._checkLoaded();var r=e.source,i=this.sourceCaches[r];if(void 0!==i){var o=i.getSource().type,a="vector"===o?e.sourceLayer:void 0;"vector"!==o||a?n&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(a,e.id,n):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(e){this._checkLoaded();var n=e.source,r=e.sourceLayer,i=this.sourceCaches[n];if(void 0!==i){if("vector"!==i.getSource().type||r)return void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(r,e.id);this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,(function(t){return t.serialize()})),layers:this._serializeLayers(this._order)},(function(t){return void 0!==t}))},n.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&"raster"!==this.sourceCaches[t.source].getSource().type&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(t){for(var e=this,n=function(t){return"fill-extrusion"===e._layers[t].type},r={},i=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(n(a)){r[a]=o;for(var s=0,l=t;s<l.length;s+=1){var u=l[s][a];if(u)for(var c=0,p=u;c<p.length;c+=1)i.push(p[c])}}}i.sort((function(t,e){return e.intersectionZ-t.intersectionZ}));for(var d=[],h=this._order.length-1;h>=0;h--){var f=this._order[h];if(n(f))for(var m=i.length-1;m>=0;m--){var g=i[m].feature;if(r[g.layer.id]<h)break;d.push(g),i.pop()}else for(var y=0,v=t;y<v.length;y+=1){var _=v[y][f];if(_)for(var b=0,x=_;b<x.length;b+=1)d.push(x[b].feature)}}return d},n.prototype.queryRenderedFeatures=function(e,n,r){n&&n.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var s=a[o],l=this._layers[s];if(!l)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[l.source]=!0}}var u=[];for(var c in n.availableImages=this._availableImages,this.sourceCaches)n.layers&&!i[c]||u.push(W(this.sourceCaches[c],this._layers,this._serializedLayers,e,n,r));return this.placement&&u.push(function(t,e,n,r,i,o,a){for(var s={},l=o.queryRenderedSymbols(r),u=[],c=0,p=Object.keys(l).map(Number);c<p.length;c+=1)u.push(a[p[c]]);u.sort(B);for(var d=function(){var n=f[h],r=n.featureIndex.lookupSymbolFeatures(l[n.bucketInstanceId],e,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,t);for(var o in r){var a=s[o]=s[o]||[],u=r[o];u.sort((function(t,e){var r=n.featureSortOrder;if(r){var i=r.indexOf(t.featureIndex);return r.indexOf(e.featureIndex)-i}return e.featureIndex-t.featureIndex}));for(var c=0,p=u;c<p.length;c+=1)a.push(p[c])}},h=0,f=u;h<f.length;h+=1)d();var m=function(e){s[e].forEach((function(r){var i=r.feature,o=n[t[e].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}))};for(var g in s)m(g);return s}(this._layers,this._serializedLayers,this.sourceCaches,e,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(u)},n.prototype.querySourceFeatures=function(e,n){n&&n.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var r=this.sourceCaches[e];return r?function(t,e){for(var n=t.getRenderableIds().map((function(e){return t.getTileByID(e)})),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,e))}return r}(r,n):[]},n.prototype.addSourceType=function(t,e,r){return n.getSourceType(t)?r(new Error('A source type called "'+t+'" already exists.')):(n.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},r):r(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(e,n){void 0===n&&(n={}),this._checkLoaded();var r=this.light.getLight(),i=!1;for(var o in e)if(!t.deepEqual(e[o],r[o])){i=!0;break}if(i){var a={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(a)}},n.prototype._validate=function(e,n,r,i,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&je(this,e.call(t.validateStyle,t.extend({key:n,style:this.serialize(),value:r,styleSpec:t.styleSpec},i)))},n.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[e].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},n.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},n.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},n.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},n.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},n.prototype._updatePlacement=function(e,n,r,i,o){void 0===o&&(o=!1);for(var a=!1,s=!1,l={},u=0,c=this._order;u<c.length;u+=1){var p=this._layers[c[u]];if("symbol"===p.type){if(!l[p.source]){var d=this.sourceCaches[p.source];l[p.source]=d.getRenderableIds(!0).map((function(t){return d.getTileByID(t)})).sort((function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)}))}var h=this.crossTileSymbolIndex.addLayer(p,l[p.source],e.center.lng);a=a||h}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((o=o||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now(),e.zoom))&&(this.pauseablePlacement=new De(e,this._order,o,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.browser.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(var f=0,m=this._order;f<m.length;f+=1){var g=this._layers[m[f]];"symbol"===g.type&&this.placement.updateLayerOpacities(g,l[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},n.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n),this._updateTilesForChangedImages();var r=this.sourceCaches[e.source];r&&r.setDependencies(e.tileID.key,e.type,e.icons)},n.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},n.prototype.getResource=function(e,n,r){return t.makeRequest(n,r)},n}(t.Evented);Ve.getSourceType=function(t){return L[t]},Ve.setSourceType=function(t,e){L[t]=e},Ve.registerForPluginStateChange=t.registerForPluginStateChange;var qe=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),He=vn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Ge=vn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ze=vn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Ke=vn("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Qe=vn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Xe=vn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Ye=vn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Je=vn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),$e=vn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),tn=vn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),en=vn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),nn=vn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),rn=vn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),on=vn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),an=vn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),sn=vn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),ln=vn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),un=vn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),cn=vn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),pn=vn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),dn=vn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),hn=vn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),fn=vn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),mn=vn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),gn=vn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),yn=vn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function vn(t,e){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=e.match(/attribute ([\w]+) ([\w]+)/g),i=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(i):i,s={};return{fragmentSource:t=t.replace(n,(function(t,e,n,r,i){return s[i]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),vertexSource:e=e.replace(n,(function(t,e,n,r,i){var o="float"===r?"vec2":"vec4",a=i.match(/color/)?"color":o;return s[i]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),staticAttributes:r,staticUniforms:a}}var _n=Object.freeze({__proto__:null,prelude:He,background:Ge,backgroundPattern:Ze,circle:Ke,clippingMask:Qe,heatmap:Xe,heatmapTexture:Ye,collisionBox:Je,collisionCircle:$e,debug:tn,fill:en,fillOutline:nn,fillOutlinePattern:rn,fillPattern:on,fillExtrusion:an,fillExtrusionPattern:sn,hillshadePrepare:ln,hillshade:un,line:cn,lineGradient:pn,linePattern:dn,lineSDF:hn,raster:fn,symbolIcon:mn,symbolSDF:gn,symbolTextAndIcon:yn}),bn=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function xn(t){for(var e=[],n=0;n<t.length;n++)if(null!==t[n]){var r=t[n].split(" ");e.push(r.pop())}return e}bn.prototype.bind=function(t,e,n,r,i,o,a,s){this.context=t;for(var l=this.boundPaintVertexBuffers.length!==r.length,u=0;!l&&u<r.length;u++)this.boundPaintVertexBuffers[u]!==r[u]&&(l=!0);t.extVertexArrayObject&&this.vao&&this.boundProgram===e&&this.boundLayoutVertexBuffer===n&&!l&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(e,n,r,i,o,a,s)},bn.prototype.freshBind=function(t,e,n,r,i,o,a){var s,l=t.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=u.currentNumAttributes||0;for(var p=l;p<s;p++)c.disableVertexAttribArray(p)}e.enableAttributes(c,t);for(var d=0,h=n;d<h.length;d+=1)h[d].enableAttributes(c,t);o&&o.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,i);for(var f=0,m=n;f<m.length;f+=1){var g=m[f];g.bind(),g.setVertexAttribPointers(c,t,i)}o&&(o.bind(),o.setVertexAttribPointers(c,t,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,i)),u.currentNumAttributes=l},bn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var wn=function(t,e,n,r,i,o){var a=t.gl;this.program=a.createProgram();for(var s=xn(n.staticAttributes),l=r?r.getBinderAttributes():[],u=s.concat(l),c=n.staticUniforms?xn(n.staticUniforms):[],p=r?r.getBinderUniforms():[],d=[],h=0,f=c.concat(p);h<f.length;h+=1){var m=f[h];d.indexOf(m)<0&&d.push(m)}var g=r?r.defines():[];o&&g.push("#define OVERDRAW_INSPECTOR;");var y=g.concat(He.fragmentSource,n.fragmentSource).join("\n"),v=g.concat(He.vertexSource,n.vertexSource).join("\n"),_=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(_,y),a.compileShader(_),a.attachShader(this.program,_);var b=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(b,v),a.compileShader(b),a.attachShader(this.program,b),this.attributes={};var x={};this.numAttributes=u.length;for(var w=0;w<this.numAttributes;w++)u[w]&&(a.bindAttribLocation(this.program,w,u[w]),this.attributes[u[w]]=w);a.linkProgram(this.program),a.deleteShader(b),a.deleteShader(_);for(var k=0;k<d.length;k++){var S=d[k];if(S&&!x[S]){var C=a.getUniformLocation(this.program,S);C&&(x[S]=C)}}this.fixedUniforms=i(t,x),this.binderUniforms=r?r.getUniforms(t,x):[]}}};function kn(t,e,n){var r=1/de(n,1,e.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,e.transform.tileZoom)/i,a=o*(n.tileID.canonical.x+n.tileID.wrap*i),s=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}wn.prototype.draw=function(t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m){var g,y=t.gl;if(!this.failedToCreate){for(var v in t.program.set(this.program),t.setDepthMode(n),t.setStencilMode(r),t.setColorMode(i),t.setCullFace(o),this.fixedUniforms)this.fixedUniforms[v].set(a[v]);h&&h.setUniforms(t,this.binderUniforms,p,{zoom:d});for(var _=(g={},g[y.LINES]=2,g[y.TRIANGLES]=3,g[y.LINE_STRIP]=1,g)[e],b=0,x=c.get();b<x.length;b+=1){var w=x[b],k=w.vaos||(w.vaos={});(k[s]||(k[s]=new bn)).bind(t,this,l,h?h.getPaintVertexBuffers():[],u,w.vertexOffset,f,m),y.drawElements(e,w.primitiveLength*_,y.UNSIGNED_SHORT,w.primitiveOffset*_*2)}}};var Sn=function(e,n,r,i){var o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],l=t.create$1();"viewport"===o.properties.get("anchor")&&t.fromRotation(l,-n.transform.angle),t.transformMat3(s,s,l);var u=o.properties.get("color");return{u_matrix:e,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[u.r,u.g,u.b],u_vertical_gradient:+r,u_opacity:i}},Cn=function(e,n,r,i,o,a,s){return t.extend(Sn(e,n,r,i),kn(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},En=function(t){return{u_matrix:t}},Tn=function(e,n,r,i){return t.extend(En(e),kn(r,n,i))},In=function(t,e){return{u_matrix:t,u_world:e}},Mn=function(e,n,r,i,o){return t.extend(Tn(e,n,r,i),{u_world:o})},An=function(e,n,r,i){var o,a,s=e.transform;if("map"===i.paint.get("circle-pitch-alignment")){var l=de(r,1,s.zoom);o=!0,a=[l,l]}else o=!1,a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(n.posMatrix,r,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:t.browser.devicePixelRatio,u_extrude_scale:a}},On=function(t,e,n){var r=de(n,1,e.zoom),i=Math.pow(2,e.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[e.pixelsToGLUnits[0]/(r*i),e.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:o}},Pn=function(t,e,n){return{u_matrix:t,u_inv_matrix:e,u_camera_to_center_distance:n.cameraToCenterDistance,u_viewport_size:[n.width,n.height]}},Dn=function(t,e,n){return void 0===n&&(n=1),{u_matrix:t,u_color:e,u_overlay:0,u_overlay_scale:n}},zn=function(t){return{u_matrix:t}},Ln=function(t,e,n,r){return{u_matrix:t,u_extrude_scale:de(e,1,n),u_intensity:r}},Rn=function(e,n,r){var i=e.transform;return{u_matrix:Fn(e,n,r),u_ratio:1/de(n,1,i.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Wn=function(e,n,r,i){return t.extend(Rn(e,n,r),{u_image:0,u_image_height:i})},Bn=function(e,n,r,i){var o=e.transform,a=Nn(n,o);return{u_matrix:Fn(e,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/de(n,1,o.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_image:0,u_scale:[a,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},jn=function(e,n,r,i,o){var a=e.lineAtlas,s=Nn(n,e.transform),l="round"===r.layout.get("line-cap"),u=a.getDash(i.from,l),c=a.getDash(i.to,l),p=u.width*o.fromScale,d=c.width*o.toScale;return t.extend(Rn(e,n,r),{u_patternscale_a:[s/p,-u.height/2],u_patternscale_b:[s/d,-c.height/2],u_sdfgamma:a.width/(256*Math.min(p,d)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:u.y,u_tex_y_b:c.y,u_mix:o.t})};function Nn(t,e){return 1/de(t,1,e.tileZoom)}function Fn(t,e,n){return t.translatePosMatrix(e.tileID.posMatrix,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Un=function(t,e,n,r,i){return{u_matrix:t,u_tl_parent:e,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Vn(i.paint.get("raster-hue-rotate"))};var o,a};function Vn(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}var qn,Hn=function(t,e,n,r,i,o,a,s,l,u){var c=i.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+r,u_texsize:u,u_texture:0}},Gn=function(e,n,r,i,o,a,s,l,u,c,p){var d=o.transform;return t.extend(Hn(e,n,r,i,o,a,s,l,u,c),{u_gamma_scale:i?Math.cos(d._pitch)*d.cameraToCenterDistance:1,u_device_pixel_ratio:t.browser.devicePixelRatio,u_is_halo:+p})},Zn=function(e,n,r,i,o,a,s,l,u,c){return t.extend(Gn(e,n,r,i,o,a,s,l,!0,u,!0),{u_texsize_icon:c,u_texture_icon:1})},Kn=function(t,e,n){return{u_matrix:t,u_opacity:e,u_color:n}},Qn=function(e,n,r,i,o,a){return t.extend(function(t,e,n,r){var i=n.imageManager.getPattern(t.from.toString()),o=n.imageManager.getPattern(t.to.toString()),a=n.imageManager.getPixelSize(),s=a.width,l=a.height,u=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/u,p=c*(r.tileID.canonical.x+r.tileID.wrap*u),d=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,l],u_mix:e.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/de(r,1,n.transform.tileZoom),u_pixel_coord_upper:[p>>16,d>>16],u_pixel_coord_lower:[65535&p,65535&d]}}(i,a,r,o),{u_matrix:e,u_opacity:n})},Xn={fillExtrusion:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fillExtrusionPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,n.u_height_factor),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fill:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},fillPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},fillOutline:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world)}},fillOutlinePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},circle:function(e,n){return{u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,n.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},collisionBox:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,n.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,n.u_overscale_factor)}},collisionCircle:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_inv_matrix:new t.UniformMatrix4f(e,n.u_inv_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_viewport_size:new t.Uniform2f(e,n.u_viewport_size)}},debug:function(e,n){return{u_color:new t.UniformColor(e,n.u_color),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_overlay:new t.Uniform1i(e,n.u_overlay),u_overlay_scale:new t.Uniform1f(e,n.u_overlay_scale)}},clippingMask:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmap:function(e,n){return{u_extrude_scale:new t.Uniform1f(e,n.u_extrude_scale),u_intensity:new t.Uniform1f(e,n.u_intensity),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmapTexture:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_opacity:new t.Uniform1f(e,n.u_opacity)}},hillshade:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_latrange:new t.Uniform2f(e,n.u_latrange),u_light:new t.Uniform2f(e,n.u_light),u_shadow:new t.UniformColor(e,n.u_shadow),u_highlight:new t.UniformColor(e,n.u_highlight),u_accent:new t.UniformColor(e,n.u_accent)}},hillshadePrepare:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_dimension:new t.Uniform2f(e,n.u_dimension),u_zoom:new t.Uniform1f(e,n.u_zoom),u_unpack:new t.Uniform4f(e,n.u_unpack)}},line:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels)}},lineGradient:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_image:new t.Uniform1i(e,n.u_image),u_image_height:new t.Uniform1f(e,n.u_image_height)}},linePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_texsize:new t.Uniform2f(e,n.u_texsize),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_image:new t.Uniform1i(e,n.u_image),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},lineSDF:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,n.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,n.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,n.u_sdfgamma),u_image:new t.Uniform1i(e,n.u_image),u_tex_y_a:new t.Uniform1f(e,n.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,n.u_tex_y_b),u_mix:new t.Uniform1f(e,n.u_mix)}},raster:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_tl_parent:new t.Uniform2f(e,n.u_tl_parent),u_scale_parent:new t.Uniform1f(e,n.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,n.u_buffer_scale),u_fade_t:new t.Uniform1f(e,n.u_fade_t),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image0:new t.Uniform1i(e,n.u_image0),u_image1:new t.Uniform1i(e,n.u_image1),u_brightness_low:new t.Uniform1f(e,n.u_brightness_low),u_brightness_high:new t.Uniform1f(e,n.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,n.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,n.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,n.u_spin_weights)}},symbolIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture)}},symbolSDF:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}},symbolTextAndIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texsize_icon:new t.Uniform2f(e,n.u_texsize_icon),u_texture:new t.Uniform1i(e,n.u_texture),u_texture_icon:new t.Uniform1i(e,n.u_texture_icon),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}},background:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_color:new t.UniformColor(e,n.u_color)}},backgroundPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image:new t.Uniform1i(e,n.u_image),u_pattern_tl_a:new t.Uniform2f(e,n.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,n.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,n.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,n.u_pattern_br_b),u_texsize:new t.Uniform2f(e,n.u_texsize),u_mix:new t.Uniform1f(e,n.u_mix),u_pattern_size_a:new t.Uniform2f(e,n.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,n.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,n.u_scale_a),u_scale_b:new t.Uniform1f(e,n.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,n.u_tile_units_to_pixels)}}};function Yn(e,n,r,i,o,a,s){for(var l=e.context,u=l.gl,c=e.useProgram("collisionBox"),p=[],d=0,h=0,f=0;f<i.length;f++){var m=i[f],g=n.getTile(m),y=g.getBucket(r);if(y){var v=m.posMatrix;0===o[0]&&0===o[1]||(v=e.translatePosMatrix(m.posMatrix,g,o,a));var _=s?y.textCollisionBox:y.iconCollisionBox,b=y.collisionCircleArray;if(b.length>0){var x=t.create(),w=v;t.mul(x,y.placementInvProjMatrix,e.transform.glCoordMatrix),t.mul(x,x,y.placementViewportMatrix),p.push({circleArray:b,circleOffset:h,transform:w,invTransform:x}),h=d+=b.length/4}_&&c.draw(l,u.LINES,Ct.disabled,Et.disabled,e.colorModeForRenderPass(),It.disabled,On(v,e.transform,g),r.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,null,e.transform.zoom,null,null,_.collisionVertexBuffer)}}if(s&&p.length){var k=e.useProgram("collisionCircle"),S=new t.StructArrayLayout2f1f2i16;S.resize(4*d),S._trim();for(var C=0,E=0,T=p;E<T.length;E+=1)for(var I=T[E],M=0;M<I.circleArray.length/4;M++){var A=4*M,O=I.circleArray[A+0],P=I.circleArray[A+1],D=I.circleArray[A+2],z=I.circleArray[A+3];S.emplace(C++,O,P,D,z,0),S.emplace(C++,O,P,D,z,1),S.emplace(C++,O,P,D,z,2),S.emplace(C++,O,P,D,z,3)}(!qn||qn.length<2*d)&&(qn=function(e){var n=2*e,r=new t.StructArrayLayout3ui6;r.resize(n),r._trim();for(var i=0;i<n;i++){var o=6*i;r.uint16[o+0]=4*i+0,r.uint16[o+1]=4*i+1,r.uint16[o+2]=4*i+2,r.uint16[o+3]=4*i+2,r.uint16[o+4]=4*i+3,r.uint16[o+5]=4*i+0}return r}(d));for(var L=l.createIndexBuffer(qn,!0),R=l.createVertexBuffer(S,t.collisionCircleLayout.members,!0),W=0,B=p;W<B.length;W+=1){var j=B[W],N=Pn(j.transform,j.invTransform,e.transform);k.draw(l,u.TRIANGLES,Ct.disabled,Et.disabled,e.colorModeForRenderPass(),It.disabled,N,r.id,R,L,t.SegmentVector.simpleSegment(0,2*j.circleOffset,j.circleArray.length,j.circleArray.length/2),null,e.transform.zoom,null,null,null)}R.destroy(),L.destroy()}}var Jn=t.identity(new Float32Array(16));function $n(e,n,r,i,o,a){var s=t.getAnchorAlignment(e),l=-(s.horizontalAlign-.5)*n,u=-(s.verticalAlign-.5)*r,c=t.evaluateVariableOffset(e,i);return new t.Point((l/o+c[0])*a,(u/o+c[1])*a)}function tr(e,n,r,i,o,a,s,l,u,c,p){var d=e.text.placedSymbolArray,h=e.text.dynamicLayoutVertexArray,f=e.icon.dynamicLayoutVertexArray,m={};h.clear();for(var g=0;g<d.length;g++){var y=d.get(g),v=y.hidden||!y.crossTileID||e.allowVerticalPlacement&&!y.placedOrientation?null:i[y.crossTileID];if(v){var _=new t.Point(y.anchorX,y.anchorY),b=$t(_,r?l:s),x=te(a.cameraToCenterDistance,b.signedDistanceFromCamera),w=o.evaluateSizeForFeature(e.textSizeData,c,y)*x/t.ONE_EM;r&&(w*=e.tilePixelRatio/u);for(var k=$n(v.anchor,v.width,v.height,v.textOffset,v.textBoxScale,w),S=r?$t(_.add(k),s).point:b.point.add(n?k.rotate(-a.angle):k),C=e.allowVerticalPlacement&&y.placedOrientation===t.WritingMode.vertical?Math.PI/2:0,E=0;E<y.numGlyphs;E++)t.addDynamicAttributes(h,S,C);p&&y.associatedIconIndex>=0&&(m[y.associatedIconIndex]={shiftedAnchor:S,angle:C})}else ue(y.numGlyphs,h)}if(p){f.clear();for(var T=e.icon.placedSymbolArray,I=0;I<T.length;I++){var M=T.get(I);if(M.hidden)ue(M.numGlyphs,f);else{var A=m[I];if(A)for(var O=0;O<M.numGlyphs;O++)t.addDynamicAttributes(f,A.shiftedAnchor,A.angle);else ue(M.numGlyphs,f)}}e.icon.dynamicLayoutVertexBuffer.updateData(f)}e.text.dynamicLayoutVertexBuffer.updateData(h)}function er(t,e,n){return n.iconsInText&&e?"symbolTextAndIcon":t?"symbolSDF":"symbolIcon"}function nr(e,n,r,i,o,a,s,l,u,c,p,d){for(var h=e.context,f=h.gl,m=e.transform,g="map"===l,y="map"===u,v=g&&"point"!==r.layout.get("symbol-placement"),_=g&&!y&&!v,b=void 0!==r.layout.get("symbol-sort-key").constantOr(1),x=!1,w=e.depthModeForSublayer(0,Ct.ReadOnly),k=r.layout.get("text-variable-anchor"),S=[],C=0,E=i;C<E.length;C+=1){var T=E[C],I=n.getTile(T),M=I.getBucket(r);if(M){var A=o?M.text:M.icon;if(A&&A.segments.get().length){var O=A.programConfigurations.get(r.id),P=o||M.sdfIcons,D=o?M.textSizeData:M.iconSizeData,z=y||0!==m.pitch,L=e.useProgram(er(P,o,M),O),R=t.evaluateSizeForZoom(D,m.zoom),W=void 0,B=[0,0],j=void 0,N=void 0,F=null,U=void 0;if(o)j=I.glyphAtlasTexture,N=f.LINEAR,W=I.glyphAtlasTexture.size,M.iconsInText&&(B=I.imageAtlasTexture.size,F=I.imageAtlasTexture,U=z||e.options.rotating||e.options.zooming||"composite"===D.kind||"camera"===D.kind?f.LINEAR:f.NEAREST);else{var V=1!==r.layout.get("icon-size").constantOr(0)||M.iconsNeedLinear;j=I.imageAtlasTexture,N=P||e.options.rotating||e.options.zooming||V||z?f.LINEAR:f.NEAREST,W=I.imageAtlasTexture.size}var q=de(I,1,e.transform.zoom),H=Yt(T.posMatrix,y,g,e.transform,q),G=Jt(T.posMatrix,y,g,e.transform,q),Z=k&&M.hasTextData(),K="none"!==r.layout.get("icon-text-fit")&&Z&&M.hasIconData();v&&ne(M,T.posMatrix,e,o,H,G,y,c);var Q=e.translatePosMatrix(T.posMatrix,I,a,s),X=v||o&&k||K?Jn:H,Y=e.translatePosMatrix(G,I,a,s,!0),J=P&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),$={program:L,buffers:A,uniformValues:P?M.iconsInText?Zn(D.kind,R,_,y,e,Q,X,Y,W,B):Gn(D.kind,R,_,y,e,Q,X,Y,o,W,!0):Hn(D.kind,R,_,y,e,Q,X,Y,o,W),atlasTexture:j,atlasTextureIcon:F,atlasInterpolation:N,atlasInterpolationIcon:U,isSDF:P,hasHalo:J};if(b&&M.canOverlap){x=!0;for(var tt=0,et=A.segments.get();tt<et.length;tt+=1){var nt=et[tt];S.push({segments:new t.SegmentVector([nt]),sortKey:nt.sortKey,state:$})}}else S.push({segments:A.segments,sortKey:0,state:$})}}}x&&S.sort((function(t,e){return t.sortKey-e.sortKey}));for(var rt=0,it=S;rt<it.length;rt+=1){var ot=it[rt],at=ot.state;if(h.activeTexture.set(f.TEXTURE0),at.atlasTexture.bind(at.atlasInterpolation,f.CLAMP_TO_EDGE),at.atlasTextureIcon&&(h.activeTexture.set(f.TEXTURE1),at.atlasTextureIcon&&at.atlasTextureIcon.bind(at.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),at.isSDF){var st=at.uniformValues;at.hasHalo&&(st.u_is_halo=1,rr(at.buffers,ot.segments,r,e,at.program,w,p,d,st)),st.u_is_halo=0}rr(at.buffers,ot.segments,r,e,at.program,w,p,d,at.uniformValues)}}function rr(t,e,n,r,i,o,a,s,l){var u=r.context;i.draw(u,u.gl.TRIANGLES,o,a,s,It.disabled,l,n.id,t.layoutVertexBuffer,t.indexBuffer,e,n.paint,r.transform.zoom,t.programConfigurations.get(n.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function ir(t,e,n,r,i,o,a){var s,l,u,c,p,d=t.context.gl,h=n.paint.get("fill-pattern"),f=h&&h.constantOr(1),m=n.getCrossfadeParameters();a?(l=f&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=d.LINES):(l=f?"fillPattern":"fill",s=d.TRIANGLES);for(var g=0,y=r;g<y.length;g+=1){var v=y[g],_=e.getTile(v);if(!f||_.patternsLoaded()){var b=_.getBucket(n);if(b){var x=b.programConfigurations.get(n.id),w=t.useProgram(l,x);f&&(t.context.activeTexture.set(d.TEXTURE0),_.imageAtlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE),x.updatePaintBuffers(m));var k=h.constantOr(null);if(k&&_.imageAtlas){var S=_.imageAtlas,C=S.patternPositions[k.to.toString()],E=S.patternPositions[k.from.toString()];C&&E&&x.setConstantPatternPositions(C,E)}var T=t.translatePosMatrix(v.posMatrix,_,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){c=b.indexBuffer2,p=b.segments2;var I=[d.drawingBufferWidth,d.drawingBufferHeight];u="fillOutlinePattern"===l&&f?Mn(T,t,m,_,I):In(T,I)}else c=b.indexBuffer,p=b.segments,u=f?Tn(T,t,m,_):En(T);w.draw(t.context,s,i,t.stencilModeForClipping(v),o,It.disabled,u,n.id,b.layoutVertexBuffer,c,p,n.paint,t.transform.zoom,x)}}}}function or(t,e,n,r,i,o,a){for(var s=t.context,l=s.gl,u=n.paint.get("fill-extrusion-pattern"),c=u.constantOr(1),p=n.getCrossfadeParameters(),d=n.paint.get("fill-extrusion-opacity"),h=0,f=r;h<f.length;h+=1){var m=f[h],g=e.getTile(m),y=g.getBucket(n);if(y){var v=y.programConfigurations.get(n.id),_=t.useProgram(c?"fillExtrusionPattern":"fillExtrusion",v);c&&(t.context.activeTexture.set(l.TEXTURE0),g.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),v.updatePaintBuffers(p));var b=u.constantOr(null);if(b&&g.imageAtlas){var x=g.imageAtlas,w=x.patternPositions[b.to.toString()],k=x.patternPositions[b.from.toString()];w&&k&&v.setConstantPatternPositions(w,k)}var S=t.translatePosMatrix(m.posMatrix,g,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),C=n.paint.get("fill-extrusion-vertical-gradient"),E=c?Cn(S,t,C,d,m,p,g):Sn(S,t,C,d);_.draw(s,s.gl.TRIANGLES,i,o,a,It.backCCW,E,n.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,n.paint,t.transform.zoom,v)}}}function ar(e,n,r,i,o,a){var s=e.context,l=s.gl,u=n.fbo;if(u){var c=e.useProgram("hillshade");s.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,u.colorAttachment.get());var p=function(e,n,r){var i=r.paint.get("hillshade-shadow-color"),o=r.paint.get("hillshade-highlight-color"),a=r.paint.get("hillshade-accent-color"),s=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);var l,u,c,p=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(n.tileID.toUnwrapped(),p),u_image:0,u_latrange:(l=n.tileID,u=Math.pow(2,l.canonical.z),c=l.canonical.y,[new t.MercatorCoordinate(0,c/u).toLngLat().lat,new t.MercatorCoordinate(0,(c+1)/u).toLngLat().lat]),u_light:[r.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:o,u_accent:a}}(e,n,r);c.draw(s,l.TRIANGLES,i,o,a,It.disabled,p,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function sr(e,n,r,i,o,a){var s=e.context,l=s.gl,u=n.dem;if(u&&u.data){var c=u.dim,p=u.stride,d=u.getPixels();if(s.activeTexture.set(l.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(p),n.demTexture){var h=n.demTexture;h.update(d,{premultiply:!1}),h.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else n.demTexture=new t.Texture(s,d,l.RGBA,{premultiply:!1}),n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);s.activeTexture.set(l.TEXTURE0);var f=n.fbo;if(!f){var m=new t.Texture(s,{width:c,height:c,data:null},l.RGBA);m.bind(l.LINEAR,l.CLAMP_TO_EDGE),(f=n.fbo=s.createFramebuffer(c,c,!0)).colorAttachment.set(m.texture)}s.bindFramebuffer.set(f.framebuffer),s.viewport.set([0,0,c,c]),e.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,i,o,a,It.disabled,function(e,n){var r=n.stride,i=t.create();return t.ortho(i,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(i,i,[0,-t.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:e.overscaledZ,u_unpack:n.getUnpackVector()}}(n.tileID,u),r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function lr(e,n,r,i,o){var a=i.paint.get("raster-fade-duration");if(a>0){var s=t.browser.now(),l=(s-e.timeAdded)/a,u=n?(s-n.timeAdded)/a:-1,c=r.getSource(),p=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),d=!n||Math.abs(n.tileID.overscaledZ-p)>Math.abs(e.tileID.overscaledZ-p),h=d&&e.refreshedUponExpiration?1:t.clamp(d?l:1-u,0,1);return e.refreshedUponExpiration&&l>=1&&(e.refreshedUponExpiration=!1),n?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}var ur=new t.Color(1,0,0,1),cr=new t.Color(0,1,0,1),pr=new t.Color(0,0,1,1),dr=new t.Color(1,0,1,1),hr=new t.Color(0,1,1,1);function fr(t,e,n,r){gr(t,0,e+n/2,t.transform.width,n,r)}function mr(t,e,n,r){gr(t,e-n/2,0,n,t.transform.height,r)}function gr(e,n,r,i,o,a){var s=e.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(n*t.browser.devicePixelRatio,r*t.browser.devicePixelRatio,i*t.browser.devicePixelRatio,o*t.browser.devicePixelRatio),s.clear({color:a}),l.disable(l.SCISSOR_TEST)}function yr(e,n,r){var i=e.context,o=i.gl,a=r.posMatrix,s=e.useProgram("debug"),l=Ct.disabled,u=Et.disabled,c=e.colorModeForRenderPass();i.activeTexture.set(o.TEXTURE0),e.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s.draw(i,o.LINE_STRIP,l,u,c,It.disabled,Dn(a,t.Color.red),"$debug",e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);var p=n.getTileByID(r.key).latestRawTileData,d=Math.floor((p&&p.byteLength||0)/1024),h=n.getTile(r).tileSize,f=512/Math.min(h,512)*(r.overscaledZ/e.transform.zoom)*.5,m=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(m+=" => "+r.overscaledZ),function(t,e){t.initDebugOverlayCanvas();var n=t.debugOverlayCanvas,r=t.context.gl,i=t.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(e,5,5),i.strokeText(e,5,5),t.debugOverlayTexture.update(n),t.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(e,m+" "+d+"kb"),s.draw(i,o.TRIANGLES,l,u,Tt.alphaBlended,It.disabled,Dn(a,t.Color.transparent,f),"$debug",e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments)}var vr={symbol:function(e,n,r,i,o){if("translucent"===e.renderPass){var a=Et.disabled,s=e.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(e,n,r,i,o,a,s){for(var l=n.transform,u="map"===o,c="map"===a,p=0,d=e;p<d.length;p+=1){var h=d[p],f=i.getTile(h),m=f.getBucket(r);if(m&&m.text&&m.text.segments.get().length){var g=t.evaluateSizeForZoom(m.textSizeData,l.zoom),y=de(f,1,n.transform.zoom),v=Yt(h.posMatrix,c,u,n.transform,y),_="none"!==r.layout.get("icon-text-fit")&&m.hasIconData();if(g){var b=Math.pow(2,l.zoom-f.tileID.overscaledZ);tr(m,u,c,s,t.symbolSize,l,v,h.posMatrix,b,g,_)}}}}(i,e,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),o),0!==r.paint.get("icon-opacity").constantOr(1)&&nr(e,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),a,s),0!==r.paint.get("text-opacity").constantOr(1)&&nr(e,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(Yn(e,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Yn(e,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),l=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var u=e.context,c=u.gl,p=e.depthModeForSublayer(0,Ct.ReadOnly),d=Et.disabled,h=e.colorModeForRenderPass(),f=[],m=0;m<i.length;m++){var g=i[m],y=n.getTile(g),v=y.getBucket(r);if(v){var _=v.programConfigurations.get(r.id),b={programConfiguration:_,program:e.useProgram("circle",_),layoutVertexBuffer:v.layoutVertexBuffer,indexBuffer:v.indexBuffer,uniformValues:An(e,g,y,r)};if(l)for(var x=0,w=v.segments.get();x<w.length;x+=1){var k=w[x];f.push({segments:new t.SegmentVector([k]),sortKey:k.sortKey,state:b})}else f.push({segments:v.segments,sortKey:0,state:b})}}l&&f.sort((function(t,e){return t.sortKey-e.sortKey}));for(var S=0,C=f;S<C.length;S+=1){var E=C[S],T=E.state;T.program.draw(u,c.TRIANGLES,p,d,h,It.disabled,T.uniformValues,r.id,T.layoutVertexBuffer,T.indexBuffer,E.segments,r.paint,e.transform.zoom,T.programConfiguration)}}}},heatmap:function(e,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var o=e.context,a=o.gl,s=Et.disabled,l=new Tt([a.ONE,a.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,n){var r=t.gl;t.activeTexture.set(r.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),t.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4,!1),function(t,e,n,r){var i=t.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,e.width/4,e.height/4,0,i.RGBA,t.extRenderToTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(t,e,o,i)}}(o,e,r),o.clear({color:t.Color.transparent});for(var u=0;u<i.length;u++){var c=i[u];if(!n.hasRenderableParent(c)){var p=n.getTile(c),d=p.getBucket(r);if(d){var h=d.programConfigurations.get(r.id);e.useProgram("heatmap",h).draw(o,a.TRIANGLES,Ct.disabled,s,l,It.disabled,Ln(c.posMatrix,p,e.transform.zoom,r.paint.get("heatmap-intensity")),r.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,r.paint,e.transform.zoom,h)}}}o.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,n){var r=e.context,i=r.gl,o=n.heatmapFbo;if(o){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new t.Texture(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(r,i.TRIANGLES,Ct.disabled,Et.disabled,e.colorModeForRenderPass(),It.disabled,function(e,n,r,i){var o=t.create();t.ortho(o,0,e.width,e.height,0,0,1);var a=e.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(e,n),n.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,n.paint,e.transform.zoom)}}(e,r))},line:function(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=e.depthModeForSublayer(0,Ct.ReadOnly),l=e.colorModeForRenderPass(),u=r.paint.get("line-dasharray"),c=r.paint.get("line-pattern"),p=c.constantOr(1),d=r.paint.get("line-gradient"),h=r.getCrossfadeParameters(),f=p?"linePattern":u?"lineSDF":d?"lineGradient":"line",m=e.context,g=m.gl,y=!0,v=0,_=i;v<_.length;v+=1){var b=_[v],x=n.getTile(b);if(!p||x.patternsLoaded()){var w=x.getBucket(r);if(w){var k=w.programConfigurations.get(r.id),S=e.context.program.get(),C=e.useProgram(f,k),E=y||C.program!==S,T=c.constantOr(null);if(T&&x.imageAtlas){var I=x.imageAtlas,M=I.patternPositions[T.to.toString()],A=I.patternPositions[T.from.toString()];M&&A&&k.setConstantPatternPositions(M,A)}var O=p?Bn(e,x,r,h):u?jn(e,x,r,u,h):d?Wn(e,x,r,w.lineClipsArray.length):Rn(e,x,r);if(p)m.activeTexture.set(g.TEXTURE0),x.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),k.updatePaintBuffers(h);else if(u&&(E||e.lineAtlas.dirty))m.activeTexture.set(g.TEXTURE0),e.lineAtlas.bind(m);else if(d){var P=w.gradients[r.id],D=P.texture;if(r.gradientVersion!==P.version){var z=256;if(r.stepInterpolant){var L=n.getSource().maxzoom,R=b.canonical.z===L?Math.ceil(1<<e.transform.maxZoom-b.canonical.z):1;z=t.clamp(t.nextPowerOfTwo(w.maxLineLength/t.EXTENT*1024*R),256,m.maxTextureSize)}P.gradient=t.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:z,image:P.gradient||void 0,clips:w.lineClipsArray}),P.texture?P.texture.update(P.gradient):P.texture=new t.Texture(m,P.gradient,g.RGBA),P.version=r.gradientVersion,D=P.texture}m.activeTexture.set(g.TEXTURE0),D.bind(r.stepInterpolant?g.NEAREST:g.LINEAR,g.CLAMP_TO_EDGE)}C.draw(m,g.TRIANGLES,s,e.stencilModeForClipping(b),l,It.disabled,O,r.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,r.paint,e.transform.zoom,k,w.layoutVertexBuffer2),y=!1}}}}},fill:function(e,n,r,i){var o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.colorModeForRenderPass(),l=r.paint.get("fill-pattern"),u=e.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(t.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(e.renderPass===u){var c=e.depthModeForSublayer(1,"opaque"===e.renderPass?Ct.ReadWrite:Ct.ReadOnly);ir(e,n,r,i,c,s,!1)}if("translucent"===e.renderPass&&r.paint.get("fill-antialias")){var p=e.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,Ct.ReadOnly);ir(e,n,r,i,p,s,!0)}}},"fill-extrusion":function(t,e,n,r){var i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===t.renderPass){var o=new Ct(t.context.gl.LEQUAL,Ct.ReadWrite,t.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))or(t,e,n,r,o,Et.disabled,Tt.disabled),or(t,e,n,r,o,t.stencilModeFor3D(),t.colorModeForRenderPass());else{var a=t.colorModeForRenderPass();or(t,e,n,r,o,Et.disabled,a)}}},hillshade:function(t,e,n,r){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var i=t.context,o=t.depthModeForSublayer(0,Ct.ReadOnly),a=t.colorModeForRenderPass(),s="translucent"===t.renderPass?t.stencilConfigForOverlap(r):[{},r],l=s[0],u=0,c=s[1];u<c.length;u+=1){var p=c[u],d=e.getTile(p);d.needsHillshadePrepare&&"offscreen"===t.renderPass?sr(t,d,n,o,Et.disabled,a):"translucent"===t.renderPass&&ar(t,d,n,o,l[p.overscaledZ],a)}i.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,n,r){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity")&&r.length)for(var i=t.context,o=i.gl,a=e.getSource(),s=t.useProgram("raster"),l=t.colorModeForRenderPass(),u=a instanceof P?[{},r]:t.stencilConfigForOverlap(r),c=u[0],p=u[1],d=p[p.length-1].overscaledZ,h=!t.options.moving,f=0,m=p;f<m.length;f+=1){var g=m[f],y=t.depthModeForSublayer(g.overscaledZ-d,1===n.paint.get("raster-opacity")?Ct.ReadWrite:Ct.ReadOnly,o.LESS),v=e.getTile(g),_=t.transform.calculatePosMatrix(g.toUnwrapped(),h);v.registerFadeDuration(n.paint.get("raster-fade-duration"));var b=e.findLoadedParent(g,0),x=lr(v,b,e,n,t.transform),w=void 0,k=void 0,S="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),v.texture.bind(S,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),b?(b.texture.bind(S,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),w=Math.pow(2,b.tileID.overscaledZ-v.tileID.overscaledZ),k=[v.tileID.canonical.x*w%1,v.tileID.canonical.y*w%1]):v.texture.bind(S,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var C=Un(_,k||[0,0],w||1,x,n);a instanceof P?s.draw(i,o.TRIANGLES,y,Et.disabled,l,It.disabled,C,n.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):s.draw(i,o.TRIANGLES,y,c[g.overscaledZ],l,It.disabled,C,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function(t,e,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var o=t.context,a=o.gl,s=t.transform,l=s.tileSize,u=n.paint.get("background-pattern");if(!t.isPatternMissing(u)){var c=!u&&1===r.a&&1===i&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass===c){var p=Et.disabled,d=t.depthModeForSublayer(0,"opaque"===c?Ct.ReadWrite:Ct.ReadOnly),h=t.colorModeForRenderPass(),f=t.useProgram(u?"backgroundPattern":"background"),m=s.coveringTiles({tileSize:l});u&&(o.activeTexture.set(a.TEXTURE0),t.imageManager.bind(t.context));for(var g=n.getCrossfadeParameters(),y=0,v=m;y<v.length;y+=1){var _=v[y],b=t.transform.calculatePosMatrix(_.toUnwrapped()),x=u?Qn(b,i,t,u,{tileID:_,tileSize:l},g):Kn(b,i,r);f.draw(o,a.TRIANGLES,d,p,h,It.disabled,x,n.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}}}},debug:function(t,e,n){for(var r=0;r<n.length;r++)yr(t,e,n[r])},custom:function(t,e,n){var r=t.context,i=n.implementation;if("offscreen"===t.renderPass){var o=i.prerender;o&&(t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),o.call(i,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),r.setStencilMode(Et.disabled);var a="3d"===i.renderingMode?new Ct(t.context.gl.LEQUAL,Ct.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,Ct.ReadOnly);r.setDepthMode(a),i.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null)}}},_r=function(t,e){this.context=new Mt(t),this.transform=e,this._tileTextures={},this.setup(),this.numSublayers=At.maxUnderzooming+At.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Be,this.gpuTimers={}};_r.prototype.resize=function(e,n){if(this.width=e*t.browser.devicePixelRatio,this.height=n*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,i=this.style._order;r<i.length;r+=1)this.style._layers[i[r]].resize()},_r.prototype.setup=function(){var e=this.context,n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(n,qe.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var r=new t.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(t.EXTENT,0),r.emplaceBack(0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(r,qe.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var i=new t.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(t.EXTENT,0,t.EXTENT,0),i.emplaceBack(0,t.EXTENT,0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(i,O.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var o=new t.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(o,qe.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(a);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s),this.emptyTexture=new t.Texture(e,{width:1,height:1,data:new Uint8Array([0,0,0,0])},e.gl.RGBA);var l=this.context.gl;this.stencilClearMode=new Et({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)},_r.prototype.clearStencil=function(){var e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=t.create();t.ortho(r,0,this.width,this.height,0,0,1),t.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,n.TRIANGLES,Ct.disabled,this.stencilClearMode,Tt.disabled,It.disabled,zn(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},_r.prototype._renderTileClippingMasks=function(t,e){if(this.currentStencilSource!==t.source&&t.isTileClipped()&&e&&e.length){this.currentStencilSource=t.source;var n=this.context,r=n.gl;this.nextStencilID+e.length>256&&this.clearStencil(),n.setColorMode(Tt.disabled),n.setDepthMode(Ct.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=e;o<a.length;o+=1){var s=a[o],l=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,Ct.disabled,new Et({func:r.ALWAYS,mask:0},l,255,r.KEEP,r.KEEP,r.REPLACE),Tt.disabled,It.disabled,zn(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},_r.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,e=this.context.gl;return new Et({func:e.NOTEQUAL,mask:255},t,255,e.KEEP,e.KEEP,e.REPLACE)},_r.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new Et({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},_r.prototype.stencilConfigForOverlap=function(t){var e,n=this.context.gl,r=t.sort((function(t,e){return e.overscaledZ-t.overscaledZ})),i=r[r.length-1].overscaledZ,o=r[0].overscaledZ-i+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();for(var a={},s=0;s<o;s++)a[s+i]=new Et({func:n.GEQUAL,mask:255},s+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[a,r]}return[(e={},e[i]=Et.disabled,e),r]},_r.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new Tt([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Tt.unblended:Tt.alphaBlended},_r.prototype.depthModeForSublayer=function(t,e,n){if(!this.opaquePassEnabledForLayer())return Ct.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new Ct(n||this.context.gl.LEQUAL,e,[r,r])},_r.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},_r.prototype.render=function(e,n){var r=this;this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now()),this.imageManager.beginFrame();var i=this.style._order,o=this.style.sourceCaches;for(var a in o){var s=o[a];s.used&&s.prepare(this.context)}var l,u,c={},p={},d={};for(var h in o){var f=o[h];c[h]=f.getVisibleCoordinates(),p[h]=c[h].slice().reverse(),d[h]=f.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var m=0;m<i.length;m++)if(this.style._layers[i[m]].is3D()){this.opaquePassCutoff=m;break}this.renderPass="offscreen";for(var g=0,y=i;g<y.length;g+=1){var v=this.style._layers[y[g]];if(v.hasOffscreenPass()&&!v.isHidden(this.transform.zoom)){var _=p[v.source];("custom"===v.type||_.length)&&this.renderLayer(this,o[v.source],v,_)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var b=this.style._layers[i[this.currentLayer]],x=o[b.source],w=c[b.source];this._renderTileClippingMasks(b,w),this.renderLayer(this,x,b,w)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var k=this.style._layers[i[this.currentLayer]],S=o[k.source],C=("symbol"===k.type?d:p)[k.source];this._renderTileClippingMasks(k,c[k.source]),this.renderLayer(this,S,k,C)}this.options.showTileBoundaries&&(t.values(this.style._layers).forEach((function(t){t.source&&!t.isHidden(r.transform.zoom)&&(t.source!==(u&&u.id)&&(u=r.style.sourceCaches[t.source]),(!l||l.getSource().maxzoom<u.getSource().maxzoom)&&(l=u))})),l&&vr.debug(this,l,l.getVisibleCoordinates())),this.options.showPadding&&function(t){var e=t.transform.padding;fr(t,t.transform.height-(e.top||0),3,ur),fr(t,e.bottom||0,3,cr),mr(t,e.left||0,3,pr),mr(t,t.transform.width-(e.right||0),3,dr);var n=t.transform.centerPoint;!function(t,e,n,r){gr(t,e-1,n-10,2,20,r),gr(t,e-10,n-1,20,2,r)}(t,n.x,t.transform.height-n.y,hr)}(this),this.context.setDefault()},_r.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,this.gpuTimingStart(n),vr[n.type](t,e,n,r,this.style.placement.variableOffsets),this.gpuTimingEnd())},_r.prototype.gpuTimingStart=function(t){if(this.options.gpuTiming){var e=this.context.extTimerQuery,n=this.gpuTimers[t.id];n||(n=this.gpuTimers[t.id]={calls:0,cpuTime:0,query:e.createQueryEXT()}),n.calls++,e.beginQueryEXT(e.TIME_ELAPSED_EXT,n.query)}},_r.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var t=this.context.extTimerQuery;t.endQueryEXT(t.TIME_ELAPSED_EXT)}},_r.prototype.collectGpuTimers=function(){var t=this.gpuTimers;return this.gpuTimers={},t},_r.prototype.queryGpuTimers=function(t){var e={};for(var n in t){var r=t[n],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),e[n]=o}return e},_r.prototype.translatePosMatrix=function(e,n,r,i,o){if(!r[0]&&!r[1])return e;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);r=[r[0]*l-r[1]*s,r[0]*s+r[1]*l]}var u=[o?r[0]:de(n,r[0],this.transform.zoom),o?r[1]:de(n,r[1],this.transform.zoom),0],c=new Float32Array(16);return t.translate(c,e,u),c},_r.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},_r.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},_r.prototype.isPatternMissing=function(t){if(!t)return!1;if(!t.from||!t.to)return!0;var e=this.imageManager.getPattern(t.from.toString()),n=this.imageManager.getPattern(t.to.toString());return!e||!n},_r.prototype.useProgram=function(t,e){this.cache=this.cache||{};var n=""+t+(e?e.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new wn(this.context,t,_n[t],e,Xn[t],this._showOverdrawInspector)),this.cache[n]},_r.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},_r.prototype.setBaseState=function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)},_r.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=t.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new t.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},_r.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var br=function(t,e){this.points=t,this.planes=e};br.fromInvProjectionMatrix=function(e,n,r){var i=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(n){return t.transformMat4([],n,e)})).map((function(e){return t.scale$1([],e,1/e[3]/n*i)})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(e){var n=t.sub([],o[e[0]],o[e[1]]),r=t.sub([],o[e[2]],o[e[1]]),i=t.normalize([],t.cross([],n,r)),a=-t.dot(i,o[e[1]]);return i.concat(a)}));return new br(o,a)};var xr=function(e,n){this.min=e,this.max=n,this.center=t.scale$2([],t.add([],this.min,this.max),.5)};xr.prototype.quadrant=function(e){for(var n=[e%2==0,e<2],r=t.clone$2(this.min),i=t.clone$2(this.max),o=0;o<n.length;o++)r[o]=n[o]?this.min[o]:this.center[o],i[o]=n[o]?this.center[o]:this.max[o];return i[2]=this.max[2],new xr(r,i)},xr.prototype.distanceX=function(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]},xr.prototype.distanceY=function(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]},xr.prototype.intersects=function(e){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],r=!0,i=0;i<e.planes.length;i++){for(var o=e.planes[i],a=0,s=0;s<n.length;s++)a+=t.dot$1(o,n[s])>=0;if(0===a)return 0;a!==n.length&&(r=!1)}if(r)return 2;for(var l=0;l<3;l++){for(var u=Number.MAX_VALUE,c=-Number.MAX_VALUE,p=0;p<e.points.length;p++){var d=e.points[p][l]-this.min[l];u=Math.min(u,d),c=Math.max(c,d)}if(c<0||u>this.max[l]-this.min[l])return 0}return 1};var wr=function(t,e,n,r){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),isNaN(t)||t<0||isNaN(e)||e<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=e,this.left=n,this.right=r};wr.prototype.interpolate=function(e,n,r){return null!=n.top&&null!=e.top&&(this.top=t.number(e.top,n.top,r)),null!=n.bottom&&null!=e.bottom&&(this.bottom=t.number(e.bottom,n.bottom,r)),null!=n.left&&null!=e.left&&(this.left=t.number(e.left,n.left,r)),null!=n.right&&null!=e.right&&(this.right=t.number(e.right,n.right,r)),this},wr.prototype.getCenter=function(e,n){var r=t.clamp((this.left+e-this.right)/2,0,e),i=t.clamp((this.top+n-this.bottom)/2,0,n);return new t.Point(r,i)},wr.prototype.equals=function(t){return this.top===t.top&&this.bottom===t.bottom&&this.left===t.left&&this.right===t.right},wr.prototype.clone=function(){return new wr(this.top,this.bottom,this.left,this.right)},wr.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var kr=function(e,n,r,i,o){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||o,this._minZoom=e||0,this._maxZoom=n||22,this._minPitch=null==r?0:r,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wr,this._posMatrixCache={},this._alignedPosMatrixCache={}},Sr={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};kr.prototype.clone=function(){var t=new kr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._edgeInsets=this._edgeInsets.clone(),t._calcMatrices(),t},Sr.minZoom.get=function(){return this._minZoom},Sr.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},Sr.maxZoom.get=function(){return this._maxZoom},Sr.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},Sr.minPitch.get=function(){return this._minPitch},Sr.minPitch.set=function(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))},Sr.maxPitch.get=function(){return this._maxPitch},Sr.maxPitch.set=function(t){this._maxPitch!==t&&(this._maxPitch=t,this.pitch=Math.min(this.pitch,t))},Sr.renderWorldCopies.get=function(){return this._renderWorldCopies},Sr.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},Sr.worldSize.get=function(){return this.tileSize*this.scale},Sr.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Sr.size.get=function(){return new t.Point(this.width,this.height)},Sr.bearing.get=function(){return-this.angle/Math.PI*180},Sr.bearing.set=function(e){var n=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=t.create$2(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Sr.pitch.get=function(){return this._pitch/Math.PI*180},Sr.pitch.set=function(e){var n=t.clamp(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},Sr.fov.get=function(){return this._fov/Math.PI*180},Sr.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},Sr.zoom.get=function(){return this._zoom},Sr.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},Sr.center.get=function(){return this._center},Sr.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},Sr.padding.get=function(){return this._edgeInsets.toJSON()},Sr.padding.set=function(t){this._edgeInsets.equals(t)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,t,1),this._calcMatrices())},Sr.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},kr.prototype.isPaddingEqual=function(t){return this._edgeInsets.equals(t)},kr.prototype.interpolatePadding=function(t,e,n){this._unmodified=!1,this._edgeInsets.interpolate(t,e,n),this._constrain(),this._calcMatrices()},kr.prototype.coveringZoomLevel=function(t){var e=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,e)},kr.prototype.getVisibleUnwrappedCoordinates=function(e){var n=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new t.Point(0,0)),i=this.pointCoordinate(new t.Point(this.width,0)),o=this.pointCoordinate(new t.Point(this.width,this.height)),a=this.pointCoordinate(new t.Point(0,this.height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),l=Math.floor(Math.max(r.x,i.x,o.x,a.x)),u=s-1;u<=l+1;u++)0!==u&&n.push(new t.UnwrappedTileID(u,e));return n},kr.prototype.coveringTiles=function(e){var n=this.coveringZoomLevel(e),r=n;if(void 0!==e.minzoom&&n<e.minzoom)return[];void 0!==e.maxzoom&&n>e.maxzoom&&(n=e.maxzoom);var i=t.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=[o*i.x,o*i.y,0],s=br.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),l=e.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(l=n);var u=function(t){return{aabb:new xr([t*o,0,0],[(t+1)*o,o,0]),zoom:0,x:0,y:0,wrap:t,fullyVisible:!1}},c=[],p=[],d=n,h=e.reparseOverscaled?r:n;if(this._renderWorldCopies)for(var f=1;f<=3;f++)c.push(u(-f)),c.push(u(f));for(c.push(u(0));c.length>0;){var m=c.pop(),g=m.x,y=m.y,v=m.fullyVisible;if(!v){var _=m.aabb.intersects(s);if(0===_)continue;v=2===_}var b=m.aabb.distanceX(a),x=m.aabb.distanceY(a),w=Math.max(Math.abs(b),Math.abs(x));if(m.zoom===d||w>3+(1<<d-m.zoom)-2&&m.zoom>=l)p.push({tileID:new t.OverscaledTileID(m.zoom===d?h:m.zoom,m.wrap,m.zoom,g,y),distanceSq:t.sqrLen([a[0]-.5-g,a[1]-.5-y])});else for(var k=0;k<4;k++){var S=(g<<1)+k%2,C=(y<<1)+(k>>1);c.push({aabb:m.aabb.quadrant(k),zoom:m.zoom+1,x:S,y:C,wrap:m.wrap,fullyVisible:v})}}return p.sort((function(t,e){return t.distanceSq-e.distanceSq})).map((function(t){return t.tileID}))},kr.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},Sr.unmodified.get=function(){return this._unmodified},kr.prototype.zoomScale=function(t){return Math.pow(2,t)},kr.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},kr.prototype.project=function(e){var n=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(n)*this.worldSize)},kr.prototype.unproject=function(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()},Sr.point.get=function(){return this.project(this.center)},kr.prototype.setLocationAtPoint=function(e,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(e),a=new t.MercatorCoordinate(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},kr.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},kr.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},kr.prototype.locationCoordinate=function(e){return t.MercatorCoordinate.fromLngLat(e)},kr.prototype.coordinateLocation=function(t){return t.toLngLat()},kr.prototype.pointCoordinate=function(e){var n=[e.x,e.y,0,1],r=[e.x,e.y,1,1];t.transformMat4(n,n,this.pixelMatrixInverse),t.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],a=n[1]/i,s=r[1]/o,l=n[2]/i,u=r[2]/o,c=l===u?0:(0-l)/(u-l);return new t.MercatorCoordinate(t.number(n[0]/i,r[0]/o,c)/this.worldSize,t.number(a,s,c)/this.worldSize)},kr.prototype.coordinatePoint=function(e){var n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix),new t.Point(n[0]/n[3],n[1]/n[3])},kr.prototype.getBounds=function(){return(new t.LngLatBounds).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},kr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},kr.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},kr.prototype.calculatePosMatrix=function(e,n){void 0===n&&(n=!1);var r=e.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var o=e.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*e.wrap,l=t.identity(new Float64Array(16));return t.translate(l,l,[s*a,o.y*a,0]),t.scale(l,l,[a/t.EXTENT,a/t.EXTENT,1]),t.multiply(l,n?this.alignedProjMatrix:this.projMatrix,l),i[r]=new Float32Array(l),i[r]},kr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},kr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,n,r,i,o=-90,a=90,s=-180,l=180,u=this.size,c=this._unmodified;if(this.latRange){var p=this.latRange;o=t.mercatorYfromLat(p[1])*this.worldSize,e=(a=t.mercatorYfromLat(p[0])*this.worldSize)-o<u.y?u.y/(a-o):0}if(this.lngRange){var d=this.lngRange;s=t.mercatorXfromLng(d[0])*this.worldSize,n=(l=t.mercatorXfromLng(d[1])*this.worldSize)-s<u.x?u.x/(l-s):0}var h=this.point,f=Math.max(n||0,e||0);if(f)return this.center=this.unproject(new t.Point(n?(l+s)/2:h.x,e?(a+o)/2:h.y)),this.zoom+=this.scaleZoom(f),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var m=h.y,g=u.y/2;m-g<o&&(i=o+g),m+g>a&&(i=a-g)}if(this.lngRange){var y=h.x,v=u.x/2;y-v<s&&(r=s+v),y+v>l&&(r=l-v)}void 0===r&&void 0===i||(this.center=this.unproject(new t.Point(void 0!==r?r:h.x,void 0!==i?i:h.y))),this._unmodified=c,this._constraining=!1}},kr.prototype._calcMatrices=function(){if(this.height){var e=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var n=Math.PI/2+this._pitch,r=this._fov*(.5+e.y/this.height),i=Math.sin(r)*this.cameraToCenterDistance/Math.sin(t.clamp(Math.PI-n-r,.01,Math.PI-.01)),o=this.point,a=o.x,s=o.y,l=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),u=this.height/50,c=new Float64Array(16);t.perspective(c,this._fov,this.width/this.height,u,l),c[8]=2*-e.x/this.width,c[9]=2*e.y/this.height,t.scale(c,c,[1,-1,1]),t.translate(c,c,[0,0,-this.cameraToCenterDistance]),t.rotateX(c,c,this._pitch),t.rotateZ(c,c,this.angle),t.translate(c,c,[-a,-s,0]),this.mercatorMatrix=t.scale([],c,[this.worldSize,this.worldSize,this.worldSize]),t.scale(c,c,[1,1,t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=c,this.invProjMatrix=t.invert([],this.projMatrix);var p=this.width%2/2,d=this.height%2/2,h=Math.cos(this.angle),f=Math.sin(this.angle),m=a-Math.round(a)+h*p+f*d,g=s-Math.round(s)+h*d+f*p,y=new Float64Array(c);if(t.translate(y,y,[m>.5?m-1:m,g>.5?g-1:g,0]),this.alignedProjMatrix=y,c=t.create(),t.scale(c,c,[this.width/2,-this.height/2,1]),t.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=t.create(),t.scale(c,c,[1,-1,1]),t.translate(c,c,[-1,-1,0]),t.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(c=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=c,this._posMatrixCache={},this._alignedPosMatrixCache={}}},kr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)),n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},kr.prototype.getCameraPoint=function(){var e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.Point(0,e))},kr.prototype.getCameraQueryGeometry=function(e){var n=this.getCameraPoint();if(1===e.length)return[e[0],n];for(var r=n.x,i=n.y,o=n.x,a=n.y,s=0,l=e;s<l.length;s+=1){var u=l[s];r=Math.min(r,u.x),i=Math.min(i,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}return[new t.Point(r,i),new t.Point(o,i),new t.Point(o,a),new t.Point(r,a),new t.Point(r,i)]},Object.defineProperties(kr.prototype,Sr);var Cr=function(e){var n,r,i,o;this._hashName=e&&encodeURIComponent(e),t.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(n=this._updateHashUnthrottled.bind(this),r=!1,i=null,o=function(){i=null,r&&(n(),i=setTimeout(o,300),r=!1)},function(){return r=!0,i||o(),i})};Cr.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Cr.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Cr.prototype.getHashString=function(e){var n=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,i),a=Math.round(n.lng*o)/o,s=Math.round(n.lat*o)/o,l=this._map.getBearing(),u=this._map.getPitch(),c="";if(c+=e?"/"+a+"/"+s+"/"+r:r+"/"+s+"/"+a,(l||u)&&(c+="/"+Math.round(10*l)/10),u&&(c+="/"+Math.round(u)),this._hashName){var p=this._hashName,d=!1,h=t.window.location.hash.slice(1).split("&").map((function(t){var e=t.split("=")[0];return e===p?(d=!0,e+"="+c):t})).filter((function(t){return t}));return d||h.push(p+"="+c),"#"+h.join("&")}return"#"+c},Cr.prototype._getCurrentHash=function(){var e,n=this,r=t.window.location.hash.replace("#","");return this._hashName?(r.split("&").map((function(t){return t.split("=")})).forEach((function(t){t[0]===n._hashName&&(e=t)})),(e&&e[1]||"").split("/")):r.split("/")},Cr.prototype._onHashChange=function(){var t=this._getCurrentHash();if(t.length>=3&&!t.some((function(t){return isNaN(t)}))){var e=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0}return!1},Cr.prototype._updateHashUnthrottled=function(){var e=t.window.location.href.replace(/(#.+)?$/,this.getHashString());try{t.window.history.replaceState(t.window.history.state,null,e)}catch(t){}};var Er={linearity:.3,easing:t.bezier(0,0,.3,1)},Tr=t.extend({deceleration:2500,maxSpeed:1400},Er),Ir=t.extend({deceleration:20,maxSpeed:1400},Er),Mr=t.extend({deceleration:1e3,maxSpeed:360},Er),Ar=t.extend({deceleration:1e3,maxSpeed:90},Er),Or=function(t){this._map=t,this.clear()};function Pr(t,e){(!t.duration||t.duration<e.duration)&&(t.duration=e.duration,t.easing=e.easing)}function Dr(e,n,r){var i=r.maxSpeed,o=r.linearity,a=r.deceleration,s=t.clamp(e*o/(n/1e3),-i,i),l=Math.abs(s)/(a*o);return{easing:r.easing,duration:1e3*l,amount:s*(l/2)}}Or.prototype.clear=function(){this._inertiaBuffer=[]},Or.prototype.record=function(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:t.browser.now(),settings:e})},Or.prototype._drainInertiaBuffer=function(){for(var e=this._inertiaBuffer,n=t.browser.now();e.length>0&&n-e[0].time>160;)e.shift()},Or.prototype._onMoveEnd=function(e){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var n={zoom:0,bearing:0,pitch:0,pan:new t.Point(0,0),pinchAround:void 0,around:void 0},r=0,i=this._inertiaBuffer;r<i.length;r+=1){var o=i[r].settings;n.zoom+=o.zoomDelta||0,n.bearing+=o.bearingDelta||0,n.pitch+=o.pitchDelta||0,o.panDelta&&n.pan._add(o.panDelta),o.around&&(n.around=o.around),o.pinchAround&&(n.pinchAround=o.pinchAround)}var a=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(n.pan.mag()){var l=Dr(n.pan.mag(),a,t.extend({},Tr,e||{}));s.offset=n.pan.mult(l.amount/n.pan.mag()),s.center=this._map.transform.center,Pr(s,l)}if(n.zoom){var u=Dr(n.zoom,a,Ir);s.zoom=this._map.transform.zoom+u.amount,Pr(s,u)}if(n.bearing){var c=Dr(n.bearing,a,Mr);s.bearing=this._map.transform.bearing+t.clamp(c.amount,-179,179),Pr(s,c)}if(n.pitch){var p=Dr(n.pitch,a,Ar);s.pitch=this._map.transform.pitch+p.amount,Pr(s,p)}if(s.zoom||s.bearing){var d=void 0===n.pinchAround?n.around:n.pinchAround;s.around=d?this._map.unproject(d):this._map.getCenter()}return this.clear(),t.extend(s,{noMoveStart:!0})}};var zr=function(e){function r(r,i,o,a){void 0===a&&(a={});var s=n.mousePos(i.getCanvasContainer(),o),l=i.unproject(s);e.call(this,r,t.extend({point:s,lngLat:l,originalEvent:o},a)),this._defaultPrevented=!1,this.target=i}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(t.Event),Lr=function(e){function r(r,i,o){var a="touchend"===r?o.changedTouches:o.touches,s=n.touchPos(i.getCanvasContainer(),a),l=s.map((function(t){return i.unproject(t)})),u=s.reduce((function(t,e,n,r){return t.add(e.div(r.length))}),new t.Point(0,0)),c=i.unproject(u);e.call(this,r,{points:s,point:u,lngLats:l,lngLat:c,originalEvent:o}),this._defaultPrevented=!1}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(t.Event),Rr=function(t){function e(e,n,r){t.call(this,e,{originalEvent:r}),this._defaultPrevented=!1}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,n),e}(t.Event),Wr=function(t,e){this._map=t,this._clickTolerance=e.clickTolerance};Wr.prototype.reset=function(){delete this._mousedownPos},Wr.prototype.wheel=function(t){return this._firePreventable(new Rr(t.type,this._map,t))},Wr.prototype.mousedown=function(t,e){return this._mousedownPos=e,this._firePreventable(new zr(t.type,this._map,t))},Wr.prototype.mouseup=function(t){this._map.fire(new zr(t.type,this._map,t))},Wr.prototype.click=function(t,e){this._mousedownPos&&this._mousedownPos.dist(e)>=this._clickTolerance||this._map.fire(new zr(t.type,this._map,t))},Wr.prototype.dblclick=function(t){return this._firePreventable(new zr(t.type,this._map,t))},Wr.prototype.mouseover=function(t){this._map.fire(new zr(t.type,this._map,t))},Wr.prototype.mouseout=function(t){this._map.fire(new zr(t.type,this._map,t))},Wr.prototype.touchstart=function(t){return this._firePreventable(new Lr(t.type,this._map,t))},Wr.prototype.touchmove=function(t){this._map.fire(new Lr(t.type,this._map,t))},Wr.prototype.touchend=function(t){this._map.fire(new Lr(t.type,this._map,t))},Wr.prototype.touchcancel=function(t){this._map.fire(new Lr(t.type,this._map,t))},Wr.prototype._firePreventable=function(t){if(this._map.fire(t),t.defaultPrevented)return{}},Wr.prototype.isEnabled=function(){return!0},Wr.prototype.isActive=function(){return!1},Wr.prototype.enable=function(){},Wr.prototype.disable=function(){};var Br=function(t){this._map=t};Br.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Br.prototype.mousemove=function(t){this._map.fire(new zr(t.type,this._map,t))},Br.prototype.mousedown=function(){this._delayContextMenu=!0},Br.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new zr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Br.prototype.contextmenu=function(t){this._delayContextMenu?this._contextMenuEvent=t:this._map.fire(new zr(t.type,this._map,t)),this._map.listens("contextmenu")&&t.preventDefault()},Br.prototype.isEnabled=function(){return!0},Br.prototype.isActive=function(){return!1},Br.prototype.enable=function(){},Br.prototype.disable=function(){};var jr=function(t,e){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=e.clickTolerance||1};function Nr(t,e){for(var n={},r=0;r<t.length;r++)n[t[r].identifier]=e[r];return n}jr.prototype.isEnabled=function(){return!!this._enabled},jr.prototype.isActive=function(){return!!this._active},jr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},jr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},jr.prototype.mousedown=function(t,e){this.isEnabled()&&t.shiftKey&&0===t.button&&(n.disableDrag(),this._startPos=this._lastPos=e,this._active=!0)},jr.prototype.mousemoveWindow=function(t,e){if(this._active){var r=e;if(!(this._lastPos.equals(r)||!this._box&&r.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=r,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var o=Math.min(i.x,r.x),a=Math.max(i.x,r.x),s=Math.min(i.y,r.y),l=Math.max(i.y,r.y);n.setTransform(this._box,"translate("+o+"px,"+s+"px)"),this._box.style.width=a-o+"px",this._box.style.height=l-s+"px"}}},jr.prototype.mouseupWindow=function(e,r){var i=this;if(this._active&&0===e.button){var o=this._startPos,a=r;if(this.reset(),n.suppressClick(),o.x!==a.x||o.y!==a.y)return this._map.fire(new t.Event("boxzoomend",{originalEvent:e})),{cameraAnimation:function(t){return t.fitScreenCoordinates(o,a,i._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",e)}},jr.prototype.keydown=function(t){this._active&&27===t.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",t))},jr.prototype.blur=function(){this.reset()},jr.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},jr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,{originalEvent:n}))};var Fr=function(t){this.reset(),this.numTouches=t.numTouches};Fr.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Fr.prototype.touchstart=function(e,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),r.length===this.numTouches&&(this.centroid=function(e){for(var n=new t.Point(0,0),r=0,i=e;r<i.length;r+=1)n._add(i[r]);return n.div(e.length)}(n),this.touches=Nr(r,n)))},Fr.prototype.touchmove=function(t,e,n){if(!this.aborted&&this.centroid){var r=Nr(n,e);for(var i in this.touches){var o=r[i];(!o||o.dist(this.touches[i])>30)&&(this.aborted=!0)}}},Fr.prototype.touchend=function(t,e,n){if((!this.centroid||t.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}};var Ur=function(t){this.singleTap=new Fr(t),this.numTaps=t.numTaps,this.reset()};Ur.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Ur.prototype.touchstart=function(t,e,n){this.singleTap.touchstart(t,e,n)},Ur.prototype.touchmove=function(t,e,n){this.singleTap.touchmove(t,e,n)},Ur.prototype.touchend=function(t,e,n){var r=this.singleTap.touchend(t,e,n);if(r){var i=t.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(r)<30;if(i&&o||this.reset(),this.count++,this.lastTime=t.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}};var Vr=function(){this._zoomIn=new Ur({numTouches:1,numTaps:2}),this._zoomOut=new Ur({numTouches:2,numTaps:1}),this.reset()};Vr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Vr.prototype.touchstart=function(t,e,n){this._zoomIn.touchstart(t,e,n),this._zoomOut.touchstart(t,e,n)},Vr.prototype.touchmove=function(t,e,n){this._zoomIn.touchmove(t,e,n),this._zoomOut.touchmove(t,e,n)},Vr.prototype.touchend=function(t,e,n){var r=this,i=this._zoomIn.touchend(t,e,n),o=this._zoomOut.touchend(t,e,n);return i?(this._active=!0,t.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()+1,around:e.unproject(i)},{originalEvent:t})}}):o?(this._active=!0,t.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()-1,around:e.unproject(o)},{originalEvent:t})}}):void 0},Vr.prototype.touchcancel=function(){this.reset()},Vr.prototype.enable=function(){this._enabled=!0},Vr.prototype.disable=function(){this._enabled=!1,this.reset()},Vr.prototype.isEnabled=function(){return this._enabled},Vr.prototype.isActive=function(){return this._active};var qr={0:1,2:2},Hr=function(t){this.reset(),this._clickTolerance=t.clickTolerance||1};Hr.prototype.blur=function(){this.reset()},Hr.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Hr.prototype._correctButton=function(t,e){return!1},Hr.prototype._move=function(t,e){return{}},Hr.prototype.mousedown=function(t,e){if(!this._lastPoint){var r=n.mouseButton(t);this._correctButton(t,r)&&(this._lastPoint=e,this._eventButton=r)}},Hr.prototype.mousemoveWindow=function(t,e){var n=this._lastPoint;if(n)if(t.preventDefault(),function(t,e){var n=qr[e];return void 0===t.buttons||(t.buttons&n)!==n}(t,this._eventButton))this.reset();else if(this._moved||!(e.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=e,this._move(n,e)},Hr.prototype.mouseupWindow=function(t){this._lastPoint&&n.mouseButton(t)===this._eventButton&&(this._moved&&n.suppressClick(),this.reset())},Hr.prototype.enable=function(){this._enabled=!0},Hr.prototype.disable=function(){this._enabled=!1,this.reset()},Hr.prototype.isEnabled=function(){return this._enabled},Hr.prototype.isActive=function(){return this._active};var Gr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.mousedown=function(e,n){t.prototype.mousedown.call(this,e,n),this._lastPoint&&(this._active=!0)},e.prototype._correctButton=function(t,e){return 0===e&&!t.ctrlKey},e.prototype._move=function(t,e){return{around:e,panDelta:e.sub(t)}},e}(Hr),Zr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._correctButton=function(t,e){return 0===e&&t.ctrlKey||2===e},e.prototype._move=function(t,e){var n=.8*(e.x-t.x);if(n)return this._active=!0,{bearingDelta:n}},e.prototype.contextmenu=function(t){t.preventDefault()},e}(Hr),Kr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._correctButton=function(t,e){return 0===e&&t.ctrlKey||2===e},e.prototype._move=function(t,e){var n=-.5*(e.y-t.y);if(n)return this._active=!0,{pitchDelta:n}},e.prototype.contextmenu=function(t){t.preventDefault()},e}(Hr),Qr=function(t){this._minTouches=1,this._clickTolerance=t.clickTolerance||1,this.reset()};Qr.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new t.Point(0,0)},Qr.prototype.touchstart=function(t,e,n){return this._calculateTransform(t,e,n)},Qr.prototype.touchmove=function(t,e,n){if(this._active&&!(n.length<this._minTouches))return t.preventDefault(),this._calculateTransform(t,e,n)},Qr.prototype.touchend=function(t,e,n){this._calculateTransform(t,e,n),this._active&&n.length<this._minTouches&&this.reset()},Qr.prototype.touchcancel=function(){this.reset()},Qr.prototype._calculateTransform=function(e,n,r){r.length>0&&(this._active=!0);var i=Nr(r,n),o=new t.Point(0,0),a=new t.Point(0,0),s=0;for(var l in i){var u=i[l],c=this._touches[l];c&&(o._add(u),a._add(u.sub(c)),s++,i[l]=u)}if(this._touches=i,!(s<this._minTouches)&&a.mag()){var p=a.div(s);if(this._sum._add(p),!(this._sum.mag()<this._clickTolerance))return{around:o.div(s),panDelta:p}}},Qr.prototype.enable=function(){this._enabled=!0},Qr.prototype.disable=function(){this._enabled=!1,this.reset()},Qr.prototype.isEnabled=function(){return this._enabled},Qr.prototype.isActive=function(){return this._active};var Xr=function(){this.reset()};function Yr(t,e,n){for(var r=0;r<t.length;r++)if(t[r].identifier===n)return e[r]}function Jr(t,e){return Math.log(t/e)/Math.LN2}Xr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Xr.prototype._start=function(t){},Xr.prototype._move=function(t,e,n){return{}},Xr.prototype.touchstart=function(t,e,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([e[0],e[1]]))},Xr.prototype.touchmove=function(t,e,n){if(this._firstTwoTouches){t.preventDefault();var r=this._firstTwoTouches,i=r[1],o=Yr(n,e,r[0]),a=Yr(n,e,i);if(o&&a){var s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,t)}}},Xr.prototype.touchend=function(t,e,r){if(this._firstTwoTouches){var i=this._firstTwoTouches,o=i[1],a=Yr(r,e,i[0]),s=Yr(r,e,o);a&&s||(this._active&&n.suppressClick(),this.reset())}},Xr.prototype.touchcancel=function(){this.reset()},Xr.prototype.enable=function(t){this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around},Xr.prototype.disable=function(){this._enabled=!1,this.reset()},Xr.prototype.isEnabled=function(){return this._enabled},Xr.prototype.isActive=function(){return this._active};var $r=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),delete this._distance,delete this._startDistance},e.prototype._start=function(t){this._startDistance=this._distance=t[0].dist(t[1])},e.prototype._move=function(t,e){var n=this._distance;if(this._distance=t[0].dist(t[1]),this._active||!(Math.abs(Jr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Jr(this._distance,n),pinchAround:e}},e}(Xr);function ti(t,e){return 180*t.angleWith(e)/Math.PI}var ei=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},e.prototype._start=function(t){this._startVector=this._vector=t[0].sub(t[1]),this._minDiameter=t[0].dist(t[1])},e.prototype._move=function(t,e){var n=this._vector;if(this._vector=t[0].sub(t[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ti(this._vector,n),pinchAround:e}},e.prototype._isBelowThreshold=function(t){this._minDiameter=Math.min(this._minDiameter,t.mag());var e=25/(Math.PI*this._minDiameter)*360,n=ti(t,this._startVector);return Math.abs(n)<e},e}(Xr);function ni(t){return Math.abs(t.y)>Math.abs(t.x)}var ri=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},e.prototype._start=function(t){this._lastPoints=t,ni(t[0].sub(t[1]))&&(this._valid=!1)},e.prototype._move=function(t,e,n){var r=t[0].sub(this._lastPoints[0]),i=t[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid)return this._lastPoints=t,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}},e.prototype.gestureBeginsVertically=function(t,e,n){if(void 0!==this._valid)return this._valid;var r=t.mag()>=2,i=e.mag()>=2;if(r||i){if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var o=t.y>0==e.y>0;return ni(t)&&ni(e)&&o}},e}(Xr),ii={panStep:100,bearingStep:15,pitchStep:10},oi=function(){var t=ii;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1};function ai(t){return t*(2-t)}oi.prototype.blur=function(){this.reset()},oi.prototype.reset=function(){this._active=!1},oi.prototype.keydown=function(t){var e=this;if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=0,r=0,i=0,o=0,a=0;switch(t.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:t.shiftKey?r=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?r=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?i=1:(t.preventDefault(),a=-1);break;case 40:t.shiftKey?i=-1:(t.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(r=0,i=0),{cameraAnimation:function(s){var l=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:ai,zoom:n?Math.round(l)+n*(t.shiftKey?2:1):l,bearing:s.getBearing()+r*e._bearingStep,pitch:s.getPitch()+i*e._pitchStep,offset:[-o*e._panStep,-a*e._panStep],center:s.getCenter()},{originalEvent:t})}}}},oi.prototype.enable=function(){this._enabled=!0},oi.prototype.disable=function(){this._enabled=!1,this.reset()},oi.prototype.isEnabled=function(){return this._enabled},oi.prototype.isActive=function(){return this._active},oi.prototype.disableRotation=function(){this._rotationDisabled=!0},oi.prototype.enableRotation=function(){this._rotationDisabled=!1};var si=function(e,n){this._map=e,this._el=e.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,t.bindAll(["_onTimeout"],this)};si.prototype.setZoomRate=function(t){this._defaultZoomRate=t},si.prototype.setWheelZoomRate=function(t){this._wheelZoomRate=t},si.prototype.isEnabled=function(){return!!this._enabled},si.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},si.prototype.isZooming=function(){return!!this._zooming},si.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},si.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},si.prototype.wheel=function(e){if(this.isEnabled()){var n=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,r=t.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this._active||this._start(e)),e.preventDefault()}},si.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(t)},si.prototype._start=function(e){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var r=n.mousePos(this._el,e);this._around=t.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},si.prototype.renderFrame=function(){var e=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a,s="number"==typeof this._targetZoom?this._targetZoom:n.zoom,l=this._startZoom,u=this._easing,c=!1;if("wheel"===this._type&&l&&u){var p=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),d=u(p);a=t.number(l,s,d),p<1?this._frameId||(this._frameId=!0):c=!0}else a=s,c=!0;return this._active=!0,c&&(this._active=!1,this._finishTimeout=setTimeout((function(){e._zooming=!1,e._handler._triggerRenderFrame(),delete e._targetZoom,delete e._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!c,zoomDelta:a-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},si.prototype._smoothOutEasing=function(e){var n=t.ease;if(this._prevEase){var r=this._prevEase,i=(t.browser.now()-r.start)/r.duration,o=r.easing(i+.01)-r.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=t.bezier(a,s,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:n},n},si.prototype.blur=function(){this.reset()},si.prototype.reset=function(){this._active=!1};var li=function(t,e){this._clickZoom=t,this._tapZoom=e};li.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},li.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},li.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},li.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ui=function(){this.reset()};ui.prototype.reset=function(){this._active=!1},ui.prototype.blur=function(){this.reset()},ui.prototype.dblclick=function(t,e){return t.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(t.shiftKey?-1:1),around:n.unproject(e)},{originalEvent:t})}}},ui.prototype.enable=function(){this._enabled=!0},ui.prototype.disable=function(){this._enabled=!1,this.reset()},ui.prototype.isEnabled=function(){return this._enabled},ui.prototype.isActive=function(){return this._active};var ci=function(){this._tap=new Ur({numTouches:1,numTaps:1}),this.reset()};ci.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ci.prototype.touchstart=function(t,e,n){this._swipePoint||(this._tapTime&&t.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=e[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(t,e,n))},ci.prototype.touchmove=function(t,e,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=e[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,t.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(t,e,n)},ci.prototype.touchend=function(t,e,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(t,e,n)&&(this._tapTime=t.timeStamp)},ci.prototype.touchcancel=function(){this.reset()},ci.prototype.enable=function(){this._enabled=!0},ci.prototype.disable=function(){this._enabled=!1,this.reset()},ci.prototype.isEnabled=function(){return this._enabled},ci.prototype.isActive=function(){return this._active};var pi=function(t,e,n){this._el=t,this._mousePan=e,this._touchPan=n};pi.prototype.enable=function(t){this._inertiaOptions=t||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},pi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},pi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},pi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var di=function(t,e,n){this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=e,this._mousePitch=n};di.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},di.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},di.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},di.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var hi=function(t,e,n,r){this._el=t,this._touchZoom=e,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0};hi.prototype.enable=function(t){this._touchZoom.enable(t),this._rotationDisabled||this._touchRotate.enable(t),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},hi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},hi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},hi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},hi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},hi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var fi=function(t){return t.zoom||t.drag||t.pitch||t.rotate},mi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(t.Event);function gi(t){return t.panDelta&&t.panDelta.mag()||t.zoomDelta||t.bearingDelta||t.pitchDelta}var yi=function(e,r){this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Or(e),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r),t.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[t.window.document,"mousemove",{capture:!0}],[t.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[t.window,"blur",void 0]];for(var o=0,a=this._listeners;o<a.length;o+=1){var s=a[o],l=s[0];n.addEventListener(l,s[1],l===t.window.document?this.handleWindowEvent:this.handleEvent,s[2])}};yi.prototype.destroy=function(){for(var e=0,r=this._listeners;e<r.length;e+=1){var i=r[e],o=i[0];n.removeEventListener(o,i[1],o===t.window.document?this.handleWindowEvent:this.handleEvent,i[2])}},yi.prototype._addDefaultHandlers=function(t){var e=this._map,n=e.getCanvasContainer();this._add("mapEvent",new Wr(e,t));var r=e.boxZoom=new jr(e,t);this._add("boxZoom",r);var i=new Vr,o=new ui;e.doubleClickZoom=new li(o,i),this._add("tapZoom",i),this._add("clickZoom",o);var a=new ci;this._add("tapDragZoom",a);var s=e.touchPitch=new ri;this._add("touchPitch",s);var l=new Zr(t),u=new Kr(t);e.dragRotate=new di(t,l,u),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",u,["mouseRotate"]);var c=new Gr(t),p=new Qr(t);e.dragPan=new pi(n,c,p),this._add("mousePan",c),this._add("touchPan",p,["touchZoom","touchRotate"]);var d=new ei,h=new $r;e.touchZoomRotate=new hi(n,h,d,a),this._add("touchRotate",d,["touchPan","touchZoom"]),this._add("touchZoom",h,["touchPan","touchRotate"]);var f=e.scrollZoom=new si(e,this);this._add("scrollZoom",f,["mousePan"]);var m=e.keyboard=new oi;this._add("keyboard",m),this._add("blockableMapEvent",new Br(e));for(var g=0,y=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];g<y.length;g+=1){var v=y[g];t.interactive&&t[v]&&e[v].enable(t[v])}},yi.prototype._add=function(t,e,n){this._handlers.push({handlerName:t,handler:e,allowed:n}),this._handlersById[t]=e},yi.prototype.stop=function(t){if(!this._updatingCamera){for(var e=0,n=this._handlers;e<n.length;e+=1)n[e].handler.reset();this._inertia.clear(),this._fireEvents({},{},t),this._changes=[]}},yi.prototype.isActive=function(){for(var t=0,e=this._handlers;t<e.length;t+=1)if(e[t].handler.isActive())return!0;return!1},yi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},yi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},yi.prototype.isMoving=function(){return Boolean(fi(this._eventsInProgress))||this.isZooming()},yi.prototype._blockedByActive=function(t,e,n){for(var r in t)if(r!==n&&(!e||e.indexOf(r)<0))return!0;return!1},yi.prototype.handleWindowEvent=function(t){this.handleEvent(t,t.type+"Window")},yi.prototype._getMapTouches=function(t){for(var e=[],n=0,r=t;n<r.length;n+=1){var i=r[n];this._el.contains(i.target)&&e.push(i)}return e},yi.prototype.handleEvent=function(t,e){this._updatingCamera=!0;for(var r="renderFrame"===t.type?void 0:t,i={needsRenderFrame:!1},o={},a={},s=t.touches?this._getMapTouches(t.touches):void 0,l=s?n.touchPos(this._el,s):n.mousePos(this._el,t),u=0,c=this._handlers;u<c.length;u+=1){var p=c[u],d=p.handlerName,h=p.handler,f=p.allowed;if(h.isEnabled()){var m=void 0;this._blockedByActive(a,f,d)?h.reset():h[e||t.type]&&(m=h[e||t.type](t,l,s),this.mergeHandlerResult(i,o,m,d,r),m&&m.needsRenderFrame&&this._triggerRenderFrame()),(m||h.isActive())&&(a[d]=h)}}var g={};for(var y in this._previousActiveHandlers)a[y]||(g[y]=r);this._previousActiveHandlers=a,(Object.keys(g).length||gi(i))&&(this._changes.push([i,o,g]),this._triggerRenderFrame()),(Object.keys(a).length||gi(i))&&this._map._stop(!0),this._updatingCamera=!1;var v=i.cameraAnimation;v&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],v(this._map))},yi.prototype.mergeHandlerResult=function(e,n,r,i,o){if(r){t.extend(e,r);var a={handlerName:i,originalEvent:r.originalEvent||o};void 0!==r.zoomDelta&&(n.zoom=a),void 0!==r.panDelta&&(n.drag=a),void 0!==r.pitchDelta&&(n.pitch=a),void 0!==r.bearingDelta&&(n.rotate=a)}},yi.prototype._applyChanges=function(){for(var e={},n={},r={},i=0,o=this._changes;i<o.length;i+=1){var a=o[i],s=a[0],l=a[1],u=a[2];s.panDelta&&(e.panDelta=(e.panDelta||new t.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(e.around=s.around),void 0!==s.pinchAround&&(e.pinchAround=s.pinchAround),s.noInertia&&(e.noInertia=s.noInertia),t.extend(n,l),t.extend(r,u)}this._updateMapTransform(e,n,r),this._changes=[]},yi.prototype._updateMapTransform=function(t,e,n){var r=this._map,i=r.transform;if(!gi(t))return this._fireEvents(e,n,!0);var o=t.panDelta,a=t.zoomDelta,s=t.bearingDelta,l=t.pitchDelta,u=t.around,c=t.pinchAround;void 0!==c&&(u=c),r._stop(!0),u=u||r.transform.centerPoint;var p=i.pointLocation(o?u.sub(o):u);s&&(i.bearing+=s),l&&(i.pitch+=l),a&&(i.zoom+=a),i.setLocationAtPoint(p,u),this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(e,n,!0)},yi.prototype._fireEvents=function(e,n,r){var i=this,o=fi(this._eventsInProgress),a=fi(e),s={};for(var l in e)this._eventsInProgress[l]||(s[l+"start"]=e[l].originalEvent),this._eventsInProgress[l]=e[l];for(var u in!o&&a&&this._fireEvent("movestart",a.originalEvent),s)this._fireEvent(u,s[u]);for(var c in a&&this._fireEvent("move",a.originalEvent),e)this._fireEvent(c,e[c].originalEvent);var p,d={};for(var h in this._eventsInProgress){var f=this._eventsInProgress[h],m=f.handlerName,g=f.originalEvent;this._handlersById[m].isActive()||(delete this._eventsInProgress[h],d[h+"end"]=p=n[m]||g)}for(var y in d)this._fireEvent(y,d[y]);var v=fi(this._eventsInProgress);if(r&&(o||a)&&!v){this._updatingCamera=!0;var _=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),b=function(t){return 0!==t&&-i._bearingSnap<t&&t<i._bearingSnap};_?(b(_.bearing||this._map.getBearing())&&(_.bearing=0),this._map.easeTo(_,{originalEvent:p})):(this._map.fire(new t.Event("moveend",{originalEvent:p})),b(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},yi.prototype._fireEvent=function(e,n){this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},yi.prototype._requestFrame=function(){var t=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(e){delete t._frameId,t.handleEvent(new mi("renderFrame",{timeStamp:e})),t._applyChanges()}))},yi.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var vi=function(e){function n(n,r){e.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getCenter=function(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},n.prototype.panBy=function(e,n,r){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},n),r)},n.prototype.panTo=function(e,n,r){return this.easeTo(t.extend({center:e},n),r)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},n.prototype.zoomTo=function(e,n,r){return this.easeTo(t.extend({zoom:e},n),r)},n.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},n.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},n.prototype.getPadding=function(){return this.transform.padding},n.prototype.setPadding=function(t,e){return this.jumpTo({padding:t},e),this},n.prototype.rotateTo=function(e,n,r){return this.easeTo(t.extend({bearing:e},n),r)},n.prototype.resetNorth=function(e,n){return this.rotateTo(0,t.extend({duration:1e3},e),n),this},n.prototype.resetNorthPitch=function(e,n){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},e),n),this},n.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},n.prototype.cameraForBounds=function(e,n){e=t.LngLatBounds.convert(e);var r=n&&n.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),r,n)},n.prototype._cameraForBoxAndBearing=function(e,n,r,i){var o={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=t.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var a=i.padding;i.padding={top:a,bottom:a,right:a,left:a}}i.padding=t.extend(o,i.padding);var s=this.transform,l=s.padding,u=s.project(t.LngLat.convert(e)),c=s.project(t.LngLat.convert(n)),p=u.rotate(-r*Math.PI/180),d=c.rotate(-r*Math.PI/180),h=new t.Point(Math.max(p.x,d.x),Math.max(p.y,d.y)),f=new t.Point(Math.min(p.x,d.x),Math.min(p.y,d.y)),m=h.sub(f),g=(s.width-(l.left+l.right+i.padding.left+i.padding.right))/m.x,y=(s.height-(l.top+l.bottom+i.padding.top+i.padding.bottom))/m.y;if(!(y<0||g<0)){var v=Math.min(s.scaleZoom(s.scale*Math.min(g,y)),i.maxZoom),_="number"==typeof i.offset.x?new t.Point(i.offset.x,i.offset.y):t.Point.convert(i.offset),b=new t.Point((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(r*Math.PI/180),x=_.add(b).mult(s.scale/s.zoomScale(v));return{center:s.unproject(u.add(c).div(2).sub(x)),zoom:v,bearing:r}}t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},n.prototype.fitBounds=function(t,e,n){return this._fitInternal(this.cameraForBounds(t,e),e,n)},n.prototype.fitScreenCoordinates=function(e,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(n)),r,i),i,o)},n.prototype._fitInternal=function(e,n,r){return e?(delete(n=t.extend(e,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this},n.prototype.jumpTo=function(e,n){this.stop();var r=this.transform,i=!1,o=!1,a=!1;return"zoom"in e&&r.zoom!==+e.zoom&&(i=!0,r.zoom=+e.zoom),void 0!==e.center&&(r.center=t.LngLat.convert(e.center)),"bearing"in e&&r.bearing!==+e.bearing&&(o=!0,r.bearing=+e.bearing),"pitch"in e&&r.pitch!==+e.pitch&&(a=!0,r.pitch=+e.pitch),null==e.padding||r.isPaddingEqual(e.padding)||(r.padding=e.padding),this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),i&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),o&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),a&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n))},n.prototype.easeTo=function(e,n){var r=this;this._stop(!1,e.easeId),(!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate||!e.essential&&t.browser.prefersReducedMotion)&&(e.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l=this.getPadding(),u="zoom"in e?+e.zoom:o,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,p="pitch"in e?+e.pitch:s,d="padding"in e?e.padding:i.padding,h=t.Point.convert(e.offset),f=i.centerPoint.add(h),m=i.pointLocation(f),g=t.LngLat.convert(e.center||m);this._normalizeCenter(g);var y,v,_=i.project(m),b=i.project(g).sub(_),x=i.zoomScale(u-o);e.around&&(y=t.LngLat.convert(e.around),v=i.locationPoint(y));var w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||u!==o,this._rotating=this._rotating||a!==c,this._pitching=this._pitching||p!==s,this._padding=!i.isPaddingEqual(d),this._easeId=e.easeId,this._prepareEase(n,e.noMoveStart,w),this._ease((function(e){if(r._zooming&&(i.zoom=t.number(o,u,e)),r._rotating&&(i.bearing=t.number(a,c,e)),r._pitching&&(i.pitch=t.number(s,p,e)),r._padding&&(i.interpolatePadding(l,d,e),f=i.centerPoint.add(h)),y)i.setLocationAtPoint(y,v);else{var m=i.zoomScale(i.zoom-o),g=u>o?Math.min(2,x):Math.max(.5,x),w=Math.pow(g,1-e),k=i.unproject(_.add(b.mult(e*w)).mult(m));i.setLocationAtPoint(i.renderWorldCopies?k.wrap():k,f)}r._fireMoveEvents(n)}),(function(t){r._afterEase(n,t)}),e),this},n.prototype._prepareEase=function(e,n,r){void 0===r&&(r={}),this._moving=!0,n||r.moving||this.fire(new t.Event("movestart",e)),this._zooming&&!r.zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&!r.rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&!r.pitching&&this.fire(new t.Event("pitchstart",e))},n.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},n.prototype._afterEase=function(e,n){if(!this._easeId||!n||this._easeId!==n){delete this._easeId;var r=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new t.Event("zoomend",e)),i&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))}},n.prototype.flyTo=function(e,n){var r=this;if(!e.essential&&t.browser.prefersReducedMotion){var i=t.pick(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var o=this.transform,a=this.getZoom(),s=this.getBearing(),l=this.getPitch(),u=this.getPadding(),c="zoom"in e?t.clamp(+e.zoom,o.minZoom,o.maxZoom):a,p="bearing"in e?this._normalizeBearing(e.bearing,s):s,d="pitch"in e?+e.pitch:l,h="padding"in e?e.padding:o.padding,f=o.zoomScale(c-a),m=t.Point.convert(e.offset),g=o.centerPoint.add(m),y=o.pointLocation(g),v=t.LngLat.convert(e.center||y);this._normalizeCenter(v);var _=o.project(y),b=o.project(v).sub(_),x=e.curve,w=Math.max(o.width,o.height),k=w/f,S=b.mag();if("minZoom"in e){var C=t.clamp(Math.min(e.minZoom,a,c),o.minZoom,o.maxZoom),E=w/o.zoomScale(C-a);x=Math.sqrt(E/S*2)}var T=x*x;function I(t){var e=(k*k-w*w+(t?-1:1)*T*T*S*S)/(2*(t?k:w)*T*S);return Math.log(Math.sqrt(e*e+1)-e)}function M(t){return(Math.exp(t)-Math.exp(-t))/2}function A(t){return(Math.exp(t)+Math.exp(-t))/2}var O=I(0),P=function(t){return A(O)/A(O+x*t)},D=function(t){return w*((A(O)*(M(e=O+x*t)/A(e))-M(O))/T)/S;var e},z=(I(1)-O)/x;if(Math.abs(S)<1e-6||!isFinite(z)){if(Math.abs(w-k)<1e-6)return this.easeTo(e,n);var L=k<w?-1:1;z=Math.abs(Math.log(k/w))/x,D=function(){return 0},P=function(t){return Math.exp(L*x*t)}}return e.duration="duration"in e?+e.duration:1e3*z/("screenSpeed"in e?+e.screenSpeed/x:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=s!==p,this._pitching=d!==l,this._padding=!o.isPaddingEqual(h),this._prepareEase(n,!1),this._ease((function(e){var i=e*z,f=1/P(i);o.zoom=1===e?c:a+o.scaleZoom(f),r._rotating&&(o.bearing=t.number(s,p,e)),r._pitching&&(o.pitch=t.number(l,d,e)),r._padding&&(o.interpolatePadding(u,h,e),g=o.centerPoint.add(m));var y=1===e?v:o.unproject(_.add(b.mult(D(i))).mult(f));o.setLocationAtPoint(o.renderWorldCopies?y.wrap():y,g),r._fireMoveEvents(n)}),(function(){return r._afterEase(n)}),e),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){return this._stop()},n.prototype._stop=function(t,e){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,e)}if(!t){var r=this.handlers;r&&r.stop(!1)}return this},n.prototype._ease=function(e,n,r){!1===r.animate||0===r.duration?(e(1),n()):(this._easeStart=t.browser.now(),this._easeOptions=r,this._onEaseFrame=e,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(e,n){e=t.wrap(e,-180,180);var r=Math.abs(e-n);return Math.abs(e-360-n)<r&&(e-=360),Math.abs(e+360-n)<r&&(e+=360),e},n.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},n}(t.Evented),_i=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};_i.prototype.getDefaultPosition=function(){return"bottom-right"},_i.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=n.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},_i.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},_i.prototype._setElementTitle=function(t,e){var n=this._map._getUIString("AttributionControl."+e);t.title=n,t.setAttribute("aria-label",n)},_i.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},_i.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(e){var r=n.reduce((function(t,e,r){return e.value&&(t+=e.key+"="+e.value+(r<n.length-1?"&":"")),t}),"?");e.href=t.config.FEEDBACK_URL+"/"+r+(this._map._hash?this._map._hash.getHashString(!0):""),e.rel="noopener nofollow",this._setElementTitle(e,"MapFeedback")}},_i.prototype._updateData=function(t){!t||"metadata"!==t.sourceDataType&&"visibility"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())},_i.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map((function(t){return"string"!=typeof t?"":t}))):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var o=i.getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}}t.sort((function(t,e){return t.length-e.length}));var a=(t=t.filter((function(e,n){for(var r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}))).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,t.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},_i.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var bi=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};bi.prototype.onAdd=function(t){this._map=t,this._container=n.create("div","mapboxgl-ctrl");var e=n.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://www.mapbox.com/",e.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},bi.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},bi.prototype.getDefaultPosition=function(){return"bottom-left"},bi.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},bi.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},bi.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var xi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};xi.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},xi.prototype.remove=function(t){for(var e=this._currentlyRunning,n=0,r=e?this._queue.concat(e):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===t)return void(i.cancelled=!0)}},xi.prototype.run=function(t){void 0===t&&(t=0);var e=this._currentlyRunning=this._queue;this._queue=[];for(var n=0,r=e;n<r.length;n+=1){var i=r[n];if(!i.cancelled&&(i.callback(t),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},xi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var wi={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},ki=t.window.HTMLImageElement,Si=t.window.HTMLElement,Ci=t.window.ImageBitmap,Ei={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Ti=function(r){function i(e){var n=this;if(null!=(e=t.extend({},Ei,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=e.minPitch&&null!=e.maxPitch&&e.minPitch>e.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=e.minPitch&&e.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=e.maxPitch&&e.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var i=new kr(e.minZoom,e.maxZoom,e.minPitch,e.maxPitch,e.renderWorldCopies);if(r.call(this,i,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new xi,this._controls=[],this._mapId=t.uniqueId(),this._locale=t.extend({},wi,e.locale),this._clickTolerance=e.clickTolerance,this._requestManager=new t.RequestManager(e.transformRequest,e.accessToken),"string"==typeof e.container){if(this._container=t.window.document.getElementById(e.container),!this._container)throw new Error("Container '"+e.container+"' not found.")}else{if(!(e.container instanceof Si))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return n._update(!1)})),this.on("moveend",(function(){return n._update(!1)})),this.on("zoom",(function(){return n._update(!0)})),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1),t.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new yi(this,e),this._hash=e.hash&&new Cr("string"==typeof e.hash&&e.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(this.resize(),this.fitBounds(e.bounds,t.extend({},e.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=e.localIdeographFontFamily,e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new _i({customAttribution:e.customAttribution})),this.addControl(new bi,e.logoPosition),this.on("style.load",(function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)})),this.on("data",(function(e){n._update("style"===e.dataType),n.fire(new t.Event(e.dataType+"data",e))})),this.on("dataloading",(function(e){n.fire(new t.Event(e.dataType+"dataloading",e))}))}r&&(i.__proto__=r),(i.prototype=Object.create(r&&r.prototype)).constructor=i;var o={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(e,n){if(void 0===n&&(n=e.getDefaultPosition?e.getDefaultPosition():"top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=e.onAdd(this);this._controls.push(e);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this},i.prototype.removeControl=function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(e);return n>-1&&this._controls.splice(n,1),e.onRemove(this),this},i.prototype.hasControl=function(t){return this._controls.indexOf(t)>-1},i.prototype.resize=function(e){var n=this._containerDimensions(),r=n[0],i=n[1];if(r===this.transform.width&&i===this.transform.height)return this;this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i);var o=!this._moving;return o&&this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)),this.fire(new t.Event("resize",e)),o&&this.fire(new t.Event("moveend",e)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()},i.prototype.setMinZoom=function(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.setMinPitch=function(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t&&this.setPitch(t),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},i.prototype.getMinPitch=function(){return this.transform.minPitch},i.prototype.setMaxPitch=function(t){if((t=null==t?60:t)>60)throw new Error("maxPitch must be less than or equal to 60");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t&&this.setPitch(t),this;throw new Error("maxPitch must be greater than the current minPitch")},i.prototype.getMaxPitch=function(){return this.transform.maxPitch},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},i.prototype.project=function(e){return this.transform.locationPoint(t.LngLat.convert(e))},i.prototype.unproject=function(e){return this.transform.pointLocation(t.Point.convert(e))},i.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},i.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},i.prototype._createDelegatedListener=function(t,e,n){var r,i=this;if("mouseenter"===t||"mouseover"===t){var o=!1;return{layer:e,listener:n,delegates:{mousemove:function(r){var a=i.getLayer(e)?i.queryRenderedFeatures(r.point,{layers:[e]}):[];a.length?o||(o=!0,n.call(i,new zr(t,i,r.originalEvent,{features:a}))):o=!1},mouseout:function(){o=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:e,listener:n,delegates:{mousemove:function(r){(i.getLayer(e)?i.queryRenderedFeatures(r.point,{layers:[e]}):[]).length?a=!0:a&&(a=!1,n.call(i,new zr(t,i,r.originalEvent)))},mouseout:function(e){a&&(a=!1,n.call(i,new zr(t,i,e.originalEvent)))}}}}return{layer:e,listener:n,delegates:(r={},r[t]=function(t){var r=i.getLayer(e)?i.queryRenderedFeatures(t.point,{layers:[e]}):[];r.length&&(t.features=r,n.call(i,t),delete t.features)},r)}},i.prototype.on=function(t,e,n){if(void 0===n)return r.prototype.on.call(this,t,e);var i=this._createDelegatedListener(t,e,n);for(var o in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(i),i.delegates)this.on(o,i.delegates[o]);return this},i.prototype.once=function(t,e,n){if(void 0===n)return r.prototype.once.call(this,t,e);var i=this._createDelegatedListener(t,e,n);for(var o in i.delegates)this.once(o,i.delegates[o]);return this},i.prototype.off=function(t,e,n){var i=this;return void 0===n?r.prototype.off.call(this,t,e):(this._delegatedListeners&&this._delegatedListeners[t]&&function(r){for(var o=r[t],a=0;a<o.length;a++){var s=o[a];if(s.layer===e&&s.listener===n){for(var l in s.delegates)i.off(l,s.delegates[l]);return o.splice(a,1),i}}}(this._delegatedListeners),this)},i.prototype.queryRenderedFeatures=function(e,n){if(!this.style)return[];var r;if(void 0!==n||void 0===e||e instanceof t.Point||Array.isArray(e)||(n=e,e=void 0),n=n||{},(e=e||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||"number"==typeof e[0])r=[t.Point.convert(e)];else{var i=t.Point.convert(e[0]),o=t.Point.convert(e[1]);r=[i,new t.Point(o.x,i.y),o,new t.Point(i.x,o.y),i]}return this.style.queryRenderedFeatures(r,n,this.transform)},i.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},i.prototype.setStyle=function(e,n){return!1!==(n=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(e,n))},i.prototype._getUIString=function(t){var e=this._locale[t];if(null==e)throw new Error("Missing UI string '"+t+"'");return e},i.prototype._updateStyle=function(t,e){return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new Ve(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},i.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ve(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},i.prototype._diffStyle=function(e,n){var r=this;if("string"==typeof e){var i=this._requestManager.normalizeStyleURL(e),o=this._requestManager.transformRequest(i,t.ResourceType.Style);t.getJSON(o,(function(e,i){e?r.fire(new t.ErrorEvent(e)):i&&r._updateDiff(i,n)}))}else"object"==typeof e&&this._updateDiff(e,n)},i.prototype._updateDiff=function(e,n){try{this.style.setState(e)&&this._update(!0)}catch(r){t.warnOnce("Unable to perform style diff: "+(r.message||r.error||r)+".  Rebuilding the style from scratch."),this._updateStyle(e,n)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(t,e){return this._lazyInitEmptyStyle(),this.style.addSource(t,e),this._update(!0)},i.prototype.isSourceLoaded=function(e){var n=this.style&&this.style.sourceCaches[e];if(void 0!==n)return n.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},i.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},i.prototype.addSourceType=function(t,e,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(t,e,n)},i.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},i.prototype.getSource=function(t){return this.style.getSource(t)},i.prototype.addImage=function(e,n,r){void 0===r&&(r={});var i=r.pixelRatio;void 0===i&&(i=1);var o=r.sdf;void 0===o&&(o=!1);var a=r.stretchX,s=r.stretchY,l=r.content;if(this._lazyInitEmptyStyle(),n instanceof ki||Ci&&n instanceof Ci){var u=t.browser.getImageData(n);this.style.addImage(e,{data:new t.RGBAImage({width:u.width,height:u.height},u.data),pixelRatio:i,stretchX:a,stretchY:s,content:l,sdf:o,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=n;this.style.addImage(e,{data:new t.RGBAImage({width:n.width,height:n.height},new Uint8Array(n.data)),pixelRatio:i,stretchX:a,stretchY:s,content:l,sdf:o,version:0,userImage:c}),c.onAdd&&c.onAdd(this,e)}},i.prototype.updateImage=function(e,n){var r=this.style.getImage(e);if(!r)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=n instanceof ki||Ci&&n instanceof Ci?t.browser.getImageData(n):n,o=i.width,a=i.height,s=i.data;return void 0===o||void 0===a?this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==r.data.width||a!==r.data.height?this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(r.data.replace(s,!(n instanceof ki||Ci&&n instanceof Ci)),void this.style.updateImage(e,r))},i.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(t){this.style.removeImage(t)},i.prototype.loadImage=function(e,n){t.getImage(this._requestManager.transformRequest(e,t.ResourceType.Image),n)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(t,e){return this._lazyInitEmptyStyle(),this.style.addLayer(t,e),this._update(!0)},i.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},i.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},i.prototype.getLayer=function(t){return this.style.getLayer(t)},i.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0)},i.prototype.setFilter=function(t,e,n){return void 0===n&&(n={}),this.style.setFilter(t,e,n),this._update(!0)},i.prototype.getFilter=function(t){return this.style.getFilter(t)},i.prototype.setPaintProperty=function(t,e,n,r){return void 0===r&&(r={}),this.style.setPaintProperty(t,e,n,r),this._update(!0)},i.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},i.prototype.setLayoutProperty=function(t,e,n,r){return void 0===r&&(r={}),this.style.setLayoutProperty(t,e,n,r),this._update(!0)},i.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},i.prototype.setLight=function(t,e){return void 0===e&&(e={}),this._lazyInitEmptyStyle(),this.style.setLight(t,e),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},i.prototype.removeFeatureState=function(t,e){return this.style.removeFeatureState(t,e),this._update()},i.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=n.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var i=this._controlContainer=n.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(t){o[t]=n.create("div","mapboxgl-ctrl-"+t,i)})),this._container.addEventListener("scroll",this._onMapScroll,!1)},i.prototype._resizeCanvas=function(e,n){var r=t.browser.devicePixelRatio||1;this._canvas.width=r*e,this._canvas.height=r*n,this._canvas.style.width=e+"px",this._canvas.style.height=n+"px"},i.prototype._setupPainter=function(){var n=t.extend({},e.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(this.painter=new _r(r,this.transform),t.webpSupported.testSupport(r)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},i.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},i.prototype._onMapScroll=function(t){if(t.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},i.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},i.prototype._render=function(e){var n,r=this,i=0,o=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,n),i=t.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e),!this._removed){var a=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,l=t.browser.now();this.style.zoomHistory.update(s,l);var u=new t.EvaluationParameters(s,{now:l,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),c=u.crossFadingFactor();1===c&&c===this._crossFadingFactor||(a=!0,this._crossFadingFactor=c),this.style.update(u)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var p=t.browser.now()-i;o.endQueryEXT(o.TIME_ELAPSED_EXT,n),setTimeout((function(){var e=o.getQueryObjectEXT(n,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(n),r.fire(new t.Event("gpu-timing-frame",{cpuTime:p,gpuTime:e}))}),50)}if(this.listens("gpu-timing-layer")){var d=this.painter.collectGpuTimers();setTimeout((function(){var e=r.painter.queryGpuTimers(d);r.fire(new t.Event("gpu-timing-layer",{layerTimes:e}))}),50)}var h=this._sourcesDirty||this._styleDirty||this._placementDirty;return h||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.Event("idle")),!this._loaded||this._fullyLoaded||h||(this._fullyLoaded=!0),this}},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var e=0,n=this._controls;e<n.length;e+=1)n[e].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("orientationchange",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),Ii(this._canvasContainer),Ii(this._controlContainer),Ii(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new t.Event("remove"))},i.prototype.triggerRepaint=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame((function(t){e._frame=null,e._render(t)})))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(t){this._trackResize&&this.resize({originalEvent:t})._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},o.showPadding.get=function(){return!!this._showPadding},o.showPadding.set=function(t){this._showPadding!==t&&(this._showPadding=t,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(t){this._vertices=t,this._update()},i.prototype._setCacheLimits=function(e,n){t.setCacheLimits(e,n)},o.version.get=function(){return t.version},Object.defineProperties(i.prototype,o),i}(vi);function Ii(t){t.parentNode&&t.parentNode.removeChild(t)}var Mi={showCompass:!0,showZoom:!0,visualizePitch:!1},Ai=function(e){var r=this;this.options=t.extend({},Mi,e),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.options.showZoom&&(t.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(t){return r._map.zoomIn({},{originalEvent:t})})),n.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(t){return r._map.zoomOut({},{originalEvent:t})})),n.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(t){r.options.visualizePitch?r._map.resetNorthPitch({},{originalEvent:t}):r._map.resetNorth({},{originalEvent:t})})),this._compassIcon=n.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Ai.prototype._updateZoomButtons=function(){var t=this._map.getZoom(),e=t===this._map.getMaxZoom(),n=t===this._map.getMinZoom();this._zoomInButton.disabled=e,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",e.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())},Ai.prototype._rotateCompassArrow=function(){var t=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=t},Ai.prototype.onAdd=function(t){return this._map=t,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Oi(this._map,this._compass,this.options.visualizePitch)),this._container},Ai.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Ai.prototype._createButton=function(t,e){var r=n.create("button",t,this._container);return r.type="button",r.addEventListener("click",e),r},Ai.prototype._setButtonTitle=function(t,e){var n=this._map._getUIString("NavigationControl."+e);t.title=n,t.setAttribute("aria-label",n)};var Oi=function(e,r,i){void 0===i&&(i=!1),this._clickTolerance=10,this.element=r,this.mouseRotate=new Zr({clickTolerance:e.dragRotate._mouseRotate._clickTolerance}),this.map=e,i&&(this.mousePitch=new Kr({clickTolerance:e.dragRotate._mousePitch._clickTolerance})),t.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener(r,"mousedown",this.mousedown),n.addEventListener(r,"touchstart",this.touchstart,{passive:!1}),n.addEventListener(r,"touchmove",this.touchmove),n.addEventListener(r,"touchend",this.touchend),n.addEventListener(r,"touchcancel",this.reset)};function Pi(e,n,r){if(e=new t.LngLat(e.lng,e.lat),n){var i=new t.LngLat(e.lng-360,e.lat),o=new t.LngLat(e.lng+360,e.lat),a=r.locationPoint(e).distSqr(n);r.locationPoint(i).distSqr(n)<a?e=i:r.locationPoint(o).distSqr(n)<a&&(e=o)}for(;Math.abs(e.lng-r.center.lng)>180;){var s=r.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;e.lng>r.center.lng?e.lng-=360:e.lng+=360}return e}Oi.prototype.down=function(t,e){this.mouseRotate.mousedown(t,e),this.mousePitch&&this.mousePitch.mousedown(t,e),n.disableDrag()},Oi.prototype.move=function(t,e){var n=this.map,r=this.mouseRotate.mousemoveWindow(t,e);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(t,e);i&&i.pitchDelta&&n.setPitch(n.getPitch()+i.pitchDelta)}},Oi.prototype.off=function(){var t=this.element;n.removeEventListener(t,"mousedown",this.mousedown),n.removeEventListener(t,"touchstart",this.touchstart,{passive:!1}),n.removeEventListener(t,"touchmove",this.touchmove),n.removeEventListener(t,"touchend",this.touchend),n.removeEventListener(t,"touchcancel",this.reset),this.offTemp()},Oi.prototype.offTemp=function(){n.enableDrag(),n.removeEventListener(t.window,"mousemove",this.mousemove),n.removeEventListener(t.window,"mouseup",this.mouseup)},Oi.prototype.mousedown=function(e){this.down(t.extend({},e,{ctrlKey:!0,preventDefault:function(){return e.preventDefault()}}),n.mousePos(this.element,e)),n.addEventListener(t.window,"mousemove",this.mousemove),n.addEventListener(t.window,"mouseup",this.mouseup)},Oi.prototype.mousemove=function(t){this.move(t,n.mousePos(this.element,t))},Oi.prototype.mouseup=function(t){this.mouseRotate.mouseupWindow(t),this.mousePitch&&this.mousePitch.mouseupWindow(t),this.offTemp()},Oi.prototype.touchstart=function(t){1!==t.targetTouches.length?this.reset():(this._startPos=this._lastPos=n.touchPos(this.element,t.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return t.preventDefault()}},this._startPos))},Oi.prototype.touchmove=function(t){1!==t.targetTouches.length?this.reset():(this._lastPos=n.touchPos(this.element,t.targetTouches)[0],this.move({preventDefault:function(){return t.preventDefault()}},this._lastPos))},Oi.prototype.touchend=function(t){0===t.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Oi.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Di={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function zi(t,e,n){var r=t.classList;for(var i in Di)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+e)}var Li,Ri=function(e){function r(r,i){if(e.call(this),(r instanceof t.window.HTMLElement||i)&&(r=t.extend({element:r},i)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&"auto"!==r.pitchAlignment?r.pitchAlignment:this._rotationAlignment,r&&r.element)this._element=r.element,this._offset=t.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div"),this._element.setAttribute("aria-label","Map marker");var o=n.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var l=n.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");for(var u=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];u<c.length;u+=1){var p=c[u],d=n.createNS("http://www.w3.org/2000/svg","ellipse");d.setAttributeNS(null,"opacity","0.04"),d.setAttributeNS(null,"cx","10.5"),d.setAttributeNS(null,"cy","5.80029008"),d.setAttributeNS(null,"rx",p.rx),d.setAttributeNS(null,"ry",p.ry),l.appendChild(d)}var h=n.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill",this._color);var f=n.createNS("http://www.w3.org/2000/svg","path");f.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(f);var m=n.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var g=n.createNS("http://www.w3.org/2000/svg","path");g.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(g);var y=n.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var v=n.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=n.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var b=n.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),v.appendChild(_),v.appendChild(b),s.appendChild(l),s.appendChild(h),s.appendChild(m),s.appendChild(y),s.appendChild(v),o.appendChild(s),o.setAttributeNS(null,"height",41*this._scale+"px"),o.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(o),this._offset=t.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(t){t.preventDefault()})),this._element.addEventListener("mousedown",(function(t){t.preventDefault()})),zi(this._element,this._anchor,"marker"),this._popup=null}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},r.prototype._onKeyPress=function(t){var e=t.code,n=t.charCode||t.keyCode;"Space"!==e&&"Enter"!==e&&32!==n&&13!==n||this.togglePopup()},r.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},r.prototype._update=function(t){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Pi(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var e="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?e="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(e="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var r="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?r="rotateX(0deg)":"map"===this._pitchAlignment&&(r="rotateX("+this._map.getPitch()+"deg)"),t&&"moveend"!==t.type||(this._pos=this._pos.round()),n.setTransform(this._element,Di[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+r+" "+e)}},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},r.prototype._onMove=function(e){if(!this._isDragging){var n=this._clickTolerance||this._map._clickTolerance;this._isDragging=e.point.dist(this._pointerdownPos)>=n}this._isDragging&&(this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag")))},r.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},r.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._pointerdownPos=t.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},r.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r.prototype.setRotation=function(t){return this._rotation=t||0,this._update(),this},r.prototype.getRotation=function(){return this._rotation},r.prototype.setRotationAlignment=function(t){return this._rotationAlignment=t||"auto",this._update(),this},r.prototype.getRotationAlignment=function(){return this._rotationAlignment},r.prototype.setPitchAlignment=function(t){return this._pitchAlignment=t&&"auto"!==t?t:this._rotationAlignment,this._update(),this},r.prototype.getPitchAlignment=function(){return this._pitchAlignment},r}(t.Evented),Wi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Bi=0,ji=!1,Ni=function(e){function r(n){e.call(this),this.options=t.extend({},Wi,n),t.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.onAdd=function(e){var r;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==Li?r(Li):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then((function(t){r(Li="denied"!==t.state)})):r(Li=!!t.window.navigator.geolocation),this._container},r.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Bi=0,ji=!1},r.prototype._isOutOfMapMaxBounds=function(t){var e=this._map.getMaxBounds(),n=t.coords;return e&&(n.longitude<e.getWest()||n.longitude>e.getEast()||n.latitude<e.getSouth()||n.latitude>e.getNorth())},r.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},r.prototype._onSuccess=function(e){if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.Event("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()}},r.prototype._updateCamera=function(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude),r=e.coords.accuracy,i=this._map.getBearing(),o=t.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),o,{geolocateSource:!0})},r.prototype._updateMarker=function(e){if(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},r.prototype._updateCircleRadius=function(){var t=this._map._container.clientHeight/2,e=this._map.unproject([0,t]),n=this._map.unproject([1,t]),r=e.distanceTo(n),i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"},r.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},r.prototype._onError=function(e){if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&ji)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()}},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(e){var r=this;if(this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this._geolocateButton=n.create("button","mapboxgl-ctrl-geolocate",this._container),n.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===e){t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{var o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Ri(this._dotElement),this._circleElement=n.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ri({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(e){e.geolocateSource||"ACTIVE_LOCK"!==r._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new t.Event("trackuserlocationend")))}))},r.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Bi--,ji=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Bi>1?(e={maximumAge:6e5,timeout:0},ji=!0):(e=this.options.positionOptions,ji=!1),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},r}(t.Evented),Fi={maxWidth:100,unit:"metric"},Ui=function(e){this.options=t.extend({},Fi,e),t.bindAll(["_onMove","setUnit"],this)};function Vi(t,e,n){var r=n&&n.maxWidth||100,i=t._container.clientHeight/2,o=t.unproject([0,i]),a=t.unproject([r,i]),s=o.distanceTo(a);if(n&&"imperial"===n.unit){var l=3.2808*s;l>5280?qi(e,r,l/5280,t._getUIString("ScaleControl.Miles")):qi(e,r,l,t._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?qi(e,r,s/1852,t._getUIString("ScaleControl.NauticalMiles")):s>=1e3?qi(e,r,s/1e3,t._getUIString("ScaleControl.Kilometers")):qi(e,r,s,t._getUIString("ScaleControl.Meters"))}function qi(t,e,n,r){var i,o,a,s=(i=n,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=(a=i/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(t){var e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(a)));t.style.width=e*(s/n)+"px",t.innerHTML=s+"&nbsp;"+r}Ui.prototype.getDefaultPosition=function(){return"bottom-left"},Ui.prototype._onMove=function(){Vi(this._map,this._container,this.options)},Ui.prototype.onAdd=function(t){return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ui.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ui.prototype.setUnit=function(t){this.options.unit=t,Vi(this._map,this._container,this.options)};var Hi=function(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange")};Hi.prototype.onAdd=function(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Hi.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Hi.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},Hi.prototype._setupUI=function(){var e=this._fullscreenButton=n.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);n.create("span","mapboxgl-ctrl-icon",e).setAttribute("aria-hidden",!0),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Hi.prototype._updateTitle=function(){var t=this._getTitle();this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t},Hi.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Hi.prototype._isFullscreen=function(){return this._fullscreen},Hi.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Hi.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Gi={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Zi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Ki=function(e){function r(n){e.call(this),this.options=t.extend(Object.create(Gi),n),t.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.addTo=function(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new t.Event("close")),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},r.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},r.prototype.getElement=function(){return this._container},r.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},r.prototype.setHTML=function(e){var n,r=t.window.document.createDocumentFragment(),i=t.window.document.createElement("body");for(i.innerHTML=e;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)},r.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},r.prototype.setMaxWidth=function(t){return this.options.maxWidth=t,this._update(),this},r.prototype.setDOMContent=function(t){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=n.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(t),this._createCloseButton(),this._update(),this._focusFirstElement(),this},r.prototype.addClassName=function(t){this._container&&this._container.classList.add(t)},r.prototype.removeClassName=function(t){this._container&&this._container.classList.remove(t)},r.prototype.setOffset=function(t){return this.options.offset=t,this._update(),this},r.prototype.toggleClassName=function(t){if(this._container)return this._container.classList.toggle(t)},r.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},r.prototype._onMouseUp=function(t){this._update(t.point)},r.prototype._onMouseMove=function(t){this._update(t.point)},r.prototype._onDrag=function(t){this._update(t.point)},r.prototype._update=function(e){var r=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(t){return r._container.classList.add(t)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Pi(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||e)){var i=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat),o=this.options.anchor,a=function e(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new t.Point(0,0),top:new t.Point(0,n),"top-left":new t.Point(r,r),"top-right":new t.Point(-r,r),bottom:new t.Point(0,-n),"bottom-left":new t.Point(r,-r),"bottom-right":new t.Point(-r,-r),left:new t.Point(n,0),right:new t.Point(-n,0)}}if(n instanceof t.Point||Array.isArray(n)){var i=t.Point.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:t.Point.convert(n.center||[0,0]),top:t.Point.convert(n.top||[0,0]),"top-left":t.Point.convert(n["top-left"]||[0,0]),"top-right":t.Point.convert(n["top-right"]||[0,0]),bottom:t.Point.convert(n.bottom||[0,0]),"bottom-left":t.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(n["bottom-right"]||[0,0]),left:t.Point.convert(n.left||[0,0]),right:t.Point.convert(n.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!o){var s,l=this._container.offsetWidth,u=this._container.offsetHeight;s=i.y+a.bottom.y<u?["top"]:i.y>this._map.transform.height-u?["bottom"]:[],i.x<l/2?s.push("left"):i.x>this._map.transform.width-l/2&&s.push("right"),o=0===s.length?"bottom":s.join("-")}var c=i.add(a[o]).round();n.setTransform(this._container,Di[o]+" translate("+c.x+"px,"+c.y+"px)"),zi(this._container,o,"popup")}},r.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var t=this._container.querySelector(Zi);t&&t.focus()}},r.prototype._onClose=function(){this.remove()},r}(t.Evented),Qi={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:Ti,NavigationControl:Ai,GeolocateControl:Ni,AttributionControl:_i,ScaleControl:Ui,FullscreenControl:Hi,Popup:Ki,Marker:Ri,Style:Ve,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,prewarm:function(){Bt().acquire(zt)},clearPrewarmedResources:function(){var t=Rt;t&&(t.isPreloaded()&&1===t.numActive()?(t.release(zt),Rt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return Lt.workerCount},set workerCount(t){Lt.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage:function(e){t.clearTileCache(e)},workerUrl:""};return Qi})),n}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VISITED_FOOD_MENU=e.UPDATE_FOOD_FILTER=e.UPDATE_FOOD=e.SET_TAG_MENU=e.SET_LAST_LOADED_TIME_FOOD_MENU=e.SET_FOOD_MENU=e.SET_ACTIVE_CATEGORY=e.SET_ACTIVATE_CATEGORY=e.RESET_FOOD_MENU=e.FOOD_ACTIVE_BY_COUPON=void 0;e.VISITED_FOOD_MENU="VISITED_FOOD_MENU",e.SET_FOOD_MENU="SET_FOOD_MENU",e.SET_TAG_MENU="SET_TAG_MENU",e.UPDATE_FOOD="UPDATE_FOOD",e.UPDATE_FOOD_FILTER="UPDATE_FOOD_FILTER",e.RESET_FOOD_MENU="RESET_FOOD_MENU",e.SET_LAST_LOADED_TIME_FOOD_MENU="SET_LAST_LOADED_TIME_FOOD_MENU",e.SET_ACTIVE_CATEGORY="SET_ACTIVE_CATEGORY",e.SET_ACTIVATE_CATEGORY="SET_ACTIVATE_CATEGORY",e.FOOD_ACTIVE_BY_COUPON="FOOD_ACTIVE_BY_COUPON"},function(t,e,n){"use strict";function r(t){var e=null,n=null,r=new Promise((function(t,r){e=t,n=r}));return t&&t.then((function(t){e&&e(t)}),(function(t){n&&n(t)})),{promise:r,resolve:function(t){e&&e(t)},reject:function(t){n&&n(t)},cancel:function(){e=null,n=null}}}function i(t){var e=null;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e&&e();var o=t.apply(void 0,n),a=r(o),s=a.promise,l=a.cancel;return e=l,s}}n.r(e),n.d(e,"onlyResolvesLast",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(221);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},,function(t,e,n){"use strict";t.exports="/__open-stack-frame-in-editor"},,function(t,e,n){"use strict";function r(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}n.d(e,"a",(function(){return o}));var i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=r((function(t){return i.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91}))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.updateDeliveryPriceFromAddressAction=e.setDineInSetting=e.setCheckoutAction=e.restoreCheckoutFromStorageAction=e.removeCheckoutAction=e.afterSuccessCheckout=void 0;var i,o,a,s=r(n(21)),l=r(n(13)),u=r(n(7)),c=r(n(128)),p=n(372),d=n(110),h=n(278),f=n(104);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){(0,l.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const y=(null===(i=u.default.checkout)||void 0===i?void 0:i.schedule)||!1,v=(null===(o=u.default.checkout)||void 0===o?void 0:o.terms)||!1,_=!1!==(null===u.default||void 0===u.default||null===(a=u.default.checkout)||void 0===a?void 0:a.noteText);e.afterSuccessCheckout=function(t){return function(e){e(k((function(){e(b({note:""}))}))),e((0,d.emptyCartAction)(t)),e((0,f.reloadWaletAndClubAction)())}};const b=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){const i=r().checkout;n({type:p.SET_CHECKOUT,payload:t}),w(g(g({},i),t)),e&&e()}};e.setCheckoutAction=b;let x=null;const w=function(t){clearTimeout(x),x=setTimeout((0,s.default)((function*(){const e=t.deliveryMode;try{const n={note:t.note,addressId:t.addressId,addressDeliveryPrice:1!==e?0:t.addressDeliveryPrice,paymentMethod:t.paymentMethod,usingCredit:t.usingCredit,deliveryMode:e,taxiDelivery:1===e&&!y&&t.taxiDelivery,usingSmartClub:t.usingSmartClub,timestamp:new Date};y&&(n.deliveryTimeId=t.deliveryTimeId||0),v&&(n.acceptedTerms=t.acceptedTerms||!1),yield c.default.setItem("@checkout",JSON.stringify(n))}catch(t){}})),500)},k=function(t){return function(){var e=(0,s.default)((function*(e,n){const r=n(),i=r.checkout,o=r.user.isLoggedIn;if(!i.loaded)try{const t=yield c.default.getItem("@checkout");if(t){const n=JSON.parse(t);if(y||void 0===n.deliveryTimeId||delete n.deliveryTimeId,v||void 0===n.acceptedTerms||delete n.acceptedTerms,_){const t=new Date,e=Date.parse(n.timestamp)||null;(null===e||t-e>6e5)&&(n.note="")}else n.note="";e({type:p.SET_CHECKOUT,payload:g(g(g({},i),n),{},{loaded:!0,addressId:0,addressDeliveryPrice:parseInt(n.addressDeliveryPrice,10)||0})})}}catch(t){}e(S(o)),t()}));return function(t,n){return e.apply(this,arguments)}}()};e.restoreCheckoutFromStorageAction=k;const S=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,n){const r=n(),i=r.checkout;if(!r.restaurant.current)return;const o=r.restaurant.current.delivery.available,a=r.restaurant.current.delivery.pickup;let s=0;switch(i.deliveryMode){case 1:o?s=1:a&&(s=2);break;case 2:a?s=2:o&&(s=1);break;default:o?s=1:a&&(s=2)}if(i.deliveryMode=s,t){const t=r.restaurant.current.id;e((0,h.userAddressListAction)(t,(function(n){let{success:r,list:s,pricingStrategy:l}=n;if(r){const n={addressId:0,addressDeliveryPrice:0,restaurantId:t,taxiDelivery:!1,pickupSupported:a};if(1!==i.deliveryMode)n.addressDeliveryPrice=0,n.taxiDelivery=!1;else if(o&&i.addressId){const t=s.find((function(t){return t.id===i.addressId}));t&&(t.available||t.taxi)&&(n.addressId=t.id,n.addressDeliveryPrice=t.price||0,t.taxi&&(n.taxiDelivery=!0),2!==l&&!t.available&&t.taxi&&(n.taxiDelivery=!0))}n.taxiDelivery&&(n.addressId=0),y&&(n.taxiDelivery=!1);const r=g(g({},i),n);e({type:p.SET_CHECKOUT,payload:r}),(n.addressDeliveryPrice!==i.addressDeliveryPrice||n.taxiDelivery!==i.taxiDelivery||a)&&setTimeout((function(){e((0,d.updateCartAction)()),w(r)}),10)}})))}else e({type:p.SET_CHECKOUT,payload:g(g({},i),{},{addressDeliveryPrice:0,taxiDelivery:!1,pickupSupported:a})}),setTimeout((function(){e((0,d.updateCartAction)())}),10)}};e.updateDeliveryPriceFromAddressAction=S;e.removeCheckoutAction=function(){return function(t){c.default.removeItem("@checkout"),t({type:p.REMOVE_CHECKOUT})}};e.setDineInSetting=function(t){return function(e){e(b({personCount:t}))}}},function(t,e,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function s(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function l(t,e){for(var n={},r=[],i=0;i<t.length;i++){var o=t[i],l=e.base?o[0]+e.base:o[0],u=n[l]||0,c="".concat(l," ").concat(u);n[l]=u+1;var p=s(c),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==p?(a[p].references++,a[p].updater(d)):a.push({identifier:c,updater:g(d,e),references:1}),r.push(c)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,p=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function d(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=p(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function h(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var f=null,m=0;function g(t,e){var n,r,i;if(e.singleton){var o=m++;n=f||(f=u(e)),r=d.bind(null,n,o,!1),i=d.bind(null,n,o,!0)}else n=u(e),r=h.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=s(n[r]);a[i].references--}for(var o=l(t,e),u=0;u<n.length;u++){var c=s(n[u]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=o}}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.getMapSearchAddressLastResolves=e.getMapAddressDetailsLastResolves=e.fetchMapProvider=void 0;var i=r(n(13)),o=r(n(21)),a=r(n(230)),s=n(269),l=r(n(7)),u=n(84);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const{token:d,city:h,center:f}=l.default.map,m=d.split("@@")[1],g=a.default.create({baseURL:"https://map.delino.com",headers:{"Api-Key":m}});g.interceptors.response.use(void 0,function(){var t=(0,o.default)((function*(t){return(0,u.isNetworkError)(t)?new Promise((function(e){const n=t.config;setTimeout((function(){e(g(n))}),1500)})):Promise.reject(t)}));return function(e){return t.apply(this,arguments)}}());let y=20;const v=function(){var t=(0,o.default)((function(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function*(){try{if(n){if(y<=0)throw"The number of requests is too large";y-=1}const r=yield g.get("/Map/GetAddressByPoint/".concat(t,"/").concat(e)),{data:i}=r,{data:o}=i||{};if(!o)return;let a=o.address;return a=a.replace("".concat(o.province,"، "),""),"string"==typeof h&&o.city===h&&(a=a.replace("".concat(o.city,"، "),"")),p(p({},o),{},{address_compact:a})}catch(t){throw t}}()}));return function(e,n){return t.apply(this,arguments)}}(),_=(e.getMapAddressDetailsLastResolves=(0,s.onlyResolvesLast)(v),function(){var t=(0,o.default)((function*(t){const e=[];try{const{data:n}=yield g.get("/Map/SearchLocationsByText/".concat(t,"/").concat(f.lat,"/").concat(f.lng)),{data:r}=n||{};if(!((null==r?void 0:r.length)>0))return;r.forEach((function(t,n){const r=(null==t?void 0:t.address)||(null==t?void 0:t.title)||"";e.push({id:n+1,lng:t.lng,lat:t.lat,type:t.type,title:t.title,address:"string"==typeof h&&h?r.replace("".concat(h,"، "),""):r})}))}catch(t){console.log(t)}return e}));return function(e){return t.apply(this,arguments)}}());e.fetchMapProvider=function(){var t=(0,o.default)((function*(){try{const{data:t}=yield g.get("".concat("https://map.delino.com","/map/config/vendo"));return t}catch(t){return!1}}));return function(){return t.apply(this,arguments)}}(),e.getMapSearchAddressLastResolves=(0,s.onlyResolvesLast)(_)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.userAddressListAction=e.setRefreshAddressAction=e.deleteAddressAction=void 0;var i=r(n(13)),o=n(180),a=n(374);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.userAddressListAction=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;return function(n){(0,o.fetchUserAddressList)(t).then((function(r){n({type:a.SET_USER_ADDRESS,payload:l({restaurantId:t},r)}),e&&e({success:!0,list:r.list,pricingStrategy:r.pricingStrategy})})).catch((function(){e&&e({success:!1})}))}};e.deleteAddressAction=function(t,e){return function(n){(0,o.removeUserAddress)(t).then((function(){n({type:a.SET_ADDRESS_REFRESH,payload:{needRefresh:new Date,newAddressId:0}}),e()})).catch((function(){}))}};e.setRefreshAddressAction=function(t,e){return function(n){n({type:a.SET_ADDRESS_REFRESH,payload:{needRefresh:t,newAddressId:e}})}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n(10)),a=r(n(21)),s=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),l=n(29),u=n(50),c=n(177),p=r(n(7)),d=r(n(48)),h=(r(n(45)),n(133)),f=n(919),m=n(424),g=r(n(437));const y=function(t){let{history:e,isPage:n=!1,isHome:r=!1,filter:y=null,closeModal:v,calculateHeight:b=function(){},isModal:x=!1}=t;const w=(0,l.useSelector)((function(t){return t.restaurant.multiBrand})),k=(0,l.useSelector)((function(t){return t.restaurant.listArray})),S=(0,l.useSelector)((function(t){return t.restaurant.multiBranch})),C=(0,l.useSelector)((function(t){return t.restaurant.current})),[E,T]=(0,s.useState)(!1),[I,M]=(0,s.useState)(),A=(0,s.useMemo)((function(){if(!y||!I)return I;const t=m.BranchSwitcherFilters[y];return t?null==I?void 0:I.filter(t):I}),[y,null==I?void 0:I.length]),O=(0,s.useCallback)((function(){T(!0),(0,h.getPosition)().then(function(){var t=(0,a.default)((function*(t){const{latitude:n,longitude:r}=t.coords;try{var i,o,a,s;const t=yield(0,c.getNearestRestaurantByType)({lat:n,lng:r,deliveryType:2}),l=null==t||null===(i=t.data)||void 0===i||null===(o=i.data)||void 0===o||null===(a=o.nearestBranches)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.domain;l?e.push("/order/".concat(l)):(alert("موقیعت مکانی شما شناسایی نشد"),T(!1))}catch(t){T(!1)}}));return function(e){return t.apply(this,arguments)}}()).catch((function(t){T(!1),setTimeout((function(){alert(t||"خطا در شناسایی موقیعت مکانی")}),300)}))}),[I]);return(0,s.useEffect)((function(){if(w){if(C){const t=k.find((function(t){return t.id===C.id})),e=k.filter((function(e){return e.brandId===t.brandId}));M(e)}}else M(k),setTimeout((function(){b()}),150)}),[k,w,C]),p.default.selectBranchFromMap?(0,o.default)(f.MapWrapper,{style:{paddingBottom:"32px"}},void 0,i||(i=(0,o.default)(g.default,{}))):s.default.createElement(s.default.Fragment,null,!S&&(0,o.default)(u.Link,{to:"/order",style:{background:"rgb(255, 255, 255)",border:"1px solid rgb(204, 204, 204)",borderRadius:"5px",padding:"8px 16px",color:"rgb(51, 51, 51)"}},void 0,"مشاهده منو و سفارش انلاین"),S&&A&&(0,o.default)(f.BranchHolder,{isHome:r,isPage:n,className:"branch-list"},void 0,(0,h.isMobile)()&&!p.default.showBranchSwitcherGroups&&s.default.createElement(s.default.Fragment,null,!w&&!(null!==p.default&&void 0!==p.default&&p.default.ignoreNearestBtn)&&(0,o.default)(d.default,{onClick:O,size:!!v&&"sm",loading:E,style:{marginBottom:"20px"}},void 0,"نزدیک‌ترین شعبه به من")),(0,o.default)(f.StyledBranchList,{isModal:x,isHome:r,branchLength:A.length},void 0,[...A].map((function(t,n){return(0,o.default)(_,{restaurant:t,isHome:r,closeModal:v,currentRestaurant:C,history:e},n)})))))},v=function(t,e){return t.location.pathname===e.location.pathname&&t.filter===e.filter};e.default=(0,u.withRouter)((0,s.memo)(y,v));const _=function(t){let{restaurant:e,isHome:n,closeModal:r,currentRestaurant:i,history:a}=t;const[l,c]=(0,s.useState)(!1),d=(0,s.useRef)(null),h=(0,s.useRef)(null);(0,s.useEffect)((function(){var t;h.current&&c((null==d||null===(t=d.current)||void 0===t?void 0:t.clientWidth)>h.current.clientWidth)}),[]);return s.default.createElement("div",{ref:h},(0,o.default)(f.BranchItem,{isHome:n,$isModal:!!r,$selected:i&&i.domain===e.domain,onClick:function(){return t="/order/".concat(e.domain),void a.push(t);var t},style:{cursor:"pointer"}},void 0,(0,o.default)(u.Link,{to:"/order/".concat(e.domain)},void 0,s.default.createElement("span",{ref:d,className:"branch-title ".concat(l&&n?"animate":"")},e.branch||"".concat(e.title," ").concat(e.name)," ",p.default.multiCityBranch?(0,o.default)(f.City,{},void 0,"(",e.city,")"):null))))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(0);e.default=function(){const t="object"==typeof window;function e(){return{width:t?window.innerWidth:void 0,height:t?window.innerHeight:void 0}}const[n,i]=(0,r.useState)(e);return(0,r.useEffect)((function(){if(!t)return!1;function n(){i(e())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setCouponsListAction=e.setActivatedCouponsAction=e.emptyCouponAction=e.deactivateCouponAction=e.activateCouponAction=e.STORE_KEY=void 0;var r=n(375),i=n(110);const o=e.STORE_KEY="@activated-coupons-";e.setCouponsListAction=function(t){return function(e,n){var i;e({type:r.SET_COUPONS_LIST,payload:t});if(!(((null===(i=n().coupon)||void 0===i?void 0:i.activatedCoupons)||[]).length>0))try{var s,l;const r=JSON.parse(localStorage.getItem(o+(null===(s=n().restaurant)||void 0===s||null===(l=s.current)||void 0===l?void 0:l.id))||"[]").filter((function(e){return-1!==t.findIndex((function(t){return t.id===e}))}));e(a(r))}catch(t){}}};const a=function(t){return function(e,n){var a,s;localStorage.setItem(o+(null===(a=n().restaurant)||void 0===a||null===(s=a.current)||void 0===s?void 0:s.id),JSON.stringify(t||[])),e({type:r.SET_ACTIVATED_COUPONS,payload:t}),e((0,i.updateCartAction)())}};e.setActivatedCouponsAction=a;e.deactivateCouponAction=function(t){return function(e,n){var r;const i=(null===(r=n().coupon)||void 0===r?void 0:r.activatedCoupons)||[];e(a(i.filter((function(e){return e!==t}))))}};e.emptyCouponAction=function(){return function(t,e){var n;null===(n=e().coupon)||void 0===n||n.activatedCoupons;t(a([]))}};e.activateCouponAction=function(t){return function(e,n){var r;const i=(null===(r=n().coupon)||void 0===r?void 0:r.activatedCoupons)||[];i.includes(t)||(console.log({id:t,activatedCoupons:i}),e(a([...i,t])))}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(10)),o=r(n(111)),a=r(n(51)),s=r(n(0)),l=n(50);const u=["children"];e.default=function(){var t;let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const c=n||(0,l.useLocation)(),p=r||(0,l.useHistory)(),d={pathname:"/login"};e&&(d.state={background:c});const h=function(){return p.push(d)},f=function(t){let{children:e}=t,n=(0,a.default)(t,u);return s.default.createElement(l.Link,(0,o.default)({to:d},n),e)},m=function(){return t||(t=(0,i.default)(l.Redirect,{to:d}))};return{goLogin:h,LoginLink:f,LoginRedirect:m}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LOGIN_REDIRECT=e.LOGIN_CHECK_COUPON=void 0;e.LOGIN_REDIRECT="LOGIN_REDIRECT",e.LOGIN_CHECK_COUPON="LOGIN_CHECK_COUPON"},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.Wrapper=e.NearestBranchWrapper=e.BranchSwitcherTitle=e.BranchSwitcherContainer=void 0;var i,o,a,s,l,u,c=r(n(35)),p=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),d=n(33),h=r(n(7)),f=r(n(48));e.Wrapper=p.default.div.withConfig({componentId:"sc-paczoy-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;"]),e.BranchSwitcherContainer=p.default.div.withConfig({componentId:"sc-paczoy-1"})(["direction:rtl;margin-top:16px;height:64px;width:100%;display:flex;flex-direction:row;align-items:center;border:"," 1px solid;border-radius:12px;overflow:hidden;padding:0;max-width:100%;"," "," & > button{color:",";font-size:",";font-style:normal;font-weight:400;line-height:24px;background:",";width:",";border:none;height:100%;cursor:pointer;"," ","}& > button:disabled,& > button:disabled:hover{color:",";background-color:",";opacity:1;cursor:default;border:none;}& > button:nth-child(2){border:"," 1px solid;border-top:none;border-bottom:none;&:disabled{border:none;}}& > button:hover{border:1px solid #222;}& > button:first-child{border-radius:0 12px 12px 0;}& > button:last-child{border-radius:12px 0 0 12px;}"],(function(t){return t.isDarkMode?"#2C2C2E":"#e5e5ea"}),d.breakpoint.greaterThan("1300px")(i||(i=(0,c.default)(["\n\t\twidth:512px;\n\t"]))),"3"===h.default.landingTemplate&&(0,p.css)(["width:calc(100% - 48px) !important;margin:0 24px 48px 24px;"]),(function(t){return t.isDarkMode?"#F5F5F7":"#222222"}),(function(t){return t.isTemplate3?"20px":"16px"}),(function(t){return t.isDarkMode?"#000000":"#ffffff"}),(function(t){return 1==t.filterButtonsCount?"100%":2==t.filterButtonsCount?"50%":"33.3333%"}),d.breakpoint.lessThan("desktop")(o||(o=(0,c.default)(["\n\t\t\tfont-size: 14px;\n\t\t\tfont-weight: 400;\n\t\t\tline-height: 22px;\n\t\t"]))),d.breakpoint.lessThan("360px")(a||(a=(0,c.default)(["\n\t\t\tfont-size:12px;\n\t\t"]))),(function(t){return t.isDarkMode?"#222222":"#f5f5f7"}),(function(t){return t.isDarkMode?"#F5F5F7":"#2c2c2e"}),(function(t){return t.isDarkMode?"#2C2C2E":"#e5e5ea"})),e.BranchSwitcherTitle=p.default.p.withConfig({componentId:"sc-paczoy-2"})(["width:100%;color:",";text-align:center;direction:rtl;font-size:24px;margin:8px 0;font-style:normal;font-weight:700;line-height:18px;"," "," ",""],(function(t){return t.isDarkMode?"#ffffff":"#222222"}),d.breakpoint.lessThan("desktop")(s||(s=(0,c.default)(["\n    font-size: 16px\n  "]))),"3"===h.default.landingTemplate&&(0,p.css)(["font-size:20px;font-weight:400;line-height:28px;margin-bottom:24px;"]),"2"===h.default.landingTemplate&&(0,p.css)(["",""],d.breakpoint.lessThan("desktop")(l||(l=(0,c.default)(["\n\t\t\tmargin-top:0;\n\t\t"]))))),e.NearestBranchWrapper=(0,p.default)(f.default).withConfig({componentId:"sc-paczoy-3"})(["",""],d.breakpoint.greaterThan("desktop")(u||(u=(0,c.default)(["\n  display:none;\n"]))))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZERO_ID_CURRENT_RESAURANT=e.UPDATE_CURRENT_RESAURANT_TEXT=e.UPDATE_CURRENT_RESAURANT=e.SET_TABLE_NUMBER=e.SET_INFO_RESAURANT=e.SET_CURRENT_RESAURANT=e.SET_ACTIVE_BRANCH=e.FETCH_RESAURANT_LIST=void 0;e.FETCH_RESAURANT_LIST="FETCH_RESAURANT_LIST",e.SET_CURRENT_RESAURANT="SET_CURRENT_RESAURANT",e.ZERO_ID_CURRENT_RESAURANT="ZERO_ID_CURRENT_RESAURANT",e.SET_ACTIVE_BRANCH="SET_ACTIVE_BRANCH",e.SET_INFO_RESAURANT="SET_INFO_RESAURANT",e.UPDATE_CURRENT_RESAURANT="UPDATE_CURRENT_RESAURANT",e.UPDATE_CURRENT_RESAURANT_TEXT="UPDATE_CURRENT_RESAURANT_TEXT",e.SET_TABLE_NUMBER="SET_TABLE_NUMBER"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SET_UNSUCCESSFUL_PAYMENT=e.SET_SKIP_TOUR=e.SET_SKIP_ADS=e.SET_SHOW_PREORDER=e.SET_REFRESH_TOKEN_FAILED=e.SET_PAGE_CONTENT=e.SET_PAGES_THEME_MODE=e.SET_KIOSK=e.SET_INTRO_SKIPED=e.SET_DIGITAL_MENU_MODE=e.SET_COMPACT_SEARCHBAR_VISIBILITY=e.SET_COMPACT_BRANCH_LIST_VISIBILITY=e.SET_ACTIVE_ORDER_CHECKING=e.SET_ACTIVE_ORDER=void 0;e.SET_REFRESH_TOKEN_FAILED="SET_REFRESH_TOKEN_FAILED",e.SET_ACTIVE_ORDER="SET_ACTIVE_ORDER",e.SET_ACTIVE_ORDER_CHECKING="SET_ACTIVE_ORDER_CHECKING",e.SET_UNSUCCESSFUL_PAYMENT="SET_UNSUCCESSFUL_PAYMENT",e.SET_SHOW_PREORDER="SET_SHOW_PREORDER",e.SET_INTRO_SKIPED="SET_INTRO_SKIPED",e.SET_DIGITAL_MENU_MODE="SET_DIGITAL_MENU_MODE",e.SET_SKIP_TOUR="SET_SKIP_TOUR",e.SET_SKIP_ADS="SET_SKIP_ADS",e.SET_PAGE_CONTENT="SET_PAGE_CONTENT",e.SET_COMPACT_BRANCH_LIST_VISIBILITY="SET_COMPACT_BRANCH_LIST_VISIBILITY",e.SET_COMPACT_SEARCHBAR_VISIBILITY="SET_COMPACT_SEARCHBAR_VISIBILITY",e.SET_PAGES_THEME_MODE="SET_PAGES_THEME_MODE",e.SET_KIOSK="SET_KIOSK"},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.StyledDialog=e.LightBox=e.IconContainer=e.Header=e.Footer=e.Container=e.CloseButton=e.Box=e.Body=e.BackButton=void 0;var i,o,a,s,l,u,c,p,d,h=r(n(35)),f=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),m=n(33),g=n(42),y=n(38),v=r(n(7));const _=(0,f.css)(["animation-duration:250ms;animation-fill-mode:forwards;transition-timing-function:",";"],(function(t){return t.theme.transition.custom})),b=(e.StyledDialog=f.default.div.withConfig({componentId:"sc-q121x8-0"})(["position:fixed;top:0;left:0;bottom:0;right:0;min-height:100vh;z-index:2140;color:",";font-size:",";@keyframes anim-open-center{0%{opacity:0;transform:translate(-50%,-50%);}100%{opacity:1;transform:translate(-50%,-50%);}}@keyframes anim-close-center{0%{opacity:1;transform:translate(-50%,-50%);}100%{opacity:0;transform:translate(-50%,-50%);}}@keyframes anim-open-top{0%{opacity:0;transform:translate(-50%,-50%);}100%{opacity:1;transform:translate(-50%,-50%);}}@keyframes anim-close-top{0%{opacity:1;transform:translate(-50%,-50%);}100%{opacity:0;transform:translate(-50%,-50%);}}@keyframes anim-mobile-open{0%{opacity:1;transform:translateY(100%);}100%{opacity:1;transform:translateY(0);}}@keyframes anim-mobile-close{0%{opacity:1;transform:translateY(0);}100%{opacity:1;transform:translateY(100%);}}@keyframes lightbox-open{0%{opacity:0;}100%{opacity:1;}}@keyframes lightbox-close{0%{opacity:1;}100%{opacity:0;}}"],(function(t){return t.theme.color.textColor}),(function(t){return(0,g.rem)(14,t.theme.fontSize.base)})),e.Container=f.default.div.withConfig({componentId:"sc-q121x8-1"})(["position:relative;z-index:1142;height:100vh;width:100vw;margin:0 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;display:flex;align-items:center;justify-content:center;min-height:100vh;&::-webkit-scrollbar{width:0;background:transparent;}"]),e.LightBox=(0,f.default)(y.StyledLightBox).withConfig({componentId:"sc-q121x8-2"})([""," "," ",""],m.breakpoint.lessThan("tablet")(i||(i=(0,h.default)(["\n    ","\n  "])),(function(t){return"modal"===t.$type?(0,f.css)(["display:none;"]):(0,f.css)(["animation-name:",";"],t.$close?"lightbox-close":"lightbox-open")})),_,m.breakpoint.greaterThan("tablet")(o||(o=(0,h.default)(["\n    animation-name: ",";\n  "])),(function(t){return t.$close?"lightbox-close":"lightbox-open"}))),{lg:(0,f.css)(["width:700px;"]),md:(0,f.css)(["width:550px;"]),sm:(0,f.css)(["width:400px;"]),xs:(0,f.css)(["width:320px;"])}),x=(e.Box=f.default.div.attrs((function(t){return{$size:t.$size||"sm"}})).withConfig({componentId:"sc-q121x8-3"})(["width:",";min-width:320px;margin:0 auto;box-shadow:0 0 20px rgba(0,0,0,0.3);background:",";position:relative;z-index:3000;overflow:hidden;border-radius:12px !important;"," "," "," -webkit-overflow-scrolling:touch;"," "," "," "," ",""],(function(t){return"modal"===t.$type?"100%":"90%"}),(function(t){return t.theme.color.fgColor}),(function(t){return"modal"!==t.$type&&(0,f.css)(["position:absolute !important;top:50% !important;left:50% !important;transform:translate(-50%,-50%);transform-origin:center center;"])}),(function(t){return!t.$animateEnded&&"modal"===t.$type&&(0,f.css)(["animation-name:",";"],t.$close?"anim-mobile-close":"anim-mobile-open")}),(function(t){return!t.$animateEnded&&"modal"!==t.$type&&(0,f.css)(["animation-name:",";animation-fill-mode:both;"],t.$close?"anim-close-".concat(t.$align||"center"):"anim-open-".concat(t.$align||"center"))}),m.breakpoint.lessThan("tablet")(a||(a=(0,h.default)(["\n        ","\n    "])),(function(t){return"modal"===t.$type?(0,f.css)(["overflow-y:auto;position:fixed;top:0;left:0;right:0;bottom:0;transform:none;border-radius:0 !important;"]):(0,f.css)(["position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);max-height:90vh;overflow-y:auto;"])})),_,m.breakpoint.greaterThan("tablet")(s||(s=(0,h.default)(["\n        position: absolute !important;\n        top: 50% !important;\n        left: 50% !important;\n        transform: translate(-50%, -50%);\n        \n        ","\n        \n        /* Ensure animation doesn't override positioning */\n        animation-name: ",";\n        animation-fill-mode: both;\n    "])),(function(t){return"top"===t.$align&&(0,f.css)([""])}),(function(t){return t.$close?"anim-close-".concat(t.$align||"center"):"anim-open-".concat(t.$align||"center")})),(function(t){return"modal"===t.$type?(0,f.css)(["height:100%;"]):(0,f.css)(["text-align:center;max-height:90vh;overflow-y:auto;"])}),m.breakpoint.greaterThan("tablet")(l||(l=(0,h.default)(["\n        width: 750px;\n        border-radius: ","px;\n\n        ","\n\n        ","\n    "])),null===v.default||void 0===v.default||null===(u=v.default.styles)||void 0===u||null===(c=u.box)||void 0===c?void 0:c.radius,(function(t){return"modal"===t.$type&&(0,f.css)(["min-height:","px;max-height:90vh;"],t.$height||350)}),(function(t){return b[t.$size]}))),e.Header=f.default.div.withConfig({componentId:"sc-q121x8-4"})(["display:flex;align-items:center;position:fixed;top:0;left:0;width:100%;overflow:hidden;height:60px;line-height:60px;padding:0 10px;direction:rtl;z-index:1000;color:",";background-color:",";border-bottom:1px solid ",";"," h3{font-size:",";margin:0;text-align:center;display:inline-block;white-space:nowrap;width:100%;position:relative;z-index:1;}"],(function(t){return t.theme.color.textColor}),(function(t){return t.theme.color.fgColor}),(function(t){return t.theme.color.border}),m.breakpoint.greaterThan("tablet")(p||(p=(0,h.default)(["\n    position: absolute;\n    height: 60px;\n    line-height: 60px;\n    padding: 0 15px;\n    -webkit-border-radius: 10px 10px 0 0;\n    -moz-border-radius: 10px 10px 0 0;\n    border-radius: 10px 10px 0 0;\n  "]))),(function(t){return(0,g.rem)(18,t.theme.fontSize.base)})),f.default.div.withConfig({componentId:"sc-q121x8-5"})(["position:absolute;top:50%;width:40px;height:40px;line-height:40px;text-align:center;z-index:2;cursor:pointer;transform:translateY(-50%);color:",";i{font-size:0.875rem;}"],(function(t){return t.theme.color.textColor})));e.CloseButton=(0,f.default)(x).withConfig({componentId:"sc-q121x8-6"})(["left:10px;"]),e.BackButton=(0,f.default)(x).withConfig({componentId:"sc-q121x8-7"})(["right:10px;"]),e.Body=f.default.section.withConfig({componentId:"sc-q121x8-8"})(["overflow-y:auto;height:max-content;max-height:100vh;"," &::-webkit-scrollbar{width:5px;}&::-webkit-scrollbar-track{background:transparent;}&::-webkit-scrollbar-thumb{background-color:#c1c1c1;border-radius:3px;}",""],m.breakpoint.greaterThan("desktop")(d||(d=(0,h.default)(["\n\t \tmax-height: 90vh;\n\t"]))),(function(t){return"modal"===t.$type?(0,f.css)(["padding-top:60px;"]):(0,f.css)(["padding:20px;"])})),e.IconContainer=f.default.div.withConfig({componentId:"sc-q121x8-9"})(["margin-bottom:10px;.icon{font-size:",";color:",";}"],(function(t){return(0,g.rem)(50,t.theme.fontSize.base)}),(function(t){return t.theme.color.primary})),e.Footer=f.default.div.withConfig({componentId:"sc-q121x8-10"})(["margin-top:20px;direction:rtl;"])},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.StyledBranchModal=e.ChipContainer=e.Chip=void 0;var i,o=r(n(35)),a=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),s=n(33);n(42);e.StyledBranchModal=a.default.div.withConfig({componentId:"sc-6664bh-0"})(["display:flex;width:100%;direction:rtl;flex-direction:column;gap:24px;background:#fff;border-radius:24px;text-align:right;padding:32px;.branch-selector-footer{display:flex;justify-content:space-between;}.ignore-button{background:transparent;border:none;cursor:pointer;text-decoration:underline;padding:0 10px;}.ignore-button:hover{background:#F5F5F7;border-radius:5px;}.accept-button{background:",";border:none;}.chip-container{}.chip-container i{right:5px !important;left:unset !important top:55% !important}.chip-container input{height:39px !important}"],(function(t){return t.theme.color.primary})),e.ChipContainer=a.default.div.withConfig({componentId:"sc-6664bh-1"})([".chips-wrapper{margin-top:16px;display:flex;flex-wrap:wrap;gap:16px;}"]),e.Chip=a.default.div.withConfig({componentId:"sc-6664bh-2"})(["cursor:pointer;padding:24px 12px;text-align:center;border:1px solid #E5E5EA;border-radius:24px;width:",";&:hover{background:#F5F5F7;}overflow:hidden;& > p{display:inline-block;text-align:center;margin:0;white-space:nowrap;}.marquee{animation:backAndForth 8s linear infinite;}@keyframes backAndForth{0%{transform:translateX(0);}45%{transform:translateX(-100%);}90%{transform:translateX(0);}100%{transform:translateX(0);}}",""],(function(t){return t.isMobileSingle?"100%":"calc(50% - 8px)"}),(function(t){return s.breakpoint.greaterThan("desktop")(i||(i=(0,o.default)(["\n    width: ",";\n  "])),t.isDesktopSingle?"100%":t.isDesktopDouble?"calc(50% - 8px)":"calc(33.33% - 11px)")}))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.StyledList=e.StyledFoodGrid=e.FoodNotFound=e.FoodListPlaceHolderContainer=e.FoodGroupRow=e.FoodGroupContainer=e.CompactPlaceHolderContainer=e.CompactFoodList=e.CategoryTitlePlaceHolder=e.CategoryTitle=void 0;var i,o,a,s,l,u,c,p,d,h,f,m=r(n(35)),g=r(n(16)),y=n(33),v=r(n(7));e.StyledList=g.default.div.withConfig({componentId:"sc-qxki4c-0"})(["direction:rtl;display:flex;flex-direction:column;align-items:center;justify-content:center;",";&.fix-category{margin-top:110px;}"],y.breakpoint.greaterThan("desktop")(i||(i=(0,m.default)(["\n\t    \tjustify-content: end;\n\t\t\tflex-direction: column;\n\t\t\t\talign-items: initial;\n\t"])))),e.FoodListPlaceHolderContainer=g.default.div.withConfig({componentId:"sc-qxki4c-1"})(["float:right;width:100%;padding:0 15px;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:center;[dir='ltr'] &{float:left;}"," .food-card{"," ","}"],y.breakpoint.greaterThan("650px")(o||(o=(0,m.default)(["\n    margin-right: -7px;\n    padding: 20px;\n    min-height: 450px;\n\n    [dir='ltr'] & {\n      margin-right: 0;\n      margin-left: -7px;\n    }\n  "]))),y.breakpoint.greaterThan("650px")(a||(a=(0,m.default)(["\n    padding-right: 15px;\n    width: 50%;\n    \n    [dir='ltr'] & {\n      padding-right: 0;\n      padding-left: 15px;\n    }\n  "]))),y.breakpoint.greaterThan("largescreen")(s||(s=(0,m.default)(["\n    width: 33.3%;\n  "])))),e.CompactFoodList=g.default.div.withConfig({componentId:"sc-qxki4c-2"})(["background-color:",";border:1px solid ",";float:right;width:100%;padding:0 15px;[dir='ltr'] &{float:left;}",";"," .food-card{"," ","}"],(function(t){var e,n,r;return t.isDarkMode?"#0A0A0A":(null===v.default||void 0===v.default||null===(e=v.default.menuPageBackground)||void 0===e?void 0:e.color)||(null==t||null===(n=t.theme)||void 0===n||null===(r=n.color)||void 0===r?void 0:r.bgGray)}),(function(t){return t.theme.color.border}),y.breakpoint.greaterThan("tablet")(l||(l=(0,m.default)(["\n\t\tbackground-color: ",";\t\t\t\n\t"])),(function(t){return t.isDarkMode?"#0A0A0A":"initial"})),y.breakpoint.greaterThan("650px")(u||(u=(0,m.default)(["\n    margin-right: -7px;\n    padding: 0 7px;\n    min-height: 450px;\n\n    [dir='ltr'] & {\n      margin-right: 0;\n      margin-left: -7px;\n    }\n  "]))),y.breakpoint.greaterThan("650px")(c||(c=(0,m.default)(["\n    padding-right: 15px;\n    width: 50%;\n    \n    [dir='ltr'] & {\n      padding-right: 0;\n      padding-left: 15px;\n    }\n  "]))),y.breakpoint.greaterThan("largescreen")(p||(p=(0,m.default)(["\n    width: 50%;\n  "])))),e.FoodGroupContainer=g.default.div.withConfig({componentId:"sc-qxki4c-3"})(["overflow:hidden;width:100%;"]),e.FoodGroupRow=g.default.div.withConfig({componentId:"sc-qxki4c-4"})(["grid-column-gap:5px;grid-row-gap:5px;display:grid;grid-template-columns:repeat(1,minmax(200px,1fr));margin:18px 0;",""],y.breakpoint.greaterThan("desktop")(d||(d=(0,m.default)(["\n\t\tmargin: 0;\n\t\tgrid-template-columns: repeat(2, minmax(200px, 1fr));\n\t\tgrid-auto-rows: 1fr;\n\t\tgrid-template-rows: repeat(auto-fill, minmax(100px, 1fr));\n\t"])))),e.StyledFoodGrid=g.default.div.withConfig({componentId:"sc-qxki4c-5"})(["display:flex;flex-basis:85%;flex-direction:column;& * > .food-card{width:100%;}",""],y.breakpoint.greaterThan("desktop")(h||(h=(0,m.default)(["\n\t\tflex-direction:row;\n\t"])))),e.CompactPlaceHolderContainer=g.default.div.withConfig({componentId:"sc-qxki4c-6"})(["display:flex;flex-direction:column;direction:rtl;",""],y.breakpoint.greaterThan("desktop")(f||(f=(0,m.default)(["\n\t\tflex-direction:row;\n\t"])))),e.CategoryTitle=g.default.h2.withConfig({componentId:"sc-qxki4c-7"})(["font-size:16px;font-weight:700;line-height:20px;letter-spacing:0em;text-align:center;margin:16px 0;direction:rtl;color:",";float:right;width:100%;display:flex;justify-content:center;[dir='ltr'] &{float:left;padding-right:0;direction:ltr;}"],(function(t){return t.isDarkMode?"#c7c7cc":"#636366"})),e.CategoryTitlePlaceHolder=g.default.div.withConfig({componentId:"sc-qxki4c-8"})(["width:100px;height:15px;margin-top:5px;"]),e.FoodNotFound=g.default.div.withConfig({componentId:"sc-qxki4c-9"})(["padding:50px 0 60px;color:#ccc;text-align:center;min-height:450px;.icon{font-size:80px;display:block;margin-bottom:10px;}"])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(108).default,i=n(819);t.exports=function(t){var e=i(t,"string");return"symbol"==r(e)?e:e+""},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SET_CHECKOUT=e.REMOVE_CHECKOUT=void 0;e.SET_CHECKOUT="SET_CHECKOUT",e.REMOVE_CHECKOUT="REMOVE_CHECKOUT"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SMART_CLUB=e.SET_AFTER_LOGIN=e.REMOVE_AFTER_LOGIN=e.PROFILE_UPDATE=e.AUTH_ORDER_COUNT=e.AUTH_LOG_OUT=e.AUTH_LOGGED_IN=e.AUTH_CREDIT=void 0;e.AUTH_LOGGED_IN="AUTH_LOGGED_IN",e.AUTH_LOG_OUT="AUTH_LOG_OUT",e.SET_AFTER_LOGIN="SET_AFTER_LOGIN",e.REMOVE_AFTER_LOGIN="REMOVE_AFTER_LOGIN",e.AUTH_CREDIT="AUTH_CREDIT",e.PROFILE_UPDATE="PROFILE_UPDATE",e.AUTH_ORDER_COUNT="AUTH_ORDER_COUNT",e.SMART_CLUB="SMART_CLUB"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SET_USER_ADDRESS=e.SET_ADDRESS_REFRESH=void 0;e.SET_USER_ADDRESS="SET_USER_ADDRESS",e.SET_ADDRESS_REFRESH="SET_ADDRESS_REFRESH"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SET_COUPONS_LIST=e.SET_ACTIVATED_COUPONS=void 0;e.SET_COUPONS_LIST="SET_COUPONS_LIST",e.SET_ACTIVATED_COUPONS="SET_ACTIVATED_COUPONS"},,,,,,,,,,function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.updateFoodPrices=e.taxPriceCalculator=e.smartClubToCash=e.smartClubCalculator=e.packagingCalculator=e.newSmartCalculation=e.newCouponCalculation=e.getTotal=e.deliveryPriceCalculator=e.couponPriceCalculator=e.addToppingsAsItem=e.addPackagesAsItems=e.SepidzWebSmartClubCalculator=void 0;var i=r(n(13)),o=n(281),a=r(n(218));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.addPackagesAsItems=function(t,e,n,r){let i=[];return t.forEach((function(t){var r;!t.packaging||null!==(r=t.type)&&void 0!==r&&r.includes("FreeItem")||i.push({id:null,type:"packaging",title:"packagingOf".concat(t.title),price:t.packaging,finalFoodPrice:t.packaging,toppingsSum:0,discountPercentage:0,discount:0,packaging:0,packagingSum:0,available:t.available,pickupOnly:t.pickupOnly,taxable:e,quantity:t.quantity,toppingsSelected:[],toppingId:"",selfTax:t.selfTax,hasSelfTax:t.hasSelfTax,taxPercent:n,packagingIsTaxable:e,packagingTaxPercent:n,catId:0}),i.push(l(l({},t),{},{taxPercent:t.taxable&&t.taxPercent?t.taxPercent:n,type:t.type||"food"}))})),r&&i.push({id:null,type:"packaging",title:"globalPackaging",price:r,finalFoodPrice:r,toppingsSum:0,discountPercentage:0,discount:0,packaging:0,packagingSum:0,available:!0,pickupOnly:!0,taxable:e,quantity:1,toppingsSelected:[],toppingId:"",selfTax:n,hasSelfTax:e,taxPercent:n,packagingIsTaxable:e,packagingTaxPercent:n,catId:0}),i};e.addToppingsAsItem=function(t,e){let n=[];return t.forEach((function(t){var r;null!==(r=t.toppingsSelected)&&void 0!==r&&r.length&&t.toppingsSelected.forEach((function(r){var i;n.push({id:null,type:"topping",title:"toppingOf".concat(t.title),price:r.price*t.quantity,finalFoodPrice:r.price,toppingsSum:0,discountPercentage:0,discount:0,packaging:0,packagingSum:0,available:!0,pickupOnly:!1,taxable:r.isTaxable,quantity:r.count,toppingsSelected:[],toppingId:"",selfTax:r.selfTax,hasSelfTax:!1,taxPercent:null!==(i=r.taxPercent)&&void 0!==i?i:e,packagingIsTaxable:!1,packagingTaxPercent:0,catId:t.catId})})),n.push(l(l({},t),{},{type:t.type||"food"}))})),n};e.updateFoodPrices=function(t,e,n,r){var i,o,a,s;const u=l({},t),c=null==n||null===(i=n.cart)||void 0===i?void 0:i.coupon,p=null==n||null===(o=n.restaurant)||void 0===o||null===(a=o.current)||void 0===a?void 0:a.packagingPrice;let d=0;null!==(s=u.toppingsSelected)&&void 0!==s&&s.length&&u.toppingsSelected.map((function(t){d+=t.price*t.count})),null!=p&&p.length&&!r&&(u.packaging=0);const h=u.packaging*e,f=(u.price+(r?0:d))*e-(null!=c&&c.absolute?0:u.discount)*e;return console.log({food:u,finalFoodPrice:f}),{id:u.id,clientFoodItemID:u.clientFoodItemID,categoryClientId:u.categoryClientId,title:u.title,img:u.img,price:u.basePrice||u.price,basePrice:u.price,finalFoodPrice:f<0?0:f,toppingsSum:d,discountPercentage:u.discountPercentage,discount:u.discount,discountWithQuantity:u.discount*e,packaging:u.packaging,packagingSum:h,available:u.available,pickupOnly:u.pickupOnly,taxable:u.taxable,quantity:e,toppingsSelected:u.toppingsSelected,toppingId:u.toppingId||"",selfTax:u.selfTax,hasSelfTax:u.hasSelfTax,taxPercent:u.taxPercent,type:u.type,packagingIsTaxable:u.packagingIsTaxable,packagingTaxPercent:u.packagingTaxPercent,type:u.type,catId:t.catId}};const u=function(t,e,n,r,i){i||(r=1);let s="";if("FreeItem"==t.offer.vendoOfferType){if(!t.foodItemClientId&&t.foodCategoryClientId){const e=n.filter((function(t){return"food"==t.type})).filter((function(e){return String(e.categoryClientId)==String(t.foodCategoryClientId)}));null!=e&&e[0]&&(s=l({},null==e?void 0:e[0]),s.quantity=e.reduce((function(t,e){return t+e.quantity}),0))}else if(t.foodItemClientId){var u;s=null===(u=n)||void 0===u?void 0:u.find((function(e){return String(e.clientFoodItemID)==String(t.foodItemClientId)}))}else s={quantity:1,id:null,title:"fromBasketPriceOrCount"};if(!s)return void a.default.dispatch((0,o.emptyCouponAction)());console.log("APPLYING_COUPON",{coupon:t,sourceFood:s});const i=e.menu.foodList.find((function(e){return String(e.clientFoodItemID)===String(t.offer.freeFoodLocalId)}));if(!i||null==i||!i.available)return n=n.filter((function(t){return"FreeItem"!==t.type})),void a.default.dispatch((0,o.emptyCouponAction)());if(console.log({freeItem:i}),i){var c;const e=i.packaging*(r||s.quantity),o=[];var p;if(i.topping)null===(p=i.topping)||void 0===p||p.forEach((function(e){if(e.isActive&&e.minCount>0){let n=e.minCount;e.items.forEach((function(r){if(n>0){n-=r.maxOrder;const a=r.maxOrder<=n+r.maxOrder?r.maxOrder:n+r.maxOrder;o.push({catId:e.catId,count:a,id:r.id,isTaxable:r.isTaxable,price:r.price+(r.isTaxable?r.price*i.taxPercent/100:0),taxPercent:r.taxPercent,title:r.name,type:"FreeItem-".concat(s.id,"-").concat(t.id)})}}))}}));let a=(i.price+(i.isTaxable?i.price*i.taxPercent/100:0)+o.reduce((function(t,e){return t+e.price*e.count}),0))*(r||s.quantity);a+=e;const l=null===(c=n)||void 0===c?void 0:c.find((function(t){return String(t.id)==String(null==i?void 0:i.id)}));l&&l.type=="FreeItem-".concat(s.id,"-").concat(t.id)?(l.quantity=r||s.quantity,l.price=i.price*(r||s.quantity),l.discountPercentage=i.discountPercentage*(r||s.quantity),l.discountMustApply=a,l.packagingSum=e):n=[...n,{id:i.id,type:"FreeItem-".concat(s.id,"-").concat(t.id),title:i.title,price:i.price*(r||s.quantity),finalFoodPrice:0,discountPercentage:i.discountPercentage*(r||s.quantity),discount:a,packaging:i.packaging,packagingSum:e,available:i.available,pickupOnly:i.pickupOnly,taxable:i.taxable,selfTax:i.selfTax,hasSelfTax:i.hasSelfTax,taxPercent:i.taxPercent,packagingIsTaxable:i.packagingIsTaxable,packagingTaxPercent:i.packagingTaxPercent,quantity:r||s.quantity,toppingsSum:0,toppingsSelected:o,toppingId:o.map((function(t){return"".concat(t.catId,":").concat(t.count,"_")})),catId:i.catId}],console.log({topping:o})}}else"FreeItem"!=t.offer.vendoOfferType||s||(n=n.filter((function(e){return e.type!="FreeItem-".concat(t.foodItemClientId,"-").concat(t.id)})),a.default.dispatch((0,o.deactivateCouponAction)(t.id)));return{changedPriceItems:n}},c=function(t,e,n,r,i,s){let l=0,u=0;if("Discount"==t.offer.vendoOfferType&&(t.offer.discountPercent||t.offer.discountAmount||s)){let e=!1;if(!t.foodItemClientId&&t.foodCategoryClientId){e=n.filter((function(t){return"food"==t.type||"topping"==t.type})).filter((function(e){return String(e.catId)==String(t.foodCategoryClientId)})).length>0}else e=!(null==n||!n.find((function(e){return String(e.id)==String(t.foodItemClientId)})));if((t.offer.discountAmount||s)&&(e=!0),e){let e=0,o=0;const a=n.filter((function(t){return t.id})).reduce((function(t,e){return t+(e.price+e.toppingsSum)*e.quantity}),0);if(t.offer.discountPercent){o=t.offer.discountPercent;const n=(t.offer.maxDiscountAmount||1e8)*o/100;e=a*o/100,e>n&&(e=n)}else o=100,e=t.offer.discountAmount;e>a&&(e=a);let s=e;if(n.forEach((function(t){let n=t.finalFoodPrice/a*e;n=n>s?s:n,l+=n;const r=t.basePrice-n;s-=n,Object.assign(t,{finalFoodPrice:t.finalFoodPrice-n<0?0:t.finalFoodPrice-n,priceAfterNewCoupon:r<0?0:r})})),r&&i){const t=i*o/100;u=t>s?s:t}}else a.default.dispatch((0,o.deactivateCouponAction)(t.id))}return{discountFromNewCoupon:l,discountOnPackaging:u}},p=function(t,e,n,r){let i=!1;if("FreeDelivery"==t.offer.vendoOfferType){let e=!1;if(!t.foodItemClientId&&t.foodCategoryClientId){e=n.filter((function(t){return"food"==t.type})).filter((function(e){return String(e.categoryClientId)==String(t.foodCategoryClientId)})).length>0}else e=!(null==n||!n.find((function(e){return String(e.clientFoodItemID)==String(t.foodItemClientId)})));(t.offer.discountAmount||r)&&(e=!0),e?i=!0:(a.default.dispatch((0,o.deactivateCouponAction)(t.id)),i=!1)}return i};e.newCouponCalculation=function(t,e,n,r){const i=t.coupons.couponsList,s=t.coupons.activatedCoupons;let l=0,d=0,h=!1,f=[...e];return f=f.filter((function(t){return!t.type.startsWith("FreeItem-")})),(null==s?void 0:s.length)>0&&s.forEach((function(e){const s=i.find((function(t){return t.id===e}));if(console.log({COUPON:s}),s)if("SpecificItems"==s.vendoCouponType){let e=null;if(s.minOrderAmount){var m;const t=null===(m=f)||void 0===m?void 0:m.filter((function(t){return s.foodItemClientId?+t.clientFoodItemID==+s.foodItemClientId:+t.categoryClientId==+s.foodCategoryClientId})).reduce((function(t,e){return t+(n?e.packagingSum:0)+e.finalFoodPrice+e.toppingsSum*e.quantity}),0);if(t<s.minOrderAmount)return void a.default.dispatch((0,o.emptyCouponAction)());e=Math.floor(t/s.minOrderAmount)}if("FreeItem"==s.offer.vendoOfferType){const n=u(s,t,f,e,s.isRepeatable);null!=n&&n.changedPriceItems&&(f=n.changedPriceItems)}if("Discount"==s.offer.vendoOfferType){const t=c(s,0,f,n,r,!0);l+=t.discountFromNewCoupon,d+=t.discountOnPackaging}if("FreeDelivery"==s.offer.vendoOfferType){const t=p(s,0,f);h=t}}else if("MinimumOrderAmount"==s.vendoCouponType){f=f.filter((function(t){return t.type!="FreeItem-".concat(s.foodItemClientId,"-").concat(s.id)}));if(f.reduce((function(t,e){return t+(n?e.packagingSum:0)+(e.price+e.toppingsSum)*e.quantity}),0)>=s.minOrderAmount){if("FreeItem"==s.offer.vendoOfferType){const e=u(s,t,f,null,s.isRepeatable);null!=e&&e.changedPriceItems&&(f=e.changedPriceItems)}if("Discount"==s.offer.vendoOfferType){const t=c(s,0,f,n,r,!0);l+=t.discountFromNewCoupon,d+=t.discountOnPackaging}if("FreeDelivery"==s.offer.vendoOfferType){const t=p(s,0,f,!0);h=t}}else f=f.filter((function(t){return t.type!="FreeItem-".concat(s.foodItemClientId,"-").concat(s.id)})),a.default.dispatch((0,o.emptyCouponAction)())}else if("OrderCount"==s.vendoCouponType){var g,y;if((null===(g=t.user)||void 0===g||null===(y=g.profile)||void 0===y?void 0:y.orderCount)+1!==s.requiredOrderCount)return void a.default.dispatch((0,o.emptyCouponAction)());f=f.filter((function(t){return t.type!="FreeItem-".concat(s.foodItemClientId,"-").concat(s.id)}));if(f.reduce((function(t,e){return t+(e.price+e.toppingsSum)*e.quantity}),0)>=s.minOrderAmount){if("FreeItem"==s.offer.vendoOfferType){const e=u(s,t,f,null,s.isRepeatable);null!=e&&e.changedPriceItems&&(f=e.changedPriceItems)}if("Discount"==s.offer.vendoOfferType){const t=c(s,0,f,n,r,!0);l+=t.discountFromNewCoupon,d+=t.discountOnPackaging}if("FreeDelivery"==s.offer.vendoOfferType){const t=p(s,0,f,!0);h=t}}else f=f.filter((function(t){return t.type!="FreeItem-".concat(s.foodItemClientId,"-").concat(s.id)})),a.default.dispatch((0,o.emptyCouponAction)())}})),console.log({newItems:f,discountFromNewCoupon:l,deliveryFreeFromNewCoupon:h}),{newItems:f,discountFromNewCoupon:l,deliveryFreeFromNewCoupon:h,discountOnPackaging:d}};const d=function(t,e){return t.reduce((function(t,n){return t+=n[e]}),0)||0};e.getTotal=d;e.deliveryPriceCalculator=function(t,e,n){let{pickupMinOrder:r,minOrder:i,notInRangeMinOrder:o,deliveryDiscountMinOrder:a,deliveryDiscount:s}=t.restaurant.current;const l=t.checkout.deliveryMode;let u=t.checkout.addressDeliveryPrice||0,c=0,p=0;return e<i&&(p=i-e),2===l?(i=r,p=e<i?i-e:0):a>0&&e+(n?u:0)>=a&&(c=s),{calculatedDeliveryPrice:u,globalDeliveryDiscount:c}};e.packagingCalculator=function(t,e){var n;const{packagingPrice:r}=t.restaurant.current;return(null==r||null===(n=r[0])||void 0===n?void 0:n.price)||0};e.couponPriceCalculator=function(t,e,n,r,i,o){let a=0,s=0,l=!1;const u=t.cart.coupon;let c=0,p=0,h=0,f=o,m=0;const{packagingPrice:g,tax:y}=t.restaurant.current;let v=d(n,"discount");if(u.percentage){var _;if(u.forItems)a=n.reduce((function(t,e){return u.forItems.some((function(t){return+t==+e.id}))&&(t+=e.finalFoodPrice*u.percentage/100),t}),0),a=a>u.maxAmount*u.percentage/100?u.maxAmount*u.percentage/100:a,c=a>u.maxAmount*u.percentage/100?u.maxAmount*u.percentage/100:a,p=c-a,p=p<0?0:p;else{if(u.isSmartClub){a=(e+(i?o:0)+r)*u.percentage/100,a>u.maxAmount&&(a=u.maxAmount)}else a=u.maxAmount*u.percentage/100;a>u.maxAmount&&(a=u.maxAmount),c=a,p=a}if(m=e*u.percentage/100>a?a:e*u.percentage/100,p=a-m,i&&o>0){let t=o*u.percentage/100;t>p&&(h=p,t=h),o<t?(h=o,p-=o,f=0):(h=t,p-=t,f-=t)}if(u.discountOnDelivery&&r>0&&(null===(_=u.forItems)||void 0===_||!_.length)){let t=r*u.percentage/100;t+m+h>a&&(t=a-m-h),s=t>r?r:t,a+=t}a>c&&(a=c),u.absolute&&v&&(v=0,l=!0)}return s<0&&(s=0),a>c&&(a=c),{discountRemovedByCoupon:l,calculatedCouponPrice:Math.round(a),discountOnDeliveryPriceByCoupon:s,packagingPriceAfterCoupon:f,couponMax:c,couponUsedForPackaging:Math.round(h),discountOnFoods:m}};e.taxPriceCalculator=function(t,e,n,r,i,o,a,s,l){let u=0;const c=t.cart.coupon,{newTaxModel:p,taxOnFood:d,tax:h,packagingPrice:f}=t.restaurant.current;let m=0,g=n;if(c.percentage)if((p||d)&&e.forEach((function(t){var e;const n=null===(e=c.forItems)||void 0===e?void 0:e.some((function(e){return+e==+t.id}));let r=t.finalFoodPrice*c.percentage/100;r=r>g?g:r;const i=t.finalFoodPrice-r;g-=r,Object.assign(t,{sumPrice:n?i:t.finalFoodPrice})})),n){var y;let t=e.reduce((function(t,e){return t+e.finalFoodPrice}),0);const r=e.reduce((function(t,e){var n;return null!==(n=c.forItems)&&void 0!==n&&n.some((function(t){return+t==+e.id}))&&(t+=e.finalFoodPrice),t}),0);if(e.forEach((function(e){let i=!1,o=0;var a;c.forItems&&(i=null===(a=c.forItems)||void 0===a?void 0:a.some((function(t){return+t==+e.id})));o=i?e.finalFoodPrice/r*n:c.forItems&&!i?0:e.finalFoodPrice/t*n;let s=e.finalFoodPrice-o,l=0;e.taxable&&(l=p?Math.round(s*e.taxPercent/100):Math.round(s*h/100)),l<0&&(l=0),Object.assign(e,{priceAfterCouponShare:s<0?0:s}),e.taxable&&(u+=l)})),null===(y=c.forItems)||void 0===y||!y.length){let t=0;if(a){let e=i*c.percentage/100;e>g&&(t=g),e>i?(t=i,i=0):(t=e,i-=e)}g-=t,g=g<0?0:g}}else u=e.reduce((function(t,e){return t+=(e.sumPrice||e.finalFoodPrice)*(d?h:e.taxPercent)/100}),0);else u=e.reduce((function(t,e){var n;return e.taxable?t+=(null!==(n=e.sumPrice)&&void 0!==n?n:e.finalFoodPrice)*(p?e.taxPercent:h)/100:t}),0);return m=n-g,m<0&&(m=0),{itemsAfterShareDiscount:e,couponUsed:m,calculatedTaxPrice:Math.round(u)}};e.smartClubCalculator=function(t,e,n){let r=null,i=0,o=0;if(t>0&&e&&n){const{credit:e,maxUsablePriceFromDiscountPercent:a,minFactorPriceToActiveDiscountPercent:s,percent:l}=n;if(l>0&&t>s){const e=t*l/100;i=e>a?a:e}const u=t-i;u>0&&(o=e>u?u:e),r=e-o,(t=t-i-o)<1e3&&t>0&&(t=1e3,r+=1e3,o+=1e3)}return i=Math.round(i),{remainingSmartClubCredit:r,percentDiscount:i,creditDiscount:o}};e.SepidzWebSmartClubCalculator=function(t,e,n,r,i,o){const{newTaxModel:a,taxOnFood:s,tax:l,packagingPrice:u}=t.restaurant.current;let c=0,p=0,d=0,h=0,f=e.reduce((function(t,e){return t+(0==e.priceAfterCouponShare?e.priceAfterCouponShare:e.priceAfterCouponShare||e.finalFoodPrice)}),0),m=f;f+=i+o;let g=0;if(f>0&&n&&r){const{credit:t,maxUsablePriceFromDiscountPercent:e,minFactorPriceToActiveDiscountPercent:n,percent:i}=r;if(i>0&&f>n){const t=f*i/100;g=t>e?e:t}p=g+t,h=g+t}return e.forEach((function(t){const e=0==t.priceAfterCouponShare?t.priceAfterCouponShare:t.priceAfterCouponShare||t.finalFoodPrice;let n=0==e?0:e/m*h;n>e&&(n=e),p<0&&(n=p,p=0),n<0&&(n=0),p-=n;let r=e-n;r<0&&(r=0),Object.assign(t,{priceAfterSepidzWebSmartCalculation:r});let i=0;t.taxable&&(i=a?Math.round(r*t.taxPercent/100):Math.round(r*l/100)),t.taxable&&(c+=i)})),d=e.reduce((function(t,e){return t+e.priceAfterSepidzWebSmartCalculation}),0),{percentDiscountSepidzWeb:Math.round(g),creditDiscountSepidzWeb:0,basketSumAfterSepidzWebSmartClub:d,taxAfterSmartClubCalculatorSepidzWeb:c,remainDiscountFromSepidzWebSmartClub:p<0?0:p}};e.smartClubToCash=function(t,e,n){let r=null,i=0,o=0;if(t>0&&e&&n){const{credit:e,maxUsablePriceFromDiscountPercent:a,minFactorPriceToActiveDiscountPercent:s,percent:l}=n;if(l>0&&t>s){const e=t*l/100;i=e>a?a:e}const u=t-i;u>0&&(o=e>u?u:e),r=e-o,(t=t-i-o)<1e3&&t>0&&(t=1e3,r+=1e3,o+=1e3)}return i=Math.round(i),{cash:i+o,remainingSmartClubCredit:r,percentDiscount:i,creditDiscount:o}};e.newSmartCalculation=function(t,e,n,r){let i=e.reduce((function(t,e){return t+(0==e.priceAfterCouponShare?e.priceAfterCouponShare:e.priceAfterCouponShare||e.finalFoodPrice)}),0);i+=r;let o=i,a=n,s=n;return e.forEach((function(t){const e=0==t.priceAfterCouponShare?t.priceAfterCouponShare:t.priceAfterCouponShare||t.finalFoodPrice;let n=0==e?0:e/o*a;n>e&&(n=e),s<0&&(n=s,s=0),n<0&&(n=0),s-=n;let r=e-n;r<0&&(r=0),Object.assign(t,{priceAfterCouponShare:r,discountFromNewSmartOnDelphi:n,finalFoodPrice:t.finalFoodPrice-n})})),{remain:s<0?0:s}}},,function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.Wrapper=e.Version=e.StyledFooter=e.Social=e.DsignerCompany=e.Designer=e.Copyright=e.AppLinks=void 0;var i,o,a,s,l=r(n(35)),u=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),c=n(42),p=n(33);e.StyledFooter=u.default.div.withConfig({componentId:"sc-dyoflm-0"})(["position:absolute;width:100% !important;min-height:80px;bottom:initial;left:0;background-color:",";text-align:center;color:",";direction:rtl;padding-bottom:50px;"," "," &:before{content:' ';display:table;}&:after{content:' ';display:table;clear:both;}"],(function(t){return t.theme.color.headerColor}),(function(t){return(0,c.isLight)(t.theme.color.headerColor)?t.theme.color.grayDark:t.theme.color.white}),p.breakpoint.greaterThan("desktop")(i||(i=(0,l.default)(["\n    padding-bottom: 0;\n  "]))),p.breakpoint.greaterThan("underdesktop")(o||(o=(0,l.default)(["\n\tbottom:0;\n\t\n\t\t","\n\t\n\t\n\t\n  "])),(function(t){return t.fullWidth?(0,u.css)(["width:100% !important;"]):(0,u.css)(["width:50% !important;"])}))),e.Wrapper=u.default.div.withConfig({componentId:"sc-dyoflm-1"})(["bottom:16px;position:absolute;margin:0 5%;padding:8px 0 0 8px;display:flex;width:90%;"]),e.Copyright=u.default.div.withConfig({componentId:"sc-dyoflm-2"})(["font-size:14px;margin-bottom:10px;width:100%;"," p{margin:0;}span{margin-left:5px;}a{color:",";}"],p.breakpoint.greaterThan("tablet")(a||(a=(0,l.default)(["\n\t  margin-bottom: 0;\n    float: right;\n    width:100%;\n    text-align: ",";\n  "])),(function(t){return t.center?"center":"right"})),(function(t){return t.theme.color.primary})),e.Social=u.default.div.withConfig({componentId:"sc-dyoflm-3"})([""," nav{direction:ltr;}a{color:",";margin:0 5px;.icon{font-size:24px;}}"],p.breakpoint.greaterThan("underdesktop")(s||(s=(0,l.default)(["\n    float: left;\n    width: 50%;\n    text-align: left;\n  "]))),(function(t){return t.theme.color.primary})),e.Designer=u.default.div.withConfig({componentId:"sc-dyoflm-4"})(["background-color:",";color:",";border-top:1px solid ",";text-align:center;float:left;width:100%;font-size:14px;padding:15px 10px;"],(function(t){return t.theme.color.headerColor}),(function(t){return t.theme.color.grayMedium}),(function(t){return(0,c.isLight)(t.theme.color.headerColor)?t.theme.color.grayDlight:(0,c.rgba)(t.theme.color.white,.04)})),e.DsignerCompany=u.default.div.withConfig({componentId:"sc-dyoflm-5"})(["a{img{margin:0 5px;vertical-align:middle;width:16px;height:16px;}color:#ef4123;}"]),e.Version=u.default.small.withConfig({componentId:"sc-dyoflm-6"})(["display:block;margin-top:10px;font-family:Arial;"]),e.AppLinks=u.default.div.withConfig({componentId:"sc-dyoflm-7"})(["width:100%;margin:20px auto;a{display:inline-block;max-width:130px;margin:0 2px;background-color:",";border-radius:5px;span{padding:0;}&:hover{background-color:",";}}img{width:100%;display:block;}"],(function(t){return t.theme.color.grayDarker}),(function(t){return t.theme.color.grayDarker}))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VERIFY_MOBILE=e.REGISTER=e.PASSWORD=e.LOGIN=e.CHECK_USER=void 0;var i=r(n(13)),o=n(0),a=n(29),s=n(104);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const c=e.CHECK_USER="check",p=e.LOGIN="password",d=e.VERIFY_MOBILE="verify",h=e.REGISTER="register",f=e.PASSWORD="reset",m={};e.default=function(){const t=(0,a.useDispatch)(),e=(0,a.useSelector)((function(t){return t.user.isLoggedIn})),[n,r]=(0,o.useState)(m),i=(0,o.useRef)(!1);(0,o.useEffect)((function(){return function(){i.current=!0}}),[]);const l=(0,o.useCallback)((function(e,o){if(i.current)return null;switch(e){case c:return r((function(t){return u(u({},t),{},{mobile:o.mobile,resetPasswordStep:!1})})),o.userExist?p:d;case d:return n.resetPasswordStep?(r((function(t){return u(u({},t),{},{token:o.token,resetPasswordStep:!1})})),f):(r((function(t){return u(u({},t),{},{token:o.token})})),h);case p:case h:case f:return(null==o?void 0:o.next)===d?(r((function(t){return u(u({},t),{},{resetPasswordStep:!0})})),d):(t((0,s.fetchUserAction)()),null);default:return null}}),[n]);return u(u({},n),{},{isLoggedIn:e,onNext:l})}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(21)),o=r(n(13)),a=n(104),s=n(0),l=n(29),u=n(105),c=n(388);function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.default=function(t){const[e,n]=(0,s.useState)(!1),[r,o]=(0,s.useState)(!1),p=(0,l.useDispatch)(),h=(0,l.useSelector)((function(t){var e;return null===(e=t.restaurant.current)||void 0===e?void 0:e.id})),[f,m]=(0,s.useState)({value:"",error:""}),g=(0,s.useCallback)((function(t){m(""===t?{value:t,error:""}:function(e){return d(d({},e),{},{value:t})})}),[]),y=(0,s.useCallback)((0,i.default)((function*(){let e;if(f.value||(e="لطفا کلمه عبور خود را وارد کنید"),e)return m((function(t){return d(d({},t),{},{error:e})})),{success:!1};n(!0);try{return yield(0,u.userLogin)(t,f.value).then((function(){h&&p((0,a.fetchSmartClubAction)(h,(function(){}),!0))})),{success:!0}}catch(t){var r;n(!1);let e="خطایی رخ داده است، دوباره تلاش کنید";return 400===(null===(r=t.response)||void 0===r?void 0:r.status)&&(e="کلمه عبور اشتباه است"),m((function(t){return d(d({},t),{},{error:e})})),{success:!1}}})),[f]),v=(0,s.useCallback)((0,i.default)((function*(){try{return o(!0),yield(0,u.userResetPassword)(t),{success:!0,data:{next:c.VERIFY_MOBILE}}}catch(t){return o(!1),m(d(d({},f),{},{error:"خطایی رخ داده است، دوباره تلاش کنید"})),{success:!1}}})),[f]);return{loginSubmitting:e,resetSubmitting:r,input:f,onChange:g,onSubmit:y,onResetPassword:v}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBranchFromMapContainer=e.NeNeshanContainer=void 0;var r=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16));n(33),n(42);e.SelectBranchFromMapContainer=r.default.div.withConfig({componentId:"sc-1eo56s5-0"})(["margin:",";display:flex;flex-direction:column;justify-content:center;gap:24px;background:#fff;border-radius:24px;padding:",";backdrop-filter:blur(100px) ",";.branch-selector-footer{display:flex;justify-content:space-between;direction:rtl}.ignore-button{background:transparent;border:none;cursor:pointer;text-decoration:underline;padding:0 10px;}.ignore-button:hover{background:#F5F5F7;border-radius:5px;}"],(function(t){return t.isMobile?"auto":"32px auto"}),(function(t){return t.isMobile?"32px 0":"32px"}),(function(t){return t.isMobile&&"\n  position:absolute;\n  min-height:600px;\n  border-radius:0;\n  height:100%\n  "})),e.NeNeshanContainer=r.default.div.withConfig({componentId:"sc-1eo56s5-1"})(["width:100%;margin:auto;height:100%;position:relative;border-radius:8px;.wm-container{display:none !important;visibility:hidden !important}.w-full{width:100%;}.h-full{height:100%;}.relative{position:relative;}.absolute{position:absolute;}.overflow-hidden{overflow:hidden;}.location-btn{position:absolute;bottom:24px;right:24px;border-radius:3px;padding:8px 12px 8px 16px;border:1px solid #ccc;color:#6b6a6a;background:#fff;font-size:14px;cursor:pointer;display:flex;align-items:center;gap:10px}.zoom-control{position:absolute;bottom:24px;left:24px;display:flex;flex-direction:column;button{display:flex;align-items:center;justify-content:center;border-color:#ccc;border:1px solid #ccc;color:#6b6a6a;background:#fff;font-size:14px;padding:4px 8px;cursor:pointer;width:40px;height:40px;}.zoom-in{border-radius:3px 3px 0 0}.zoom-out{border-radius:0px 0px 3px 3px}}.center-marker{width:55px;height:55px;position:absolute}.branch-selector-search .icon{color:#888 !important}"])},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.SearchHolder=e.SearchClear=e.InputHolder=e.DropdownList=e.DropdownItem=void 0;var i,o,a,s,l=r(n(35)),u=r(n(16)),c=n(33),p=n(42);e.SearchHolder=u.default.div.withConfig({componentId:"sc-1h34oip-0"})(["position:absolute;right:10px;top:10px;width:35px;z-index:500;transition:",";&.open{width:225px;input{padding-left:",";}}",""],(function(t){return t.theme.transition.all}),"33px",c.breakpoint.greaterThan("tablet")(i||(i=(0,l.default)(["\n    width: 225px;\n\n    &.open {\n      width: 400px;\n    }\n  "])))),e.InputHolder=u.default.div.withConfig({componentId:"sc-1h34oip-1"})(["background-color:",";border:1px solid ",";border-radius:3px;position:relative;overflow:hidden;input{direction:rtl;padding-right:",";height:",";font-size:",";border-radius:3px;background:none;border:none;overflow:hidden;width:100%;position:relative;}.icon{position:absolute;right:0;top:0;width:",";height:",";line-height:",";text-align:center;font-size:",";}"],(function(t){return t.theme.color.white}),(function(t){return t.theme.color.grayLight}),"33px","33px",(function(t){return(0,p.rem)(14,t.theme.fontSize.base)}),"33px","33px","33px",(function(t){return(0,p.rem)(15,t.theme.fontSize.base)})),e.SearchClear=u.default.span.withConfig({componentId:"sc-1h34oip-2"})(["cursor:pointer;position:absolute;left:0;top:0;width:",";height:",";line-height:",";text-align:center;.icon{font-size:",";}"],"33px","33px","33px",(function(t){return(0,p.rem)(10,t.theme.fontSize.base)})),e.DropdownList=u.default.ul.withConfig({componentId:"sc-1h34oip-3"})([""]),e.DropdownItem=u.default.li.withConfig({componentId:"sc-1h34oip-4"})(["cursor:pointer;direction:rtl;text-align:right;padding-left:5px;"," button{font-size:",";width:100%;text-align:right;cursor:pointer;span{max-width:70%;overflow:hidden;}.icon{float:right;width:",";height:",";line-height:",";font-size:",";color:",";text-align:center;}strong{padding-top:5px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;display:inline-block;max-width:180px;","}small{float:left;color:",";white-space:nowrap;text-overflow:ellipsis;overflow:hidden;width:100%;max-width:100%;text-align:right;display:block;padding-top:0;padding-bottom:10px;padding-right:",";","}}"],c.breakpoint.greaterThan("desktop")(o||(o=(0,l.default)(["\n    &:hover {\n\t\t  background-color: rgba(0, 0, 0, 0.05);\n\t  }\n\n  "]))),(function(t){return(0,p.rem)(14,t.theme.fontSize.base)}),"33px","33px","33px",(function(t){return(0,p.rem)(15,t.theme.fontSize.base)}),(function(t){return t.theme.color.grayMedium}),c.breakpoint.greaterThan("tablet")(a||(a=(0,l.default)(["\n        max-width: 240px;\n      "]))),(function(t){return t.theme.color.grayMedium}),"33px",c.breakpoint.greaterThan("tablet")(s||(s=(0,l.default)(["\n        width: auto;\n        max-width: 100px;\n        padding-top: 8px;\n        padding-right: 0;\n        padding-bottom: 0;\n      "]))))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBranchChips=void 0;var i=r(n(10)),o=r(n(13)),a=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),s=r(n(179)),l=n(288);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const p=function(t){let{branch:e}=t;const{history:n}=(0,s.default)(),[r,i]=(0,a.useState)(!1),o=(0,a.useRef)(null),u=(0,a.useRef)(null);return(0,a.useEffect)((function(){var t,e,n;i((null==u||null===(t=u.current)||void 0===t||null===(e=t.getBoundingClientRect)||void 0===e||null===(n=e.call(t))||void 0===n?void 0:n.width)>o.current.clientWidth)}),[]),a.default.createElement(l.Chip,{ref:o,isMobileSingle:e.isMobileSingle,isDesktopSingle:e.isDesktopSingle,isDesktopDouble:e.isDesktopDouble,onClick:function(){n.push("/order/".concat(e.domain))}},a.default.createElement("p",{className:r?"marquee":"",ref:u},(null==e?void 0:e.branchName)||e.branch||e.name||e.title))};e.SelectBranchChips=function(t){let{branches:e}=t;const{history:n}=(0,s.default)(),r=(0,a.useMemo)((function(){if(!e||!e.length)return[];const t=e.length,n=t%2,r=t%3;return e.map((function(e,i){const o=1===n&&i===t-1,a=1===r&&i===t-1,s=2===r&&(i===t-1||i===t-2);return c(c({},e),{},{isMobileSingle:o,isDesktopSingle:a,isDesktopDouble:s})}))}),[e]);return(0,i.default)(l.ChipContainer,{className:"chip-container"},void 0,(0,i.default)("div",{className:"chips-wrapper"},void 0,r.map((function(t,e){return(0,i.default)(p,{branch:t},e)}))))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n(10)),a=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),s=r(n(16));const l=s.default.div.withConfig({componentId:"sc-1xgwzwp-0"})(["margin-top:16px;display:flex;align-items:center;position:relative;width:100%;border:1px solid #E5E5EA;border-radius:16px;padding:",";background-color:white;gap:8px;"],(function(t){return"rtl"===t.dir?"8px 16px 8px 8px":"8px 8px 8px 16px"})),u=s.default.div.withConfig({componentId:"sc-1xgwzwp-1"})(["display:flex;align-items:center;justify-content:center;margin:",";"],(function(t){return"rtl"===t.dir?"0 0 0 8px":"0 8px 0 0"})),c=s.default.input.withConfig({componentId:"sc-1xgwzwp-2"})(["width:100%;border:none;outline:none;background-color:transparent;font-size:14px;padding:8px 0;color:#1A1A1C;&::placeholder{color:#A9AAAE;}"]);e.default=function(t){let{placeholder:e="جستجو...",value:n="",onChange:r,onSearch:s,className:p,dir:d="rtl",autoFocus:h=!1}=t;const[f,m]=(0,a.useState)(n),g=(0,a.useRef)(null);(0,a.useEffect)((function(){h&&g.current&&g.current.focus()}),[h]);return(0,o.default)(l,{className:p,dir:d},void 0,i||(i=(0,o.default)(u,{},void 0,(0,o.default)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},void 0,(0,o.default)("path",{d:"M8.25 14.25C11.5637 14.25 14.25 11.5637 14.25 8.25C14.25 4.93629 11.5637 2.25 8.25 2.25C4.93629 2.25 2.25 4.93629 2.25 8.25C2.25 11.5637 4.93629 14.25 8.25 14.25Z",stroke:"#A9AAAE",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.default)("path",{d:"M15.7508 15.7498L12.4883 12.4873",stroke:"#A9AAAE",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})))),a.default.createElement(c,{ref:g,type:"text",placeholder:e,value:f,onChange:function(t){const e=t.target.value;m(e),r&&r(e)},onKeyDown:function(t){"Enter"===t.key&&s&&s(f)},dir:d}))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.StyledAddress=e.Loading=e.BackButton=void 0;var i=r(n(16));e.StyledAddress=i.default.div.withConfig({componentId:"sc-1w8u8r8-0"})(["min-height:500px;position:relative;"]),e.BackButton=i.default.div.withConfig({componentId:"sc-1w8u8r8-1"})(["position:absolute;top:-48px;right:10px;width:40px;height:40px;line-height:40px;cursor:pointer;color:",";z-index:1000;text-align:center;.icon{font-size:0.875rem;}"],(function(t){return t.theme.color.textColor})),e.Loading=i.default.div.withConfig({componentId:"sc-1w8u8r8-2"})(["z-index:800;width:100%;position:absolute;height:100%;background-color:",";span{position:absolute;bottom:50%;left:50%;margin-left:-22px;margin-top:-22px;}"],(function(t){return t.theme.color.white}))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.FabButtonContainer=void 0;var i=r(n(16)),o=r(n(48));n(33),r(n(7));e.FabButtonContainer=(0,i.default)(o.default).withConfig({componentId:"sc-dw6ch8-0"})(["position:fixed;bottom:70px;left:32px;z-index:99999;background-color:",";border-radius:","px;border:none;height:48px;padding:10px 30px;min-width:130px;box-shadow:0px 3px 8px 0px rgba(0,0,0,0.25);transition:0.1s all ease-in-out;font-size:16px;font-style:normal;font-weight:400;line-height:24px;&:hover{background-color:",";color:#222;}color:#fff;@keyframes heartbeat{0%{transform:scale(1);}25%{transform:scale(1.1);}50%{transform:scale(1);}75%{transform:scale(1.1);}100%{transform:scale(1);}}animation:",";"],(function(t){return t.fabBgColor||"#FDB814"}),(function(t){var e,n;return(null===(e=t.theme)||void 0===e||null===(n=e.button)||void 0===n?void 0:n.radius)||48}),(function(t){return t.fabBgColor||"#FDB814"}),(function(t){return t.isCritical?"heartbeat 1s infinite":"none"}))},function(t,e,n){"use strict";n.r(e),n.d(e,"SDK_VERSION",(function(){return r.a})),n.d(e,"SEMANTIC_ATTRIBUTE_SENTRY_OP",(function(){return a})),n.d(e,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN",(function(){return s})),n.d(e,"SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE",(function(){return o})),n.d(e,"SEMANTIC_ATTRIBUTE_SENTRY_SOURCE",(function(){return i})),n.d(e,"Scope",(function(){return O})),n.d(e,"addBreadcrumb",(function(){return K})),n.d(e,"addEventProcessor",(function(){return ie})),n.d(e,"addIntegration",(function(){return he})),n.d(e,"addTracingExtensions",(function(){return Me})),n.d(e,"captureConsoleIntegration",(function(){return De})),n.d(e,"captureEvent",(function(){return Zt})),n.d(e,"captureException",(function(){return Ht})),n.d(e,"captureFeedback",(function(){return ze})),n.d(e,"captureMessage",(function(){return Gt})),n.d(e,"captureSession",(function(){return le})),n.d(e,"close",(function(){return ne})),n.d(e,"continueTrace",(function(){return dn})),n.d(e,"createTransport",(function(){return Tn})),n.d(e,"debugIntegration",(function(){return Mn})),n.d(e,"dedupeIntegration",(function(){return An})),n.d(e,"endSession",(function(){return ae})),n.d(e,"extraErrorDataIntegration",(function(){return zn})),n.d(e,"flush",(function(){return ee})),n.d(e,"functionToStringIntegration",(function(){return Wn})),n.d(e,"getActiveSpan",(function(){return At})),n.d(e,"getClient",(function(){return H})),n.d(e,"getCurrentHub",(function(){return Bn})),n.d(e,"getCurrentScope",(function(){return N})),n.d(e,"getGlobalScope",(function(){return U})),n.d(e,"getIsolationScope",(function(){return F})),n.d(e,"getRootSpan",(function(){return Mt})),n.d(e,"getSpanDescendants",(function(){return It})),n.d(e,"getSpanStatusFromHttpCode",(function(){return ht})),n.d(e,"inboundFiltersIntegration",(function(){return Nn})),n.d(e,"isInitialized",(function(){return re})),n.d(e,"lastEventId",(function(){return te})),n.d(e,"makeMultiplexedTransport",(function(){return Hn})),n.d(e,"moduleMetadataIntegration",(function(){return Yn})),n.d(e,"parameterize",(function(){return Jn})),n.d(e,"registerSpanErrorInstrumentation",(function(){return Te})),n.d(e,"rewriteFramesIntegration",(function(){return ir})),n.d(e,"sessionTimingIntegration",(function(){return or})),n.d(e,"setContext",(function(){return Kt})),n.d(e,"setCurrentClient",(function(){return ar})),n.d(e,"setExtra",(function(){return Xt})),n.d(e,"setExtras",(function(){return Qt})),n.d(e,"setHttpStatus",(function(){return ft})),n.d(e,"setMeasurement",(function(){return nn})),n.d(e,"setTag",(function(){return Jt})),n.d(e,"setTags",(function(){return Yt})),n.d(e,"setUser",(function(){return $t})),n.d(e,"spanToBaggageHeader",(function(){return Bt})),n.d(e,"spanToJSON",(function(){return St})),n.d(e,"spanToTraceHeader",(function(){return xt})),n.d(e,"startInactiveSpan",(function(){return pn})),n.d(e,"startNewTrace",(function(){return mn})),n.d(e,"startSession",(function(){return oe})),n.d(e,"startSpan",(function(){return un})),n.d(e,"startSpanManual",(function(){return cn})),n.d(e,"suppressTracing",(function(){return fn})),n.d(e,"thirdPartyErrorFilterIntegration",(function(){return sr})),n.d(e,"updateSpanName",(function(){return Dt})),n.d(e,"withActiveSpan",(function(){return hn})),n.d(e,"withIsolationScope",(function(){return q})),n.d(e,"withScope",(function(){return V})),n.d(e,"zodErrorsIntegration",(function(){return dr})),n.d(e,"WINDOW",(function(){return hr})),n.d(e,"BrowserClient",(function(){return Wr})),n.d(e,"makeFetchTransport",(function(){return Kr})),n.d(e,"chromeStackLineParser",(function(){return $r})),n.d(e,"defaultStackLineParsers",(function(){return ui})),n.d(e,"defaultStackParser",(function(){return ci})),n.d(e,"geckoStackLineParser",(function(){return ni})),n.d(e,"opera10StackLineParser",(function(){return ai})),n.d(e,"opera11StackLineParser",(function(){return li})),n.d(e,"winjsStackLineParser",(function(){return ii})),n.d(e,"eventFromException",(function(){return Or})),n.d(e,"eventFromMessage",(function(){return Pr})),n.d(e,"exceptionFromError",(function(){return kr})),n.d(e,"createUserFeedbackEnvelope",(function(){return Rr})),n.d(e,"captureUserFeedback",(function(){return to})),n.d(e,"forceLoad",(function(){return Ji})),n.d(e,"getDefaultIntegrations",(function(){return Qi})),n.d(e,"onLoad",(function(){return $i})),n.d(e,"showReportDialog",(function(){return Yi})),n.d(e,"breadcrumbsIntegration",(function(){return Di})),n.d(e,"globalHandlersIntegration",(function(){return Fi})),n.d(e,"httpContextIntegration",(function(){return qi})),n.d(e,"linkedErrorsIntegration",(function(){return Ki})),n.d(e,"browserApiErrorsIntegration",(function(){return Li})),n.d(e,"lazyLoadIntegration",(function(){return ro})),n.d(e,"reportingObserverIntegration",(function(){return ao})),n.d(e,"httpClientIntegration",(function(){return uo})),n.d(e,"contextLinesIntegration",(function(){return vo})),n.d(e,"getReplay",(function(){return yc})),n.d(e,"replayIntegration",(function(){return fc})),n.d(e,"replayCanvasIntegration",(function(){return Hc})),n.d(e,"feedbackAsyncIntegration",(function(){return Id})),n.d(e,"feedbackIntegration",(function(){return Md})),n.d(e,"feedbackSyncIntegration",(function(){return Md})),n.d(e,"getFeedback",(function(){return op})),n.d(e,"sendFeedback",(function(){return Qc})),n.d(e,"metrics",(function(){return Fd})),n.d(e,"defaultRequestInstrumentationOptions",(function(){return th})),n.d(e,"instrumentOutgoingRequests",(function(){return eh})),n.d(e,"browserTracingIntegration",(function(){return xh})),n.d(e,"startBrowserTracingNavigationSpan",(function(){return kh})),n.d(e,"startBrowserTracingPageLoadSpan",(function(){return wh})),n.d(e,"makeBrowserOfflineTransport",(function(){return Mh})),n.d(e,"browserProfilingIntegration",(function(){return Qh})),n.d(e,"spotlightBrowserIntegration",(function(){return Xh})),n.d(e,"browserSessionIntegration",(function(){return Ni})),n.d(e,"featureFlagsIntegration",(function(){return $h})),n.d(e,"buildLaunchDarklyFlagUsedHandler",(function(){return ef})),n.d(e,"launchDarklyIntegration",(function(){return tf})),n.d(e,"OpenFeatureIntegrationHook",(function(){return rf})),n.d(e,"openFeatureIntegration",(function(){return nf})),n.d(e,"unleashIntegration",(function(){return of})),n.d(e,"statsigIntegration",(function(){return sf})),n.d(e,"init",(function(){return uf})),n.d(e,"reactErrorHandler",(function(){return pf})),n.d(e,"Profiler",(function(){return ff})),n.d(e,"useProfiler",(function(){return gf})),n.d(e,"withProfiler",(function(){return mf})),n.d(e,"ErrorBoundary",(function(){return _f})),n.d(e,"withErrorBoundary",(function(){return bf})),n.d(e,"createReduxEnhancer",(function(){return wf})),n.d(e,"reactRouterV3BrowserTracingIntegration",(function(){return kf})),n.d(e,"tanstackRouterBrowserTracingIntegration",(function(){return Cf})),n.d(e,"reactRouterV4BrowserTracingIntegration",(function(){return Tf})),n.d(e,"reactRouterV5BrowserTracingIntegration",(function(){return If})),n.d(e,"withSentryRouting",(function(){return Af})),n.d(e,"reactRouterV6BrowserTracingIntegration",(function(){return om})),n.d(e,"withSentryReactRouterV6Routing",(function(){return pm})),n.d(e,"wrapCreateBrowserRouter",(function(){return um})),n.d(e,"wrapCreateBrowserRouterV6",(function(){return lm})),n.d(e,"wrapCreateMemoryRouterV6",(function(){return cm})),n.d(e,"wrapUseRoutes",(function(){return sm})),n.d(e,"wrapUseRoutesV6",(function(){return am})),n.d(e,"reactRouterV7BrowserTracingIntegration",(function(){return dm})),n.d(e,"withSentryReactRouterV7Routing",(function(){return hm})),n.d(e,"wrapCreateBrowserRouterV7",(function(){return fm})),n.d(e,"wrapCreateMemoryRouterV7",(function(){return mm})),n.d(e,"wrapUseRoutesV7",(function(){return gm}));var r=n(91);const i="sentry.source",o="sentry.sample_rate",a="sentry.op",s="sentry.origin";var l=n(17),u=n(8);function c(){return Date.now()/1e3}const p=function(){const{performance:t}=u.a;if(!t||!t.now)return c;const e=Date.now()-t.now(),n=null==t.timeOrigin?e:t.timeOrigin;return()=>(n+t.now())/1e3}();let d;const h=(()=>{const{performance:t}=u.a;if(!t||!t.now)return void(d="none");const e=t.now(),n=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+e-n):36e5,i=r<36e5,o=t.timing&&t.timing.navigationStart,a="number"==typeof o?Math.abs(o+e-n):36e5;return i||a<36e5?r<=a?(d="timeOrigin",t.timeOrigin):(d="navigationStart",o):(d="dateNow",n)})();var f=n(37);function m(){const t=u.a,e=t.crypto||t.msCrypto;let n=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(t){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,t=>(t^(15&n())>>t/4).toString(16))}function g(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function y(t){const{message:e,event_id:n}=t;if(e)return e;const r=g(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function v(t,e,n){const r=t.exception=t.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=e||""),o.type||(o.type=n||"Error")}function _(t,e){const n=g(t);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const t={...r&&r.data,...e.data};n.mechanism.data=t}}function b(t){if(function(t){try{return t.__sentry_captured__}catch(t){}}(t))return!0;try{Object(l.a)(t,"__sentry_captured__",!0)}catch(t){}return!1}function x(t){const e=p(),n={sid:m(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return Object(l.c)({sid:""+t.sid,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?""+t.did:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}(n)};return t&&w(n,t),n}function w(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||p(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:m()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=""+e.did),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}var k=n(14),S=n(3);function C(){return m()}function E(){return m().substring(16)}function T(t,e,n=2){if(!e||"object"!=typeof e||n<=0)return e;if(t&&e&&0===Object.keys(e).length)return t;const r={...t};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=T(r[t],e[t],n-1));return r}function I(t,e){e?Object(l.a)(t,"_sentrySpan",e):delete t._sentrySpan}function M(t){return t._sentrySpan}class A{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:C(),spanId:E()}}clone(){const t=new A;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,I(t,M(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&w(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const e="function"==typeof t?t(this):t,[n,r]=e instanceof O?[e.getScopeData(),e.getRequestSession()]:Object(k.i)(e)?[t,t.requestSession]:[],{tags:i,extra:o,user:a,contexts:s,level:l,fingerprint:u=[],propagationContext:c}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...s},a&&Object.keys(a).length&&(this._user=a),l&&(this._level=l),u.length&&(this._fingerprint=u),c&&(this._propagationContext=c),r&&(this._requestSession=r),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,I(this,void 0),this._attachments=[],this.setPropagationContext({traceId:C()}),this._notifyScopeListeners(),this}addBreadcrumb(t,e){const n="number"==typeof e?e:100;if(n<=0)return this;const r={timestamp:c(),...t};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:M(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=T(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:E(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,e){const n=e&&e.event_id?e.event_id:m();if(!this._client)return S.c.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:r,...e,event_id:n},this),n}captureMessage(t,e,n){const r=n&&n.event_id?n.event_id:m();if(!this._client)return S.c.warn("No client configured on scope - will not capture message!"),r;const i=new Error(t);return this._client.captureMessage(t,e,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureEvent(t,e){const n=e&&e.event_id?e.event_id:m();return this._client?(this._client.captureEvent(t,{...e,event_id:n},this),n):(S.c.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const O=A;function P(){return D(u.a),u.a}function D(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||r.a,e[r.a]=e[r.a]||{}}class z{constructor(t,e){let n,r;n=t||new O,r=e||new O,this._stack=[{scope:n}],this._isolationScope=r}withScope(t){const e=this._pushScope();let n;try{n=t(e)}catch(t){throw this._popScope(),t}return Object(k.n)(n)?n.then(t=>(this._popScope(),t),t=>{throw this._popScope(),t}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function L(){const t=D(P());return t.stack=t.stack||new z(Object(u.b)("defaultCurrentScope",()=>new O),Object(u.b)("defaultIsolationScope",()=>new O))}function R(t){return L().withScope(t)}function W(t,e){const n=L();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}function B(t){return L().withScope(()=>t(L().getIsolationScope()))}function j(t){const e=D(t);return e.acs?e.acs:{withIsolationScope:B,withScope:R,withSetScope:W,withSetIsolationScope:(t,e)=>B(e),getCurrentScope:()=>L().getScope(),getIsolationScope:()=>L().getIsolationScope()}}function N(){return j(P()).getCurrentScope()}function F(){return j(P()).getIsolationScope()}function U(){return Object(u.b)("globalScope",()=>new O)}function V(...t){const e=j(P());if(2===t.length){const[n,r]=t;return n?e.withSetScope(n,r):e.withScope(r)}return e.withScope(t[0])}function q(...t){const e=j(P());if(2===t.length){const[n,r]=t;return n?e.withSetIsolationScope(n,r):e.withIsolationScope(r)}return e.withIsolationScope(t[0])}function H(){return N().getClient()}function G(t){const e=t.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=e;return Object(l.c)({trace_id:n,span_id:r,parent_span_id:i})}const Z=100;function K(t,e){const n=H(),r=F();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Z}=n.getOptions();if(o<=0)return;const a={timestamp:c(),...t},s=i?Object(S.b)(()=>i(a,e)):a;null!==s&&(n.emit&&n.emit("beforeAddBreadcrumb",s,e),r.addBreadcrumb(s,o))}const Q="production",X="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var Y;function J(t){return new tt(e=>{e(t)})}function $(t){return new tt((e,n)=>{n(t)})}!function(t){t[t.PENDING=0]="PENDING";t[t.RESOLVED=1]="RESOLVED";t[t.REJECTED=2]="REJECTED"}(Y||(Y={}));class tt{constructor(t){tt.prototype.__init.call(this),tt.prototype.__init2.call(this),tt.prototype.__init3.call(this),tt.prototype.__init4.call(this),this._state=Y.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}then(t,e){return new tt((n,r)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(t){r(t)}else n(e)},t=>{if(e)try{n(e(t))}catch(t){r(t)}else r(t)}]),this._executeHandlers()})}catch(t){return this.then(t=>t,t)}finally(t){return new tt((e,n)=>{let r,i;return this.then(e=>{i=!1,r=e,t&&t()},e=>{i=!0,r=e,t&&t()}).then(()=>{i?n(r):e(r)})})}__init(){this._resolve=t=>{this._setResult(Y.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Y.REJECTED,t)}}__init3(){this._setResult=(t,e)=>{this._state===Y.PENDING&&(Object(k.n)(e)?e.then(this._resolve,this._reject):(this._state=t,this._value=e,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Y.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(t=>{t[0]||(this._state===Y.RESOLVED&&t[1](this._value),this._state===Y.REJECTED&&t[2](this._value),t[0]=!0)})}}}let et,nt,rt;function it(t){const e=u.a._sentryDebugIds;if(!e)return{};const n=Object.keys(e);return rt&&n.length===nt||(nt=n.length,rt=n.reduce((n,r)=>{et||(et={});const i=et[r];if(i)n[i[0]]=i[1];else{const i=t(r);for(let t=i.length-1;t>=0;t--){const o=i[t],a=o&&o.filename,s=e[r];if(a&&s){n[a]=s,et[r]=[a,s];break}}}return n},{})),rt}var ot=n(82),at=n(47);const st=/^sentry-/;function lt(t){const e=function(t){if(!t||!Object(k.l)(t)&&!Array.isArray(t))return;if(Array.isArray(t))return t.reduce((t,e)=>{const n=ct(e);return Object.entries(n).forEach(([e,n])=>{t[e]=n}),t},{});return ct(t)}(t);if(!e)return;const n=Object.entries(e).reduce((t,[e,n])=>{if(e.match(st)){t[e.slice("sentry-".length)]=n}return t},{});return Object.keys(n).length>0?n:void 0}function ut(t){if(!t)return;return function(t){if(0===Object.keys(t).length)return;return Object.entries(t).reduce((t,[e,n],r)=>{const i=`${encodeURIComponent(e)}=${encodeURIComponent(n)}`,o=0===r?i:`${t},${i}`;return o.length>8192?(at.a&&S.c.warn(`Not adding key: ${e} with val: ${n} to baggage header due to exceeding baggage size limits.`),t):o},"")}(Object.entries(t).reduce((t,[e,n])=>(n&&(t["sentry-"+e]=n),t),{}))}function ct(t){return t.split(",").map(t=>t.split("=").map(t=>decodeURIComponent(t.trim()))).reduce((t,[e,n])=>(e&&n&&(t[e]=n),t),{})}function pt(t){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const e=H(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function dt(t){const e=t._sentryMetrics;if(!e)return;const n={};for(const[,[t,r]]of e){(n[t]||(n[t]=[])).push(Object(l.c)(r))}return n}function ht(t){if(t<400&&t>=100)return{code:1};if(t>=400&&t<500)switch(t){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function ft(t,e){t.setAttribute("http.response.status_code",e);const n=ht(e);"unknown_error"!==n.message&&t.setStatus(n)}const mt=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function gt(t,e){const n=function(t){if(!t)return;const e=t.match(mt);if(!e)return;let n;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}(t),r=lt(e);if(!n||!n.traceId)return{traceId:C(),spanId:E()};const{traceId:i,parentSpanId:o,parentSampled:a}=n;return{traceId:i,parentSpanId:o,spanId:E(),sampled:a,dsc:r||{}}}function yt(t=C(),e=E(),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${t}-${e}${r}`}let vt=!1;function _t(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:i,parent_span_id:o,status:a,origin:s}=St(t);return Object(l.c)({parent_span_id:o,span_id:e,trace_id:n,data:r,op:i,status:a,origin:s})}function bt(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext(),i=r?e:St(t).parent_span_id,o=r?E():e;return Object(l.c)({parent_span_id:i,span_id:o,trace_id:n})}function xt(t){const{traceId:e,spanId:n}=t.spanContext();return yt(e,n,Ct(t))}function wt(t){return"number"==typeof t?kt(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?kt(t.getTime()):p()}function kt(t){return t>9999999999?t/1e3:t}function St(t){if(function(t){return"function"==typeof t.getSpanJSON}(t))return t.getSpanJSON();try{const{spanId:e,traceId:n}=t.spanContext();if(function(t){const e=t;return!!(e.attributes&&e.startTime&&e.name&&e.endTime&&e.status)}(t)){const{attributes:r,startTime:i,name:o,endTime:u,parentSpanId:c,status:p}=t;return Object(l.c)({span_id:e,trace_id:n,data:r,description:o,parent_span_id:c,start_timestamp:wt(i),timestamp:wt(u)||void 0,status:Et(p),op:r[a],origin:r[s],_metrics_summary:dt(t)})}return{span_id:e,trace_id:n}}catch(t){return{}}}function Ct(t){const{traceFlags:e}=t.spanContext();return 1===e}function Et(t){if(t&&0!==t.code)return 1===t.code?"ok":t.message||"unknown_error"}function Tt(t,e){const n=t._sentryRootSpan||t;Object(l.a)(e,"_sentryRootSpan",n),t._sentryChildSpans?t._sentryChildSpans.add(e):Object(l.a)(t,"_sentryChildSpans",new Set([e]))}function It(t){const e=new Set;return function t(n){if(!e.has(n)&&Ct(n)){e.add(n);const r=n._sentryChildSpans?Array.from(n._sentryChildSpans):[];for(const e of r)t(e)}}(t),Array.from(e)}function Mt(t){return t._sentryRootSpan||t}function At(){const t=j(P());return t.getActiveSpan?t.getActiveSpan():M(N())}function Ot(t,e,n,r,i,o){const a=At();a&&function(t,e,n,r,i,o,a){const s=t._sentryMetrics||(t._sentryMetrics=new Map),l=`${e}:${n}@${i}`,u=s.get(a);if(u){const[,t]=u;s.set(a,[l,{min:Math.min(t.min,r),max:Math.max(t.max,r),count:t.count+=1,sum:t.sum+=r,tags:t.tags}])}else s.set(a,[l,{min:r,max:r,count:1,sum:r,tags:o}])}(a,t,e,n,r,i,o)}function Pt(){vt||(Object(S.b)(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),vt=!0)}function Dt(t,e){t.updateName(e),t.setAttributes({[i]:"custom","sentry.custom_span_name":e})}function zt(t,e){const n=t;Object(l.a)(n,"_frozenDsc",e)}function Lt(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},i=Object(l.c)({environment:n.environment||Q,release:n.release,public_key:r,trace_id:t});return e.emit("createDsc",i),i}function Rt(t,e){const n=e.getPropagationContext();return n.dsc||Lt(n.traceId,t)}function Wt(t){const e=H();if(!e)return{};const n=Mt(t),r=n._frozenDsc;if(r)return r;const a=n.spanContext().traceState,s=a&&a.get("sentry.dsc"),l=s&&lt(s);if(l)return l;const u=Lt(t.spanContext().traceId,e),c=St(n),p=c.data||{},d=p[o];null!=d&&(u.sample_rate=""+d);const h=p[i],f=c.description;return"url"!==h&&f&&(u.transaction=f),pt()&&(u.sampled=String(Ct(n))),e.emit("createDsc",u,n),u}function Bt(t){return ut(Wt(t))}function jt(t,e){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=e;!function(t,e){const{extra:n,tags:r,user:i,contexts:o,level:a,transactionName:s}=e,u=Object(l.c)(n);u&&Object.keys(u).length&&(t.extra={...u,...t.extra});const c=Object(l.c)(r);c&&Object.keys(c).length&&(t.tags={...c,...t.tags});const p=Object(l.c)(i);p&&Object.keys(p).length&&(t.user={...p,...t.user});const d=Object(l.c)(o);d&&Object.keys(d).length&&(t.contexts={...d,...t.contexts});a&&(t.level=a);s&&"transaction"!==t.type&&(t.transaction=s)}(t,e),r&&function(t,e){t.contexts={trace:bt(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:Wt(e),...t.sdkProcessingMetadata};const n=St(Mt(e)).description;n&&!t.transaction&&"transaction"===t.type&&(t.transaction=n)}(t,r),function(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e));t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}(t,n),function(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}(t,i),function(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}(t,o)}function Nt(t,e){const{extra:n,tags:r,user:i,contexts:o,level:a,sdkProcessingMetadata:s,breadcrumbs:l,fingerprint:u,eventProcessors:c,attachments:p,propagationContext:d,transactionName:h,span:f}=e;Ft(t,"extra",n),Ft(t,"tags",r),Ft(t,"user",i),Ft(t,"contexts",o),t.sdkProcessingMetadata=T(t.sdkProcessingMetadata,s,2),a&&(t.level=a),h&&(t.transactionName=h),f&&(t.span=f),l.length&&(t.breadcrumbs=[...t.breadcrumbs,...l]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),c.length&&(t.eventProcessors=[...t.eventProcessors,...c]),p.length&&(t.attachments=[...t.attachments,...p]),t.propagationContext={...t.propagationContext,...d}}function Ft(t,e,n){t[e]=T(t[e],n,1)}function Ut(t,e,n,r,i,o){const{normalizeDepth:a=3,normalizeMaxBreadth:s=1e3}=t,l={...e,event_id:e.event_id||n.event_id||m(),timestamp:e.timestamp||c()},u=n.integrations||t.integrations.map(t=>t.name);!function(t,e){const{environment:n,release:r,dist:i,maxValueLength:o=250}=e;t.environment=t.environment||n||Q,!t.release&&r&&(t.release=r);!t.dist&&i&&(t.dist=i);t.message&&(t.message=Object(f.d)(t.message,o));const a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=Object(f.d)(a.value,o));const s=t.request;s&&s.url&&(s.url=Object(f.d)(s.url,o))}(l,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(l,u),i&&i.emit("applyFrameMetadata",e),void 0===e.type&&function(t,e){const n=it(e);try{t.exception.values.forEach(t=>{t.stacktrace.frames.forEach(t=>{n&&t.filename&&(t.debug_id=n[t.filename])})})}catch(t){}}(l,t.stackParser);const p=function(t,e){if(!e)return t;const n=t?t.clone():new O;return n.update(e),n}(r,n.captureContext);n.mechanism&&_(l,n.mechanism);const d=i?i.getEventProcessors():[],h=U().getScopeData();if(o){Nt(h,o.getScopeData())}if(p){Nt(h,p.getScopeData())}const g=[...n.attachments||[],...h.attachments];g.length&&(n.attachments=g),jt(l,h);return function t(e,n,r,i=0){return new tt((o,a)=>{const s=e[i];if(null===n||"function"!=typeof s)o(n);else{const l=s({...n},r);X&&s.id&&null===l&&S.c.log(`Event processor "${s.id}" dropped event`),Object(k.n)(l)?l.then(n=>t(e,n,r,i+1).then(o)).then(null,a):t(e,l,r,i+1).then(o).then(null,a)}})}([...d,...h.eventProcessors],l,n).then(t=>(t&&function(t){const e={};try{t.exception.values.forEach(t=>{t.stacktrace.frames.forEach(t=>{t.debug_id&&(t.abs_path?e[t.abs_path]=t.debug_id:t.filename&&(e[t.filename]=t.debug_id),delete t.debug_id)})})}catch(t){}if(0===Object.keys(e).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach(([t,e])=>{n.push({type:"sourcemap",code_file:t,debug_id:e})})}(t),"number"==typeof a&&a>0?function(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(t=>({...t,...t.data&&{data:Object(ot.a)(t.data,e,n)}}))},...t.user&&{user:Object(ot.a)(t.user,e,n)},...t.contexts&&{contexts:Object(ot.a)(t.contexts,e,n)},...t.extra&&{extra:Object(ot.a)(t.extra,e,n)}};t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=Object(ot.a)(t.contexts.trace.data,e,n)));t.spans&&(r.spans=t.spans.map(t=>({...t,...t.data&&{data:Object(ot.a)(t.data,e,n)}})));t.contexts&&t.contexts.flags&&r.contexts&&(r.contexts.flags=Object(ot.a)(t.contexts.flags,3,n));return r}(t,a,s):t))}function Vt(t){if(t)return function(t){return t instanceof O||"function"==typeof t}(t)||function(t){return Object.keys(t).some(t=>qt.includes(t))}(t)?{captureContext:t}:t}const qt=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Ht(t,e){return N().captureException(t,Vt(e))}function Gt(t,e){const n="string"==typeof e?e:void 0,r="string"!=typeof e?{captureContext:e}:void 0;return N().captureMessage(t,n,r)}function Zt(t,e){return N().captureEvent(t,e)}function Kt(t,e){F().setContext(t,e)}function Qt(t){F().setExtras(t)}function Xt(t,e){F().setExtra(t,e)}function Yt(t){F().setTags(t)}function Jt(t,e){F().setTag(t,e)}function $t(t){F().setUser(t)}function te(){return F().lastEventId()}async function ee(t){const e=H();return e?e.flush(t):(X&&S.c.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function ne(t){const e=H();return e?e.close(t):(X&&S.c.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function re(){return!!H()}function ie(t){F().addEventProcessor(t)}function oe(t){const e=H(),n=F(),r=N(),{release:i,environment:o=Q}=e&&e.getOptions()||{},{userAgent:a}=u.a.navigator||{},s=x({release:i,environment:o,user:r.getUser()||n.getUser(),...a&&{userAgent:a},...t}),l=n.getSession();return l&&"ok"===l.status&&w(l,{status:"exited"}),ae(),n.setSession(s),r.setSession(s),s}function ae(){const t=F(),e=N(),n=e.getSession()||t.getSession();n&&function(t,e){let n={};e?n={status:e}:"ok"===t.status&&(n={status:"exited"}),w(t,n)}(n),se(),t.setSession(),e.setSession()}function se(){const t=F(),e=N(),n=H(),r=e.getSession()||t.getSession();r&&n&&n.captureSession(r)}function le(t=!1){t?ae():se()}const ue=[];function ce(t){const e=t.defaultIntegrations||[],n=t.integrations;let r;if(e.forEach(t=>{t.isDefaultInstance=!0}),Array.isArray(n))r=[...e,...n];else if("function"==typeof n){const t=n(e);r=Array.isArray(t)?t:[t]}else r=e;const i=function(t){const e={};return t.forEach(t=>{const{name:n}=t,r=e[n];r&&!r.isDefaultInstance&&t.isDefaultInstance||(e[n]=t)}),Object.values(e)}(r),o=i.findIndex(t=>"Debug"===t.name);if(o>-1){const[t]=i.splice(o,1);i.push(t)}return i}function pe(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}function de(t,e,n){if(n[e.name])X&&S.c.log("Integration skipped because it was already installed: "+e.name);else{if(n[e.name]=e,-1===ue.indexOf(e.name)&&"function"==typeof e.setupOnce&&(e.setupOnce(),ue.push(e.name)),e.setup&&"function"==typeof e.setup&&e.setup(t),"function"==typeof e.preprocessEvent){const n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(e,r)=>n(e,r,t))}if("function"==typeof e.processEvent){const n=e.processEvent.bind(e),r=Object.assign((e,r)=>n(e,r,t),{id:e.name});t.addEventProcessor(r)}X&&S.c.log("Integration installed: "+e.name)}}function he(t){const e=H();e?e.addIntegration(t):X&&S.c.warn(`Cannot add integration "${t.name}" because no SDK Client is available.`)}var fe=n(101);const me={},ge={};function ye(t,e){me[t]=me[t]||[],me[t].push(e)}function ve(t,e){if(!ge[t]){ge[t]=!0;try{e()}catch(e){at.a&&S.c.error("Error while instrumenting "+t,e)}}}function _e(t,e){const n=t&&me[t];if(n)for(const r of n)try{r(e)}catch(e){at.a&&S.c.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${Object(fe.d)(r)}\nError:`,e)}}let be=null;function xe(t){ye("error",t),ve("error",we)}function we(){be=u.a.onerror,u.a.onerror=function(t,e,n,r,i){const o={column:r,error:i,line:n,msg:t,url:e};return _e("error",o),!!be&&be.apply(this,arguments)},u.a.onerror.__SENTRY_INSTRUMENTED__=!0}let ke=null;function Se(t){const e="unhandledrejection";ye(e,t),ve(e,Ce)}function Ce(){ke=u.a.onunhandledrejection,u.a.onunhandledrejection=function(t){const e=t;return _e("unhandledrejection",e),!ke||ke.apply(this,arguments)},u.a.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}let Ee=!1;function Te(){Ee||(Ee=!0,xe(Ie),Se(Ie))}function Ie(){const t=At(),e=t&&Mt(t);if(e){const t="internal_error";X&&S.c.log(`[Tracing] Root span: ${t} -> Global error occurred`),e.setStatus({code:2,message:t})}}function Me(){Te()}function Ae(t){ye("console",t),ve("console",Oe)}function Oe(){"console"in u.a&&S.a.forEach((function(t){t in u.a.console&&Object(l.e)(u.a.console,t,(function(e){return S.d[t]=e,function(...e){_e("console",{args:e,level:t});const n=S.d[t];n&&n.apply(u.a.console,e)}}))}))}Ie.tag="sentry_tracingErrorCallback";function Pe(t){return"warn"===t?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const De=(t={})=>{const e=t.levels||S.a,n=!!t.handled;return{name:"CaptureConsole",setup(t){"console"in u.a&&Ae(({args:r,level:i})=>{H()===t&&e.includes(i)&&function(t,e,n){const r={level:Pe(e),extra:{arguments:t}};V(i=>{if(i.addEventProcessor(t=>(t.logger="console",_(t,{handled:n,type:"console"}),t)),"assert"===e){if(!t[0]){const e="Assertion failed: "+(Object(f.a)(t.slice(1)," ")||"console.assert");i.setExtra("arguments",t.slice(1)),Gt(e,r)}return}const o=t.find(t=>t instanceof Error);if(o)return void Ht(o,r);Gt(Object(f.a)(t," "),r)})}(r,i,n)})}}};function ze(t,e={},n=N()){const{message:r,name:i,email:o,url:a,source:s,associatedEventId:u,tags:c}=t,p={contexts:{feedback:Object(l.c)({contact_email:o,name:i,message:r,url:a,source:s,associated_event_id:u})},type:"feedback",level:"info",tags:c},d=n&&n.getClient()||H();d&&d.emit("beforeSendFeedback",p,e);return n.captureEvent(p,e)}function Le(t,e,n=(()=>{})){let r;try{r=t()}catch(t){throw e(t),n(),t}return function(t,e,n){if(Object(k.n)(t))return t.then(t=>(n(),t),t=>{throw e(t),n(),t});return n(),t}(r,e,n)}function Re(t){if("boolean"==typeof t)return Number(t);const e="string"==typeof t?parseFloat(t):t;if(!("number"!=typeof e||isNaN(e)||e<0||e>1))return e;X&&S.c.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`)}class We{constructor(t={}){this._traceId=t.traceId||C(),this._spanId=t.spanId||E()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(t){}setAttribute(t,e){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,e,n){return this}addLink(t){return this}addLinks(t){return this}recordException(t,e){}}const Be=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function je(t,e=!1){const{host:n,path:r,pass:i,port:o,projectId:a,protocol:s,publicKey:l}=t;return`${s}://${l}${e&&i?":"+i:""}@${n}${o?":"+o:""}/${r?r+"/":r}${a}`}function Ne(t){const e=Be.exec(t);if(!e)return void Object(S.b)(()=>{console.error("Invalid Sentry Dsn: "+t)});const[n,r,i="",o="",a="",s=""]=e.slice(1);let l="",u=s;const c=u.split("/");if(c.length>1&&(l=c.slice(0,-1).join("/"),u=c.pop()),u){const t=u.match(/^\d+/);t&&(u=t[0])}return Fe({host:o,pass:i,path:l,projectId:u,port:a,protocol:n,publicKey:r})}function Fe(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Ue(t){const e="string"==typeof t?Ne(t):Fe(t);if(e&&function(t){if(!at.a)return!0;const{port:e,projectId:n,protocol:r}=t;return!["protocol","publicKey","host","projectId"].find(e=>!t[e]&&(S.c.error(`Invalid Sentry Dsn: ${e} missing`),!0))&&(n.match(/^\d+$/)?function(t){return"http"===t||"https"===t}(r)?!e||!isNaN(parseInt(e,10))||(S.c.error("Invalid Sentry Dsn: Invalid port "+e),!1):(S.c.error("Invalid Sentry Dsn: Invalid protocol "+r),!1):(S.c.error("Invalid Sentry Dsn: Invalid projectId "+n),!1))}(e))return e}function Ve(t,e=[]){return[t,e]}function qe(t,e){const[n,r]=t;return[n,[...r,e]]}function He(t,e){const n=t[1];for(const t of n){if(e(t,t[0].type))return!0}return!1}function Ge(t,e){return He(t,(t,n)=>e.includes(n))}function Ze(t){return u.a.__SENTRY__&&u.a.__SENTRY__.encodePolyfill?u.a.__SENTRY__.encodePolyfill(t):(new TextEncoder).encode(t)}function Ke(t){const[e,n]=t;let r=JSON.stringify(e);function i(t){"string"==typeof r?r="string"==typeof t?r+t:[Ze(r),t]:r.push("string"==typeof t?Ze(t):t)}for(const t of n){const[e,n]=t;if(i(`\n${JSON.stringify(e)}\n`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let t;try{t=JSON.stringify(n)}catch(e){t=JSON.stringify(Object(ot.a)(n))}i(t)}}return"string"==typeof r?r:function(t){const e=t.reduce((t,e)=>t+e.length,0),n=new Uint8Array(e);let r=0;for(const e of t)n.set(e,r),r+=e.length;return n}(r)}function Qe(t){let e="string"==typeof t?Ze(t):t;function n(t){const n=e.subarray(0,t);return e=e.subarray(t+1),n}function r(){let t=e.indexOf(10);return t<0&&(t=e.length),JSON.parse((r=n(t),u.a.__SENTRY__&&u.a.__SENTRY__.decodePolyfill?u.a.__SENTRY__.decodePolyfill(r):(new TextDecoder).decode(r)));var r}const i=r(),o=[];for(;e.length;){const t=r(),e="number"==typeof t.length?t.length:void 0;o.push([t,e?n(e):r()])}return[i,o]}function Xe(t){return[{type:"span"},t]}function Ye(t){const e="string"==typeof t.data?Ze(t.data):t.data;return[Object(l.c)({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const Je={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function $e(t){return Je[t]}function tn(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function en(t,e,n,r){const i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:je(r)},...i&&{trace:Object(l.c)({...i})}}}function nn(t,e,n,r=At()){const i=r&&Mt(r);i&&(X&&S.c.log(`[Measurement] Setting measurement on root span: ${t} = ${e} ${n}`),i.addEvent(t,{"sentry.measurement_value":e,"sentry.measurement_unit":n}))}function rn(t){if(!t||0===t.length)return;const e={};return t.forEach(t=>{const n=t.attributes||{},r=n["sentry.measurement_unit"],i=n["sentry.measurement_value"];"string"==typeof r&&"number"==typeof i&&(e[t.name]={value:i,unit:r})}),e}function on(t){return{scope:t._sentryScope,isolationScope:t._sentryIsolationScope}}class an{constructor(t={}){this._traceId=t.traceId||C(),this._spanId=t.spanId||E(),this._startTime=t.startTimestamp||p(),this._attributes={},this.setAttributes({[s]:"manual",[a]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,e){}spanContext(){const{_spanId:t,_traceId:e,_sampled:n}=this;return{spanId:t,traceId:e,traceFlags:n?1:0}}setAttribute(t,e){return void 0===e?delete this._attributes[t]:this._attributes[t]=e,this}setAttributes(t){return Object.keys(t).forEach(e=>this.setAttribute(e,t[e])),this}updateStartTime(t){this._startTime=wt(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(i,"custom"),this}end(t){this._endTime||(this._endTime=wt(t),function(t){if(!X)return;const{description:e="< unknown name >",op:n="< unknown op >"}=St(t),{spanId:r}=t.spanContext(),i=`[Tracing] Finishing "${n}" ${Mt(t)===t?"root ":""}span "${e}" with ID ${r}`;S.c.log(i)}(this),this._onSpanEnded())}getSpanJSON(){return Object(l.c)({data:this._attributes,description:this._name,op:this._attributes[a],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Et(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[s],_metrics_summary:dt(this),profile_id:this._attributes["sentry.profile_id"],exclusive_time:this._attributes["sentry.exclusive_time"],measurements:rn(this._events),is_segment:this._isStandaloneSpan&&Mt(this)===this||void 0,segment_id:this._isStandaloneSpan?Mt(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,e,n){X&&S.c.log("[Tracing] Adding an event to span:",t);const r=sn(e)?e:n||p(),i=sn(e)?{}:e||{},o={name:t,time:wt(r),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=H();t&&t.emit("spanEnd",this);if(!(this._isStandaloneSpan||this===Mt(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(t){const e=H();if(!e)return;const n=t[1];if(!n||0===n.length)return void e.recordDroppedEvent("before_send","span");e.sendEnvelope(t)}(function(t,e){const n=Wt(t[0]),r=e&&e.getDsn(),i=e&&e.getOptions().tunnel,o={sent_at:(new Date).toISOString(),...function(t){return!!t.trace_id&&!!t.public_key}(n)&&{trace:n},...!!i&&r&&{dsn:je(r)}},a=e&&e.getOptions().beforeSendSpan,s=a?t=>{const e=a(St(t));return e||Pt(),e}:t=>St(t),l=[];for(const e of t){const t=s(e);t&&l.push(Xe(t))}return Ve(o,l)}([this],t)):(X&&S.c.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span")));const e=this._convertSpanToTransaction();if(e){(on(this).scope||N()).captureEvent(e)}}_convertSpanToTransaction(){if(!ln(St(this)))return;this._name||(X&&S.c.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:e}=on(this),n=(t||N()).getClient()||H();if(!0!==this._sampled)return X&&S.c.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(n&&n.recordDroppedEvent("sample_rate","transaction"));const r=It(this).filter(t=>t!==this&&!function(t){return t instanceof an&&t.isStandaloneSpan()}(t)).map(t=>St(t)).filter(ln),o=this._attributes[i];delete this._attributes["sentry.custom_span_name"],r.forEach(t=>{t.data&&delete t.data["sentry.custom_span_name"]});const a={contexts:{trace:_t(this)},spans:r.length>1e3?r.sort((t,e)=>t.start_timestamp-e.start_timestamp).slice(0,1e3):r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:e,...Object(l.c)({dynamicSamplingContext:Wt(this)})},_metrics_summary:dt(this),...o&&{transaction_info:{source:o}}},s=rn(this._events);return s&&Object.keys(s).length&&(X&&S.c.log("[Measurements] Adding measurements to transaction event",JSON.stringify(s,void 0,2)),a.measurements=s),a}}function sn(t){return t&&"number"==typeof t||t instanceof Date||Array.isArray(t)}function ln(t){return!!(t.start_timestamp&&t.timestamp&&t.span_id&&t.trace_id)}function un(t,e){const n=vn();if(n.startSpan)return n.startSpan(t,e);const r=yn(t),{forceTransaction:i,parentSpan:o}=t;return V(t.scope,()=>xn(o)(()=>{const n=N(),o=bn(n),a=t.onlyIfParent&&!o?new We:gn({parentSpan:o,spanArguments:r,forceTransaction:i,scope:n});return I(n,a),Le(()=>e(a),()=>{const{status:t}=St(a);!a.isRecording()||t&&"ok"!==t||a.setStatus({code:2,message:"internal_error"})},()=>a.end())}))}function cn(t,e){const n=vn();if(n.startSpanManual)return n.startSpanManual(t,e);const r=yn(t),{forceTransaction:i,parentSpan:o}=t;return V(t.scope,()=>xn(o)(()=>{const n=N(),o=bn(n),a=t.onlyIfParent&&!o?new We:gn({parentSpan:o,spanArguments:r,forceTransaction:i,scope:n});function s(){a.end()}return I(n,a),Le(()=>e(a,s),()=>{const{status:t}=St(a);!a.isRecording()||t&&"ok"!==t||a.setStatus({code:2,message:"internal_error"})})}))}function pn(t){const e=vn();if(e.startInactiveSpan)return e.startInactiveSpan(t);const n=yn(t),{forceTransaction:r,parentSpan:i}=t;return(t.scope?e=>V(t.scope,e):void 0!==i?t=>hn(i,t):t=>t())(()=>{const e=N(),i=bn(e);return t.onlyIfParent&&!i?new We:gn({parentSpan:i,spanArguments:n,forceTransaction:r,scope:e})})}const dn=(t,e)=>{const n=j(P());if(n.continueTrace)return n.continueTrace(t,e);const{sentryTrace:r,baggage:i}=t;return V(t=>{const n=gt(r,i);return t.setPropagationContext(n),e()})};function hn(t,e){const n=vn();return n.withActiveSpan?n.withActiveSpan(t,e):V(n=>(I(n,t||void 0),e(n)))}function fn(t){const e=vn();return e.suppressTracing?e.suppressTracing(t):V(e=>(e.setSDKProcessingMetadata({__SENTRY_SUPPRESS_TRACING__:!0}),t()))}function mn(t){return V(e=>(e.setPropagationContext({traceId:C()}),X&&S.c.info("Starting a new trace with id "+e.getPropagationContext().traceId),hn(null,t)))}function gn({parentSpan:t,spanArguments:e,forceTransaction:n,scope:r}){if(!pt())return new We;const i=F();let o;if(t&&!n)o=function(t,e,n){const{spanId:r,traceId:i}=t.spanContext(),o=!e.getScopeData().sdkProcessingMetadata.__SENTRY_SUPPRESS_TRACING__&&Ct(t),a=o?new an({...n,parentSpanId:r,traceId:i,sampled:o}):new We({traceId:i});Tt(t,a);const s=H();s&&(s.emit("spanStart",a),n.endTimestamp&&s.emit("spanEnd",a));return a}(t,r,e),Tt(t,o);else if(t){const n=Wt(t),{traceId:i,spanId:a}=t.spanContext(),s=Ct(t);o=_n({traceId:i,parentSpanId:a,...e},r,s),zt(o,n)}else{const{traceId:t,dsc:n,parentSpanId:a,sampled:s}={...i.getPropagationContext(),...r.getPropagationContext()};o=_n({traceId:t,parentSpanId:a,...e},r,s),n&&zt(o,n)}return function(t){if(!X)return;const{description:e="< unknown name >",op:n="< unknown op >",parent_span_id:r}=St(t),{spanId:i}=t.spanContext(),o=Ct(t),a=Mt(t),s=a===t,l=`[Tracing] Starting ${o?"sampled":"unsampled"} ${s?"root ":""}span`,u=["op: "+n,"name: "+e,"ID: "+i];if(r&&u.push("parent ID: "+r),!s){const{op:t,description:e}=St(a);u.push("root ID: "+a.spanContext().spanId),t&&u.push("root op: "+t),e&&u.push("root description: "+e)}S.c.log(`${l}\n  ${u.join("\n  ")}`)}(o),function(t,e,n){t&&(Object(l.a)(t,"_sentryIsolationScope",n),Object(l.a)(t,"_sentryScope",e))}(o,r,i),o}function yn(t){const e={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){const n={...e};return n.startTimestamp=wt(t.startTime),delete n.startTime,n}return e}function vn(){return j(P())}function _n(t,e,n){const r=H(),a=r&&r.getOptions()||{},{name:s="",attributes:l}=t,[u,c]=e.getScopeData().sdkProcessingMetadata.__SENTRY_SUPPRESS_TRACING__?[!1]:function(t,e){if(!pt(t))return[!1];const n=F().getScopeData().sdkProcessingMetadata.normalizedRequest,r={...e,normalizedRequest:e.normalizedRequest||n};let i;i="function"==typeof t.tracesSampler?t.tracesSampler(r):void 0!==r.parentSampled?r.parentSampled:void 0!==t.tracesSampleRate?t.tracesSampleRate:1;const o=Re(i);return void 0===o?(X&&S.c.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):o?Math.random()<o?[!0,o]:(X&&S.c.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,o]):(X&&S.c.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,o])}(a,{name:s,parentSampled:n,attributes:l,transactionContext:{name:s,parentSampled:n}}),p=new an({...t,attributes:{[i]:"custom",...t.attributes},sampled:u});return void 0!==c&&p.setAttribute(o,c),r&&r.emit("spanStart",p),p}function bn(t){const e=M(t);if(!e)return;const n=H();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Mt(e):e}function xn(t){return void 0!==t?e=>hn(t,e):t=>t()}class wn extends Error{constructor(t,e="warn"){super(t),this.message=t,this.logLevel=e}}function kn(t){const e=[];function n(t){return e.splice(e.indexOf(t),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return $(new wn("Not adding Promise because buffer limit was reached."));const i=r();return-1===e.indexOf(i)&&e.push(i),i.then(()=>n(i)).then(null,()=>n(i).then(null,()=>{})),i},drain:function(t){return new tt((n,r)=>{let i=e.length;if(!i)return n(!0);const o=setTimeout(()=>{t&&t>0&&n(!1)},t);e.forEach(t=>{J(t).then(()=>{--i||(clearTimeout(o),n(!0))},r)})})}}}function Sn(t,e=Date.now()){const n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(""+t);return isNaN(r)?6e4:r-e}function Cn(t,e,n=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>n}function En(t,{statusCode:e,headers:n},r=Date.now()){const i={...t},o=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(o)for(const t of o.trim().split(",")){const[e,n,,,o]=t.split(":",5),a=parseInt(e,10),s=1e3*(isNaN(a)?60:a);if(n)for(const t of n.split(";"))"metric_bucket"===t&&o&&!o.split(";").includes("custom")||(i[t]=r+s);else i.all=r+s}else a?i.all=r+Sn(a,r):429===e&&(i.all=r+6e4);return i}function Tn(t,e,n=kn(t.bufferSize||64)){let r={};return{send:function(i){const o=[];if(He(i,(e,n)=>{const i=$e(n);if(Cn(r,i)){const r=In(e,n);t.recordDroppedEvent("ratelimit_backoff",i,r)}else o.push(e)}),0===o.length)return J({});const a=Ve(i[0],o),s=e=>{He(a,(n,r)=>{const i=In(n,r);t.recordDroppedEvent(e,$e(r),i)})};return n.add(()=>e({body:Ke(a)}).then(t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&X&&S.c.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),r=En(r,t),t),t=>{throw s("network_error"),t})).then(t=>t,t=>{if(t instanceof wn)return X&&S.c.error("Skipped sending event because buffer is full."),s("queue_overflow"),J({});throw t})},flush:t=>n.drain(t)}}function In(t,e){if("event"===e||"transaction"===e)return Array.isArray(t)?t[1]:void 0}const Mn=(t={})=>{const e={debugger:!1,stringify:!1,...t};return{name:"Debug",setup(t){t.on("beforeSendEvent",(t,n)=>{e.debugger,Object(S.b)(()=>{e.stringify?(console.log(JSON.stringify(t,null,2)),n&&Object.keys(n).length&&console.log(JSON.stringify(n,null,2))):(console.log(t),n&&Object.keys(n).length&&console.log(n))})})}}},An=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if(function(t,e){if(!e)return!1;if(function(t,e){const n=t.message,r=e.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Pn(t,e))return!1;if(!On(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){const n=Dn(e),r=Dn(t);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Pn(t,e))return!1;if(!On(t,e))return!1;return!0}(t,e))return!0;return!1}(e,t))return X&&S.c.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){}return t=e}}};function On(t,e){let n=Object(fe.c)(t),r=Object(fe.c)(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(n=n,r=r,r.length!==n.length)return!1;for(let t=0;t<r.length;t++){const e=r[t],i=n[t];if(e.filename!==i.filename||e.lineno!==i.lineno||e.colno!==i.colno||e.function!==i.function)return!1}return!0}function Pn(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return!(n.join("")!==r.join(""))}catch(t){return!1}}function Dn(t){return t.exception&&t.exception.values&&t.exception.values[0]}const zn=(t={})=>{const{depth:e=3,captureErrorCause:n=!0}=t;return{name:"ExtraErrorData",processEvent(t,r,i){const{maxValueLength:o=250}=i.getOptions();return function(t,e={},n,r,i){if(!e.originalException||!Object(k.d)(e.originalException))return t;const o=e.originalException.name||e.originalException.constructor.name,a=function(t,e,n){try{const r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],i={};for(const e of Object.keys(t)){if(-1!==r.indexOf(e))continue;const o=t[e];i[e]=Object(k.d)(o)||"string"==typeof o?Object(f.d)(""+o,n):o}if(e&&void 0!==t.cause&&(i.cause=Object(k.d)(t.cause)?t.cause.toString():t.cause),"function"==typeof t.toJSON){const e=t.toJSON();for(const t of Object.keys(e)){const n=e[t];i[t]=Object(k.d)(n)?n.toString():n}}return i}catch(t){X&&S.c.error("Unable to extract extra data from the Error object:",t)}return null}(e.originalException,r,i);if(a){const e={...t.contexts},r=Object(ot.a)(a,n);return Object(k.i)(r)&&(Object(l.a)(r,"__sentry_skip_normalization__",!0),e[o]=r),{...t,contexts:e}}return t}(t,r,e,n,o)}}};let Ln;const Rn=new WeakMap,Wn=()=>({name:"FunctionToString",setupOnce(){Ln=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=Object(l.f)(this),n=Rn.has(H())&&void 0!==e?e:this;return Ln.apply(n,t)}}catch(t){}},setup(t){Rn.set(t,!0)}});const Bn=function(){return{bindClient(t){N().setClient(t)},withScope:V,getClient:()=>H(),getScope:N,getIsolationScope:F,captureException:(t,e)=>N().captureException(t,e),captureMessage:(t,e,n)=>N().captureMessage(t,e,n),captureEvent:Zt,addBreadcrumb:K,setUser:$t,setTags:Yt,setTag:Jt,setExtra:Xt,setExtras:Qt,setContext:Kt,getIntegration(t){const e=H();return e&&e.getIntegrationByName(t.id)||null},startSession:oe,endSession:ae,captureSession(t){if(t)return ae();!function(){const t=N(),e=H(),n=t.getSession();e&&n&&e.captureSession(n)}()}}};const jn=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],Nn=(t={})=>({name:"InboundFilters",processEvent(e,n,r){const i=r.getOptions();return function(t,e){if(e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t))return X&&S.c.warn("Event dropped due to being internal Sentry Error.\nEvent: "+y(t)),!0;if(function(t,e){if(t.type||!e||!e.length)return!1;return function(t){const e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch(t){}n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`));return e}(t).some(t=>Object(f.c)(t,e))}(t,e.ignoreErrors))return X&&S.c.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+y(t)),!0;if(function(t){if(t.type)return!1;if(!t.exception||!t.exception.values||0===t.exception.values.length)return!1;return!t.message&&!t.exception.values.some(t=>t.stacktrace||t.type&&"Error"!==t.type||t.value)}(t))return X&&S.c.warn("Event dropped due to not having an error message, error type or stacktrace.\nEvent: "+y(t)),!0;if(function(t,e){if("transaction"!==t.type||!e||!e.length)return!1;const n=t.transaction;return!!n&&Object(f.c)(n,e)}(t,e.ignoreTransactions))return X&&S.c.warn("Event dropped due to being matched by `ignoreTransactions` option.\nEvent: "+y(t)),!0;if(function(t,e){if(!e||!e.length)return!1;const n=Fn(t);return!!n&&Object(f.c)(n,e)}(t,e.denyUrls))return X&&S.c.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${y(t)}.\nUrl: ${Fn(t)}`),!0;if(!function(t,e){if(!e||!e.length)return!0;const n=Fn(t);return!n||Object(f.c)(n,e)}(t,e.allowUrls))return X&&S.c.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${y(t)}.\nUrl: ${Fn(t)}`),!0;return!1}(e,function(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:jn],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(t,i))?null:e}});function Fn(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch(t){}return e?function(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(e):null}catch(e){return X&&S.c.error("Cannot extract url for event "+y(t)),null}}function Un(t){const e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return`${e}//${t.host}${n}${t.path?"/"+t.path:""}/api/`}function Vn(t,e,n){return e||`${function(t){return`${Un(t)}${t.projectId}/envelope/`}(t)}?${function(t,e){const n={sentry_version:"7"};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(n).toString()}(t,n)}`}function qn(t,e){let n;return He(t,(t,r)=>(e.includes(r)&&(n=Array.isArray(t)?t[1]:void 0),!!n)),n}function Hn(t,e){return n=>{const r=t(n),i=new Map;function o(e,r){const o=r?`${e}:${r}`:e;let a=i.get(o);if(!a){const s=Ne(e);if(!s)return;const l=Vn(s,n.tunnel);a=r?function(t,e){return n=>{const r=t(n);return{...r,send:async t=>{const n=qn(t,["event","transaction","profile","replay_event"]);return n&&(n.release=e),r.send(t)}}}}(t,r)({...n,url:l}):t({...n,url:l}),i.set(o,a)}return[e,a]}return{send:async function(t){const n=e({envelope:t,getEvent:function(e){const n=e&&e.length?e:["event"];return qn(t,n)}}).map(t=>"string"==typeof t?o(t,void 0):o(t.dsn,t.release)).filter(t=>!!t),i=n.length?n:[["",r]];return(await Promise.all(i.map(([e,n])=>n.send(function(t,e){return Ve(e?{...t[0],dsn:e}:t[0],t[1])}(t,e)))))[0]},flush:async function(t){const e=[...i.values(),r];return(await Promise.all(e.map(e=>e.flush(t)))).every(t=>t)}}}}const Gn=new Map,Zn=new Set;function Kn(t,e){return function(t){if(u.a._sentryModuleMetadata)for(const e of Object.keys(u.a._sentryModuleMetadata)){const n=u.a._sentryModuleMetadata[e];if(Zn.has(e))continue;Zn.add(e);const r=t(e);for(const t of r.reverse())if(t.filename){Gn.set(t.filename,n);break}}}(t),Gn.get(e)}function Qn(t,e){try{e.exception.values.forEach(e=>{if(e.stacktrace)for(const n of e.stacktrace.frames||[]){if(!n.filename||n.module_metadata)continue;const e=Kn(t,n.filename);e&&(n.module_metadata=e)}})}catch(t){}}function Xn(t){try{t.exception.values.forEach(t=>{if(t.stacktrace)for(const e of t.stacktrace.frames||[])delete e.module_metadata})}catch(t){}}const Yn=()=>({name:"ModuleMetadata",setup(t){t.on("beforeEnvelope",t=>{He(t,(t,e)=>{if("event"===e){const e=Array.isArray(t)?t[1]:void 0;e&&(Xn(e),t[1]=e)}})}),t.on("applyFrameMetadata",e=>{if(e.type)return;Qn(t.getOptions().stackParser,e)})}});function Jn(t,...e){const n=new String(String.raw(t,...e));return n.__sentry_template_string__=t.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=e,n}function $n(t,e){let n=0;for(let e=t.length-1;e>=0;e--){const r=t[e];"."===r?t.splice(e,1):".."===r?(t.splice(e,1),n++):n&&(t.splice(e,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}const tr=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function er(t){const e=t.length>1024?"<truncated>"+t.slice(-1024):t,n=tr.exec(e);return n?n.slice(1):[]}function nr(...t){let e="",n=!1;for(let r=t.length-1;r>=-1&&!n;r--){const i=r>=0?t[r]:"/";i&&(e=`${i}/${e}`,n="/"===i.charAt(0))}return e=$n(e.split("/").filter(t=>!!t),!n).join("/"),(n?"/":"")+e||"."}function rr(t){let e=0;for(;e<t.length&&""===t[e];e++);let n=t.length-1;for(;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}const ir=(t={})=>{const e=t.root,n=t.prefix||"app:///",r="window"in u.a&&void 0!==u.a.window,i=t.iteratee||function({isBrowser:t,root:e,prefix:n}){return r=>{if(!r.filename)return r;const i=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),o=/^\//.test(r.filename);if(t){if(e){const t=r.filename;0===t.indexOf(e)&&(r.filename=t.replace(e,n))}}else if(i||o){const t=i?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,o=e?function(t,e){t=nr(t).slice(1),e=nr(e).slice(1);const n=rr(t.split("/")),r=rr(e.split("/")),i=Math.min(n.length,r.length);let o=i;for(let t=0;t<i;t++)if(n[t]!==r[t]){o=t;break}let a=[];for(let t=o;t<n.length;t++)a.push("..");return a=a.concat(r.slice(o)),a.join("/")}(e,t):function(t,e){let n=er(t)[2]||"";return e&&n.slice(-1*e.length)===e&&(n=n.slice(0,n.length-e.length)),n}(t);r.filename=`${n}${o}`}return r}}({isBrowser:r,root:e,prefix:n});function o(t){return{...t,frames:t&&t.frames&&t.frames.map(t=>i(t))}}return{name:"RewriteFrames",processEvent(t){let e=t;return t.exception&&Array.isArray(t.exception.values)&&(e=function(t){try{return{...t,exception:{...t.exception,values:t.exception.values.map(t=>({...t,...t.stacktrace&&{stacktrace:o(t.stacktrace)}}))}}}catch(e){return t}}(e)),e}}};const or=()=>{const t=1e3*p();return{name:"SessionTiming",processEvent(e){const n=1e3*p();return{...e,extra:{...e.extra,"session:start":t,"session:duration":n-t,"session:end":n}}}}};function ar(t){N().setClient(t)}const sr=t=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",t=>{He(t,(t,e)=>{if("event"===e){const e=Array.isArray(t)?t[1]:void 0;e&&(Xn(e),t[1]=e)}})}),t.on("applyFrameMetadata",e=>{if(e.type)return;Qn(t.getOptions().stackParser,e)})},processEvent(e){const n=function(t){const e=Object(fe.c)(t);if(!e)return;return e.filter(t=>!!t.filename).map(t=>t.module_metadata?Object.keys(t.module_metadata).filter(t=>t.startsWith(lr)).map(t=>t.slice(lr.length)):[])}(e);if(n){if(n["drop-error-if-contains-third-party-frames"===t.behaviour||"apply-tag-if-contains-third-party-frames"===t.behaviour?"some":"every"](e=>!e.some(e=>t.filterKeys.includes(e)))){if("drop-error-if-contains-third-party-frames"===t.behaviour||"drop-error-if-exclusively-contains-third-party-frames"===t.behaviour)return null;e.tags={...e.tags,third_party_code:!0}}}return e}});const lr="_sentryBundlerPluginAppKey:";function ur(t){return{...t,path:"path"in t&&Array.isArray(t.path)?t.path.join("."):void 0,keys:"keys"in t?JSON.stringify(t.keys):void 0,unionErrors:"unionErrors"in t?JSON.stringify(t.unionErrors):void 0}}function cr(t){const e=new Set;for(const n of t.issues){const t=n.path.map(t=>"number"==typeof t?"<array>":t).join(".");t.length>0&&e.add(t)}const n=Array.from(e);if(0===n.length){let e="variable";if(t.issues.length>0){const n=t.issues[0];void 0!==n&&"expected"in n&&"string"==typeof n.expected&&(e=n.expected)}return"Failed to validate "+e}return"Failed to validate keys: "+Object(f.d)(n.join(", "),100)}function pr(t,e=!1,n,r){if(!(n.exception&&n.exception.values&&r&&r.originalException&&(i=r.originalException,Object(k.d)(i)&&"ZodError"===i.name&&Array.isArray(i.issues))&&0!==r.originalException.issues.length))return n;var i;try{const i=(e?r.originalException.issues:r.originalException.issues.slice(0,t)).map(ur);return e&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:cr(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":i.slice(0,t)}}}catch(t){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:t instanceof Error?`${t.name}: ${t.message}\n${t.stack}`:"unknown"}}}}}const dr=(t={})=>{const e=void 0===t.limit?10:t.limit;return{name:"ZodErrors",processEvent:(n,r)=>pr(e,t.saveZodIssuesAsAttachment,n,r)}},hr=u.a;let fr=0;function mr(){return fr>0}function gr(t,e={}){if(!function(t){return"function"==typeof t}(t))return t;try{const e=t.__sentry_wrapped__;if(e)return"function"==typeof e?e:t;if(Object(l.f)(t))return t}catch(e){return t}const n=function(...n){try{const r=n.map(t=>gr(t,e));return t.apply(this,r)}catch(t){throw fr++,setTimeout(()=>{fr--}),V(r=>{r.addEventProcessor(t=>(e.mechanism&&(v(t,void 0,void 0),_(t,e.mechanism)),t.extra={...t.extra,arguments:n},t)),Ht(t)}),t}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}catch(t){}Object(l.g)(n,t),Object(l.a)(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>t.name})}catch(t){}return n}const yr="Not capturing exception because it's already been captured.";function vr(t){return void 0===t.type}function _r(t){return"transaction"===t.type}var br=n(407);function xr(t,e,n=[e],i="npm"){const o=t._metadata||{};o.sdk||(o.sdk={name:"sentry.javascript."+e,packages:n.map(t=>({name:`${i}:@sentry/${t}`,version:r.a})),version:r.a}),t._metadata=o}const wr="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function kr(t,e){const n=Er(t,e),r={type:Mr(e),value:Ar(e)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Sr(t,e,n,r){const i=H(),o=i&&i.getOptions().normalizeDepth,a=function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}return}(e),s={__serialized__:Object(ot.b)(e,o)};if(a)return{exception:{values:[kr(t,a)]},extra:s};const l={exception:{values:[{type:Object(k.f)(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:Lr(e,{isUnhandledRejection:r})}]},extra:s};if(n){const e=Er(t,n);e.length&&(l.exception.values[0].stacktrace={frames:e})}return l}function Cr(t,e){return{exception:{values:[kr(t,e)]}}}function Er(t,e){const n=e.stacktrace||e.stack||"",r=function(t){if(t&&Tr.test(t.message))return 1;return 0}(e),i=function(t){if("number"==typeof t.framesToPop)return t.framesToPop;return 0}(e);try{return t(n,r,i)}catch(t){}return[]}const Tr=/Minified React error #\d+;/i;function Ir(t){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&t instanceof WebAssembly.Exception}function Mr(t){const e=t&&t.name;if(!e&&Ir(t)){return t.message&&Array.isArray(t.message)&&2==t.message.length?t.message[0]:"WebAssembly.Exception"}return e}function Ar(t){const e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:Ir(t)&&Array.isArray(t.message)&&2==t.message.length?t.message[1]:e:"No error message"}function Or(t,e,n,r){const i=Dr(t,e,n&&n.syntheticException||void 0,r);return _(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),J(i)}function Pr(t,e,n="info",r,i){const o=zr(t,e,r&&r.syntheticException||void 0,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),J(o)}function Dr(t,e,n,r,i){let o;if(Object(k.e)(e)&&e.error){return Cr(t,e.error)}if(Object(k.a)(e)||Object(k.b)(e)){const i=e;if("stack"in e)o=Cr(t,e);else{const e=i.name||(Object(k.a)(i)?"DOMError":"DOMException"),a=i.message?`${e}: ${i.message}`:e;o=zr(t,a,n,r),v(o,a)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":""+i.code}),o}if(Object(k.d)(e))return Cr(t,e);if(Object(k.i)(e)||Object(k.f)(e)){return o=Sr(t,e,n,i),_(o,{synthetic:!0}),o}return o=zr(t,e,n,r),v(o,""+e,void 0),_(o,{synthetic:!0}),o}function zr(t,e,n,r){const i={};if(r&&n){const r=Er(t,n);r.length&&(i.exception={values:[{value:e,stacktrace:{frames:r}}]}),_(i,{synthetic:!0})}if(Object(k.h)(e)){const{__sentry_template_string__:t,__sentry_template_values__:n}=e;return i.logentry={message:t,params:n},i}return i.message=e,i}function Lr(t,{isUnhandledRejection:e}){const n=Object(l.d)(t),r=e?"promise rejection":"exception";if(Object(k.e)(t))return`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``;if(Object(k.f)(t)){return`Event \`${function(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch(t){}}(t)}\` (type=${t.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}function Rr(t,{metadata:e,tunnel:n,dsn:r}){return Ve({event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!r&&{dsn:je(r)}},[function(t){return[{type:"user_report"},t]}(t)])}class Wr extends class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Ue(t.dsn):X&&S.c.warn("No DSN provided, client will not send events."),this._dsn){const e=Vn(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}const e=["enableTracing","tracesSampleRate","tracesSampler"].find(e=>e in t&&null==t[e]);e&&Object(S.b)(()=>{console.warn(`[Sentry] Deprecation warning: \`${e}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,e,n){const r=m();if(b(t))return X&&S.c.log(yr),r;const i={event_id:r,...e};return this._process(this.eventFromException(t,i).then(t=>this._captureEvent(t,i,n))),i.event_id}captureMessage(t,e,n,r){const i={event_id:m(),...n},o=Object(k.h)(t)?t:String(t),a=Object(k.j)(t)?this.eventFromMessage(o,e,i):this.eventFromException(t,i);return this._process(a.then(t=>this._captureEvent(t,i,r))),i.event_id}captureEvent(t,e,n){const r=m();if(e&&e.originalException&&b(e.originalException))return X&&S.c.log(yr),r;const i={event_id:r,...e},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,o||n)),i.event_id}captureSession(t){"string"!=typeof t.release?X&&S.c.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),w(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>e.flush(t).then(t=>n&&t))):J(!0)}close(t){return this.flush(t).then(t=>(this.getOptions().enabled=!1,this.emit("close"),t))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const e=this._integrations[t.name];de(this,t,this._integrations),e||pe(this,[t])}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let n=function(t,e,n,r){const i=tn(n),o=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,n&&n.sdk);const a=en(t,i,r,e);return delete t.sdkProcessingMetadata,Ve(a,[[{type:o},t]])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(const t of e.attachments||[])n=qe(n,Ye(t));const r=this.sendEnvelope(n);r&&r.then(e=>this.emit("afterSendEvent",t,e),null)}sendSession(t){const e=function(t,e,n,r){const i=tn(n);return Ve({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&e&&{dsn:je(e)}},["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(e)}recordDroppedEvent(t,e,n){if(this._options.sendClientReports){const r="number"==typeof n?n:1,i=`${t}:${e}`;X&&S.c.log(`Recording outcome: "${i}"${r>1?` (${r} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(t,e){const n=this._hooks[t]=this._hooks[t]||[];return n.push(e),()=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)}}emit(t,...e){const n=this._hooks[t];n&&n.forEach(t=>t(...e))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,t=>(X&&S.c.error("Error while sending envelope:",t),t)):(X&&S.c.error("Transport disabled"),J({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(t,e){const n={};return e.forEach(e=>{e&&de(t,e,n)}),n}(this,t),pe(this,t)}_updateSessionFromEvent(t,e){let n="fatal"===e.level,r=!1;const i=e.exception&&e.exception.values;if(i){r=!0;for(const t of i){const e=t.mechanism;if(e&&!1===e.handled){n=!0;break}}}const o="ok"===t.status;(o&&0===t.errors||o&&n)&&(w(t,{...n&&{status:"crashed"},errors:t.errors||Number(r||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new tt(e=>{let n=0;const r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),e(!0)):(n+=1,t&&n>=t&&(clearInterval(r),e(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,n=N(),r=F()){const i=this.getOptions(),o=Object.keys(this._integrations);return!e.integrations&&o.length>0&&(e.integrations=o),this.emit("preprocessEvent",t,e),t.type||r.setLastEventId(t.event_id||e.event_id),Ut(i,t,e,n,this,r).then(t=>{if(null===t)return t;t.contexts={trace:G(n),...t.contexts};const e=Rt(this,n);return t.sdkProcessingMetadata={dynamicSamplingContext:e,...t.sdkProcessingMetadata},t})}_captureEvent(t,e={},n){return this._processEvent(t,e,n).then(t=>t.event_id,t=>{X&&(t instanceof wn&&"log"===t.logLevel?S.c.log(t.message):S.c.warn(t))})}_processEvent(t,e,n){const r=this.getOptions(),{sampleRate:i}=r,o=_r(t),a=vr(t),s=t.type||"error",l=`before send for type \`${s}\``,u=void 0===i?void 0:Re(i);if(a&&"number"==typeof u&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",t),$(new wn(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const c="replay_event"===s?"replay":s,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,e,n,p).then(n=>{if(null===n)throw this.recordDroppedEvent("event_processor",c,t),new wn("An event processor returned `null`, will not send event.","log");if(e.data&&!0===e.data.__sentry__)return n;return function(t,e){const n=e+" must return `null` or a valid event.";if(Object(k.n)(t))return t.then(t=>{if(!Object(k.i)(t)&&null!==t)throw new wn(n);return t},t=>{throw new wn(`${e} rejected with ${t}`)});if(!Object(k.i)(t)&&null!==t)throw new wn(n);return t}(function(t,e,n,r){const{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:a}=e;if(vr(n)&&i)return i(n,r);if(_r(n)){if(n.spans&&a){const e=[];for(const r of n.spans){const n=a(r);n?e.push(n):(Pt(),t.recordDroppedEvent("before_send","span"))}n.spans=e}if(o){if(n.spans){const t=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:t}}return o(n,r)}}return n}(this,r,n,e),l)}).then(r=>{if(null===r){if(this.recordDroppedEvent("before_send",c,t),o){const e=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",e)}throw new wn(l+" returned `null`, will not send event.","log")}const i=n&&n.getSession();if(!o&&i&&this._updateSessionFromEvent(i,r),o){const t=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);t>0&&this.recordDroppedEvent("before_send","span",t)}const a=r.transaction_info;if(o&&a&&r.transaction!==t.transaction){const t="custom";r.transaction_info={...a,source:t}}return this.sendEvent(r,e),r}).then(null,t=>{if(t instanceof wn)throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),new wn("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)})}_process(t){this._numProcessing++,t.then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([t,e])=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e}})}_flushOutcomes(){X&&S.c.log("Flushing outcomes...");const t=this._clearOutcomes();if(0===t.length)return void(X&&S.c.log("No outcomes to send"));if(!this._dsn)return void(X&&S.c.log("No dsn provided, will not send outcomes"));X&&S.c.log("Sending outcomes:",t);const e=(n=t,Ve((r=this._options.tunnel&&je(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:i||c(),discarded_events:n}]]));var n,r,i;this.sendEnvelope(e)}}{constructor(t){const e={parentSpanIsAlwaysRootSpan:!0,...t};xr(e,"browser",["browser"],hr.SENTRY_SDK_SOURCE||Object(br.a)()),super(e),e.sendClientReports&&hr.document&&hr.document.addEventListener("visibilitychange",()=>{"hidden"===hr.document.visibilityState&&this._flushOutcomes()})}eventFromException(t,e){return Or(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",n){return Pr(this._options.stackParser,t,e,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(wr&&S.c.warn("SDK not enabled, will not capture user feedback."));const e=Rr(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(e)}_prepareEvent(t,e,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,n)}}const Br=u.a;function jr(){if(!("fetch"in Br))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}function Nr(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Fr(){if("string"==typeof EdgeRuntime)return!0;if(!jr())return!1;if(Nr(Br.fetch))return!0;let t=!1;const e=Br.document;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=Nr(n.contentWindow.fetch)),e.head.removeChild(n)}catch(t){at.a&&S.c.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t}const Ur="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Vr=u.a,qr={};function Hr(t){const e=qr[t];if(e)return e;let n=Vr[t];if(Nr(n))return qr[t]=n.bind(Vr);const r=Vr.document;if(r&&"function"==typeof r.createElement)try{const e=r.createElement("iframe");e.hidden=!0,r.head.appendChild(e);const i=e.contentWindow;i&&i[t]&&(n=i[t]),r.head.removeChild(e)}catch(e){Ur&&S.c.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,e)}return n?qr[t]=n.bind(Vr):n}function Gr(t){qr[t]=void 0}function Zr(...t){return Hr("setTimeout")(...t)}function Kr(t,e=Hr("fetch")){let n=0,r=0;return Tn(t,(function(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};if(!e)return Gr("fetch"),$("No fetch implementation available");try{return e(t.url,a).then(t=>(n-=o,r--,{statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}}))}catch(t){return Gr("fetch"),n-=o,r--,$(t)}}))}function Qr(t,e,n,r){const i={filename:t,function:"<anonymous>"===e?fe.a:e,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}const Xr=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Yr=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Jr=/\((\S*)(?::(\d+))(?::(\d+))\)/,$r=[30,t=>{const e=Xr.exec(t);if(e){const[,t,n,r]=e;return Qr(t,fe.a,+n,+r)}const n=Yr.exec(t);if(n){if(n[2]&&0===n[2].indexOf("eval")){const t=Jr.exec(n[2]);t&&(n[2]=t[1],n[3]=t[2],n[4]=t[3])}const[t,e]=pi(n[1]||fe.a,n[2]);return Qr(e,t,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],ti=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ei=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ni=[50,t=>{const e=ti.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const t=ei.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let t=e[3],n=e[1]||fe.a;return[n,t]=pi(n,t),Qr(t,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}],ri=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ii=[40,t=>{const e=ri.exec(t);return e?Qr(e[2],e[1]||fe.a,+e[3],e[4]?+e[4]:void 0):void 0}],oi=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,ai=[10,t=>{const e=oi.exec(t);return e?Qr(e[2],e[3]||fe.a,+e[1]):void 0}],si=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,li=[20,t=>{const e=si.exec(t);return e?Qr(e[5],e[3]||e[4]||fe.a,+e[1],+e[2]):void 0}],ui=[$r,ni],ci=Object(fe.b)(...ui),pi=(t,e)=>{const n=-1!==t.indexOf("safari-extension"),r=-1!==t.indexOf("safari-web-extension");return n||r?[-1!==t.indexOf("@")?t.split("@")[0]:fe.a,n?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]};let di,hi,fi;function mi(t){ye("dom",t),ve("dom",gi)}function gi(){if(!Vr.document)return;const t=_e.bind(null,"dom"),e=yi(t,!0);Vr.document.addEventListener("click",e,!1),Vr.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(e=>{const n=Vr[e],r=n&&n.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(Object(l.e)(r,"addEventListener",(function(e){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=r[n]=r[n]||{refCount:0};if(!o.handler){const r=yi(t);o.handler=r,e.call(this,n,r,i)}o.refCount++}catch(t){}return e.call(this,n,r,i)}})),Object(l.e)(r,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{const n=this.__sentry_instrumentation_handlers__||{},i=n[e];i&&(i.refCount--,i.refCount<=0&&(t.call(this,e,i.handler,r),i.handler=void 0,delete n[e]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,r)}})))})}function yi(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(t){try{return t.target}catch(t){return null}}(n);if(function(t,e){return"keypress"===t&&(!e||!e.tagName||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!e.isContentEditable)}(n.type,r))return;Object(l.a)(n,"_sentryCaptured",!0),r&&!r._sentryId&&Object(l.a)(r,"_sentryId",m());const i="keypress"===n.type?"input":n.type;if(!function(t){if(t.type!==hi)return!1;try{if(!t.target||t.target._sentryId!==fi)return!1}catch(t){}return!0}(n)){t({event:n,name:i,global:e}),hi=n.type,fi=r?r._sentryId:void 0}clearTimeout(di),di=Vr.setTimeout(()=>{fi=void 0,hi=void 0},1e3)}}function vi(t){ye("xhr",t),ve("xhr",_i)}function _i(){if(!Vr.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(t,e,n){const r=new Error,i=1e3*p(),o=Object(k.l)(n[0])?n[0].toUpperCase():void 0,a=function(t){if(Object(k.l)(t))return t;try{return t.toString()}catch(t){}return}(n[1]);if(!o||!a)return t.apply(e,n);e.__sentry_xhr_v3__={method:o,url:a,request_headers:{}},"POST"===o&&a.match(/sentry_key/)&&(e.__sentry_own_request__=!0);const s=()=>{const t=e.__sentry_xhr_v3__;if(t&&4===e.readyState){try{t.status_code=e.status}catch(t){}_e("xhr",{endTimestamp:1e3*p(),startTimestamp:i,xhr:e,virtualError:r})}};return"onreadystatechange"in e&&"function"==typeof e.onreadystatechange?e.onreadystatechange=new Proxy(e.onreadystatechange,{apply:(t,e,n)=>(s(),t.apply(e,n))}):e.addEventListener("readystatechange",s),e.setRequestHeader=new Proxy(e.setRequestHeader,{apply(t,e,n){const[r,i]=n,o=e.__sentry_xhr_v3__;return o&&Object(k.l)(r)&&Object(k.l)(i)&&(o.request_headers[r.toLowerCase()]=i),t.apply(e,n)}}),t.apply(e,n)}}),t.send=new Proxy(t.send,{apply(t,e,n){const r=e.__sentry_xhr_v3__;if(!r)return t.apply(e,n);void 0!==n[0]&&(r.body=n[0]);return _e("xhr",{startTimestamp:1e3*p(),xhr:e}),t.apply(e,n)}})}const bi=u.a;let xi;function wi(t){ye("history",t),ve("history",ki)}function ki(){if(!function(){const t=bi.chrome,e=t&&t.app&&t.app.runtime,n="history"in bi&&!!bi.history.pushState&&!!bi.history.replaceState;return!e&&n}())return;const t=Vr.onpopstate;function e(t){return function(...e){const n=e.length>2?e[2]:void 0;if(n){const t=xi,e=String(n);xi=e;_e("history",{from:t,to:e})}return t.apply(this,e)}}Vr.onpopstate=function(...e){const n=Vr.location.href,r=xi;xi=n;if(_e("history",{from:r,to:n}),t)try{return t.apply(this,e)}catch(t){}},Object(l.e)(Vr.history,"pushState",e),Object(l.e)(Vr.history,"replaceState",e)}function Si(t,e){ye("fetch",t),ve("fetch",()=>Ci(void 0,e))}function Ci(t,e=!1){e&&!Fr()||Object(l.e)(u.a,"fetch",(function(e){return function(...n){const r=new Error,{method:i,url:o}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){const[e,n]=t;return{url:Ii(e),method:Ti(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:Ii(e),method:Ti(e,"method")?String(e.method).toUpperCase():"GET"}}(n),a={args:n,fetchData:{method:i,url:o},startTimestamp:1e3*p(),virtualError:r};return t||_e("fetch",{...a}),e.apply(u.a,n).then(async e=>(t?t(e):_e("fetch",{...a,endTimestamp:1e3*p(),response:e}),e),t=>{throw _e("fetch",{...a,endTimestamp:1e3*p(),error:t}),Object(k.d)(t)&&void 0===t.stack&&(t.stack=r.stack,Object(l.a)(t,"framesToPop",1)),t})}}))}function Ei(t){let e;try{e=t.clone()}catch(t){return}!async function(t,e){if(t&&t.body){const n=t.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},9e4);let o=!0;for(;o;){let t;try{t=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:i}=await r.read();clearTimeout(t),i&&(e(),o=!1)}catch(t){o=!1}finally{clearTimeout(t)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}(e,()=>{_e("fetch-body-resolved",{endTimestamp:1e3*p(),response:t})})}function Ti(t,e){return!!t&&"object"==typeof t&&!!t[e]}function Ii(t){return"string"==typeof t?t:t?Ti(t,"url")?t.url:t.toString?t.toString():"":""}var Mi=n(405);function Ai(t){return void 0===t?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}function Oi(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}function Pi(t){return t.split(/\\?\//).filter(t=>t.length>0&&","!==t).length}const Di=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(t){e.console&&Ae(function(t){return function(e){if(H()!==t)return;const n={category:"console",data:{arguments:e.args,logger:"console"},level:Pe(e.level),message:Object(f.a)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;n.message="Assertion failed: "+(Object(f.a)(e.args.slice(1)," ")||"console.assert"),n.data.arguments=e.args.slice(1)}K(n,{input:e.args,level:e.level})}}(t)),e.dom&&mi(function(t,e){return function(n){if(H()!==t)return;let r,i,o="object"==typeof e?e.serializeAttribute:void 0,a="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;a&&a>1024&&(wr&&S.c.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=1024),"string"==typeof o&&(o=[o]);try{const t=n.event,e=function(t){return!!t&&!!t.target}(t)?t.target:t;r=Object(Mi.d)(e,{keyAttrs:o,maxStringLength:a}),i=Object(Mi.a)(e)}catch(t){r="<unknown>"}if(0===r.length)return;const s={category:"ui."+n.name,message:r};i&&(s.data={"ui.component_name":i}),K(s,{event:n.event,name:n.name,global:n.global})}}(t,e.dom)),e.xhr&&vi(function(t){return function(e){if(H()!==t)return;const{startTimestamp:n,endTimestamp:r}=e,i=e.xhr.__sentry_xhr_v3__;if(!n||!r||!i)return;const{method:o,url:a,status_code:s,body:l}=i,u={method:o,url:a,status_code:s},c={xhr:e.xhr,input:l,startTimestamp:n,endTimestamp:r};K({category:"xhr",data:u,type:"http",level:Ai(s)},c)}}(t)),e.fetch&&Si(function(t){return function(e){if(H()!==t)return;const{startTimestamp:n,endTimestamp:r}=e;if(r&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error){K({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args,startTimestamp:n,endTimestamp:r})}else{const t=e.response,i={...e.fetchData,status_code:t&&t.status},o={input:e.args,response:t,startTimestamp:n,endTimestamp:r};K({category:"fetch",data:i,type:"http",level:Ai(i.status_code)},o)}}}(t)),e.history&&wi(function(t){return function(e){if(H()!==t)return;let n=e.from,r=e.to;const i=Oi(hr.location.href);let o=n?Oi(n):void 0;const a=Oi(r);o&&o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),K({category:"navigation",data:{from:n,to:r}})}}(t)),e.sentry&&t.on("beforeSendEvent",function(t){return function(e){H()===t&&K({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:y(e)},{event:e})}}(t))}}};const zi=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Li=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&Object(l.e)(hr,"setTimeout",Ri),e.setInterval&&Object(l.e)(hr,"setInterval",Ri),e.requestAnimationFrame&&Object(l.e)(hr,"requestAnimationFrame",Wi),e.XMLHttpRequest&&"XMLHttpRequest"in hr&&Object(l.e)(XMLHttpRequest.prototype,"send",Bi);const t=e.eventTarget;if(t){(Array.isArray(t)?t:zi).forEach(ji)}}}};function Ri(t){return function(...e){const n=e[0];return e[0]=gr(n,{mechanism:{data:{function:Object(fe.d)(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function Wi(t){return function(e){return t.apply(this,[gr(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(fe.d)(t)},handled:!1,type:"instrument"}})])}}function Bi(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(t=>{t in n&&"function"==typeof n[t]&&Object(l.e)(n,t,(function(e){const n={mechanism:{data:{function:t,handler:Object(fe.d)(e)},handled:!1,type:"instrument"}},r=Object(l.f)(e);return r&&(n.mechanism.data.handler=Object(fe.d)(r)),gr(e,n)}))}),t.apply(this,e)}}function ji(t){const e=hr[t],n=e&&e.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(l.e)(n,"addEventListener",(function(e){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=gr(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Object(fe.d)(r),target:t},handled:!1,type:"instrument"}}))}catch(t){}return e.apply(this,[n,gr(r,{mechanism:{data:{function:"addEventListener",handler:Object(fe.d)(r),target:t},handled:!1,type:"instrument"}}),i])}})),Object(l.e)(n,"removeEventListener",(function(t){return function(e,n,r){try{const i=n.__sentry_wrapped__;i&&t.call(this,e,i,r)}catch(t){}return t.call(this,e,n,r)}})))}const Ni=()=>({name:"BrowserSession",setupOnce(){void 0!==hr.document?(oe({ignoreDuration:!0}),le(),wi(({from:t,to:e})=>{void 0!==t&&t!==e&&(oe({ignoreDuration:!0}),le())})):wr&&S.c.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),Fi=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(!function(t){xe(e=>{const{stackParser:n,attachStacktrace:r}=Vi();if(H()!==t||mr())return;const{msg:i,url:o,line:a,column:s,error:l}=e,u=function(t,e,n,r){const i=t.exception=t.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},l=s.frames=s.frames||[],u=r,c=n,p=Object(k.l)(e)&&e.length>0?e:Object(Mi.c)();0===l.length&&l.push({colno:u,filename:p,function:fe.a,in_app:!0,lineno:c});return t}(Dr(n,l||i,void 0,r,!1),o,a,s);u.level="error",Zt(u,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}(t),Ui("onerror")),e.onunhandledrejection&&(!function(t){Se(e=>{const{stackParser:n,attachStacktrace:r}=Vi();if(H()!==t||mr())return;const i=function(t){if(Object(k.j)(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(t){}return t}(e),o=Object(k.j)(i)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(i)}]}}:Dr(n,i,void 0,r,!0);o.level="error",Zt(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(t),Ui("onunhandledrejection"))}}};function Ui(t){wr&&S.c.log("Global Handler attached: "+t)}function Vi(){const t=H();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const qi=()=>({name:"HttpContext",preprocessEvent(t){if(!hr.navigator&&!hr.location&&!hr.document)return;const e=t.request&&t.request.url||hr.location&&hr.location.href,{referrer:n}=hr.document||{},{userAgent:r}=hr.navigator||{},i={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...t.request,...e&&{url:e},headers:i};t.request=o}});function Hi(t,e,n=250,r,i,o,a){if(!(o.exception&&o.exception.values&&a&&Object(k.g)(a.originalException,Error)))return;const s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;var l,u;s&&(o.exception.values=(l=function t(e,n,r,i,o,a,s,l){if(a.length>=r+1)return a;let u=[...a];if(Object(k.g)(i[o],Error)){Gi(s,l);const a=e(n,i[o]),c=u.length;Zi(a,o,c,l),u=t(e,n,r,i[o],o,[a,...u],a,c)}return Array.isArray(i.errors)&&i.errors.forEach((i,a)=>{if(Object(k.g)(i,Error)){Gi(s,l);const c=e(n,i),p=u.length;Zi(c,`errors[${a}]`,p,l),u=t(e,n,r,i,o,[c,...u],c,p)}}),u}(t,e,i,a.originalException,r,o.exception.values,s,0),u=n,l.map(t=>(t.value&&(t.value=Object(f.d)(t.value,u)),t))))}function Gi(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,..."AggregateError"===t.type&&{is_exception_group:!0},exception_id:e}}function Zi(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}const Ki=(t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(t,r,i){const o=i.getOptions();Hi(kr,o.stackParser,o.maxValueLength,n,e,t,r)}}};function Qi(t){const e=[Nn(),Wn(),Li(),Di(),Fi(),Ki(),An(),qi()];return!1!==t.autoSessionTracking&&e.push(Ni()),e}function Xi(t={}){const e=function(t={}){const e={defaultIntegrations:Qi(t),release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:hr.SENTRY_RELEASE&&hr.SENTRY_RELEASE.id?hr.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==t.defaultIntegrations&&delete t.defaultIntegrations,{...e,...t}}(t);if(!e.skipBrowserExtensionCheck&&function(){const t=void 0!==hr.window&&hr;if(!t)return!1;const e=t[t.chrome?"chrome":"browser"],n=e&&e.runtime&&e.runtime.id,r=hr.location&&hr.location.href||"",i=!!n&&hr===hr.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some(t=>r.startsWith(t+"//")),o=void 0!==t.nw;return!!n&&!i&&!o}())return void Object(S.b)(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});wr&&(jr()||S.c.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...e,stackParser:Object(fe.e)(e.stackParser||ci),integrations:ce(e),transport:e.transport||Kr};return function(t,e){!0===e.debug&&(X?S.c.enable():Object(S.b)(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),N().update(e.initialScope);const n=new t(e);return ar(n),n.init(),n}(Wr,n)}function Yi(t={}){if(!hr.document)return void(wr&&S.c.error("Global document not defined in showReportDialog call"));const e=N(),n=e.getClient(),r=n&&n.getDsn();if(!r)return void(wr&&S.c.error("DSN not configured for showReportDialog call"));if(e&&(t.user={...e.getUser(),...t.user}),!t.eventId){const e=te();e&&(t.eventId=e)}const i=hr.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=function(t,e){const n=Ue(t);if(!n)return"";const r=Un(n)+"embed/error-page/";let i="dsn="+je(n);for(const t in e)if("dsn"!==t&&"onClose"!==t)if("user"===t){const t=e.user;if(!t)continue;t.name&&(i+="&name="+encodeURIComponent(t.name)),t.email&&(i+="&email="+encodeURIComponent(t.email))}else i+=`&${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`;return`${r}?${i}`}(r,t),t.onLoad&&(i.onload=t.onLoad);const{onClose:o}=t;if(o){const t=e=>{if("__sentry_reportdialog_closed__"===e.data)try{o()}finally{hr.removeEventListener("message",t)}};hr.addEventListener("message",t)}const a=hr.document.head||hr.document.body;a?a.appendChild(i):wr&&S.c.error("Not injecting report dialog. No injection point found in HTML")}function Ji(){}function $i(t){t()}function to(t){const e=H();e&&e.captureUserFeedback(t)}const eo={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",debugIntegration:"debug",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",sessionTimingIntegration:"sessiontiming",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},no=hr;async function ro(t,e){const n=eo[t],i=no.Sentry=no.Sentry||{};if(!n)throw new Error("Cannot lazy load integration: "+t);const o=i[t];if("function"==typeof o&&!("_isShim"in o))return o;const a=function(t){const e=H(),n=e&&e.getOptions(),i=n&&n.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${r.a}/${t}.min.js`,i).toString()}(n),s=hr.document.createElement("script");s.src=a,s.crossOrigin="anonymous",s.referrerPolicy="origin",e&&s.setAttribute("nonce",e);const l=new Promise((t,e)=>{s.addEventListener("load",()=>t()),s.addEventListener("error",e)}),u=hr.document.currentScript,c=hr.document.body||hr.document.head||u&&u.parentElement;if(!c)throw new Error(`Could not find parent element to insert lazy-loaded ${t} script`);c.appendChild(s);try{await l}catch(e){throw new Error("Error when loading integration: "+t)}const p=i[t];if("function"!=typeof p)throw new Error("Could not load integration: "+t);return p}const io=u.a,oo=new WeakMap,ao=(t={})=>{const e=t.types||["crash","deprecation","intervention"];function n(t){if(oo.has(H()))for(const e of t)V(t=>{t.setExtra("url",e.url);const n=`ReportingObserver [${e.type}]`;let r="No details available";if(e.body){const n={};for(const t in e.body)n[t]=e.body[t];if(t.setExtra("body",n),"crash"===e.type){const t=e.body;r=[t.crashId||"",t.reason||""].join(" ").trim()||r}else{r=e.body.message||r}}Gt(`${n}: ${r}`)})}return{name:"ReportingObserver",setupOnce(){if(!("ReportingObserver"in Br))return;new io.ReportingObserver(n,{buffered:!0,types:e}).observe()},setup(t){oo.set(t,!0)}}};function so(t,e){const n=e&&e.getDsn(),r=e&&e.getOptions().tunnel;return function(t,e){return!!e&&t.includes(e.host)}(t,n)||function(t,e){if(!e)return!1;return lo(t)===lo(e)}(t,r)}function lo(t){return"/"===t[t.length-1]?t.slice(0,-1):t}const uo=(t={})=>{const e={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...t};return{name:"HttpClient",setup(t){!function(t,e){if(!Fr())return;Si(n=>{if(H()!==t)return;const{response:r,args:i,error:o,virtualError:a}=n,[s,l]=i;r&&function(t,e,n,r,i){if(fo(t,n.status,n.url)){const t=function(t,e){if(!e&&t instanceof Request)return t;if(t instanceof Request&&t.bodyUsed)return t;return new Request(t,e)}(e,r);let o,a,s,l;go()&&([o,s]=co("Cookie",t),[a,l]=co("Set-Cookie",n));Zt(mo({url:t.url,method:t.method,status:n.status,requestHeaders:o,responseHeaders:a,requestCookies:s,responseCookies:l,error:i}))}}(e,s,r,l,o||a)},!1)}(t,e),function(t,e){if(!("XMLHttpRequest"in u.a))return;vi(n=>{if(H()!==t)return;const{error:r,virtualError:i}=n,o=n.xhr,a=o.__sentry_xhr_v3__;if(!a)return;const{method:s,request_headers:l}=a;try{!function(t,e,n,r,i){if(fo(t,e.status,e.responseURL)){let t,o,a;if(go()){try{const t=e.getResponseHeader("Set-Cookie")||e.getResponseHeader("set-cookie")||void 0;t&&(o=ho(t))}catch(t){}try{a=function(t){const e=t.getAllResponseHeaders();if(!e)return{};return e.split("\r\n").reduce((t,e)=>{const[n,r]=e.split(": ");return n&&r&&(t[n]=r),t},{})}(e)}catch(t){}t=r}Zt(mo({url:e.responseURL,method:n,status:e.status,requestHeaders:t,responseHeaders:a,responseCookies:o,error:i}))}}(e,o,s,l,r||i)}catch(t){wr&&S.c.warn("Error while extracting response event form XHR response",t)}})}(t,e)}}};function co(t,e){const n=function(t){const e={};return t.forEach((t,n)=>{e[n]=t}),e}(e.headers);let r;try{const e=n[t]||n[t.toLowerCase()]||void 0;e&&(r=ho(e))}catch(t){}return[n,r]}function po(t){if(t){const e=t["Content-Length"]||t["content-length"];if(e)return parseInt(e,10)}}function ho(t){return t.split("; ").reduce((t,e)=>{const[n,r]=e.split("=");return n&&r&&(t[n]=r),t},{})}function fo(t,e,n){return function(t,e){return t.some(t=>"number"==typeof t?t===e:e>=t[0]&&e<=t[1])}(t.failedRequestStatusCodes,e)&&(r=t.failedRequestTargets,i=n,r.some(t=>"string"==typeof t?i.includes(t):t.test(i)))&&!so(n,H());var r,i}function mo(t){const e=H(),n=e&&t.error&&t.error instanceof Error?t.error.stack:void 0,r=n&&e?e.getOptions().stackParser(n,0,1):void 0,i="HTTP Client Error with status code: "+t.status,o={message:i,exception:{values:[{type:"Error",value:i,stacktrace:r?{frames:r}:void 0}]},request:{url:t.url,method:t.method,headers:t.requestHeaders,cookies:t.requestCookies},contexts:{response:{status_code:t.status,headers:t.responseHeaders,cookies:t.responseCookies,body_size:po(t.responseHeaders)}}};return _(o,{type:"http.client",handled:!1}),o}function go(){const t=H();return!!t&&Boolean(t.getOptions().sendDefaultPii)}const yo=u.a,vo=(t={})=>{const e=null!=t.frameContextLines?t.frameContextLines:7;return{name:"ContextLines",processEvent:t=>function(t,e){const n=yo.document,r=yo.location&&(i=yo.location.href,i.split(/[?#]/,1)[0]);var i;if(!n||!r)return t;const o=t.exception&&t.exception.values;if(!o||!o.length)return t;const a=n.documentElement.innerHTML;if(!a)return t;const s=["<!DOCTYPE html>","<html>",...a.split("\n"),"</html>"];return o.forEach(t=>{const n=t.stacktrace;n&&n.frames&&(n.frames=n.frames.map(t=>function(t,e,n,r){if(t.filename!==n||!t.lineno||!e.length)return t;return function(t,e,n=5){if(void 0===e.lineno)return;const r=t.length,i=Math.max(Math.min(r-1,e.lineno-1),0);e.pre_context=t.slice(Math.max(0,i-n),i).map(t=>Object(f.b)(t,0));const o=Math.min(r-1,i);e.context_line=Object(f.b)(t[o],e.colno||0),e.post_context=t.slice(Math.min(i+1,r),i+1+n).map(t=>Object(f.b)(t,0))}(e,t,r),t}(t,s,r,e)))}),t}(t,e)}};function _o(t){let e=void 0,n=t[0],r=1;for(;r<t.length;){const i=t[r],o=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o((...t)=>n.call(e,...t)),e=void 0)}return n}var bo=n(408);function xo(){return"undefined"!=typeof window&&(!Object(bo.a)()||function(){const t=u.a.process;return!!t&&"renderer"===t.type}())}const wo=(t,e,n,r)=>{let i,o;return a=>{e.value>=0&&(a||r)&&(o=e.value-(i||0),(o||void 0===i)&&(i=e.value,e.delta=o,e.rating=((t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good")(e.value,n),t(e)))}},ko=(t=!0)=>{const e=Vr.performance&&Vr.performance.getEntriesByType&&Vr.performance.getEntriesByType("navigation")[0];if(!t||e&&e.responseStart>0&&e.responseStart<performance.now())return e},So=()=>{const t=ko();return t&&t.activationStart||0},Co=(t,e)=>{const n=ko();let r="navigate";n&&(Vr.document&&Vr.document.prerendering||So()>0?r="prerender":Vr.document&&Vr.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-")));return{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:`v4-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},Eo=(t,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const r=new PerformanceObserver(t=>{Promise.resolve().then(()=>{e(t.getEntries())})});return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch(t){}},To=t=>{const e=e=>{("pagehide"===e.type||Vr.document&&"hidden"===Vr.document.visibilityState)&&t(e)};Vr.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))},Io=t=>{let e=!1;return()=>{e||(t(),e=!0)}};let Mo=-1;const Ao=t=>{"hidden"===Vr.document.visibilityState&&Mo>-1&&(Mo="visibilitychange"===t.type?t.timeStamp:0,Oo())},Oo=()=>{removeEventListener("visibilitychange",Ao,!0),removeEventListener("prerenderingchange",Ao,!0)},Po=()=>(Vr.document&&Mo<0&&(Mo="hidden"!==Vr.document.visibilityState||Vr.document.prerendering?1/0:0,addEventListener("visibilitychange",Ao,!0),addEventListener("prerenderingchange",Ao,!0)),{get firstHiddenTime(){return Mo}}),Do=t=>{Vr.document&&Vr.document.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},zo=[1800,3e3],Lo=[.1,.25],Ro=(t,e={})=>{((t,e={})=>{Do(()=>{const n=Po(),r=Co("FCP");let i;const o=Eo("paint",t=>{t.forEach(t=>{"first-contentful-paint"===t.name&&(o.disconnect(),t.startTime<n.firstHiddenTime&&(r.value=Math.max(t.startTime-So(),0),r.entries.push(t),i(!0)))})});o&&(i=wo(t,r,zo,e.reportAllChanges))})})(Io(()=>{const n=Co("CLS",0);let r,i=0,o=[];const a=t=>{t.forEach(t=>{if(!t.hadRecentInput){const e=o[0],n=o[o.length-1];i&&e&&n&&t.startTime-n.startTime<1e3&&t.startTime-e.startTime<5e3?(i+=t.value,o.push(t)):(i=t.value,o=[t])}}),i>n.value&&(n.value=i,n.entries=o,r())},s=Eo("layout-shift",a);s&&(r=wo(t,n,Lo,e.reportAllChanges),To(()=>{a(s.takeRecords()),r(!0)}),setTimeout(r,0))}))},Wo=[100,300];let Bo=0,jo=1/0,No=0;const Fo=t=>{t.forEach(t=>{t.interactionId&&(jo=Math.min(jo,t.interactionId),No=Math.max(No,t.interactionId),Bo=No?(No-jo)/7+1:0)})};let Uo;const Vo=[],qo=new Map;const Ho=()=>(Uo?Bo:performance.interactionCount||0)-0,Go=[],Zo=t=>{if(Go.forEach(e=>e(t)),!t.interactionId&&"first-input"!==t.entryType)return;const e=Vo[Vo.length-1],n=qo.get(t.interactionId);if(n||Vo.length<10||e&&t.duration>e.latency){if(n)t.duration>n.latency?(n.entries=[t],n.latency=t.duration):t.duration===n.latency&&t.startTime===(n.entries[0]&&n.entries[0].startTime)&&n.entries.push(t);else{const e={id:t.interactionId,latency:t.duration,entries:[t]};qo.set(e.id,e),Vo.push(e)}Vo.sort((t,e)=>e.latency-t.latency),Vo.length>10&&Vo.splice(10).forEach(t=>qo.delete(t.id))}},Ko=t=>{const e=Vr.requestIdleCallback||Vr.setTimeout;let n=-1;return t=Io(t),Vr.document&&"hidden"===Vr.document.visibilityState?t():(n=e(t),To(t)),n},Qo=[200,500],Xo=(t,e={})=>{"PerformanceEventTiming"in Vr&&"interactionId"in PerformanceEventTiming.prototype&&Do(()=>{"interactionCount"in performance||Uo||(Uo=Eo("event",Fo,{type:"event",buffered:!0,durationThreshold:0}));const n=Co("INP");let r;const i=t=>{Ko(()=>{t.forEach(Zo);const e=(()=>{const t=Math.min(Vo.length-1,Math.floor(Ho()/50));return Vo[t]})();e&&e.latency!==n.value&&(n.value=e.latency,n.entries=e.entries,r())})},o=Eo("event",i,{durationThreshold:null!=e.durationThreshold?e.durationThreshold:40});r=wo(t,n,Qo,e.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),To(()=>{i(o.takeRecords()),r(!0)}))})},Yo=[2500,4e3],Jo={},$o=[800,1800],ta=t=>{Vr.document&&Vr.document.prerendering?Do(()=>ta(t)):Vr.document&&"complete"!==Vr.document.readyState?addEventListener("load",()=>ta(t),!0):setTimeout(t,0)},ea={},na={};let ra,ia,oa,aa,sa;function la(t,e=!1){return _a("cls",t,fa,ra,e)}function ua(t,e=!1){return _a("lcp",t,ga,oa,e)}function ca(t){return _a("fid",t,ma,ia)}function pa(t){return _a("inp",t,va,sa)}function da(t,e){return ba(t,e),na[t]||(!function(t){const e={};"event"===t&&(e.durationThreshold=0);Eo(t,e=>{ha(t,{entries:e})},e)}(t),na[t]=!0),xa(t,e)}function ha(t,e){const n=ea[t];if(n&&n.length)for(const r of n)try{r(e)}catch(e){Ur&&S.c.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${Object(fe.d)(r)}\nError:`,e)}}function fa(){return Ro(t=>{ha("cls",{metric:t}),ra=t},{reportAllChanges:!0})}function ma(){return((t,e={})=>{Do(()=>{const n=Po(),r=Co("FID");let i;const o=t=>{t.startTime<n.firstHiddenTime&&(r.value=t.processingStart-t.startTime,r.entries.push(t),i(!0))},a=t=>{t.forEach(o)},s=Eo("first-input",a);i=wo(t,r,Wo,e.reportAllChanges),s&&To(Io(()=>{a(s.takeRecords()),s.disconnect()}))})})(t=>{ha("fid",{metric:t}),ia=t})}function ga(){return((t,e={})=>{Do(()=>{const n=Po(),r=Co("LCP");let i;const o=t=>{e.reportAllChanges||(t=t.slice(-1)),t.forEach(t=>{t.startTime<n.firstHiddenTime&&(r.value=Math.max(t.startTime-So(),0),r.entries=[t],i())})},a=Eo("largest-contentful-paint",o);if(a){i=wo(t,r,Yo,e.reportAllChanges);const n=Io(()=>{Jo[r.id]||(o(a.takeRecords()),a.disconnect(),Jo[r.id]=!0,i(!0))});["keydown","click"].forEach(t=>{Vr.document&&addEventListener(t,()=>Ko(n),{once:!0,capture:!0})}),To(n)}})})(t=>{ha("lcp",{metric:t}),oa=t},{reportAllChanges:!0})}function ya(){return((t,e={})=>{const n=Co("TTFB"),r=wo(t,n,$o,e.reportAllChanges);ta(()=>{const t=ko();t&&(n.value=Math.max(t.responseStart-So(),0),n.entries=[t],r(!0))})})(t=>{ha("ttfb",{metric:t}),aa=t})}function va(){return Xo(t=>{ha("inp",{metric:t}),sa=t})}function _a(t,e,n,r,i=!1){let o;return ba(t,e),na[t]||(o=n(),na[t]=!0),r&&e({metric:r}),xa(t,e,i?o:void 0)}function ba(t,e){ea[t]=ea[t]||[],ea[t].push(e)}function xa(t,e,n){return()=>{n&&n();const r=ea[t];if(!r)return;const i=r.indexOf(e);-1!==i&&r.splice(i,1)}}const wa=u.a;function ka(t,e){return null!=t?t:e()}function Sa(t){let e=void 0,n=t[0],r=1;for(;r<t.length;){const i=t[r],o=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o((...t)=>n.call(e,...t)),e=void 0)}return n}var Ca;function Ea(t){const e=Sa([t,"optionalAccess",t=>t.host]);return Boolean(Sa([e,"optionalAccess",t=>t.shadowRoot])===t)}function Ta(t){return"[object ShadowRoot]"===Object.prototype.toString.call(t)}function Ia(t){try{const n=t.rules||t.cssRules;return n?((e=Array.from(n,Ma).join("")).includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e):null}catch(t){return null}var e}function Ma(t){let e;if(function(t){return"styleSheet"in t}(t))try{e=Ia(t.styleSheet)||function(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const n=["@import",`url(${JSON.stringify(t.href)})`];return""===t.layerName?n.push("layer"):t.layerName&&n.push(`layer(${t.layerName})`),t.supportsText&&n.push(`supports(${t.supportsText})`),t.media.length&&n.push(t.media.mediaText),n.join(" ")+";"}(t)}catch(t){}else if(function(t){return"selectorText"in t}(t)){let e=t.cssText;const n=t.selectorText.includes(":"),r="string"==typeof t.style.all&&t.style.all;if(r&&(e=function(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style,i=r[n],o=r.getPropertyPriority(i);e+=`${i}:${r.getPropertyValue(i)}${o?" !important":""};`}return`${t.selectorText} { ${e} }`}(t)),n&&(e=e.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")),n||r)return e}return e||t.cssText}!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(Ca||(Ca={}));class Aa{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;return ka(Sa([this,"access",t=>t.getMeta,"call",e=>e(t),"optionalAccess",t=>t.id]),()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const e=this.getId(t);this.idNodeMap.delete(e),t.childNodes&&t.childNodes.forEach(t=>this.removeNodeFromMap(t))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,e){const n=e.id;this.idNodeMap.set(n,t),this.nodeMetaMap.set(t,e)}replace(t,e){const n=this.getNode(t);if(n){const t=this.nodeMetaMap.get(n);t&&this.nodeMetaMap.set(e,t)}this.idNodeMap.set(t,e)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Oa({maskInputOptions:t,tagName:e,type:n}){return"OPTION"===e&&(e="SELECT"),Boolean(t[e.toLowerCase()]||n&&t[n]||"password"===n||"INPUT"===e&&!n&&t.text)}function Pa({isMasked:t,element:e,value:n,maskInputFn:r}){let i=n||"";return t?(r&&(i=r(i,e)),"*".repeat(i.length)):i}function Da(t){return t.toLowerCase()}function za(t){return t.toUpperCase()}function La(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?Da(e):null}function Ra(t,e,n){return"INPUT"!==e||"radio"!==n&&"checkbox"!==n?t.value:t.getAttribute("value")||""}function Wa(t,e){let n;try{n=new URL(t,ka(e,()=>window.location.href))}catch(t){return null}return ka(Sa([n.pathname.match(/\.([0-9a-z]+)(?:$)/i),"optionalAccess",t=>t[1]]),()=>null)}const Ba={};function ja(t){const e=Ba[t];if(e)return e;const n=window.document;let r=window[t];if(n&&"function"==typeof n.createElement)try{const e=n.createElement("iframe");e.hidden=!0,n.head.appendChild(e);const i=e.contentWindow;i&&i[t]&&(r=i[t]),n.head.removeChild(e)}catch(t){}return Ba[t]=r.bind(window)}function Na(...t){return ja("setTimeout")(...t)}function Fa(...t){return ja("clearTimeout")(...t)}function Ua(t){try{return t.contentDocument}catch(t){}}let Va=1;const qa=new RegExp("[^a-z0-9-_:]");function Ha(){return Va++}let Ga,Za;const Ka=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Qa=/^(?:[a-z+]+:)?\/\//i,Xa=/^www\..*/i,Ya=/^(data:)([^,]*),(.*)/i;function Ja(t,e){return(t||"").replace(Ka,(t,n,r,i,o,a)=>{const s=r||o||a,l=n||i||"";if(!s)return t;if(Qa.test(s)||Xa.test(s))return`url(${l}${s}${l})`;if(Ya.test(s))return`url(${l}${s}${l})`;if("/"===s[0])return`url(${l}${function(t){let e="";return e=t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0],e=e.split("?")[0],e}(e)+s}${l})`;const u=e.split("/"),c=s.split("/");u.pop();for(const t of c)"."!==t&&(".."===t?u.pop():u.push(t));return`url(${l}${u.join("/")}${l})`})}const $a=/^[^ \t\n\r\u000c]+/,ts=/^[, \t\n\r\u000c]+/;const es=new WeakMap;function ns(t,e){return e&&""!==e.trim()?rs(t,e):e}function rs(t,e){let n=es.get(t);if(n||(n=t.createElement("a"),es.set(t,n)),e){if(e.startsWith("blob:")||e.startsWith("data:"))return e}else e="";return n.setAttribute("href",e),n.href}function is(t,e,n,r,i,o){return r?"src"===n||"href"===n&&("use"!==e||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?ns(t,r):"background"!==n||"table"!==e&&"td"!==e&&"th"!==e?"srcset"===n?function(t,e){if(""===e.trim())return e;let n=0;function r(t){let r;const i=t.exec(e.substring(n));return i?(r=i[0],n+=r.length,r):""}const i=[];for(;r(ts),!(n>=e.length);){let o=r($a);if(","===o.slice(-1))o=ns(t,o.substring(0,o.length-1)),i.push(o);else{let r="";o=ns(t,o);let a=!1;for(;;){const t=e.charAt(n);if(""===t){i.push((o+r).trim());break}if(a)")"===t&&(a=!1);else{if(","===t){n+=1,i.push((o+r).trim());break}"("===t&&(a=!0)}r+=t,n+=1}}}return i.join(", ")}(t,r):"style"===n?Ja(r,rs(t)):"object"===e&&"data"===n?ns(t,r):"function"==typeof o?o(n,r,i):r:ns(t,r):r}function os(t,e,n){return("video"===t||"audio"===t)&&"autoplay"===e}function as(t,e,n=1/0,r=0){return t?t.nodeType!==t.ELEMENT_NODE||r>n?-1:e(t)?r:as(t.parentNode,e,n,r+1):-1}function ss(t,e){return n=>{const r=n;if(null===r)return!1;try{if(t)if("string"==typeof t){if(r.matches("."+t))return!0}else if(function(t,e){for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!1}(r,t))return!0;return!(!e||!r.matches(e))}catch(t){return!1}}}function ls(t,e,n,r,i,o){try{const a=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(null===a)return!1;if("INPUT"===a.tagName){const t=a.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(t))return!0}let s=-1,l=-1;if(o){if(l=as(a,ss(r,i)),l<0)return!0;s=as(a,ss(e,n),l>=0?l:1/0)}else{if(s=as(a,ss(e,n)),s<0)return!1;l=as(a,ss(r,i),s>=0?s:1/0)}return s>=0?!(l>=0)||s<=l:!(l>=0)&&!!o}catch(t){}return!!o}function us(t,e){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:s,maskAttributeFn:l,maskTextClass:u,unmaskTextClass:c,maskTextSelector:p,unmaskTextSelector:d,inlineStylesheet:h,maskInputOptions:f={},maskTextFn:m,maskInputFn:g,dataURLOptions:y={},inlineImages:v,recordCanvas:_,keepIframeSrcFn:b,newlyAddedElement:x=!1}=e,w=function(t,e){if(!e.hasNode(t))return;const n=e.getId(t);return 1===n?void 0:n}(n,r);switch(t.nodeType){case t.DOCUMENT_NODE:return"CSS1Compat"!==t.compatMode?{type:Ca.Document,childNodes:[],compatMode:t.compatMode}:{type:Ca.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:Ca.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:w};case t.ELEMENT_NODE:return function(t,e){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:o,inlineStylesheet:a,maskInputOptions:s={},maskAttributeFn:l,maskInputFn:u,dataURLOptions:c={},inlineImages:p,recordCanvas:d,keepIframeSrcFn:h,newlyAddedElement:f=!1,rootId:m,maskAllText:g,maskTextClass:y,unmaskTextClass:v,maskTextSelector:_,unmaskTextSelector:b}=e,x=function(t,e,n,r){try{if(r&&t.matches(r))return!1;if("string"==typeof e){if(t.classList.contains(e))return!0}else for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}if(n)return t.matches(n)}catch(t){}return!1}(t,r,i,o),w=function(t){if(t instanceof HTMLFormElement)return"form";const e=Da(t.tagName);return qa.test(e)?"div":e}(t);let k={};const S=t.attributes.length;for(let e=0;e<S;e++){const r=t.attributes[e];r.name&&!os(w,r.name,r.value)&&(k[r.name]=is(n,w,Da(r.name),r.value,t,l))}if("link"===w&&a){const e=Array.from(n.styleSheets).find(e=>e.href===t.href);let r=null;e&&(r=Ia(e)),r&&(k.rel=null,k.href=null,k.crossorigin=null,k._cssText=Ja(r,e.href))}if("style"===w&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const e=Ia(t.sheet);e&&(k._cssText=Ja(e,rs(n)))}if("input"===w||"textarea"===w||"select"===w||"option"===w){const e=t,n=La(e),r=Ra(e,za(w),n),i=e.checked;if("submit"!==n&&"button"!==n&&r){const t=ls(e,y,_,v,b,Oa({type:n,tagName:za(w),maskInputOptions:s}));k.value=Pa({isMasked:t,element:e,value:r,maskInputFn:u})}i&&(k.checked=i)}"option"===w&&(t.selected&&!s.select?k.selected=!0:delete k.selected);if("canvas"===w&&d)if("2d"===t.__context)(function(t){const e=t.getContext("2d");if(!e)return!0;for(let n=0;n<t.width;n+=50)for(let r=0;r<t.height;r+=50){const i=e.getImageData,o="__rrweb_original__"in i?i.__rrweb_original__:i;if(new Uint32Array(o.call(e,n,r,Math.min(50,t.width-n),Math.min(50,t.height-r)).data.buffer).some(t=>0!==t))return!1}return!0})(t)||(k.rr_dataURL=t.toDataURL(c.type,c.quality));else if(!("__context"in t)){const e=t.toDataURL(c.type,c.quality),r=n.createElement("canvas");r.width=t.width,r.height=t.height;const i=r.toDataURL(c.type,c.quality);e!==i&&(k.rr_dataURL=e)}if("img"===w&&p){Ga||(Ga=n.createElement("canvas"),Za=Ga.getContext("2d"));const e=t,r=e.currentSrc||e.getAttribute("src")||"<unknown-src>",i=e.crossOrigin,o=()=>{e.removeEventListener("load",o);try{Ga.width=e.naturalWidth,Ga.height=e.naturalHeight,Za.drawImage(e,0,0),k.rr_dataURL=Ga.toDataURL(c.type,c.quality)}catch(t){if("anonymous"!==e.crossOrigin)return e.crossOrigin="anonymous",void(e.complete&&0!==e.naturalWidth?o():e.addEventListener("load",o));console.warn(`Cannot inline img src=${r}! Error: ${t}`)}"anonymous"===e.crossOrigin&&(i?k.crossOrigin=i:e.removeAttribute("crossorigin"))};e.complete&&0!==e.naturalWidth?o():e.addEventListener("load",o)}"audio"!==w&&"video"!==w||(k.rr_mediaState=t.paused?"paused":"played",k.rr_mediaCurrentTime=t.currentTime);f||(t.scrollLeft&&(k.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(k.rr_scrollTop=t.scrollTop));if(x){const{width:e,height:n}=t.getBoundingClientRect();k={class:k.class,rr_width:e+"px",rr_height:n+"px"}}"iframe"!==w||h(k.src)||(x||Ua(t)||(k.rr_src=k.src),delete k.src);let C;try{customElements.get(w)&&(C=!0)}catch(t){}return{type:Ca.Element,tagName:w,attributes:k,childNodes:[],isSVG:(E=t,Boolean("svg"===E.tagName||E.ownerSVGElement)||void 0),needBlock:x,rootId:m,isCustom:C};var E}(t,{doc:n,blockClass:i,blockSelector:o,unblockSelector:a,inlineStylesheet:h,maskAttributeFn:l,maskInputOptions:f,maskInputFn:g,dataURLOptions:y,inlineImages:v,recordCanvas:_,keepIframeSrcFn:b,newlyAddedElement:x,rootId:w,maskAllText:s,maskTextClass:u,unmaskTextClass:c,maskTextSelector:p,unmaskTextSelector:d});case t.TEXT_NODE:return function(t,e){const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:o,unmaskTextSelector:a,maskTextFn:s,maskInputOptions:l,maskInputFn:u,rootId:c}=e,p=t.parentNode&&t.parentNode.tagName;let d=t.textContent;const h="STYLE"===p||void 0,f="SCRIPT"===p||void 0,m="TEXTAREA"===p||void 0;if(h&&d){try{t.nextSibling||t.previousSibling||Sa([t,"access",t=>t.parentNode,"access",t=>t.sheet,"optionalAccess",t=>t.cssRules])&&(d=Ia(t.parentNode.sheet))}catch(e){console.warn("Cannot get CSS styles from text's parentNode. Error: "+e,t)}d=Ja(d,rs(e.doc))}f&&(d="SCRIPT_PLACEHOLDER");const g=ls(t,r,o,i,a,n);h||f||m||!d||!g||(d=s?s(d,t.parentElement):d.replace(/[\S]/g,"*"));m&&d&&(l.textarea||g)&&(d=u?u(d,t.parentNode):d.replace(/[\S]/g,"*"));if("OPTION"===p&&d){const e=Oa({type:null,tagName:p,maskInputOptions:l});d=Pa({isMasked:ls(t,r,o,i,a,e),element:t,value:d,maskInputFn:u})}return{type:Ca.Text,textContent:d||"",isStyle:h,rootId:c}}(t,{doc:n,maskAllText:s,maskTextClass:u,unmaskTextClass:c,maskTextSelector:p,unmaskTextSelector:d,maskTextFn:m,maskInputOptions:f,maskInputFn:g,rootId:w});case t.CDATA_SECTION_NODE:return{type:Ca.CDATA,textContent:"",rootId:w};case t.COMMENT_NODE:return{type:Ca.Comment,textContent:t.textContent||"",rootId:w};default:return!1}}function cs(t){return null==t?"":t.toLowerCase()}function ps(t,e){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:s,maskTextClass:l,unmaskTextClass:u,maskTextSelector:c,unmaskTextSelector:p,skipChild:d=!1,inlineStylesheet:h=!0,maskInputOptions:f={},maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:_={},inlineImages:b=!1,recordCanvas:x=!1,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:S=5e3,onStylesheetLoad:C,stylesheetLoadTimeout:E=5e3,keepIframeSrcFn:T=(()=>!1),newlyAddedElement:I=!1}=e;let{preserveWhiteSpace:M=!0}=e;const A=us(t,{doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:s,unblockSelector:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:c,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,dataURLOptions:_,inlineImages:b,recordCanvas:x,keepIframeSrcFn:T,newlyAddedElement:I});if(!A)return console.warn(t,"not serialized"),null;let O;O=r.hasNode(t)?r.getId(t):!function(t,e){if(e.comment&&t.type===Ca.Comment)return!0;if(t.type===Ca.Element){if(e.script&&("script"===t.tagName||"link"===t.tagName&&("preload"===t.attributes.rel||"modulepreload"===t.attributes.rel)||"link"===t.tagName&&"prefetch"===t.attributes.rel&&"string"==typeof t.attributes.href&&"js"===Wa(t.attributes.href)))return!0;if(e.headFavicon&&("link"===t.tagName&&"shortcut icon"===t.attributes.rel||"meta"===t.tagName&&(cs(t.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===cs(t.attributes.name)||"icon"===cs(t.attributes.rel)||"apple-touch-icon"===cs(t.attributes.rel)||"shortcut icon"===cs(t.attributes.rel))))return!0;if("meta"===t.tagName){if(e.headMetaDescKeywords&&cs(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(cs(t.attributes.property).match(/^(og|twitter|fb):/)||cs(t.attributes.name).match(/^(og|twitter):/)||"pinterest"===cs(t.attributes.name)))return!0;if(e.headMetaRobots&&("robots"===cs(t.attributes.name)||"googlebot"===cs(t.attributes.name)||"bingbot"===cs(t.attributes.name)))return!0;if(e.headMetaHttpEquiv&&void 0!==t.attributes["http-equiv"])return!0;if(e.headMetaAuthorship&&("author"===cs(t.attributes.name)||"generator"===cs(t.attributes.name)||"framework"===cs(t.attributes.name)||"publisher"===cs(t.attributes.name)||"progid"===cs(t.attributes.name)||cs(t.attributes.property).match(/^article:/)||cs(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&("google-site-verification"===cs(t.attributes.name)||"yandex-verification"===cs(t.attributes.name)||"csrf-token"===cs(t.attributes.name)||"p:domain_verify"===cs(t.attributes.name)||"verify-v1"===cs(t.attributes.name)||"verification"===cs(t.attributes.name)||"shopify-checkout-api-token"===cs(t.attributes.name)))return!0}}return!1}(A,v)&&(M||A.type!==Ca.Text||A.isStyle||A.textContent.replace(/^\s+|\s+$/gm,"").length)?Ha():-2;const P=Object.assign(A,{id:O});if(r.add(t,P),-2===O)return null;w&&w(t);let D=!d;if(P.type===Ca.Element){D=D&&!P.needBlock,delete P.needBlock;const e=t.shadowRoot;e&&Ta(e)&&(P.isShadowHost=!0)}if((P.type===Ca.Document||P.type===Ca.Element)&&D){v.headWhitespace&&P.type===Ca.Element&&"head"===P.tagName&&(M=!1);const e={doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:s,unblockSelector:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:c,unmaskTextSelector:p,skipChild:d,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:_,inlineImages:b,recordCanvas:x,preserveWhiteSpace:M,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:S,onStylesheetLoad:C,stylesheetLoadTimeout:E,keepIframeSrcFn:T};for(const n of Array.from(t.childNodes)){const t=ps(n,e);t&&P.childNodes.push(t)}if(function(t){return t.nodeType===t.ELEMENT_NODE}(t)&&t.shadowRoot)for(const n of Array.from(t.shadowRoot.childNodes)){const r=ps(n,e);r&&(Ta(t.shadowRoot)&&(r.isShadow=!0),P.childNodes.push(r))}}return t.parentNode&&Ea(t.parentNode)&&Ta(t.parentNode)&&(P.isShadow=!0),P.type===Ca.Element&&"iframe"===P.tagName&&function(t,e,n){const r=t.contentWindow;if(!r)return;let i,o=!1;try{i=r.document.readyState}catch(t){return}if("complete"!==i){const r=Na(()=>{o||(e(),o=!0)},n);return void t.addEventListener("load",()=>{Fa(r),o=!0,e()})}if("about:blank"!==r.location.href||"about:blank"===t.src||""===t.src)return Na(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}(t,()=>{const e=Ua(t);if(e&&k){const n=ps(e,{doc:e,mirror:r,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:s,maskTextClass:l,unmaskTextClass:u,maskTextSelector:c,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:_,inlineImages:b,recordCanvas:x,preserveWhiteSpace:M,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:S,onStylesheetLoad:C,stylesheetLoadTimeout:E,keepIframeSrcFn:T});n&&k(t,n)}},S),P.type===Ca.Element&&"link"===P.tagName&&"string"==typeof P.attributes.rel&&("stylesheet"===P.attributes.rel||"preload"===P.attributes.rel&&"string"==typeof P.attributes.href&&"css"===Wa(P.attributes.href))&&function(t,e,n){let r,i=!1;try{r=t.sheet}catch(t){return}if(r)return;const o=Na(()=>{i||(e(),i=!0)},n);t.addEventListener("load",()=>{Fa(o),i=!0,e()})}(t,()=>{if(C){const e=ps(t,{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:s,maskTextClass:l,unmaskTextClass:u,maskTextSelector:c,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:_,inlineImages:b,recordCanvas:x,preserveWhiteSpace:M,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:S,onStylesheetLoad:C,stylesheetLoadTimeout:E,keepIframeSrcFn:T});e&&C(t,e)}},E),P}function ds(t){let e=void 0,n=t[0],r=1;for(;r<t.length;){const i=t[r],o=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o((...t)=>n.call(e,...t)),e=void 0)}return n}function hs(t,e,n=document){const r={capture:!0,passive:!0};return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}const fs="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let ms={map:{},getId:()=>(console.error(fs),-1),getNode:()=>(console.error(fs),null),removeNodeFromMap(){console.error(fs)},has:()=>(console.error(fs),!1),reset(){console.error(fs)}};function gs(t,e,n={}){let r=null,i=0;return function(...o){const a=Date.now();i||!1!==n.leading||(i=a);const s=e-(a-i),l=this;s<=0||s>e?(r&&(!function(...t){zs("clearTimeout")(...t)}(r),r=null),i=a,t.apply(l,o)):r||!1===n.trailing||(r=Ls(()=>{i=!1===n.leading?0:Date.now(),r=null,t.apply(l,o)},s))}}function ys(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=i,()=>{t[e]=r}}catch(t){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(ms=new Proxy(ms,{get:(t,e,n)=>("map"===e&&console.error(fs),Reflect.get(t,e,n))}));let vs=Date.now;function _s(t){const e=t.document;return{left:e.scrollingElement?e.scrollingElement.scrollLeft:void 0!==t.pageXOffset?t.pageXOffset:ds([e,"optionalAccess",t=>t.documentElement,"access",t=>t.scrollLeft])||ds([e,"optionalAccess",t=>t.body,"optionalAccess",t=>t.parentElement,"optionalAccess",t=>t.scrollLeft])||ds([e,"optionalAccess",t=>t.body,"optionalAccess",t=>t.scrollLeft])||0,top:e.scrollingElement?e.scrollingElement.scrollTop:void 0!==t.pageYOffset?t.pageYOffset:ds([e,"optionalAccess",t=>t.documentElement,"access",t=>t.scrollTop])||ds([e,"optionalAccess",t=>t.body,"optionalAccess",t=>t.parentElement,"optionalAccess",t=>t.scrollTop])||ds([e,"optionalAccess",t=>t.body,"optionalAccess",t=>t.scrollTop])||0}}function bs(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function xs(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function ws(t){if(!t)return null;return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}function ks(t,e,n,r,i){if(!t)return!1;const o=ws(t);if(!o)return!1;const a=ss(e,n);if(!i){const t=r&&o.matches(r);return a(o)&&!t}const s=as(o,a);let l=-1;return!(s<0)&&(r&&(l=as(o,ss(null,r))),s>-1&&l<0||s<l)}function Ss(t,e){return-2===e.getId(t)}function Cs(t){return Boolean(t.changedTouches)}function Es(t,e){return Boolean("IFRAME"===t.nodeName&&e.getMeta(t))}function Ts(t,e){return Boolean("LINK"===t.nodeName&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&"stylesheet"===t.getAttribute("rel")&&e.getMeta(t))}function Is(t){return Boolean(ds([t,"optionalAccess",t=>t.shadowRoot]))}/[1-9][0-9]{12}/.test(Date.now().toString())||(vs=()=>(new Date).getTime());class Ms{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return e=this.styleIDMap.get(t),n=()=>-1,null!=e?e:n();var e,n}has(t){return this.styleIDMap.has(t)}add(t,e){if(this.has(t))return this.getId(t);let n;return n=void 0===e?this.id++:e,this.styleIDMap.set(t,n),this.idStyleMap.set(n,t),n}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function As(t){let e=null;return ds([t,"access",t=>t.getRootNode,"optionalCall",t=>t(),"optionalAccess",t=>t.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(e=t.getRootNode().host),e}function Os(t){const e=t.ownerDocument;if(!e)return!1;const n=function(t){let e,n=t;for(;e=As(n);)n=e;return n}(t);return e.contains(n)}function Ps(t){const e=t.ownerDocument;return!!e&&(e.contains(t)||Os(t))}const Ds={};function zs(t){const e=Ds[t];if(e)return e;const n=window.document;let r=window[t];if(n&&"function"==typeof n.createElement)try{const e=n.createElement("iframe");e.hidden=!0,n.head.appendChild(e);const i=e.contentWindow;i&&i[t]&&(r=i[t]),n.head.removeChild(e)}catch(t){}return Ds[t]=r.bind(window)}function Ls(...t){return zs("setTimeout")(...t)}var Rs,Ws,Bs=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(Bs||{}),js=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(js||{}),Ns=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(Ns||{}),Fs=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(Fs||{});function Us(t){try{return t.contentDocument}catch(t){}}function Vs(t){let e=void 0,n=t[0],r=1;for(;r<t.length;){const i=t[r],o=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o((...t)=>n.call(e,...t)),e=void 0)}return n}function qs(t){return"__ln"in t}!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(Rs||(Rs={})),function(t){t[t.PLACEHOLDER=0]="PLACEHOLDER",t[t.ELEMENT_NODE=1]="ELEMENT_NODE",t[t.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",t[t.TEXT_NODE=3]="TEXT_NODE",t[t.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",t[t.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",t[t.ENTITY_NODE=6]="ENTITY_NODE",t[t.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",t[t.COMMENT_NODE=8]="COMMENT_NODE",t[t.DOCUMENT_NODE=9]="DOCUMENT_NODE",t[t.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",t[t.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"}(Ws||(Ws={}));class Hs{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let e=this.head;for(let n=0;n<t;n++)e=Vs([e,"optionalAccess",t=>t.next])||null;return e}addNode(t){const e={value:t,previous:null,next:null};if(t.__ln=e,t.previousSibling&&qs(t.previousSibling)){const n=t.previousSibling.__ln.next;e.next=n,e.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=e,n&&(n.previous=e)}else if(t.nextSibling&&qs(t.nextSibling)&&t.nextSibling.__ln.previous){const n=t.nextSibling.__ln.previous;e.previous=n,e.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=e,n&&(n.next=e)}else this.head&&(this.head.previous=e),e.next=this.head,this.head=e;null===e.next&&(this.tail=e),this.length++}removeNode(t){const e=t.__ln;this.head&&(e.previous?(e.previous.next=e.next,e.next?e.next.previous=e.previous:this.tail=e.previous):(this.head=e.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Gs=(t,e)=>`${t}@${e}`;class Zs{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],e=new Set,n=new Hs,r=t=>{let e=t,n=-2;for(;-2===n;)e=e&&e.nextSibling,n=e&&this.mirror.getId(e);return n},i=i=>{if(!i.parentNode||!Ps(i))return;const o=Ea(i.parentNode)?this.mirror.getId(As(i)):this.mirror.getId(i.parentNode),a=r(i);if(-1===o||-1===a)return n.addNode(i);const s=ps(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:t=>{Es(t,this.mirror)&&!ks(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(t),Ts(t,this.mirror)&&this.stylesheetManager.trackLinkElement(t),Is(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc)},onIframeLoad:(t,e)=>{ks(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(t,e),t.contentWindow&&this.canvasManager.addWindow(t.contentWindow),this.shadowDomManager.observeAttachShadow(t))},onStylesheetLoad:(t,e)=>{this.stylesheetManager.attachLinkElement(t,e)}});s&&(t.push({parentId:o,nextId:a,node:s}),e.add(s.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const t of this.movedSet)Qs(this.removes,t,this.mirror)&&!this.movedSet.has(t.parentNode)||i(t);for(const t of this.addedSet)Xs(this.droppedSet,t)||Qs(this.removes,t,this.mirror)?Xs(this.movedSet,t)?i(t):this.droppedSet.add(t):i(t);let o=null;for(;n.length;){let t=null;if(o){const e=this.mirror.getId(o.value.parentNode),n=r(o.value);-1!==e&&-1!==n&&(t=o)}if(!t){let e=n.tail;for(;e;){const n=e;if(e=e.previous,n){const e=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==e){t=n;break}{const e=n.value;if(e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=e.parentNode.host;if(-1!==this.mirror.getId(r)){t=n;break}}}}}}if(!t){for(;n.head;)n.removeNode(n.head.value);break}o=t.previous,n.removeNode(t.value),i(t.value)}const a={texts:this.texts.map(t=>({id:this.mirror.getId(t.node),value:t.value})).filter(t=>!e.has(t.id)).filter(t=>this.mirror.has(t.id)),attributes:this.attributes.map(t=>{const{attributes:e}=t;if("string"==typeof e.style){const n=JSON.stringify(t.styleDiff),r=JSON.stringify(t._unchangedStyles);n.length<e.style.length&&(n+r).split("var(").length===e.style.split("var(").length&&(e.style=t.styleDiff)}return{id:this.mirror.getId(t.node),attributes:e}}).filter(t=>!e.has(t.id)).filter(t=>this.mirror.has(t.id)),removes:this.removes,adds:t};(a.texts.length||a.attributes.length||a.removes.length||a.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Ss(t.target,this.mirror))switch(t.type){case"characterData":{const e=t.target.textContent;ks(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||e===t.oldValue||this.texts.push({value:ls(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&e?this.maskTextFn?this.maskTextFn(e,ws(t.target)):e.replace(/[\S]/g,"*"):e,node:t.target});break}case"attributes":{const e=t.target;let n=t.attributeName,r=t.target.getAttribute(n);if("value"===n){const n=La(e),i=e.tagName;r=Ra(e,i,n);const o=Oa({maskInputOptions:this.maskInputOptions,tagName:i,type:n});r=Pa({isMasked:ls(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,o),element:e,value:r,maskInputFn:this.maskInputFn})}if(ks(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===t.oldValue)return;let i=this.attributeMap.get(t.target);if("IFRAME"===e.tagName&&"src"===n&&!this.keepIframeSrcFn(r)){if(Us(e))return;n="rr_src"}if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),"type"===n&&"INPUT"===e.tagName&&"password"===(t.oldValue||"").toLowerCase()&&e.setAttribute("data-rr-is-password","true"),!os(e.tagName,n)&&(i.attributes[n]=is(this.doc,Da(e.tagName),Da(n),r,e,this.maskAttributeFn),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(t){this.unattachedDoc=this.doc}const n=this.unattachedDoc.createElement("span");t.oldValue&&n.setAttribute("style",t.oldValue);for(const t of Array.from(e.style)){const r=e.style.getPropertyValue(t),o=e.style.getPropertyPriority(t);r!==n.style.getPropertyValue(t)||o!==n.style.getPropertyPriority(t)?i.styleDiff[t]=""===o?r:[r,o]:i._unchangedStyles[t]=[r,o]}for(const t of Array.from(n.style))""===e.style.getPropertyValue(t)&&(i.styleDiff[t]=!1)}break}case"childList":if(ks(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(e=>this.genAdds(e,t.target)),t.removedNodes.forEach(e=>{const n=this.mirror.getId(e),r=Ea(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ks(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Ss(e,this.mirror)||!function(t,e){return-1!==e.getId(t)}(e,this.mirror)||(this.addedSet.has(e)?(Ks(this.addedSet,e),this.droppedSet.add(e)):this.addedSet.has(t.target)&&-1===n||function t(e,n){if(Ea(e))return!1;const r=n.getId(e);return!n.has(r)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||t(e.parentNode,n))}(t.target,this.mirror)||(this.movedSet.has(e)&&this.movedMap[Gs(n,r)]?Ks(this.movedSet,e):this.removes.push({parentId:r,id:n,isShadow:!(!Ea(t.target)||!Ta(t.target))||void 0})),this.mapRemoves.push(e))})}},this.genAdds=(t,e)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!this.addedSet.has(t)&&!this.movedSet.has(t)){if(this.mirror.hasNode(t)){if(Ss(t,this.mirror))return;this.movedSet.add(t);let n=null;e&&this.mirror.hasNode(e)&&(n=this.mirror.getId(e)),n&&-1!==n&&(this.movedMap[Gs(this.mirror.getId(t),n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ks(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(t=>this.genAdds(t)),Is(t)&&t.shadowRoot.childNodes.forEach(e=>{this.processedNodeManager.add(e,this),this.genAdds(e,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(e=>{this[e]=t[e]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Ks(t,e){t.delete(e),e.childNodes.forEach(e=>Ks(t,e))}function Qs(t,e,n){return 0!==t.length&&function(t,e,n){let r=e.parentNode;for(;r;){const e=n.getId(r);if(t.some(t=>t.id===e))return!0;r=r.parentNode}return!1}(t,e,n)}function Xs(t,e){return 0!==t.size&&function t(e,n){const{parentNode:r}=n;if(!r)return!1;if(e.has(r))return!0;return t(e,r)}(t,e)}let Ys;const Js=t=>{if(!Ys)return t;return(...e)=>{try{return t(...e)}catch(t){if(Ys&&!0===Ys(t))return()=>{};throw t}}};function $s(t){let e=void 0,n=t[0],r=1;for(;r<t.length;){const i=t[r],o=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o((...t)=>n.call(e,...t)),e=void 0)}return n}const tl=[];function el(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch(t){}return t&&t.target}function nl(t,e){const n=new Zs;tl.push(n),n.init(t);let r=window.MutationObserver||window.__rrMutationObserver;const i=$s([window,"optionalAccess",t=>t.Zone,"optionalAccess",t=>t.__symbol__,"optionalCall",t=>t("MutationObserver")]);i&&window[i]&&(r=window[i]);const o=new r(Js(e=>{t.onMutation&&!1===t.onMutation(e)||n.processMutations.bind(n)(e)}));return o.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function rl({mouseInteractionCb:t,doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:a}){if(!1===a.mouseInteraction)return()=>{};const s=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,l=[];let u=null;return Object.keys(Ns).filter(t=>Number.isNaN(Number(t))&&!t.endsWith("_Departed")&&!1!==s[t]).forEach(a=>{let s=Da(a);const c=(e=>a=>{const s=el(a);if(ks(s,r,i,o,!0))return;let l=null,c=e;if("pointerType"in a){switch(a.pointerType){case"mouse":l=Fs.Mouse;break;case"touch":l=Fs.Touch;break;case"pen":l=Fs.Pen}l===Fs.Touch?Ns[e]===Ns.MouseDown?c="TouchStart":Ns[e]===Ns.MouseUp&&(c="TouchEnd"):Fs.Pen}else Cs(a)&&(l=Fs.Touch);null!==l?(u=l,(c.startsWith("Touch")&&l===Fs.Touch||c.startsWith("Mouse")&&l===Fs.Mouse)&&(l=null)):Ns[e]===Ns.Click&&(l=u,u=null);const p=Cs(a)?a.changedTouches[0]:a;if(!p)return;const d=n.getId(s),{clientX:h,clientY:f}=p;Js(t)({type:Ns[c],id:d,x:h,y:f,...null!==l&&{pointerType:l}})})(a);if(window.PointerEvent)switch(Ns[a]){case Ns.MouseDown:case Ns.MouseUp:s=s.replace("mouse","pointer");break;case Ns.TouchStart:case Ns.TouchEnd:return}l.push(hs(s,c,e))}),Js(()=>{l.forEach(t=>t())})}function il({scrollCb:t,doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:a}){return hs("scroll",Js(gs(Js(a=>{const s=el(a);if(!s||ks(s,r,i,o,!0))return;const l=n.getId(s);if(s===e&&e.defaultView){const n=_s(e.defaultView);t({id:l,x:n.left,y:n.top})}else t({id:l,x:s.scrollLeft,y:s.scrollTop})}),a.scroll||100)),e)}const ol=["INPUT","TEXTAREA","SELECT"],al=new WeakMap;function sl({inputCb:t,doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,ignoreClass:a,ignoreSelector:s,maskInputOptions:l,maskInputFn:u,sampling:c,userTriggeredOnInput:p,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:m}){function g(t){let n=el(t);const c=t.isTrusted,g=n&&za(n.tagName);if("OPTION"===g&&(n=n.parentElement),!n||!g||ol.indexOf(g)<0||ks(n,r,i,o,!0))return;const v=n;if(v.classList.contains(a)||s&&v.matches(s))return;const _=La(n);let b=Ra(v,g,_),x=!1;const w=Oa({maskInputOptions:l,tagName:g,type:_}),k=ls(n,d,f,h,m,w);"radio"!==_&&"checkbox"!==_||(x=n.checked),b=Pa({isMasked:k,element:n,value:b,maskInputFn:u}),y(n,p?{text:b,isChecked:x,userTriggered:c}:{text:b,isChecked:x});const S=n.name;"radio"===_&&S&&x&&e.querySelectorAll(`input[type="radio"][name="${S}"]`).forEach(t=>{if(t!==n){const e=Pa({isMasked:k,element:t,value:Ra(t,g,_),maskInputFn:u});y(t,p?{text:e,isChecked:!x,userTriggered:!1}:{text:e,isChecked:!x})}})}function y(e,r){const i=al.get(e);if(!i||i.text!==r.text||i.isChecked!==r.isChecked){al.set(e,r);const i=n.getId(e);Js(t)({...r,id:i})}}const v=("last"===c.input?["change"]:["input","change"]).map(t=>hs(t,Js(g),e)),_=e.defaultView;if(!_)return()=>{v.forEach(t=>t())};const b=_.Object.getOwnPropertyDescriptor(_.HTMLInputElement.prototype,"value"),x=[[_.HTMLInputElement.prototype,"value"],[_.HTMLInputElement.prototype,"checked"],[_.HTMLSelectElement.prototype,"value"],[_.HTMLTextAreaElement.prototype,"value"],[_.HTMLSelectElement.prototype,"selectedIndex"],[_.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&v.push(...x.map(t=>function t(e,n,r,i,o=window){const a=o.Object.getOwnPropertyDescriptor(e,n);return o.Object.defineProperty(e,n,i?r:{set(t){Ls(()=>{r.set.call(this,t)},0),a&&a.set&&a.set.call(this,t)}}),()=>t(e,n,a||{},!0)}(t[0],t[1],{set(){Js(g)({target:this,isTrusted:!1})}},!1,_))),Js(()=>{v.forEach(t=>t())})}function ll(t){return function(t,e){if(dl("CSSGroupingRule")&&t.parentRule instanceof CSSGroupingRule||dl("CSSMediaRule")&&t.parentRule instanceof CSSMediaRule||dl("CSSSupportsRule")&&t.parentRule instanceof CSSSupportsRule||dl("CSSConditionRule")&&t.parentRule instanceof CSSConditionRule){const n=Array.from(t.parentRule.cssRules).indexOf(t);e.unshift(n)}else if(t.parentStyleSheet){const n=Array.from(t.parentStyleSheet.cssRules).indexOf(t);e.unshift(n)}return e}(t,[])}function ul(t,e,n){let r,i;return t?(t.ownerNode?r=e.getId(t.ownerNode):i=n.getId(t),{styleId:i,id:r}):{}}function cl({mirror:t,stylesheetManager:e},n){let r=null;r="#document"===n.nodeName?t.getId(n):t.getId(n.host);const i="#document"===n.nodeName?$s([n,"access",t=>t.defaultView,"optionalAccess",t=>t.Document]):$s([n,"access",t=>t.ownerDocument,"optionalAccess",t=>t.defaultView,"optionalAccess",t=>t.ShadowRoot]),o=$s([i,"optionalAccess",t=>t.prototype])?Object.getOwnPropertyDescriptor($s([i,"optionalAccess",t=>t.prototype]),"adoptedStyleSheets"):void 0;return null!==r&&-1!==r&&i&&o?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return $s([o,"access",t=>t.get,"optionalAccess",t=>t.call,"call",t=>t(this)])},set(t){const n=$s([o,"access",t=>t.set,"optionalAccess",t=>t.call,"call",e=>e(this,t)]);if(null!==r&&-1!==r)try{e.adoptStyleSheets(t,r)}catch(t){}return n}}),Js(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})})):()=>{}}function pl(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};let r;t.recordDOM&&(r=nl(t,t.doc));const i=function({mousemoveCb:t,sampling:e,doc:n,mirror:r}){if(!1===e.mousemove)return()=>{};const i="number"==typeof e.mousemove?e.mousemove:50,o="number"==typeof e.mousemoveCallback?e.mousemoveCallback:500;let a,s=[];const l=gs(Js(e=>{const n=Date.now()-a;t(s.map(t=>(t.timeOffset-=n,t)),e),s=[],a=null}),o),u=Js(gs(Js(t=>{const e=el(t),{clientX:n,clientY:i}=Cs(t)?t.changedTouches[0]:t;a||(a=vs()),s.push({x:n,y:i,id:r.getId(e),timeOffset:vs()-a}),l("undefined"!=typeof DragEvent&&t instanceof DragEvent?js.Drag:t instanceof MouseEvent?js.MouseMove:js.TouchMove)}),i,{trailing:!1})),c=[hs("mousemove",u,n),hs("touchmove",u,n),hs("drag",u,n)];return Js(()=>{c.forEach(t=>t())})}(t),o=rl(t),a=il(t),s=function({viewportResizeCb:t},{win:e}){let n=-1,r=-1;return hs("resize",Js(gs(Js(()=>{const e=bs(),i=xs();n===e&&r===i||(t({width:Number(i),height:Number(e)}),n=e,r=i)}),200)),e)}(t,{win:n}),l=sl(t),u=function({mediaInteractionCb:t,blockClass:e,blockSelector:n,unblockSelector:r,mirror:i,sampling:o,doc:a}){const s=Js(a=>gs(Js(o=>{const s=el(o);if(!s||ks(s,e,n,r,!0))return;const{currentTime:l,volume:u,muted:c,playbackRate:p}=s;t({type:a,id:i.getId(s),currentTime:l,volume:u,muted:c,playbackRate:p})}),o.media||500)),l=[hs("play",s(0),a),hs("pause",s(1),a),hs("seeked",s(2),a),hs("volumechange",s(3),a),hs("ratechange",s(4),a)];return Js(()=>{l.forEach(t=>t())})}(t);let c=()=>{},p=()=>{},d=()=>{},h=()=>{};t.recordDOM&&(c=function({styleSheetRuleCb:t,mirror:e,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:Js((r,i,o)=>{const[a,s]=o,{id:l,styleId:u}=ul(i,e,n.styleMirror);return(l&&-1!==l||u&&-1!==u)&&t({id:l,styleId:u,adds:[{rule:a,index:s}]}),r.apply(i,o)})});const o=r.CSSStyleSheet.prototype.deleteRule;let a,s;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:Js((r,i,o)=>{const[a]=o,{id:s,styleId:l}=ul(i,e,n.styleMirror);return(s&&-1!==s||l&&-1!==l)&&t({id:s,styleId:l,removes:[{index:a}]}),r.apply(i,o)})}),r.CSSStyleSheet.prototype.replace&&(a=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(a,{apply:Js((r,i,o)=>{const[a]=o,{id:s,styleId:l}=ul(i,e,n.styleMirror);return(s&&-1!==s||l&&-1!==l)&&t({id:s,styleId:l,replace:a}),r.apply(i,o)})})),r.CSSStyleSheet.prototype.replaceSync&&(s=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(s,{apply:Js((r,i,o)=>{const[a]=o,{id:s,styleId:l}=ul(i,e,n.styleMirror);return(s&&-1!==s||l&&-1!==l)&&t({id:s,styleId:l,replaceSync:a}),r.apply(i,o)})}));const l={};hl("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(hl("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),hl("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),hl("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(l).forEach(([r,i])=>{u[r]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(u[r].insertRule,{apply:Js((r,i,o)=>{const[a,s]=o,{id:l,styleId:u}=ul(i.parentStyleSheet,e,n.styleMirror);return(l&&-1!==l||u&&-1!==u)&&t({id:l,styleId:u,adds:[{rule:a,index:[...ll(i),s||0]}]}),r.apply(i,o)})}),i.prototype.deleteRule=new Proxy(u[r].deleteRule,{apply:Js((r,i,o)=>{const[a]=o,{id:s,styleId:l}=ul(i.parentStyleSheet,e,n.styleMirror);return(s&&-1!==s||l&&-1!==l)&&t({id:s,styleId:l,removes:[{index:[...ll(i),a]}]}),r.apply(i,o)})})}),Js(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=o,a&&(r.CSSStyleSheet.prototype.replace=a),s&&(r.CSSStyleSheet.prototype.replaceSync=s),Object.entries(l).forEach(([t,e])=>{e.prototype.insertRule=u[t].insertRule,e.prototype.deleteRule=u[t].deleteRule})})}(t,{win:n}),p=cl(t,t.doc),d=function({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const o=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:Js((i,a,s)=>{const[l,u,c]=s;if(n.has(l))return o.apply(a,[l,u,c]);const{id:p,styleId:d}=ul($s([a,"access",t=>t.parentRule,"optionalAccess",t=>t.parentStyleSheet]),e,r.styleMirror);return(p&&-1!==p||d&&-1!==d)&&t({id:p,styleId:d,set:{property:l,value:u,priority:c},index:ll(a.parentRule)}),i.apply(a,s)})});const a=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:Js((i,o,s)=>{const[l]=s;if(n.has(l))return a.apply(o,[l]);const{id:u,styleId:c}=ul($s([o,"access",t=>t.parentRule,"optionalAccess",t=>t.parentStyleSheet]),e,r.styleMirror);return(u&&-1!==u||c&&-1!==c)&&t({id:u,styleId:c,remove:{property:l},index:ll(o.parentRule)}),i.apply(o,s)})}),Js(()=>{i.CSSStyleDeclaration.prototype.setProperty=o,i.CSSStyleDeclaration.prototype.removeProperty=a})}(t,{win:n}),t.collectFonts&&(h=function({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,o=n.FontFace;n.FontFace=function(t,e,n){const r=new o(t,e,n);return i.set(r,{family:t,buffer:"string"!=typeof e,descriptors:n,fontSource:"string"==typeof e?e:JSON.stringify(Array.from(new Uint8Array(e)))}),r};const a=ys(e.fonts,"add",(function(e){return function(n){return Ls(Js(()=>{const e=i.get(n);e&&(t(e),i.delete(n))}),0),e.apply(this,[n])}}));return r.push(()=>{n.FontFace=o}),r.push(a),Js(()=>{r.forEach(t=>t())})}(t)));const f=function(t){const{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,selectionCb:a}=t;let s=!0;const l=Js(()=>{const t=e.getSelection();if(!t||s&&$s([t,"optionalAccess",t=>t.isCollapsed]))return;s=t.isCollapsed||!1;const l=[],u=t.rangeCount||0;for(let e=0;e<u;e++){const a=t.getRangeAt(e),{startContainer:s,startOffset:u,endContainer:c,endOffset:p}=a;ks(s,r,i,o,!0)||ks(c,r,i,o,!0)||l.push({start:n.getId(s),startOffset:u,end:n.getId(c),endOffset:p})}a({ranges:l})});return l(),hs("selectionchange",l)}(t),m=function({doc:t,customElementCb:e}){const n=t.defaultView;return n&&n.customElements?ys(n.customElements,"define",(function(t){return function(n,r,i){try{e({define:{name:n}})}catch(t){}return t.apply(this,[n,r,i])}})):()=>{}}(t),g=[];for(const e of t.plugins)g.push(e.observer(e.callback,n,e.options));return Js(()=>{tl.forEach(t=>t.reset()),$s([r,"optionalAccess",t=>t.disconnect,"call",t=>t()]),i(),o(),a(),s(),l(),u(),c(),p(),d(),h(),f(),m(),g.forEach(t=>t())})}function dl(t){return void 0!==window[t]}function hl(t){return Boolean(void 0!==window[t]&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class fl{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,e,n,r){const i=n||this.getIdToRemoteIdMap(t),o=r||this.getRemoteIdToIdMap(t);let a=i.get(e);return a||(a=this.generateIdFn(),i.set(e,a),o.set(a,e)),a}getIds(t,e){const n=this.getIdToRemoteIdMap(t),r=this.getRemoteIdToIdMap(t);return e.map(e=>this.getId(t,e,n,r))}getRemoteId(t,e,n){const r=n||this.getRemoteIdToIdMap(t);if("number"!=typeof e)return e;const i=r.get(e);return i||-1}getRemoteIds(t,e){const n=this.getRemoteIdToIdMap(t);return e.map(e=>this.getRemoteId(t,e,n))}reset(t){if(!t)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let e=this.iframeIdToRemoteIdMap.get(t);return e||(e=new Map,this.iframeIdToRemoteIdMap.set(t,e)),e}getRemoteIdToIdMap(t){let e=this.iframeRemoteIdToIdMap.get(t);return e||(e=new Map,this.iframeRemoteIdToIdMap.set(t,e)),e}}function ml(t){let e=void 0,n=t[0],r=1;for(;r<t.length;){const i=t[r],o=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o((...t)=>n.call(e,...t)),e=void 0)}return n}class gl{constructor(){this.crossOriginIframeMirror=new fl(Ha),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class yl{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new fl(Ha),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new fl(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,e){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:e}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),ml([this,"access",t=>t.loadListener,"optionalCall",e=>e(t)]);const n=Us(t);n&&n.adoptedStyleSheets&&n.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(n.adoptedStyleSheets,this.mirror.getId(n))}handleMessage(t){const e=t;if("rrweb"!==e.data.type||e.origin!==e.data.origin)return;if(!t.source)return;const n=this.crossOriginIframeMap.get(t.source);if(!n)return;const r=this.transformCrossOriginEvent(n,e.data.event);r&&this.wrappedEmit(r,e.data.isCheckout)}transformCrossOriginEvent(t,e){switch(e.type){case Bs.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(e.data.node,t);const n=e.data.node.id;return this.crossOriginIframeRootIdMap.set(t,n),this.patchRootIdOnNode(e.data.node,n),{timestamp:e.timestamp,type:Bs.IncrementalSnapshot,data:{source:js.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:e.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Bs.Meta:case Bs.Load:case Bs.DomContentLoaded:return!1;case Bs.Plugin:return e;case Bs.Custom:return this.replaceIds(e.data.payload,t,["id","parentId","previousId","nextId"]),e;case Bs.IncrementalSnapshot:switch(e.data.source){case js.Mutation:return e.data.adds.forEach(e=>{this.replaceIds(e,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(e.node,t);const n=this.crossOriginIframeRootIdMap.get(t);n&&this.patchRootIdOnNode(e.node,n)}),e.data.removes.forEach(e=>{this.replaceIds(e,t,["parentId","id"])}),e.data.attributes.forEach(e=>{this.replaceIds(e,t,["id"])}),e.data.texts.forEach(e=>{this.replaceIds(e,t,["id"])}),e;case js.Drag:case js.TouchMove:case js.MouseMove:return e.data.positions.forEach(e=>{this.replaceIds(e,t,["id"])}),e;case js.ViewportResize:return!1;case js.MediaInteraction:case js.MouseInteraction:case js.Scroll:case js.CanvasMutation:case js.Input:return this.replaceIds(e.data,t,["id"]),e;case js.StyleSheetRule:case js.StyleDeclaration:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleId"]),e;case js.Font:return e;case js.Selection:return e.data.ranges.forEach(e=>{this.replaceIds(e,t,["start","end"])}),e;case js.AdoptedStyleSheet:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleIds"]),ml([e,"access",t=>t.data,"access",t=>t.styles,"optionalAccess",t=>t.forEach,"call",e=>e(e=>{this.replaceStyleIds(e,t,["styleId"])})]),e}}return!1}replace(t,e,n,r){for(const i of r)(Array.isArray(e[i])||"number"==typeof e[i])&&(Array.isArray(e[i])?e[i]=t.getIds(n,e[i]):e[i]=t.getId(n,e[i]));return e}replaceIds(t,e,n){return this.replace(this.crossOriginIframeMirror,t,e,n)}replaceStyleIds(t,e,n){return this.replace(this.crossOriginIframeStyleMirror,t,e,n)}replaceIdOnNode(t,e){this.replaceIds(t,e,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(t=>{this.replaceIdOnNode(t,e)})}patchRootIdOnNode(t,e){t.type===Ca.Document||t.rootId||(t.rootId=e),"childNodes"in t&&t.childNodes.forEach(t=>{this.patchRootIdOnNode(t,e)})}}class vl{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class _l{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,e){if(!Ta(t))return;if(this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const n=nl({...this.bypassOptions,doc:e,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(il({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),Ls(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(cl({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const e=Us(t),n=function(t){try{return t.contentWindow}catch(t){}}(t);e&&n&&this.patchAttachShadow(n.Element,e)}patchAttachShadow(t,e){const n=this;this.restoreHandlers.push(ys(t.prototype,"attachShadow",(function(t){return function(r){const i=t.call(this,r);return this.shadowRoot&&Ps(this)&&n.addShadowRoot(this.shadowRoot,e),i}})))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch(t){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class bl{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class xl{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Ms,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,e){"_cssText"in e.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:e.id,attributes:e.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,e){if(0===t.length)return;const n={id:e,styleIds:[]},r=[];for(const e of t){let t;this.styleMirror.has(e)?t=this.styleMirror.getId(e):(t=this.styleMirror.add(e),r.push({styleId:t,rules:Array.from(e.rules||CSSRule,(t,e)=>({rule:Ma(t),index:e}))})),n.styleIds.push(t)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class wl{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,e){const n=this.nodeMap.get(t);return n&&Array.from(n).some(t=>t!==e)}add(t,e){this.active||(this.active=!0,function(...t){zs("requestAnimationFrame")(...t)}(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(e))}destroy(){}}let kl,Sl;try{if(2!==Array.from([1],t=>2*t)[0]){const t=document.createElement("iframe");document.body.appendChild(t),Array.from=_o([t,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(t)}}catch(t){console.debug("Unable to override Array.from",t)}const Cl=new Aa;function El(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:o=null,unblockSelector:a=null,ignoreClass:s="rr-ignore",ignoreSelector:l=null,maskAllText:u=!1,maskTextClass:c="rr-mask",unmaskTextClass:p=null,maskTextSelector:d=null,unmaskTextSelector:h=null,inlineStylesheet:f=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:y,maskAttributeFn:v,maskInputFn:_,maskTextFn:b,maxCanvasSize:x=null,packFn:w,sampling:k={},dataURLOptions:S={},mousemoveWait:C,recordDOM:E=!0,recordCanvas:T=!1,recordCrossOriginIframes:I=!1,recordAfter:M=("DOMContentLoaded"===t.recordAfter?t.recordAfter:"load"),userTriggeredOnInput:A=!1,collectFonts:O=!1,inlineImages:P=!1,plugins:D,keepIframeSrcFn:z=(()=>!1),ignoreCSSAttributes:L=new Set([]),errorHandler:R,onMutation:W,getCanvasManager:B}=t;Ys=R;const j=!I||window.parent===window;let N=!1;if(!j)try{window.parent.document&&(N=!1)}catch(t){N=!0}if(j&&!e)throw new Error("emit function is required");if(!j&&!N)return()=>{};void 0!==C&&void 0===k.mousemove&&(k.mousemove=C),Cl.reset();const F=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},U=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};let V;!function(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let e=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do{if(this===e)return!0}while(e=e&&e.parentNode);return!1})}();let q=0;const H=t=>{for(const e of D||[])e.eventProcessor&&(t=e.eventProcessor(t));return w&&!N&&(t=w(t)),t};kl=(t,i)=>{const o=t;if(o.timestamp=vs(),!_o([tl,"access",t=>t[0],"optionalAccess",t=>t.isFrozen,"call",t=>t()])||o.type===Bs.FullSnapshot||o.type===Bs.IncrementalSnapshot&&o.data.source===js.Mutation||tl.forEach(t=>t.unfreeze()),j)_o([e,"optionalCall",t=>t(H(o),i)]);else if(N){const t={type:"rrweb",event:H(o),origin:window.location.origin,isCheckout:i};window.parent.postMessage(t,"*")}if(o.type===Bs.FullSnapshot)V=o,q=0;else if(o.type===Bs.IncrementalSnapshot){if(o.data.source===js.Mutation&&o.data.isAttachIframe)return;q++;const t=r&&q>=r,e=n&&V&&o.timestamp-V.timestamp>n;(t||e)&&tt(!0)}};const G=t=>{kl({type:Bs.IncrementalSnapshot,data:{source:js.Mutation,...t}})},Z=t=>kl({type:Bs.IncrementalSnapshot,data:{source:js.Scroll,...t}}),K=t=>kl({type:Bs.IncrementalSnapshot,data:{source:js.CanvasMutation,...t}}),Q=new xl({mutationCb:G,adoptedStyleSheetCb:t=>kl({type:Bs.IncrementalSnapshot,data:{source:js.AdoptedStyleSheet,...t}})}),X="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new gl:new yl({mirror:Cl,mutationCb:G,stylesheetManager:Q,recordCrossOriginIframes:I,wrappedEmit:kl});for(const t of D||[])t.getMirror&&t.getMirror({nodeMirror:Cl,crossOriginIframeMirror:X.crossOriginIframeMirror,crossOriginIframeStyleMirror:X.crossOriginIframeStyleMirror});const Y=new wl,J=function(t,e){try{return t?t(e):new bl}catch(t){return console.warn("Unable to initialize CanvasManager"),new bl}}(B,{mirror:Cl,win:window,mutationCb:t=>kl({type:Bs.IncrementalSnapshot,data:{source:js.CanvasMutation,...t}}),recordCanvas:T,blockClass:i,blockSelector:o,unblockSelector:a,maxCanvasSize:x,sampling:k.canvas,dataURLOptions:S,errorHandler:R}),$="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new vl:new _l({mutationCb:G,scrollCb:Z,bypassOptions:{onMutation:W,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:u,maskTextClass:c,unmaskTextClass:p,maskTextSelector:d,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:F,dataURLOptions:S,maskAttributeFn:v,maskTextFn:b,maskInputFn:_,recordCanvas:T,inlineImages:P,sampling:k,slimDOMOptions:U,iframeManager:X,stylesheetManager:Q,canvasManager:J,keepIframeSrcFn:z,processedNodeManager:Y},mirror:Cl}),tt=(t=!1)=>{if(!E)return;kl({type:Bs.Meta,data:{href:window.location.href,width:xs(),height:bs()}},t),Q.reset(),$.init(),tl.forEach(t=>t.lock());const e=function(t,e){const{mirror:n=new Aa,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:o=null,maskAllText:a=!1,maskTextClass:s="rr-mask",unmaskTextClass:l=null,maskTextSelector:u=null,unmaskTextSelector:c=null,inlineStylesheet:p=!0,inlineImages:d=!1,recordCanvas:h=!1,maskAllInputs:f=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOM:v=!1,dataURLOptions:_,preserveWhiteSpace:b,onSerialize:x,onIframeLoad:w,iframeLoadTimeout:k,onStylesheetLoad:S,stylesheetLoadTimeout:C,keepIframeSrcFn:E=(()=>!1)}=e||{};return ps(t,{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:s,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:c,skipChild:!1,inlineStylesheet:p,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===v,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===v?{}:v,dataURLOptions:_,inlineImages:d,recordCanvas:h,preserveWhiteSpace:b,onSerialize:x,onIframeLoad:w,iframeLoadTimeout:k,onStylesheetLoad:S,stylesheetLoadTimeout:C,keepIframeSrcFn:E,newlyAddedElement:!1})}(document,{mirror:Cl,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:u,maskTextClass:c,unmaskTextClass:p,maskTextSelector:d,unmaskTextSelector:h,inlineStylesheet:f,maskAllInputs:F,maskAttributeFn:v,maskInputFn:_,maskTextFn:b,slimDOM:U,dataURLOptions:S,recordCanvas:T,inlineImages:P,onSerialize:t=>{Es(t,Cl)&&X.addIframe(t),Ts(t,Cl)&&Q.trackLinkElement(t),Is(t)&&$.addShadowRoot(t.shadowRoot,document)},onIframeLoad:(t,e)=>{X.attachIframe(t,e),t.contentWindow&&J.addWindow(t.contentWindow),$.observeAttachShadow(t)},onStylesheetLoad:(t,e)=>{Q.attachLinkElement(t,e)},keepIframeSrcFn:z});if(!e)return console.warn("Failed to snapshot the document");kl({type:Bs.FullSnapshot,data:{node:e,initialOffset:_s(window)}}),tl.forEach(t=>t.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Q.adoptStyleSheets(document.adoptedStyleSheets,Cl.getId(document))};Sl=tt;try{const t=[],e=t=>Js(pl)({onMutation:W,mutationCb:G,mousemoveCb:(t,e)=>kl({type:Bs.IncrementalSnapshot,data:{source:e,positions:t}}),mouseInteractionCb:t=>kl({type:Bs.IncrementalSnapshot,data:{source:js.MouseInteraction,...t}}),scrollCb:Z,viewportResizeCb:t=>kl({type:Bs.IncrementalSnapshot,data:{source:js.ViewportResize,...t}}),inputCb:t=>kl({type:Bs.IncrementalSnapshot,data:{source:js.Input,...t}}),mediaInteractionCb:t=>kl({type:Bs.IncrementalSnapshot,data:{source:js.MediaInteraction,...t}}),styleSheetRuleCb:t=>kl({type:Bs.IncrementalSnapshot,data:{source:js.StyleSheetRule,...t}}),styleDeclarationCb:t=>kl({type:Bs.IncrementalSnapshot,data:{source:js.StyleDeclaration,...t}}),canvasMutationCb:K,fontCb:t=>kl({type:Bs.IncrementalSnapshot,data:{source:js.Font,...t}}),selectionCb:t=>{kl({type:Bs.IncrementalSnapshot,data:{source:js.Selection,...t}})},customElementCb:t=>{kl({type:Bs.IncrementalSnapshot,data:{source:js.CustomElement,...t}})},blockClass:i,ignoreClass:s,ignoreSelector:l,maskAllText:u,maskTextClass:c,unmaskTextClass:p,maskTextSelector:d,unmaskTextSelector:h,maskInputOptions:F,inlineStylesheet:f,sampling:k,recordDOM:E,recordCanvas:T,inlineImages:P,userTriggeredOnInput:A,collectFonts:O,doc:t,maskAttributeFn:v,maskInputFn:_,maskTextFn:b,keepIframeSrcFn:z,blockSelector:o,unblockSelector:a,slimDOMOptions:U,dataURLOptions:S,mirror:Cl,iframeManager:X,stylesheetManager:Q,shadowDomManager:$,processedNodeManager:Y,canvasManager:J,ignoreCSSAttributes:L,plugins:_o([D,"optionalAccess",t=>t.filter,"call",t=>t(t=>t.observer),"optionalAccess",t=>t.map,"call",t=>t(t=>({observer:t.observer,options:t.options,callback:e=>kl({type:Bs.Plugin,data:{plugin:t.name,payload:e}})}))])||[]},{});X.addLoadListener(n=>{try{t.push(e(n.contentDocument))}catch(t){console.warn(t)}});const n=()=>{tt(),t.push(e(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(t.push(hs("DOMContentLoaded",()=>{kl({type:Bs.DomContentLoaded,data:{}}),"DOMContentLoaded"===M&&n()})),t.push(hs("load",()=>{kl({type:Bs.Load,data:{}}),"load"===M&&n()},window))),()=>{t.forEach(t=>t()),Y.destroy(),Sl=void 0,Ys=void 0}}catch(t){console.warn(t)}}El.mirror=Cl,El.takeFullSnapshot=function(t){if(!Sl)throw new Error("please take full snapshot after start recording");Sl(t)};function Tl(t){return t>9999999999?t:1e3*t}function Il(t){return t>9999999999?t/1e3:t}function Ml(t,e){"sentry.transaction"!==e.category&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:Bs.Custom,timestamp:1e3*(e.timestamp||0),data:{tag:"breadcrumb",payload:Object(ot.a)(e,10,1e3)}}),"console"===e.category)))}function Al(t){return t.closest("button,a")||t}function Ol(t){const e=Pl(t);return e&&e instanceof Element?Al(e):e}function Pl(t){return function(t){return"object"==typeof t&&!!t&&"target"in t}(t)?t.target:t}let Dl;function zl(t){return Dl||(Dl=[],Object(l.e)(wa,"open",(function(t){return function(...e){if(Dl)try{Dl.forEach(t=>t())}catch(t){}return t.apply(wa,e)}}))),Dl.push(t),()=>{const e=Dl?Dl.indexOf(t):-1;e>-1&&Dl.splice(e,1)}}const Ll=new Set([js.Mutation,js.StyleSheetRule,js.StyleDeclaration,js.AdoptedStyleSheet,js.CanvasMutation,js.Selection,js.MediaInteraction]);class Rl{constructor(t,e,n=Ml){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=e.timeout/1e3,this._threshold=e.threshold/1e3,this._scrollTimeout=e.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=e.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const t=zl(()=>{this._lastMutation=Bl()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,e){if(function(t,e){if(!Wl.includes(t.tagName))return!0;if("INPUT"===t.tagName&&!["submit","button"].includes(t.getAttribute("type")||""))return!0;if("A"===t.tagName&&(t.hasAttribute("download")||t.hasAttribute("target")&&"_self"!==t.getAttribute("target")))return!0;if(e&&t.matches(e))return!0;return!1}(e,this._ignoreSelector)||!function(t){return!(!t.data||"number"!=typeof t.data.nodeId||!t.timestamp)}(t))return;const n={timestamp:Il(t.timestamp),clickBreadcrumb:t,clickCount:0,node:e};this._clicks.some(t=>t.node===n.node&&Math.abs(t.timestamp-n.timestamp)<1)||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Il(t)}registerScroll(t=Date.now()){this._lastScroll=Il(t)}registerClick(t){const e=Al(t);this._handleMultiClick(e)}_handleMultiClick(t){this._getClicks(t).forEach(t=>{t.clickCount++})}_getClicks(t){return this._clicks.filter(e=>e.node===t)}_checkClicks(){const t=[],e=Bl();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=e&&t.push(n)});for(const e of t){const t=this._clicks.indexOf(e);t>-1&&(this._generateBreadcrumbs(e),this._clicks.splice(t,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const e=this._replay,n=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,r=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!n&&!r,{clickCount:o,clickBreadcrumb:a}=t;if(i){const n=1e3*Math.min(t.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",i={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:wa.location.href,route:e.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:o||1}};this._addBreadcrumbEvent(e,i)}else if(o>1){const t={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:wa.location.href,route:e.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(e,t)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Zr(()=>this._checkClicks(),1e3)}}const Wl=["A","BUTTON","INPUT"];function Bl(){return Date.now()/1e3}function jl(t,e){try{if(!function(t){return 3===t.type}(e))return;const{source:n}=e.data;if(Ll.has(n)&&t.registerMutation(e.timestamp),n===js.Scroll&&t.registerScroll(e.timestamp),function(t){return t.data.source===js.MouseInteraction}(e)){const{type:n,id:r}=e.data,i=El.mirror.getNode(r);i instanceof HTMLElement&&n===Ns.Click&&t.registerClick(i)}}catch(t){}}function Nl(t){return{timestamp:Date.now()/1e3,type:"default",...t}}var Fl;!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(Fl||(Fl={}));const Ul=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Vl(t){const e={};!t["data-sentry-component"]&&t["data-sentry-element"]&&(t["data-sentry-component"]=t["data-sentry-element"]);for(const n in t)if(Ul.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),e[r]=t[n]}return e}const ql=t=>e=>{if(!t.isEnabled())return;const n=function(t){const{target:e,message:n}=function(t){const e="click"===t.name;let n,r=null;try{r=e?Ol(t.event):Pl(t.event),n=Object(Mi.d)(r,{maxStringLength:200})||"<unknown>"}catch(t){n="<unknown>"}return{target:r,message:n}}(t);return Nl({category:"ui."+t.name,...Hl(e,n)})}(e);if(!n)return;const r="click"===e.name,i=r?e.event:void 0;!(r&&t.clickDetector&&i&&i.target)||i.altKey||i.metaKey||i.ctrlKey||i.shiftKey||function(t,e,n){t.handleClick(e,n)}(t.clickDetector,n,Ol(e.event)),Ml(t,n)};function Hl(t,e){const n=El.mirror.getId(t),r=n&&El.mirror.getNode(n),i=r&&El.mirror.getMeta(r),o=i&&function(t){return t.type===Fl.Element}(i)?i:null;return{message:e,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(t=>t.type===Fl.Text&&t.textContent).filter(Boolean).map(t=>t.trim()).join(""),attributes:Vl(o.attributes)}}:{}}}function Gl(t,e){if(!t.isEnabled())return;t.updateUserActivity();const n=function(t){const{metaKey:e,shiftKey:n,ctrlKey:r,altKey:i,key:o,target:a}=t;if(!a||function(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable}(a)||!o)return null;const s=e||r||i,l=1===o.length;if(!s&&l)return null;const u=Object(Mi.d)(a,{maxStringLength:200})||"<unknown>",c=Hl(a,u);return Nl({category:"ui.keyDown",message:u,data:{...c.data,metaKey:e,shiftKey:n,ctrlKey:r,altKey:i,key:o}})}(e);n&&Ml(t,n)}const Zl={resource:function(t){const{entryType:e,initiatorType:n,name:r,responseEnd:i,startTime:o,decodedBodySize:a,encodedBodySize:s,responseStatus:l,transferSize:u}=t;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${e}.${n}`,start:Xl(o),end:Xl(i),name:r,data:{size:u,statusCode:l,decodedBodySize:a,encodedBodySize:s}}},paint:function(t){const{duration:e,entryType:n,name:r,startTime:i}=t,o=Xl(i);return{type:n,name:r,start:o,end:o+e,data:void 0}},navigation:function(t){const{entryType:e,name:n,decodedBodySize:r,duration:i,domComplete:o,encodedBodySize:a,domContentLoadedEventStart:s,domContentLoadedEventEnd:l,domInteractive:u,loadEventStart:c,loadEventEnd:p,redirectCount:d,startTime:h,transferSize:f,type:m}=t;if(0===i)return null;return{type:`${e}.${m}`,start:Xl(h),end:Xl(o),name:n,data:{size:f,decodedBodySize:r,encodedBodySize:a,duration:i,domInteractive:u,domContentLoadedEventStart:s,domContentLoadedEventEnd:l,loadEventStart:c,loadEventEnd:p,domComplete:o,redirectCount:d}}}};function Kl(t,e){return({metric:n})=>{e.replayPerformanceEntries.push(t(n))}}function Ql(t){const e=Zl[t.entryType];return e?e(t):null}function Xl(t){return((h||wa.performance.timeOrigin)+t)/1e3}function Yl(t){const e=t.entries[t.entries.length-1];return nu(t,"largest-contentful-paint",e&&e.element?[e.element]:void 0)}function Jl(t){return void 0!==t.sources}function $l(t){const e=[],n=[];for(const r of t.entries)if(Jl(r)){const t=[];for(const e of r.sources)if(e.node){n.push(e.node);const r=El.mirror.getId(e.node);r&&t.push(r)}e.push({value:r.value,nodeIds:t.length?t:void 0})}return nu(t,"cumulative-layout-shift",n,e)}function tu(t){const e=t.entries[t.entries.length-1];return nu(t,"first-input-delay",e&&e.target?[e.target]:void 0)}function eu(t){const e=t.entries[t.entries.length-1];return nu(t,"interaction-to-next-paint",e&&e.target?[e.target]:void 0)}function nu(t,e,n,r){const i=t.value,o=t.rating,a=Xl(i);return{type:"web-vital",name:e,start:a,end:a,data:{value:i,size:i,rating:o,nodeIds:n?n.map(t=>El.mirror.getId(t)):void 0,attributions:r}}}const ru="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;const iu=["info","warn","error","log"],ou="[Replay] ";function au(t,e="info"){K({category:"console",data:{logger:"replay"},level:e,message:`${ou}${t}`},{level:e})}const su=function(){let t=!1,e=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:n=>{t=n.captureExceptions,e=n.traceInternals}};return ru?(iu.forEach(t=>{n[t]=(...n)=>{S.c[t](ou,...n),e&&au(n.join(""),Pe(t))}}),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),S.c.error(ou,r),t?Ht(r):e&&au(r,"error")},n.infoTick=(...t)=>{S.c.info(ou,...t),e&&setTimeout(()=>au(t[0]),0)}):iu.forEach(t=>{n[t]=()=>{}}),n}();class lu extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class uu{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const e=JSON.stringify(t).length;if(this._totalSize+=e,this._totalSize>2e7)throw new lu;this.events.push(t)}finish(){return new Promise(t=>{const e=this.events;this.clear(),t(JSON.stringify(e))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(t=>t.timestamp).sort()[0];return t?Tl(t):null}}class cu{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((t,e)=>{this._worker.addEventListener("message",({data:n})=>{n.success?t():e()},{once:!0}),this._worker.addEventListener("error",t=>{e(t)},{once:!0})})),this._ensureReadyPromise}destroy(){ru&&su.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,e){const n=this._getAndIncrementId();return new Promise((r,i)=>{const o=({data:e})=>{const a=e;if(a.method===t&&a.id===n){if(this._worker.removeEventListener("message",o),!a.success)return ru&&su.error("Error in compression worker: ",a.response),void i(new Error("Error in compression worker"));r(a.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:n,method:t,arg:e})})}_getAndIncrementId(){return this._id++}}class pu{constructor(t){this._worker=new cu(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const e=Tl(t.timestamp);(!this._earliestTimestamp||e<this._earliestTimestamp)&&(this._earliestTimestamp=e);const n=JSON.stringify(t);return this._totalSize+=n.length,this._totalSize>2e7?Promise.reject(new lu):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{ru&&su.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class du{constructor(t){this._fallback=new uu,this._compression=new pu(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){return void(ru&&su.exception(t,"Failed to load the compression worker, falling back to simple buffer"))}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:e,waitForCheckout:n}=this._fallback,r=[];for(const e of t)r.push(this._compression.addEvent(e));this._compression.hasCheckout=e,this._compression.waitForCheckout=n,this._used=this._compression;try{await Promise.all(r),this._fallback.clear()}catch(t){ru&&su.exception(t,"Failed to add events when switching buffers.")}}}function hu({useCompression:t,workerUrl:e}){if(t&&window.Worker){const t=function(t){try{const e=t||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const t=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(t)}();return""}();if(!e)return;ru&&su.info("Using compression worker"+(t?" from "+t:""));const n=new Worker(e);return new du(n)}catch(t){ru&&su.exception(t,"Failed to create compression worker")}}(e);if(t)return t}return ru&&su.info("Using simple buffer"),new uu}function fu(){try{return"sessionStorage"in wa&&!!wa.sessionStorage}catch(t){return!1}}function mu(t){!function(){if(!fu())return;try{wa.sessionStorage.removeItem("sentryReplaySession")}catch(t){}}(),t.session=void 0}function gu(t){return void 0!==t&&Math.random()<t}function yu(t){const e=Date.now();return{id:t.id||m(),started:t.started||e,lastActivity:t.lastActivity||e,segmentId:t.segmentId||0,sampled:t.sampled,previousSessionId:t.previousSessionId}}function vu(t){if(fu())try{wa.sessionStorage.setItem("sentryReplaySession",JSON.stringify(t))}catch(t){}}function _u({sessionSampleRate:t,allowBuffering:e,stickySession:n=!1},{previousSessionId:r}={}){const i=yu({sampled:function(t,e){return gu(t)?"session":!!e&&"buffer"}(t,e),previousSessionId:r});return n&&vu(i),i}function bu(t,e,n=+new Date){return null===t||void 0===e||e<0||0!==e&&t+e<=n}function xu(t,{maxReplayDuration:e,sessionIdleExpire:n,targetTime:r=Date.now()}){return bu(t.started,e,r)||bu(t.lastActivity,n,r)}function wu(t,{sessionIdleExpire:e,maxReplayDuration:n}){return!!xu(t,{sessionIdleExpire:e,maxReplayDuration:n})&&("buffer"!==t.sampled||0!==t.segmentId)}function ku({sessionIdleExpire:t,maxReplayDuration:e,previousSessionId:n},r){const i=r.stickySession&&function(){if(!fu())return null;try{const t=wa.sessionStorage.getItem("sentryReplaySession");if(!t)return null;const e=JSON.parse(t);return ru&&su.infoTick("Loading existing session"),yu(e)}catch(t){return null}}();return i?wu(i,{sessionIdleExpire:t,maxReplayDuration:e})?(ru&&su.infoTick("Session in sessionStorage is expired, creating new one..."),_u(r,{previousSessionId:i.id})):i:(ru&&su.infoTick("Creating new session"),_u(r,{previousSessionId:n}))}function Su(t,e,n){return!!Eu(t,e)&&(Cu(t,e,n),!0)}async function Cu(t,e,n){const{eventBuffer:r}=t;if(!r||r.waitForCheckout&&!n)return null;const i="buffer"===t.recordingMode;try{n&&i&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=function(t,e){try{if("function"==typeof e&&function(t){return t.type===Bs.Custom}(t))return e(t)}catch(t){return ru&&su.exception(t,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return t}(e,t.getOptions().beforeAddRecordingEvent);if(!o)return;return await r.addEvent(o)}catch(e){const n=e&&e instanceof lu,o=n?"addEventSizeExceeded":"addEvent";if(n&&i)return r.clear(),r.waitForCheckout=!0,null;t.handleException(e),await t.stop({reason:o});const a=H();a&&a.recordDroppedEvent("internal_sdk_error","replay")}}function Eu(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const n=Tl(e.timestamp);return!(n+t.timeouts.sessionIdlePause<Date.now())&&(!(n>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration)||(ru&&su.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1))}function Tu(t){return!t.type}function Iu(t){return"transaction"===t.type}function Mu(t){return"feedback"===t.type}function Au(t){return(e,n)=>{if(!t.isEnabled()||!Tu(e)&&!Iu(e))return;const r=n&&n.statusCode;!r||r<200||r>=300||(Iu(e)?function(t,e){const n=t.getContext();e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(e.contexts.trace.trace_id)}(t,e):function(t,e){const n=t.getContext();e.event_id&&n.errorIds.size<100&&n.errorIds.add(e.event_id);if("buffer"!==t.recordingMode||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:r}=t.getOptions();if("function"==typeof r&&!r(e))return;Zr(async()=>{try{await t.sendBufferedReplayOrFlush()}catch(e){t.handleException(e)}})}(t,e))}}function Ou(t){return e=>{t.isEnabled()&&Tu(e)&&function(t,e){const n=e.exception&&e.exception.values&&e.exception.values[0]&&e.exception.values[0].value;if("string"!=typeof n)return;if(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){const e=Nl({category:"replay.hydrate-error",data:{url:Object(Mi.c)()}});Ml(t,e)}}(t,e)}}function Pu(t){const e=H();e&&e.on("beforeAddBreadcrumb",e=>function(t,e){if(!t.isEnabled()||!Du(e))return;const n=function(t){if(!Du(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))return null;if("console"===t.category)return function(t){const e=t.data&&t.data.arguments;if(!Array.isArray(e)||0===e.length)return Nl(t);let n=!1;const r=e.map(t=>{if(!t)return t;if("string"==typeof t)return t.length>5e3?(n=!0,t.slice(0,5e3)+"…"):t;if("object"==typeof t)try{const e=Object(ot.a)(t,7);return JSON.stringify(e).length>5e3?(n=!0,JSON.stringify(e,null,2).slice(0,5e3)+"…"):e}catch(t){}return t});return Nl({...t,data:{...t.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(t);return Nl(t)}(e);n&&Ml(t,n)}(t,e))}function Du(t){return!!t.category}function zu(){const t=N().getPropagationContext().dsc;t&&delete t.replay_id;const e=At();if(e){delete Wt(e).replay_id}}function Lu(t){return Object.assign((e,n)=>{if(!t.isEnabled()||t.isPaused())return e;if(function(t){return"replay_event"===t.type}(e))return delete e.breadcrumbs,e;if(!Tu(e)&&!Iu(e)&&!Mu(e))return e;if(!t.checkAndHandleExpiredSession())return zu(),e;if(Mu(e))return t.flush(),e.contexts.feedback.replay_id=t.getSessionId(),function(t,e){t.triggerUserActivity(),t.addUpdate(()=>!e.timestamp||(t.throttledAddEvent({type:Bs.Custom,timestamp:1e3*e.timestamp,data:{tag:"breadcrumb",payload:{timestamp:e.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1))}(t,e),e;if(function(t,e){return!(t.type||!t.exception||!t.exception.values||!t.exception.values.length)&&!(!e.originalException||!e.originalException.__rrweb__)}(e,n)&&!t.getOptions()._experiments.captureExceptions)return ru&&su.log("Ignoring error from rrweb internals",e),null;return(function(t,e){return"buffer"===t.recordingMode&&("Unable to send Replay"!==e.message&&(!(!e.exception||e.type)&&gu(t.getOptions().errorSampleRate)))}(t,e)||"session"===t.recordingMode)&&(e.tags={...e.tags,replayId:t.getSessionId()}),e},{id:"Replay"})}function Ru(t,e){return e.map(({type:e,start:n,end:r,name:i,data:o})=>{const a=t.throttledAddEvent({type:Bs.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:e,description:i,startTimestamp:n,endTimestamp:r,data:o}}});return"string"==typeof a?Promise.resolve(null):a})}function Wu(t){return e=>{if(!t.isEnabled())return;const n=function(t){const{from:e,to:n}=t,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:e}}}(e);null!==n&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate(()=>(Ru(t,[n]),!1)))}}function Bu(t,e){t.isEnabled()&&null!==e&&(function(t,e){return(!ru||!t.getOptions()._experiments.traceInternals)&&so(e,H())}(t,e.name)||t.addUpdate(()=>(Ru(t,[e]),!0)))}function ju(t){if(!t)return;const e=new TextEncoder;try{if("string"==typeof t)return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const n=Zu(t);return e.encode(n).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch(t){}}function Nu(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function Fu(t){try{if("string"==typeof t)return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[Zu(t)];if(!t)return[void 0]}catch(e){return ru&&su.exception(e,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return ru&&su.info("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Uu(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const n={...t._meta},r=n.warnings||[];return n.warnings=[...r,e],t._meta=n,t}function Vu(t,e){if(!e)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:o,statusCode:a,request:s,response:u}=e;return{type:t,start:n/1e3,end:r/1e3,name:i,data:Object(l.c)({method:o,statusCode:a,request:s,response:u})}}function qu(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function Hu(t,e,n){if(!e&&0===Object.keys(t).length)return;if(!e)return{headers:t};if(!n)return{headers:t,size:e};const r={headers:t,size:e},{body:i,warnings:o}=function(t){if(!t||"string"!=typeof t)return{body:t};const e=t.length>15e4,n=function(t){const e=t[0],n=t[t.length-1];return"["===e&&"]"===n||"{"===e&&"}"===n}(t);if(e){const e=t.slice(0,15e4);return n?{body:e,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:e+"…",warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(t)}}catch(t){}return{body:t}}(n);return r.body=i,o&&o.length>0&&(r._meta={warnings:o}),r}function Gu(t,e){return Object.entries(t).reduce((n,[r,i])=>{const o=r.toLowerCase();return e.includes(o)&&t[r]&&(n[o]=i),n},{})}function Zu(t){return new URLSearchParams(t).toString()}function Ku(t,e){const n=function(t,e=wa.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(wa.location.origin))return t;const n=new URL(t,e);if(n.origin!==new URL(e).origin)return t;const r=n.href;if(!t.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(t);return Object(f.c)(n,e)}async function Qu(t,e,n){try{const r=Vu("resource.fetch",await async function(t,e,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r}=e,{url:a,method:s,status_code:l=0,request_body_size:u,response_body_size:c}=t.data,p=Ku(a,n.networkDetailAllowUrls)&&!Ku(a,n.networkDetailDenyUrls),d=p?function({networkCaptureBodies:t,networkRequestHeaders:e},n,r){const i=n?function(t,e){if(1===t.length&&"string"!=typeof t[0])return Ju(t[0],e);if(2===t.length)return Ju(t[1],e);return{}}(n,e):{};if(!t)return Hu(i,r,void 0);const o=Xu(n),[a,s]=Fu(o),l=Hu(i,r,a);if(s)return Uu(l,s);return l}(n,e.input,u):qu(u),h=await async function(t,{networkCaptureBodies:e,networkResponseHeaders:n},r,i){if(!t&&void 0!==i)return qu(i);const o=r?Yu(r.headers,n):{};if(!r||!e&&void 0!==i)return Hu(o,i,void 0);const[a,s]=await async function(t){const e=function(t){try{return t.clone()}catch(t){ru&&su.exception(t,"Failed to clone response body")}}(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{return[await function(t){return new Promise((e,n)=>{const r=Zr(()=>n(new Error("Timeout while trying to read response body")),500);(async function(t){return await t.text()})(t).then(t=>e(t),t=>n(t)).finally(()=>clearTimeout(r))})}(e)]}catch(t){return t instanceof Error&&t.message.indexOf("Timeout")>-1?(ru&&su.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(ru&&su.exception(t,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}(r),l=function(t,{networkCaptureBodies:e,responseBodySize:n,captureDetails:r,headers:i}){try{const o=t&&t.length&&void 0===n?ju(t):n;return r?Hu(i,o,e?t:void 0):qu(o)}catch(t){return ru&&su.exception(t,"Failed to serialize response body"),Hu(i,n,void 0)}}(a,{networkCaptureBodies:e,responseBodySize:i,captureDetails:t,headers:o});if(s)return Uu(l,s);return l}(p,n,e.response,c);return{startTimestamp:i,endTimestamp:o,url:a,method:s,statusCode:l,request:d,response:h}}(t,e,n));Bu(n.replay,r)}catch(t){ru&&su.exception(t,"Failed to capture fetch breadcrumb")}}function Xu(t=[]){if(2===t.length&&"object"==typeof t[1])return t[1].body}function Yu(t,e){const n={};return e.forEach(e=>{t.get(e)&&(n[e]=t.get(e))}),n}function Ju(t,e){if(!t)return{};const n=t.headers;return n?n instanceof Headers?Yu(n,e):Array.isArray(n)?{}:Gu(n,e):{}}async function $u(t,e,n){try{const r=Vu("resource.xhr",function(t,e,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r,input:a,xhr:s}=e,{url:l,method:u,status_code:c=0,request_body_size:p,response_body_size:d}=t.data;if(!l)return null;if(!s||!Ku(l,n.networkDetailAllowUrls)||Ku(l,n.networkDetailDenyUrls)){const t=qu(p),e=qu(d);return{startTimestamp:i,endTimestamp:o,url:l,method:u,statusCode:c,request:t,response:e}}const h=s.__sentry_xhr_v3__,f=h?Gu(h.request_headers,n.networkRequestHeaders):{},m=Gu(function(t){const e=t.getAllResponseHeaders();if(!e)return{};return e.split("\r\n").reduce((t,e)=>{const[n,r]=e.split(": ");return r&&(t[n.toLowerCase()]=r),t},{})}(s),n.networkResponseHeaders),[g,y]=n.networkCaptureBodies?Fu(a):[void 0],[v,_]=n.networkCaptureBodies?function(t){const e=[];try{return[t.responseText]}catch(t){e.push(t)}try{return function(t,e){try{if("string"==typeof t)return[t];if(t instanceof Document)return[t.body.outerHTML];if("json"===e&&t&&"object"==typeof t)return[JSON.stringify(t)];if(!t)return[void 0]}catch(e){return ru&&su.exception(e,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return ru&&su.info("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}(t.response,t.responseType)}catch(t){e.push(t)}return ru&&su.warn("Failed to get xhr response body",...e),[void 0]}(s):[void 0],b=Hu(f,p,g),x=Hu(m,d,v);return{startTimestamp:i,endTimestamp:o,url:l,method:u,statusCode:c,request:y?Uu(b,y):b,response:_?Uu(x,_):x}}(t,e,n));Bu(n.replay,r)}catch(t){ru&&su.exception(t,"Failed to capture xhr breadcrumb")}}function tc(t,e){const{xhr:n,input:r}=e;if(!n)return;const i=ju(r),o=n.getResponseHeader("content-length")?Nu(n.getResponseHeader("content-length")):function(t,e){try{return ju("json"===e&&t&&"object"==typeof t?JSON.stringify(t):t)}catch(t){return}}(n.response,n.responseType);void 0!==i&&(t.data.request_body_size=i),void 0!==o&&(t.data.response_body_size=o)}function ec(t){const e=H();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a}=t.getOptions(),s={replay:t,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a};e&&e.on("beforeAddBreadcrumb",(t,e)=>function(t,e,n){if(!e.data)return;try{(function(t){return"xhr"===t.category})(e)&&function(t){return t&&t.xhr}(n)&&(tc(e,n),$u(e,n,t)),function(t){return"fetch"===t.category}(e)&&function(t){return t&&t.response}(n)&&(!function(t,e){const{input:n,response:r}=e,i=ju(n?Xu(n):void 0),o=r?Nu(r.headers.get("content-length")):void 0;void 0!==i&&(t.data.request_body_size=i),void 0!==o&&(t.data.response_body_size=o)}(e,n),Qu(e,n,t))}catch(t){ru&&su.exception(t,"Error when enriching network breadcrumb")}}(s,t,e))}catch(t){}}function nc(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}=t,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}}}}const rc=u.a.navigator;function ic(t){let e=!1;return(n,r)=>{if(!t.checkAndHandleExpiredSession())return void(ru&&su.warn("Received replay event after session expired."));const i=r||!e;e=!0,t.clickDetector&&jl(t.clickDetector,n),t.addUpdate(()=>{if("buffer"===t.recordingMode&&i&&t.setInitialState(),!Su(t,n,i))return!0;if(!i)return!1;const e=t.session;if(function(t,e){if(!e||!t.session||0!==t.session.segmentId)return;Su(t,function(t){const e=t.getOptions();return{type:Bs.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:!!t.eventBuffer&&"worker"===t.eventBuffer.type,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}(t),!1)}(t,i),"buffer"===t.recordingMode&&e&&t.eventBuffer){const n=t.eventBuffer.getEarliestTimestamp();n&&(ru&&su.info("Updating session start time to earliest event in buffer to "+new Date(n)),e.started=n,t.getOptions().stickySession&&vu(e))}return e&&e.previousSessionId||"session"===t.recordingMode&&t.flush(),!0})}}async function oc({recordingData:t,replayId:e,segmentId:n,eventContext:r,timestamp:i,session:o}){const a=function({recordingData:t,headers:e}){let n;const r=JSON.stringify(e)+"\n";if("string"==typeof t)n=`${r}${t}`;else{const e=(new TextEncoder).encode(r);n=new Uint8Array(e.length+t.length),n.set(e),n.set(t,e.length)}return n}({recordingData:t,headers:{segment_id:n}}),{urls:s,errorIds:l,traceIds:u,initialTimestamp:c}=r,p=H(),d=N(),h=p&&p.getTransport(),f=p&&p.getDsn();if(!(p&&h&&f&&o.sampled))return J({});const m={type:"replay_event",replay_start_timestamp:c/1e3,timestamp:i/1e3,error_ids:l,trace_ids:u,urls:s,replay_id:e,segment_id:n,replay_type:o.sampled},g=await async function({client:t,scope:e,replayId:n,event:r}){const i={event_id:n,integrations:"object"!=typeof t._integrations||null===t._integrations||Array.isArray(t._integrations)?void 0:Object.keys(t._integrations)};t.emit("preprocessEvent",r,i);const o=await Ut(t.getOptions(),r,i,e,t,F());if(!o)return null;o.platform=o.platform||"javascript";const a=t.getSdkMetadata(),{name:s,version:l}=a&&a.sdk||{};return o.sdk={...o.sdk,name:s||"sentry.javascript.unknown",version:l||"0.0.0"},o}({scope:d,client:p,replayId:e,event:m});if(!g)return p.recordDroppedEvent("event_processor","replay",m),ru&&su.info("An event processor returned `null`, will not send event."),J({});delete g.sdkProcessingMetadata;const y=function(t,e,n,r){return Ve(en(t,tn(t),r,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:"string"==typeof e?(new TextEncoder).encode(e).length:e.length},e]])}(g,a,f,p.getOptions().tunnel);let v;try{v=await h.send(y)}catch(t){const e=new Error("Unable to send Replay");try{e.cause=t}catch(t){}throw e}if("number"==typeof v.statusCode&&(v.statusCode<200||v.statusCode>=300))throw new ac(v.statusCode);const _=En({},v);if(Cn(_,"replay"))throw new sc(_);return v}class ac extends Error{constructor(t){super("Transport returned status code "+t)}}class sc extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}function lc(t,e,n){const r=new Map;let i=!1;return(...o)=>{const a=Math.floor(Date.now()/1e3);if((t=>{const e=t-n;r.forEach((t,n)=>{n<e&&r.delete(n)})})(a),[...r.values()].reduce((t,e)=>t+e,0)>=e){const t=i;return i=!0,t?"__SKIPPED":"__THROTTLED"}i=!1;const s=r.get(a)||0;return r.set(a,s+1),t(...o)}}class uc{constructor({options:t,recordingOptions:e}){uc.prototype.__init.call(this),uc.prototype.__init2.call(this),uc.prototype.__init3.call(this),uc.prototype.__init4.call(this),uc.prototype.__init5.call(this),uc.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=e,this._options=t,this._debouncedFlush=function(t,e,n){let r,i,o;const a=n&&n.maxWait?Math.max(n.maxWait,e):0;function s(){return l(),r=t(),r}function l(){void 0!==i&&clearTimeout(i),void 0!==o&&clearTimeout(o),i=o=void 0}function u(){return i&&clearTimeout(i),i=Zr(s,e),a&&void 0===o&&(o=Zr(s,a)),r}return u.cancel=l,u.flush=function(){return void 0!==i||void 0!==o?s():r},u}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=lc((t,e)=>function(t,e,n){return Eu(t,e)?Cu(t,e,n):Promise.resolve(null)}(this,t,e),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),i=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;if(i&&(this.clickDetector=new Rl(this,i)),ru){const e=t._experiments;su.setConfig({captureExceptions:!!e.captureExceptions,traceInternals:!!e.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}handleException(t){ru&&su.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:e,sessionSampleRate:n}=this._options,r=e<=0&&n<=0;this._requiresManualStart=r,r||(this._initializeSessionForSampling(t),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",ru&&su.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording()):ru&&su.exception(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(ru&&su.info("Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(ru&&su.info("Buffering is in progress, call `flush()` to save the replay"));ru&&su.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=ku({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(ru&&su.info("Buffering is in progress, call `flush()` to save the replay"));ru&&su.infoTick("Starting replay in buffer mode");const t=ku({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=El({...this._recordingOptions,..."buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:ic(this),.../iPhone|iPad|iPod/i.test(rc&&rc.userAgent||"")||/Macintosh/i.test(rc&&rc.userAgent||"")&&rc&&rc.maxTouchPoints&&rc.maxTouchPoints>1?{sampling:{mousemove:!1}}:{},onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:e}={}){if(this._isEnabled){this._isEnabled=!1;try{ru&&su.info("Stopping Replay"+(e?" triggered by "+e:"")),zu(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,mu(this)}catch(t){this.handleException(t)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),ru&&su.info("Pausing replay"))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),ru&&su.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const e=Date.now();ru&&su.info("Converting buffer to session"),await this.flushImmediate();const n=this.stopRecording();t&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(e),this._updateSessionActivity(e),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const e=t();"buffer"!==this.recordingMode&&!0!==e&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&bu(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const t=`${wa.location.pathname}${wa.location.hash}${wa.location.search}`,e=`${wa.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=e,this._context.initialTimestamp=Date.now(),this._context.urls.push(e)}throttledAddEvent(t,e){const n=this._throttledAddEvent(t,e);if("__THROTTLED"===n){const t=Nl({category:"replay.throttled"});this.addUpdate(()=>!Su(this,{type:5,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t,metric:!0}}))}return n}getCurrentRoute(){const t=this.lastActiveSpan||At(),e=t&&Mt(t),n=(e&&St(e).data||{})[i];if(e&&n&&["route","custom"].includes(n))return St(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=hu({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const e=this._options.errorSampleRate>0,n=ku({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:e});this.session=n}_checkSession(){if(!this.session)return!1;const t=this.session;return!wu(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(t),!1)}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{wa.document.addEventListener("visibilitychange",this._handleVisibilityChange),wa.addEventListener("blur",this._handleWindowBlur),wa.addEventListener("focus",this._handleWindowFocus),wa.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(t){const e=H();mi(ql(t)),wi(Wu(t)),Pu(t),ec(t),ie(Lu(t)),e&&(e.on("beforeSendEvent",Ou(t)),e.on("afterSendEvent",Au(t)),e.on("createDsc",e=>{const n=t.getSessionId();if(n&&t.isEnabled()&&"session"===t.recordingMode){t.checkAndHandleExpiredSession()&&(e.replay_id=n)}}),e.on("spanStart",e=>{t.lastActiveSpan=e}),e.on("spanEnd",e=>{t.lastActiveSpan=e}),e.on("beforeSendFeedback",(e,n)=>{const r=t.getSessionId();n&&n.includeReplay&&t.isEnabled()&&r&&e.contexts&&e.contexts.feedback&&(e.contexts.feedback.replay_id=r)}))}(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=function(t){function e(e){t.performanceEntries.includes(e)||t.performanceEntries.push(e)}function n({entries:t}){t.forEach(e)}const r=[];return["navigation","paint","resource"].forEach(t=>{r.push(da(t,n))}),r.push(ua(Kl(Yl,t)),la(Kl($l,t)),ca(Kl(tu,t)),pa(Kl(eu,t))),()=>{r.forEach(t=>t())}}(this)}_removeListeners(){try{wa.document.removeEventListener("visibilitychange",this._handleVisibilityChange),wa.removeEventListener("blur",this._handleWindowBlur),wa.removeEventListener("focus",this._handleWindowFocus),wa.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}__init(){this._handleVisibilityChange=()=>{"visible"===wa.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=Nl({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=Nl({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{Gl(this,t)}}_doChangeToBackgroundTasks(t){if(!this.session)return;xu(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;this.checkAndHandleExpiredSession()?t&&this._createCustomBreadcrumb(t):ru&&su.info("Document has become active, but session has expired")}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Bs.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=(e=this.performanceEntries,e.map(Ql).filter(Boolean)).concat(this.replayPerformanceEntries);var e;if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const e=this._context.initialTimestamp/1e3;t=t.filter(t=>t.start>=e)}return Promise.all(Ru(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:e}=this;if(!t||!e||this._requiresManualStart)return;if(t.segmentId)return;const n=e.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(this.session&&this.eventBuffer&&t){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(t){try{return Promise.all(Ru(t,[nc(wa.performance.memory)]))}catch(t){return[]}}(this),this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const e=Date.now();if(e-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await async function t(e,n={count:0,interval:5e3}){const{recordingData:r,onError:i}=e;if(r.length)try{return await oc(e),!0}catch(r){if(r instanceof ac||r instanceof sc)throw r;if(Kt("Replays",{_retryCount:n.count}),i&&i(r),n.count>=3){const t=new Error("Unable to send Replay - max retries exceeded");try{t.cause=r}catch(t){}throw t}return n.interval*=++n.count,new Promise((r,i)=>{Zr(async()=>{try{await t(e,n),r(!0)}catch(t){i(t)}},n.interval)})}}({replayId:t,recordingData:i,segmentId:r,eventContext:n,session:this.session,timestamp:e,onError:t=>this.handleException(t)})}catch(t){this.handleException(t),this.stop({reason:"sendReplay"});const e=H();if(e){const n=t instanceof sc?"ratelimit_backoff":"send_error";e.recordDroppedEvent(n,"replay")}}}else ru&&su.error("No session or eventBuffer found to flush.")}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession())return void(ru&&su.error("Attempting to finish replay event after session expired."));if(!this.session)return;const e=this.session.started,n=Date.now()-e;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,i=n>this._options.maxReplayDuration+5e3;if(r||i)return ru&&su.info(`Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`),void(r&&this._debouncedFlush());const o=this.eventBuffer;o&&0===this.session.segmentId&&!o.hasCheckout&&ru&&su.info("Flushing initial segment without checkout.");const a=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(t){this.handleException(t)}finally{this._flushLock=void 0,a&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&vu(this.session)}__init6(){this._onMutationHandler=t=>{const e=t.length,n=this._options.mutationLimit,r=n&&e>n;if(e>this._options.mutationBreadcrumbLimit||r){const t=Nl({category:"replay.mutations",data:{count:e,limit:r}});this._createCustomBreadcrumb(t)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function cc(t,e){return[...t,...e].join(",")}const pc='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',dc=["content-length","content-type","accept"];let hc=!1;const fc=t=>new mc(t);class mc{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=5e3,flushMaxDelay:e=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:s={},maskAllText:l=!0,maskAllInputs:u=!0,blockAllMedia:c=!0,mutationBreadcrumbLimit:p=750,mutationLimit:d=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:f=[],networkDetailAllowUrls:m=[],networkDetailDenyUrls:g=[],networkCaptureBodies:y=!0,networkRequestHeaders:v=[],networkResponseHeaders:_=[],mask:b=[],maskAttributes:x=["title","placeholder"],unmask:w=[],block:k=[],unblock:S=[],ignore:C=[],maskFn:E,beforeAddRecordingEvent:T,beforeErrorSampling:I,onError:M}={}){this.name=mc.id;const A=function({mask:t,unmask:e,block:n,unblock:r,ignore:i}){return{maskTextSelector:cc(t,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:cc(e,[]),blockSelector:cc(n,[".sentry-block","[data-sentry-block]","base","iframe[srcdoc]:not([src])"]),unblockSelector:cc(r,[]),ignoreSelector:cc(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:b,unmask:w,block:k,unblock:S,ignore:C});if(this._recordingOptions={maskAllInputs:u,maskAllText:l,maskInputOptions:{password:!0},maskTextFn:E,maskInputFn:E,maskAttributeFn:(t,e,n)=>function({el:t,key:e,maskAttributes:n,maskAllText:r,privacyOptions:i,value:o}){return r?i.unmaskTextSelector&&t.matches(i.unmaskTextSelector)?o:n.includes(e)||"value"===e&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o:o}({maskAttributes:x,maskAllText:l,privacyOptions:A,key:t,value:e,el:n}),...A,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:t=>{try{t.__rrweb__=!0}catch(t){}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:e,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,36e5),stickySession:i,useCompression:o,workerUrl:a,blockAllMedia:c,maskAllInputs:u,maskAllText:l,mutationBreadcrumbLimit:p,mutationLimit:d,slowClickTimeout:h,slowClickIgnoreSelectors:f,networkDetailAllowUrls:m,networkDetailDenyUrls:g,networkCaptureBodies:y,networkRequestHeaders:gc(v),networkResponseHeaders:gc(_),beforeAddRecordingEvent:T,beforeErrorSampling:I,onError:M,_experiments:s},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${pc}`:pc),this._isInitialized&&xo())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return hc}set _isInitialized(t){hc=t}afterAllSetup(t){xo()&&!this._replay&&(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay&&this._replay.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const e=function(t,e){const n=e.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...Object(l.c)(t)},i=Re(n.replaysSessionSampleRate),o=Re(n.replaysOnErrorSampleRate);null==i&&null==o&&Object(S.b)(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")});null!=i&&(r.sessionSampleRate=i);null!=o&&(r.errorSampleRate=o);return r}(this._initialOptions,t);this._replay=new uc({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const e=t.getIntegrationByName("ReplayCanvas");if(!e)return;this._replay._canvas=e.getOptions()}catch(t){}}}function gc(t){return[...dc,...t.map(t=>t.toLowerCase())]}function yc(){const t=H();return t&&t.getIntegrationByName("Replay")}var vc;function _c(t,e,n=1/0,r=0){return t?t.nodeType!==t.ELEMENT_NODE||r>n?-1:e(t)?r:_c(t.parentNode,e,n,r+1):-1}function bc(t,e){return n=>{const r=n;if(null===r)return!1;try{if(t)if("string"==typeof t){if(r.matches("."+t))return!0}else if(function(t,e){for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!1}(r,t))return!0;return!(!e||!r.matches(e))}catch(t){return!1}}}mc.__initStatic(),function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(vc||(vc={}));const xc="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let wc={map:{},getId:()=>(console.error(xc),-1),getNode:()=>(console.error(xc),null),removeNodeFromMap(){console.error(xc)},has:()=>(console.error(xc),!1),reset(){console.error(xc)}};function kc(t,e,n,r,i=window){const o=i.Object.getOwnPropertyDescriptor(t,e);return i.Object.defineProperty(t,e,r?n:{set(t){Mc(()=>{n.set.call(this,t)},0),o&&o.set&&o.set.call(this,t)}}),()=>kc(t,e,o||{},!0)}function Sc(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=i,()=>{t[e]=r}}catch(t){return()=>{}}}function Cc(t,e,n,r,i){if(!t)return!1;const o=function(t){return t?t.nodeType===t.ELEMENT_NODE?t:t.parentElement:null}(t);if(!o)return!1;const a=_c(o,bc(e,n));let s=-1;return!(a<0)&&(r&&(s=_c(o,bc(null,r))),a>-1&&s<0||a<s)}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(wc=new Proxy(wc,{get:(t,e,n)=>("map"===e&&console.error(xc),Reflect.get(t,e,n))})),/[1-9][0-9]{12}/.test(Date.now().toString());const Ec={};function Tc(t){const e=Ec[t];if(e)return e;const n=window.document;let r=window[t];if(n&&"function"==typeof n.createElement)try{const e=n.createElement("iframe");e.hidden=!0,n.head.appendChild(e);const i=e.contentWindow;i&&i[t]&&(r=i[t]),n.head.removeChild(e)}catch(t){}return Ec[t]=r.bind(window)}function Ic(...t){return Tc("requestAnimationFrame")(...t)}function Mc(...t){return Tc("setTimeout")(...t)}var Ac=(t=>(t[t["2D"]=0]="2D",t[t.WebGL=1]="WebGL",t[t.WebGL2=2]="WebGL2",t))(Ac||{});let Oc;const Pc=t=>{if(!Oc)return t;return(...e)=>{try{return t(...e)}catch(t){if(Oc&&!0===Oc(t))return()=>{};throw t}}};for(var Dc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zc="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Lc=0;Lc<Dc.length;Lc++)zc[Dc.charCodeAt(Lc)]=Lc;const Rc=new Map;const Wc=(t,e,n)=>{if(!t||!Nc(t,e)&&"object"!=typeof t)return;const r=function(t,e){let n=Rc.get(t);return n||(n=new Map,Rc.set(t,n)),n.has(e)||n.set(e,[]),n.get(e)}(n,t.constructor.name);let i=r.indexOf(t);return-1===i&&(i=r.length,r.push(t)),i};function Bc(t,e,n){if(t instanceof Array)return t.map(t=>Bc(t,e,n));if(null===t)return t;if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray){return{rr_type:t.constructor.name,args:[Object.values(t)]}}if(t instanceof ArrayBuffer){return{rr_type:t.constructor.name,base64:function(t){var e,n=new Uint8Array(t),r=n.length,i="";for(e=0;e<r;e+=3)i+=Dc[n[e]>>2],i+=Dc[(3&n[e])<<4|n[e+1]>>4],i+=Dc[(15&n[e+1])<<2|n[e+2]>>6],i+=Dc[63&n[e+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i}(t)}}if(t instanceof DataView){return{rr_type:t.constructor.name,args:[Bc(t.buffer,e,n),t.byteOffset,t.byteLength]}}if(t instanceof HTMLImageElement){const e=t.constructor.name,{src:n}=t;return{rr_type:e,src:n}}if(t instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:t.toDataURL()}}if(t instanceof ImageData){return{rr_type:t.constructor.name,args:[Bc(t.data,e,n),t.width,t.height]}}if(Nc(t,e)||"object"==typeof t){return{rr_type:t.constructor.name,index:Wc(t,e,n)}}return t}const jc=(t,e,n)=>t.map(t=>Bc(t,e,n)),Nc=(t,e)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(t=>"function"==typeof e[t]);return Boolean(n.find(n=>t instanceof e[n]))};function Fc(t,e,n,r,i){const o=[];try{const a=Sc(t.HTMLCanvasElement.prototype,"getContext",(function(t){return function(o,...a){if(!Cc(this,e,n,r)){const t=function(t){return"experimental-webgl"===t?"webgl":t}(o);if("__context"in this||(this.__context=t),i&&["webgl","webgl2"].includes(t))if(a[0]&&"object"==typeof a[0]){const t=a[0];t.preserveDrawingBuffer||(t.preserveDrawingBuffer=!0)}else a.splice(0,1,{preserveDrawingBuffer:!0})}return t.apply(this,[o,...a])}}));o.push(a)}catch(t){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach(t=>t())}}function Uc(t,e,n,r,i,o,a,s){const l=[],u=Object.getOwnPropertyNames(t);for(const a of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(a))try{if("function"!=typeof t[a])continue;const u=Sc(t,a,(function(t){return function(...l){const u=t.apply(this,l);if(Wc(u,s,this),"tagName"in this.canvas&&!Cc(this.canvas,r,i,o)){const t=jc(l,s,this),r={type:e,property:a,args:t};n(this.canvas,r)}return u}}));l.push(u)}catch(r){const i=kc(t,a,{set(t){n(this.canvas,{type:e,property:a,args:[t],setter:!0})}});l.push(i)}return l}class Vc{reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch(t){}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,_o([this,"access",t=>t.worker,"optionalAccess",t=>t.terminate,"call",t=>t()]),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.processMutation=(t,e)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(t)||this.pendingCanvasMutations.set(t,[]),this.pendingCanvasMutations.get(t).push(e)};const{sampling:e="all",win:n,blockClass:r,blockSelector:i,unblockSelector:o,maxCanvasSize:a,recordCanvas:s,dataURLOptions:l,errorHandler:u}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,u&&(Oc=u),(s&&"number"==typeof e||t.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(n),t.enableManualSnapshot||Pc(()=>{s&&"all"===e&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),s&&"number"==typeof e&&this.initCanvasFPSObserver(e,r,i,o,a,{dataURLOptions:l})})()}addWindow(t){const{sampling:e="all",blockClass:n,blockSelector:r,unblockSelector:i,recordCanvas:o,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a)return this.windowsSet.add(t),void this.windows.push(new WeakRef(t));Pc(()=>{if(o&&"all"===e&&this.initCanvasMutationObserver(t,n,r,i),o&&"number"==typeof e){const e=Fc(t,n,r,i,!0);this.restoreHandlers.push(()=>{e()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){const t=new Worker(function(){const t=new Blob(['for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};']);return URL.createObjectURL(t)}());return t.onmessage=t=>{const e=t.data,{id:n}=e;if(this.snapshotInProgressMap.set(n,!1),!("base64"in e))return;const{base64:r,type:i,width:o,height:a}=e;this.mutationCb({id:n,type:Ac["2D"],commands:[{property:"clearRect",args:[0,0,o,a]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:i}]},0,0,o,a]}]})},t}initCanvasFPSObserver(t,e,n,r,i,o){const a=this.takeSnapshot(!1,t,e,n,r,i,o.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(a)})}initCanvasMutationObserver(t,e,n,r){const i=Fc(t,e,n,r,!1),o=function(t,e,n,r,i){const o=[],a=Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype);for(const s of a)try{if("function"!=typeof e.CanvasRenderingContext2D.prototype[s])continue;const a=Sc(e.CanvasRenderingContext2D.prototype,s,(function(o){return function(...a){return Cc(this.canvas,n,r,i)||Mc(()=>{const n=jc(a,e,this);t(this.canvas,{type:Ac["2D"],property:s,args:n})},0),o.apply(this,a)}}));o.push(a)}catch(n){const r=kc(e.CanvasRenderingContext2D.prototype,s,{set(e){t(this.canvas,{type:Ac["2D"],property:s,args:[e],setter:!0})}});o.push(r)}return()=>{o.forEach(t=>t())}}(this.processMutation.bind(this),t,e,n,r),a=function(t,e,n,r,i,o){const a=[];return a.push(...Uc(e.WebGLRenderingContext.prototype,Ac.WebGL,t,n,r,i,0,e)),void 0!==e.WebGL2RenderingContext&&a.push(...Uc(e.WebGL2RenderingContext.prototype,Ac.WebGL2,t,n,r,i,0,e)),()=>{a.forEach(t=>t())}}(this.processMutation.bind(this),t,e,n,r,this.mirror);this.restoreHandlers.push(()=>{i(),o(),a()})}snapshot(t){const{options:e}=this,n=this.takeSnapshot(!0,"all"===e.sampling?2:e.sampling||2,e.blockClass,e.blockSelector,e.unblockSelector,e.maxCanvasSize,e.dataURLOptions,t);this.restoreHandlers.push(()=>{cancelAnimationFrame(n)})}takeSnapshot(t,e,n,r,i,o,a,s){const l=1e3/e;let u,c=0;const p=t=>{if(t)return[t];const e=[],o=t=>{t.querySelectorAll("canvas").forEach(t=>{Cc(t,n,r,i)||e.push(t)})};for(const t of this.windows){const e=t.deref();e&&o(e.document)}for(const t of this.shadowDoms){const e=t.deref();e&&o(e)}return e},d=e=>{this.windows.length&&(c&&e-c<l?u=Ic(d):(c=e,p(s).forEach(e=>{if(!this.mirror.hasNode(e))return;const n=this.mirror.getId(e);if(!this.snapshotInProgressMap.get(n)&&e.width&&e.height){if(this.snapshotInProgressMap.set(n,!0),!t&&["webgl","webgl2"].includes(e.__context)){const t=e.getContext(e.__context);!1===_o([t,"optionalAccess",t=>t.getContextAttributes,"call",t=>t(),"optionalAccess",t=>t.preserveDrawingBuffer])&&t.clear(t.COLOR_BUFFER_BIT)}createImageBitmap(e).then(t=>{_o([this,"access",t=>t.worker,"optionalAccess",t=>t.postMessage,"call",r=>r({id:n,bitmap:t,width:e.width,height:e.height,dataURLOptions:a,maxCanvasSize:o},[t])])}).catch(t=>{Pc(()=>{throw t})()})}}),t||(u=Ic(d))))};return u=Ic(d),u}startPendingCanvasMutationFlusher(){Ic(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=e=>{this.rafStamps.latestId=e,Ic(t)};Ic(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,e)=>{const n=this.mirror.getId(e);this.flushPendingCanvasMutationFor(e,n)}),Ic(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,e){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(t);if(!n||-1===e)return;const r=n.map(t=>{const{type:e,...n}=t;return n}),{type:i}=n[0];this.mutationCb({id:e,type:i,commands:r}),this.pendingCanvasMutations.delete(t)}}const qc={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Hc=(t={})=>{const[e,n]=t.maxCanvasSize||[],r={quality:t.quality||"medium",enableManualSnapshot:t.enableManualSnapshot,maxCanvasSize:[e?Math.min(e,1280):1280,n?Math.min(n,1280):1280]};let i;const o=new Promise(t=>i=t);return{name:"ReplayCanvas",getOptions(){const{quality:t,enableManualSnapshot:e,maxCanvasSize:n}=r;return{enableManualSnapshot:e,recordCanvas:!0,getCanvasManager:t=>{const r=new Vc({...t,enableManualSnapshot:e,maxCanvasSize:n,errorHandler:t=>{try{"object"==typeof t&&(t.__rrweb__=!0)}catch(t){}}});return i(r),r},...qc[t||"medium"]||qc.medium}},async snapshot(t){(await o).snapshot(t)}}},Gc=u.a,Zc=Gc.document,Kc=Gc.navigator,Qc=(t,e={includeReplay:!0})=>{if(!t.message)throw new Error("Unable to submit feedback with empty message");const n=H();if(!n)throw new Error("No client setup, cannot send feedback.");t.tags&&Object.keys(t.tags).length&&N().setTags(t.tags);const r=ze({source:"api",url:Object(Mi.c)(),...t},e);return new Promise((t,e)=>{const i=setTimeout(()=>e("Unable to determine if Feedback was correctly sent."),5e3),o=n.on("afterSendEvent",(n,a)=>{if(n.event_id===r)return clearTimeout(i),o(),a&&"number"==typeof a.statusCode&&a.statusCode>=200&&a.statusCode<300?t(r):a&&"number"==typeof a.statusCode&&0===a.statusCode?e("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):a&&"number"==typeof a.statusCode&&403===a.statusCode?e("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):e("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},Xc="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Yc(t,e){return{...t,...e,tags:{...t.tags,...e.tags},onFormOpen:()=>{e.onFormOpen&&e.onFormOpen(),t.onFormOpen&&t.onFormOpen()},onFormClose:()=>{e.onFormClose&&e.onFormClose(),t.onFormClose&&t.onFormClose()},onSubmitSuccess:n=>{e.onSubmitSuccess&&e.onSubmitSuccess(n),t.onSubmitSuccess&&t.onSubmitSuccess(n)},onSubmitError:n=>{e.onSubmitError&&e.onSubmitError(n),t.onSubmitError&&t.onSubmitError(n)},onFormSubmitted:()=>{e.onFormSubmitted&&e.onFormSubmitted(),t.onFormSubmitted&&t.onFormSubmitted()},themeDark:{...t.themeDark,...e.themeDark},themeLight:{...t.themeLight,...e.themeLight}}}function Jc(t,e){return Object.entries(e).forEach(([e,n])=>{t.setAttributeNS(null,e,n)}),t}function $c({triggerLabel:t,triggerAriaLabel:e,shadow:n,styleNonce:r}){const i=Zc.createElement("button");if(i.type="button",i.className="widget__actor",i.ariaHidden="false",i.ariaLabel=e||t||"Report a Bug",i.appendChild(function(){const t=t=>Gc.document.createElementNS("http://www.w3.org/2000/svg",t),e=Jc(t("svg"),{width:"20",height:"20",viewBox:"0 0 20 20",fill:"var(--actor-color, var(--foreground))"}),n=Jc(t("g"),{clipPath:"url(#clip0_57_80)"}),r=Jc(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});e.appendChild(n).appendChild(r);const i=t("defs"),o=Jc(t("clipPath"),{id:"clip0_57_80"}),a=Jc(t("rect"),{width:"20",height:"20",fill:"white"});return o.appendChild(a),i.appendChild(o),e.appendChild(i).appendChild(o).appendChild(a),e}()),t){const e=Zc.createElement("span");e.appendChild(Zc.createTextNode(t)),i.appendChild(e)}const o=function(t){const e=Zc.createElement("style");return e.textContent='\n.widget__actor {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: var(--page-margin);\n  inset: var(--actor-inset);\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px;\n\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  line-height: 1.14em;\n  text-decoration: none;\n\n  background: var(--actor-background, var(--background));\n  border-radius: var(--actor-border-radius, 1.7em/50%);\n  border: var(--actor-border, var(--border));\n  box-shadow: var(--actor-box-shadow, var(--box-shadow));\n  color: var(--actor-color, var(--foreground));\n  fill: var(--actor-color, var(--foreground));\n  cursor: pointer;\n  opacity: 1;\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n.widget__actor[aria-hidden="true"] {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  transform: translate(0, 16px) scale(0.98);\n}\n\n.widget__actor:hover {\n  background: var(--actor-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n\n.widget__actor svg {\n  width: 1.14em;\n  height: 1.14em;\n}\n\n@media (max-width: 600px) {\n  .widget__actor span {\n    display: none;\n  }\n}\n',t&&e.setAttribute("nonce",t),e}(r);return{el:i,appendToDom(){n.appendChild(o),n.appendChild(i)},removeFromDom(){n.removeChild(i),n.removeChild(o)},show(){i.ariaHidden="false"},hide(){i.ariaHidden="true"}}}const tp="rgba(88, 74, 192, 1)",ep={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:tp,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},np={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:tp,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function rp(t){return`\n  --foreground: ${t.foreground};\n  --background: ${t.background};\n  --accent-foreground: ${t.accentForeground};\n  --accent-background: ${t.accentBackground};\n  --success-color: ${t.successColor};\n  --error-color: ${t.errorColor};\n  --border: ${t.border};\n  --box-shadow: ${t.boxShadow};\n  --outline: ${t.outline};\n  --interactive-filter: ${t.interactiveFilter};\n  `}const ip=({lazyLoadIntegration:t,getModalIntegration:e,getScreenshotIntegration:n})=>({id:r="sentry-feedback",autoInject:i=!0,showBranding:o=!0,isEmailRequired:a=!1,isNameRequired:s=!1,showEmail:l=!0,showName:u=!0,enableScreenshot:c=!0,useSentryUser:p={email:"email",name:"username"},tags:d,styleNonce:h,scriptNonce:f,colorScheme:m="system",themeLight:g={},themeDark:y={},addScreenshotButtonLabel:v="Add a screenshot",cancelButtonLabel:_="Cancel",confirmButtonLabel:b="Confirm",emailLabel:x="Email",emailPlaceholder:w="your.email@example.org",formTitle:k="Report a Bug",isRequiredLabel:C="(required)",messageLabel:E="Description",messagePlaceholder:T="What's the bug? What did you expect?",nameLabel:I="Name",namePlaceholder:M="Your Name",removeScreenshotButtonLabel:A="Remove screenshot",submitButtonLabel:O="Send Bug Report",successMessageText:P="Thank you for your report!",triggerLabel:D="Report a Bug",triggerAriaLabel:z="",onFormOpen:L,onFormClose:R,onSubmitSuccess:W,onSubmitError:B,onFormSubmitted:j}={})=>{const N={id:r,autoInject:i,showBranding:o,isEmailRequired:a,isNameRequired:s,showEmail:l,showName:u,enableScreenshot:c,useSentryUser:p,tags:d,styleNonce:h,scriptNonce:f,colorScheme:m,themeDark:y,themeLight:g,triggerLabel:D,triggerAriaLabel:z,cancelButtonLabel:_,submitButtonLabel:O,confirmButtonLabel:b,formTitle:k,emailLabel:x,emailPlaceholder:w,messageLabel:E,messagePlaceholder:T,nameLabel:I,namePlaceholder:M,successMessageText:P,isRequiredLabel:C,addScreenshotButtonLabel:v,removeScreenshotButtonLabel:A,onFormClose:R,onFormOpen:L,onSubmitError:B,onSubmitSuccess:W,onFormSubmitted:j};let F=null,U=[];const V=t=>{if(!F){const e=Zc.createElement("div");e.id=String(t.id),Zc.body.appendChild(e),F=e.attachShadow({mode:"open"}),F.appendChild(function({colorScheme:t,themeDark:e,themeLight:n,styleNonce:r}){const i=Zc.createElement("style");return i.textContent=`\n:host {\n  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;\n  --font-size: 14px;\n  --z-index: 100000;\n\n  --page-margin: 16px;\n  --inset: auto 0 0 auto;\n  --actor-inset: var(--inset);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${"system"!==t?"color-scheme: only light;":""}\n\n  ${rp("dark"===t?{...np,...e}:{...ep,...n})}\n}\n\n${"system"===t?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${rp({...np,...e})}\n  }\n}`:""}\n}\n`,r&&i.setAttribute("nonce",r),i}(t))}return F},q=async r=>{const i=r.enableScreenshot&&!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(Kc.userAgent)||/Macintosh/i.test(Kc.userAgent)&&Kc.maxTouchPoints&&Kc.maxTouchPoints>1||!isSecureContext);let o,a;try{o=(e?e():await t("feedbackModalIntegration",f))(),he(o)}catch(t){throw Xc&&S.c.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{const e=i?n?n():await t("feedbackScreenshotIntegration",f):void 0;e&&(a=e(),he(a))}catch(t){Xc&&S.c.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const s=o.createDialog({options:{...r,onFormClose:()=>{s&&s.close(),r.onFormClose&&r.onFormClose()},onFormSubmitted:()=>{s&&s.close(),r.onFormSubmitted&&r.onFormSubmitted()}},screenshotIntegration:a,sendFeedback:Qc,shadow:V(r)});return s},H=(t,e={})=>{const n=Yc(N,e),r="string"==typeof t?Zc.querySelector(t):"function"==typeof t.addEventListener?t:null;if(!r)throw Xc&&S.c.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let i=null;const o=async()=>{i||(i=await q({...n,onFormSubmitted:()=>{i&&i.removeFromDom(),n.onFormSubmitted&&n.onFormSubmitted()}})),i.appendToDom(),i.open()};r.addEventListener("click",o);const a=()=>{U=U.filter(t=>t!==a),i&&i.removeFromDom(),i=null,r.removeEventListener("click",o)};return U.push(a),a},G=(t={})=>{const e=Yc(N,t),n=V(e),r=$c({triggerLabel:e.triggerLabel,triggerAriaLabel:e.triggerAriaLabel,shadow:n,styleNonce:h});return H(r.el,{...e,onFormOpen(){r.hide()},onFormClose(){r.show()},onFormSubmitted(){r.show()}}),r};return{name:"Feedback",setupOnce(){xo()&&N.autoInject&&("loading"===Zc.readyState?Zc.addEventListener("DOMContentLoaded",()=>G().appendToDom()):G().appendToDom())},attachTo:H,createWidget(t={}){const e=G(Yc(N,t));return e.appendToDom(),e},createForm:async(t={})=>q(Yc(N,t)),remove(){F&&(F.parentElement&&F.parentElement.remove(),F=null),U.forEach(t=>t()),U=[]}}};function op(){const t=H();return t&&t.getIntegrationByName("Feedback")}var ap,sp,lp,up,cp,pp,dp,hp={},fp=[],mp=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,gp=Array.isArray;function yp(t,e){for(var n in e)t[n]=e[n];return t}function vp(t){var e=t.parentNode;e&&e.removeChild(t)}function _p(t,e,n){var r,i,o,a={};for(o in e)"key"==o?r=e[o]:"ref"==o?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?ap.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===a[o]&&(a[o]=t.defaultProps[o]);return bp(t,a,r,i,null)}function bp(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++lp:i,__i:-1,__u:0};return null==i&&null!=sp.vnode&&sp.vnode(o),o}function xp(t){return t.children}function wp(t,e){this.props=t,this.context=e}function kp(t,e){if(null==e)return t.__?kp(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?kp(t):null}function Sp(t,e,n){var r,i=t.__v,o=i.__e,a=t.__P;if(a)return(r=yp({},i)).__v=i.__v+1,sp.vnode&&sp.vnode(r),zp(a,r,i,t.__n,void 0!==a.ownerSVGElement,32&i.__u?[o]:null,e,null==o?kp(i):o,!!(32&i.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&function t(e){var n,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(r=e.__k[n])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return t(e)}}(r),r}function Cp(t){(!t.__d&&(t.__d=!0)&&up.push(t)&&!Ep.__r++||cp!==sp.debounceRendering)&&((cp=sp.debounceRendering)||pp)(Ep)}function Ep(){var t,e,n,r=[],i=[];for(up.sort(dp);t=up.shift();)t.__d&&(n=up.length,e=Sp(t,r,i)||e,0===n||up.length>n?(Lp(r,e,i),i.length=r.length=0,e=void 0,up.sort(dp)):e&&sp.__c&&sp.__c(e,fp));e&&Lp(r,e,i),Ep.__r=0}function Tp(t,e,n,r,i,o,a,s,l,u,c){var p,d,h,f,m,g=r&&r.__k||fp,y=e.length;for(n.__d=l,function(t,e,n){var r,i,o,a,s,l=e.length,u=n.length,c=u,p=0;for(t.__k=[],r=0;r<l;r++)null!=(i=t.__k[r]=null==(i=e[r])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?bp(null,i,null,null,i):gp(i)?bp(xp,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?bp(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=t,i.__b=t.__b+1,s=Mp(i,n,a=r+p,c),i.__i=s,o=null,-1!==s&&(c--,(o=n[s])&&(o.__u|=131072)),null==o||null===o.__v?(-1==s&&p--,"function"!=typeof i.type&&(i.__u|=65536)):s!==a&&(s===a+1?p++:s>a?c>l-a?p+=s-a:p--:p=s<a&&s==a-1?s-a:0,s!==r+p&&(i.__u|=65536))):(o=n[r])&&null==o.key&&o.__e&&(o.__e==t.__d&&(t.__d=kp(o)),Bp(o,o,!1),n[r]=null,c--);if(c)for(r=0;r<u;r++)null!=(o=n[r])&&0==(131072&o.__u)&&(o.__e==t.__d&&(t.__d=kp(o)),Bp(o,o))}(n,e,g),l=n.__d,p=0;p<y;p++)null!=(h=n.__k[p])&&"boolean"!=typeof h&&"function"!=typeof h&&(d=-1===h.__i?hp:g[h.__i]||hp,h.__i=p,zp(t,h,d,i,o,a,s,l,u,c),f=h.__e,h.ref&&d.ref!=h.ref&&(d.ref&&Wp(d.ref,null,h),c.push(h.ref,h.__c||f,h)),null==m&&null!=f&&(m=f),65536&h.__u||d.__k===h.__k?l=Ip(h,l,t):"function"==typeof h.type&&void 0!==h.__d?l=h.__d:f&&(l=f.nextSibling),h.__d=void 0,h.__u&=-196609);n.__d=l,n.__e=m}function Ip(t,e,n){var r,i;if("function"==typeof t.type){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=Ip(r[i],e,n));return e}t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e);do{e=e&&e.nextSibling}while(null!=e&&8===e.nodeType);return e}function Mp(t,e,n,r){var i=t.key,o=t.type,a=n-1,s=n+1,l=e[n];if(null===l||l&&i==l.key&&o===l.type)return n;if(r>(null!=l&&0==(131072&l.__u)?1:0))for(;a>=0||s<e.length;){if(a>=0){if((l=e[a])&&0==(131072&l.__u)&&i==l.key&&o===l.type)return a;a--}if(s<e.length){if((l=e[s])&&0==(131072&l.__u)&&i==l.key&&o===l.type)return s;s++}}return-1}function Ap(t,e,n){"-"===e[0]?t.setProperty(e,null==n?"":n):t[e]=null==n?"":"number"!=typeof n||mp.test(e)?n:n+"px"}function Op(t,e,n,r,i){var o;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Ap(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Ap(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])o=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r?n.u=r.u:(n.u=Date.now(),t.addEventListener(e,o?Dp:Pp,o)):t.removeEventListener(e,o?Dp:Pp,o);else{if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==e&&"height"!==e&&"href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&"rowSpan"!==e&&"colSpan"!==e&&"role"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null==n||!1===n&&"-"!==e[4]?t.removeAttribute(e):t.setAttribute(e,n))}}function Pp(t){if(this.l){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(sp.event?sp.event(t):t)}}function Dp(t){if(this.l)return this.l[t.type+!0](sp.event?sp.event(t):t)}function zp(t,e,n,r,i,o,a,s,l,u){var c,p,d,h,f,m,g,y,v,_,b,x,w,k,S,C=e.type;if(void 0!==e.constructor)return null;128&n.__u&&(l=!!(32&n.__u),o=[s=e.__e=n.__e]),(c=sp.__b)&&c(e);t:if("function"==typeof C)try{if(y=e.props,v=(c=C.contextType)&&r[c.__c],_=c?v?v.props.value:c.__:r,n.__c?g=(p=e.__c=n.__c).__=p.__E:("prototype"in C&&C.prototype.render?e.__c=p=new C(y,_):(e.__c=p=new wp(y,_),p.constructor=C,p.render=jp),v&&v.sub(p),p.props=y,p.state||(p.state={}),p.context=_,p.__n=r,d=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=C.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=yp({},p.__s)),yp(p.__s,C.getDerivedStateFromProps(y,p.__s))),h=p.props,f=p.state,p.__v=e,d)null==C.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==C.getDerivedStateFromProps&&y!==h&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(y,_),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(y,p.__s,_)||e.__v===n.__v)){for(e.__v!==n.__v&&(p.props=y,p.state=p.__s,p.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),b=0;b<p._sb.length;b++)p.__h.push(p._sb[b]);p._sb=[],p.__h.length&&a.push(p);break t}null!=p.componentWillUpdate&&p.componentWillUpdate(y,p.__s,_),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(h,f,m)}))}if(p.context=_,p.props=y,p.__P=t,p.__e=!1,x=sp.__r,w=0,"prototype"in C&&C.prototype.render){for(p.state=p.__s,p.__d=!1,x&&x(e),c=p.render(p.props,p.state,p.context),k=0;k<p._sb.length;k++)p.__h.push(p._sb[k]);p._sb=[]}else do{p.__d=!1,x&&x(e),c=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++w<25);p.state=p.__s,null!=p.getChildContext&&(r=yp(yp({},r),p.getChildContext())),d||null==p.getSnapshotBeforeUpdate||(m=p.getSnapshotBeforeUpdate(h,f)),Tp(t,gp(S=null!=c&&c.type===xp&&null==c.key?c.props.children:c)?S:[S],e,n,r,i,o,a,s,l,u),p.base=e.__e,e.__u&=-161,p.__h.length&&a.push(p),g&&(p.__E=p.__=null)}catch(t){e.__v=null,l||null!=o?(e.__e=s,e.__u|=l?160:32,o[o.indexOf(s)]=null):(e.__e=n.__e,e.__k=n.__k),sp.__e(t,e,n)}else null==o&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Rp(n.__e,e,n,r,i,o,a,l,u);(c=sp.diffed)&&c(e)}function Lp(t,e,n){for(var r=0;r<n.length;r++)Wp(n[r],n[++r],n[++r]);sp.__c&&sp.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){sp.__e(t,e.__v)}}))}function Rp(t,e,n,r,i,o,a,s,l){var u,c,p,d,h,f,m,g=n.props,y=e.props,v=e.type;if("svg"===v&&(i=!0),null!=o)for(u=0;u<o.length;u++)if((h=o[u])&&"setAttribute"in h==!!v&&(v?h.localName===v:3===h.nodeType)){t=h,o[u]=null;break}if(null==t){if(null===v)return document.createTextNode(y);t=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,y.is&&y),o=null,s=!1}if(null===v)g===y||s&&t.data===y||(t.data=y);else{if(o=o&&ap.call(t.childNodes),g=n.props||hp,!s&&null!=o)for(g={},u=0;u<t.attributes.length;u++)g[(h=t.attributes[u]).name]=h.value;for(u in g)h=g[u],"children"==u||("dangerouslySetInnerHTML"==u?p=h:"key"===u||u in y||Op(t,u,null,h,i));for(u in y)h=y[u],"children"==u?d=h:"dangerouslySetInnerHTML"==u?c=h:"value"==u?f=h:"checked"==u?m=h:"key"===u||s&&"function"!=typeof h||g[u]===h||Op(t,u,h,g[u],i);if(c)s||p&&(c.__html===p.__html||c.__html===t.innerHTML)||(t.innerHTML=c.__html),e.__k=[];else if(p&&(t.innerHTML=""),Tp(t,gp(d)?d:[d],e,n,r,i&&"foreignObject"!==v,o,a,o?o[0]:n.__k&&kp(n,0),s,l),null!=o)for(u=o.length;u--;)null!=o[u]&&vp(o[u]);s||(u="value",void 0!==f&&(f!==t[u]||"progress"===v&&!f||"option"===v&&f!==g[u])&&Op(t,u,f,g[u],!1),u="checked",void 0!==m&&m!==t[u]&&Op(t,u,m,g[u],!1))}return t}function Wp(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){sp.__e(t,n)}}function Bp(t,e,n){var r,i;if(sp.unmount&&sp.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Wp(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){sp.__e(t,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Bp(r[i],e,n||"function"!=typeof t.type);n||null==t.__e||vp(t.__e),t.__=t.__e=t.__d=void 0}function jp(t,e,n){return this.constructor(t,n)}ap=fp.slice,sp={__e:function(t,e,n,r){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(t)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(e){t=e}throw t}},lp=0,wp.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=yp({},this.state),"function"==typeof t&&(t=t(yp({},n),this.props)),t&&yp(n,t),null!=t&&this.__v&&(e&&this._sb.push(e),Cp(this))},wp.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Cp(this))},wp.prototype.render=xp,up=[],pp="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,dp=function(t,e){return t.__v.__b-e.__v.__b},Ep.__r=0;var Np,Fp,Up,Vp,qp=0,Hp=[],Gp=[],Zp=sp,Kp=Zp.__b,Qp=Zp.__r,Xp=Zp.diffed,Yp=Zp.__c,Jp=Zp.unmount,$p=Zp.__;function td(t,e){Zp.__h&&Zp.__h(Fp,t,qp||e),qp=0;var n=Fp.__H||(Fp.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:Gp}),n.__[t]}function ed(t){return qp=1,nd(dd,t)}function nd(t,e,n){var r=td(Np++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):dd(void 0,e),function(t){var e=r.__N?r.__N[0]:r.__[0],n=r.t(e,t);e!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=Fp,!Fp.u)){var i=function(t,e,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter((function(t){return!!t.__c}));if(i.every((function(t){return!t.__N})))return!o||o.call(this,t,e,n);var a=!1;return i.forEach((function(t){if(t.__N){var e=t.__[0];t.__=t.__N,t.__N=void 0,e!==t.__[0]&&(a=!0)}})),!(!a&&r.__c.props===t)&&(!o||o.call(this,t,e,n))};Fp.u=!0;var o=Fp.shouldComponentUpdate,a=Fp.componentWillUpdate;Fp.componentWillUpdate=function(t,e,n){if(this.__e){var r=o;o=void 0,i(t,e,n),o=r}a&&a.call(this,t,e,n)},Fp.shouldComponentUpdate=i}return r.__N||r.__}function rd(t,e){var n=td(Np++,4);!Zp.__s&&pd(n.__H,e)&&(n.__=t,n.i=e,Fp.__h.push(n))}function id(t,e){var n=td(Np++,7);return pd(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function od(t,e){return qp=8,id((function(){return t}),e)}function ad(){for(var t;t=Hp.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ud),t.__H.__h.forEach(cd),t.__H.__h=[]}catch(e){t.__H.__h=[],Zp.__e(e,t.__v)}}Zp.__b=function(t){Fp=null,Kp&&Kp(t)},Zp.__=function(t,e){e.__k&&e.__k.__m&&(t.__m=e.__k.__m),$p&&$p(t,e)},Zp.__r=function(t){Qp&&Qp(t),Np=0;var e=(Fp=t.__c).__H;e&&(Up===Fp?(e.__h=[],Fp.__h=[],e.__.forEach((function(t){t.__N&&(t.__=t.__N),t.__V=Gp,t.__N=t.i=void 0}))):(e.__h.forEach(ud),e.__h.forEach(cd),e.__h=[],Np=0)),Up=Fp},Zp.diffed=function(t){Xp&&Xp(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==Hp.push(e)&&Vp===Zp.requestAnimationFrame||((Vp=Zp.requestAnimationFrame)||ld)(ad)),e.__H.__.forEach((function(t){t.i&&(t.__H=t.i),t.__V!==Gp&&(t.__=t.__V),t.i=void 0,t.__V=Gp}))),Up=Fp=null},Zp.__c=function(t,e){e.some((function(t){try{t.__h.forEach(ud),t.__h=t.__h.filter((function(t){return!t.__||cd(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],Zp.__e(n,t.__v)}})),Yp&&Yp(t,e)},Zp.unmount=function(t){Jp&&Jp(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{ud(t)}catch(t){e=t}})),n.__H=void 0,e&&Zp.__e(e,n.__v))};var sd="function"==typeof requestAnimationFrame;function ld(t){var e,n=function(){clearTimeout(r),sd&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);sd&&(e=requestAnimationFrame(n))}function ud(t){var e=Fp,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),Fp=e}function cd(t){var e=Fp;t.__c=t.__(),Fp=e}function pd(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function dd(t,e){return"function"==typeof e?e(t):e}const hd={__proto__:null,useCallback:od,useContext:function(t){var e=Fp.context[t.__c],n=td(Np++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(Fp)),e.props.value):t.__},useDebugValue:function(t,e){Zp.useDebugValue&&Zp.useDebugValue(e?e(t):t)},useEffect:function(t,e){var n=td(Np++,3);!Zp.__s&&pd(n.__H,e)&&(n.__=t,n.i=e,Fp.__H.__h.push(n))},useErrorBoundary:function(t){var e=td(Np++,10),n=ed();return e.__=t,Fp.componentDidCatch||(Fp.componentDidCatch=function(t,r){e.__&&e.__(t,r),n[1](t)}),[n[0],function(){n[1](void 0)}]},useId:function(){var t=td(Np++,11);if(!t.__){for(var e=Fp.__v;null!==e&&!e.__m&&null!==e.__;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__},useImperativeHandle:function(t,e,n){qp=6,rd((function(){return"function"==typeof t?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0}),null==n?n:n.concat(t))},useLayoutEffect:rd,useMemo:id,useReducer:nd,useRef:function(t){return qp=5,id((function(){return{current:t}}),[])},useState:ed};function fd(){const t=t=>Zc.createElementNS("http://www.w3.org/2000/svg",t),e=Jc(t("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=Jc(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return e.appendChild(n),e}function md({options:t}){const e=id(()=>({__html:fd().outerHTML}),[]);return _p("h2",{class:"dialog__header"},_p("span",{class:"dialog__title"},t.formTitle),t.showBranding?_p("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:e}):null)}function gd(t,e){const n=t.get(e);return"string"==typeof n?n.trim():""}function yd({options:t,defaultEmail:e,defaultName:n,onFormClose:r,onSubmit:i,onSubmitSuccess:o,onSubmitError:a,showEmail:s,showName:l,screenshotInput:u}){const{tags:c,addScreenshotButtonLabel:p,removeScreenshotButtonLabel:d,cancelButtonLabel:h,emailLabel:f,emailPlaceholder:m,isEmailRequired:g,isNameRequired:y,messageLabel:v,messagePlaceholder:_,nameLabel:b,namePlaceholder:x,submitButtonLabel:w,isRequiredLabel:k}=t,[C,E]=ed(null),[T,I]=ed(!1),M=u&&u.input,[A,O]=ed(null),P=od(t=>{O(t),I(!1)},[]),D=od(t=>{const e=function(t,e){const n=[];return e.isNameRequired&&!t.name&&n.push(e.nameLabel),e.isEmailRequired&&!t.email&&n.push(e.emailLabel),t.message||n.push(e.messageLabel),n}(t,{emailLabel:f,isEmailRequired:g,isNameRequired:y,messageLabel:v,nameLabel:b});return e.length>0?E("Please enter in the following required fields: "+e.join(", ")):E(null),0===e.length},[f,g,y,v,b]);return _p("form",{class:"form",onSubmit:od(async t=>{try{if(t.preventDefault(),!(t.target instanceof HTMLFormElement))return;const e=new FormData(t.target),n=await(u&&T?u.value():void 0),r={name:gd(e,"name"),email:gd(e,"email"),message:gd(e,"message"),attachments:n?[n]:void 0};if(!D(r))return;try{await i({name:r.name,email:r.email,message:r.message,source:"widget",tags:c},{attachments:r.attachments}),o(r)}catch(t){Xc&&S.c.error(t),E(t),a(t)}}catch(t){}},[u&&T,o,a])},M&&T?_p(M,{onError:P}):null,_p("div",{class:"form__right","data-sentry-feedback":!0},_p("div",{class:"form__top"},C?_p("div",{class:"form__error-container"},C):null,l?_p("label",{for:"name",class:"form__label"},_p(vd,{label:b,isRequiredLabel:k,isRequired:y}),_p("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:x,required:y,type:"text"})):_p("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),s?_p("label",{for:"email",class:"form__label"},_p(vd,{label:f,isRequiredLabel:k,isRequired:g}),_p("input",{class:"form__input",defaultValue:e,id:"email",name:"email",placeholder:m,required:g,type:"email"})):_p("input",{"aria-hidden":!0,value:e,name:"email",type:"hidden"}),_p("label",{for:"message",class:"form__label"},_p(vd,{label:v,isRequiredLabel:k,isRequired:!0}),_p("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:_,required:!0,rows:5})),M?_p("label",{for:"screenshot",class:"form__label"},_p("button",{class:"btn btn--default",type:"button",onClick:()=>{O(null),I(t=>!t)}},T?d:p),A?_p("div",{class:"form__error-container"},A.message):null):null),_p("div",{class:"btn-group"},_p("button",{class:"btn btn--primary",type:"submit"},w),_p("button",{class:"btn btn--default",type:"button",onClick:r},h))))}function vd({label:t,isRequired:e,isRequiredLabel:n}){return _p("span",{class:"form__label__text"},t,e&&_p("span",{class:"form__label__text--required"},n))}function _d(){const t=t=>Gc.document.createElementNS("http://www.w3.org/2000/svg",t),e=Jc(t("svg"),{width:"16",height:"17",viewBox:"0 0 16 17",fill:"inherit"}),n=Jc(t("g"),{clipPath:"url(#clip0_57_156)"}),r=Jc(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),i=Jc(t("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});e.appendChild(n).append(i,r);const o=t("defs"),a=Jc(t("clipPath"),{id:"clip0_57_156"}),s=Jc(t("rect"),{width:"16",height:"16",fill:"white",transform:"translate(0 0.5)"});return a.appendChild(s),o.appendChild(a),e.appendChild(o).appendChild(a).appendChild(s),e}function bd({open:t,onFormSubmitted:e,...n}){const r=n.options,i=id(()=>({__html:_d().outerHTML}),[]),[o,a]=ed(null),s=od(()=>{o&&(clearTimeout(o),a(null)),e()},[o]),l=od(t=>{n.onSubmitSuccess(t),a(setTimeout(()=>{e(),a(null)},5e3))},[e]);return _p(xp,null,o?_p("div",{class:"success__position",onClick:s},_p("div",{class:"success__content"},r.successMessageText,_p("span",{class:"success__icon",dangerouslySetInnerHTML:i}))):_p("dialog",{class:"dialog",onClick:r.onFormClose,open:t},_p("div",{class:"dialog__position"},_p("div",{class:"dialog__content",onClick:t=>{t.stopPropagation()}},_p(md,{options:r}),_p(yd,{...n,onSubmitSuccess:l})))))}const xd=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:t,screenshotIntegration:e,sendFeedback:n,shadow:r})=>{const i=r,o=t.useSentryUser,a=function(){const t=N().getUser(),e=F().getUser(),n=U().getUser();return t&&Object.keys(t).length?t:e&&Object.keys(e).length?e:n}(),s=Zc.createElement("div"),l=function(t){const e=Zc.createElement("style");return e.textContent="\n:host {\n  --dialog-inset: var(--inset);\n}\n\n\n.dialog {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: 0;\n  inset: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  height: 100vh;\n  width: 100vw;\n\n  color: var(--dialog-color, var(--foreground));\n  fill: var(--dialog-color, var(--foreground));\n  line-height: 1.75em;\n\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  inset: 0;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog__position {\n  position: fixed;\n  z-index: var(--z-index);\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  display: flex;\n  max-height: calc(100vh - (2 * var(--page-margin)));\n}\n@media (max-width: 600px) {\n  .dialog__position {\n    inset: var(--page-margin);\n    padding: 0;\n  }\n}\n\n.dialog__position:has(.editor) {\n  inset: var(--page-margin);\n  padding: 0;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: var(--dialog-padding, 24px);\n  max-width: 100%;\n  width: 100%;\n  max-height: 100%;\n  overflow: auto;\n\n  background: var(--dialog-background, var(--background));\n  border-radius: var(--dialog-border-radius, 20px);\n  border: var(--dialog-border, var(--border));\n  box-shadow: var(--dialog-box-shadow, var(--box-shadow));\n  transform: translate(0, 0) scale(1);\n  transition: transform 0.2s ease-in-out;\n}\n\n\n\n.dialog__header {\n  display: flex;\n  gap: 4px;\n  justify-content: space-between;\n  font-weight: var(--dialog-header-weight, 600);\n  margin: 0;\n}\n.dialog__title {\n  align-self: center;\n  width: var(--form-width, 272px);\n}\n\n@media (max-width: 600px) {\n  .dialog__title {\n    width: auto;\n  }\n}\n\n.dialog__position:has(.editor) .dialog__title {\n  width: auto;\n}\n\n\n.brand-link {\n  display: inline-flex;\n}\n.brand-link:focus-visible {\n  outline: var(--outline);\n}\n\n\n.form {\n  display: flex;\n  overflow: auto;\n  flex-direction: row;\n  gap: 16px;\n  flex: 1 0;\n}\n\n.form__right {\n  flex: 0 0 auto;\n  display: flex;\n  overflow: auto;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 20px;\n  width: var(--form-width, 100%);\n}\n\n.dialog__position:has(.editor) .form__right {\n  width: var(--form-width, 272px);\n}\n\n.form__top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.form__error-container {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: flex;\n  gap: 4px;\n  align-items: center;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background: transparent;\n  box-sizing: border-box;\n  border: var(--input-border, var(--border));\n  border-radius: var(--input-border-radius, 6px);\n  color: var(--input-color, inherit);\n  fill: var(--input-color, inherit);\n  font-size: var(--input-font-size, inherit);\n  font-weight: var(--input-font-weight, 500);\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  opacity: 0.65;\n  color: var(--input-placeholder-color, inherit);\n  filter: var(--interactive-filter);\n}\n\n.form__input:focus-visible {\n  outline: var(--input-focus-outline, var(--outline));\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.error {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--button-font-size, inherit);\n  font-weight: var(--button-font-weight, 600);\n  padding: var(--button-padding, 6px 16px);\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  color: var(--button-primary-color, var(--accent-foreground));\n  fill: var(--button-primary-color, var(--accent-foreground));\n  background: var(--button-primary-background, var(--accent-background));\n  border: var(--button-primary-border, var(--border));\n  border-radius: var(--button-primary-border-radius, 6px);\n  font-weight: var(--button-primary-font-weight, 500);\n}\n.btn--primary:hover {\n  color: var(--button-primary-hover-color, var(--accent-foreground));\n  fill: var(--button-primary-hover-color, var(--accent-foreground));\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n}\n.btn--primary:focus-visible {\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n  outline: var(--button-primary-focus-outline, var(--outline));\n}\n\n.btn--default {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-background, var(--background));\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  font-weight: var(--button-font-weight, 500);\n}\n.btn--default:hover {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n.btn--default:focus-visible {\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n  outline: var(--button-focus-outline, var(--outline));\n}\n\n\n.success__position {\n  position: fixed;\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  z-index: var(--z-index);\n}\n.success__content {\n  background: var(--success-background, var(--background));\n  border: var(--success-border, var(--border));\n  border-radius: var(--success-border-radius, 1.7em/50%);\n  box-shadow: var(--success-box-shadow, var(--box-shadow));\n  font-weight: var(--success-font-weight, 600);\n  color: var(--success-color);\n  fill: var(--success-color);\n  padding: 12px 24px;\n  line-height: 1.75em;\n\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success__icon {\n  display: flex;\n}\n\n",t&&e.setAttribute("nonce",t),e}(t.styleNonce);let u="";const c={get el(){return s},appendToDom(){i.contains(l)||i.contains(s)||(i.appendChild(l),i.appendChild(s))},removeFromDom(){i.removeChild(s),i.removeChild(l),Zc.body.style.overflow=u},open(){d(!0),t.onFormOpen&&t.onFormOpen(),u=Zc.body.style.overflow,Zc.body.style.overflow="hidden"},close(){d(!1),Zc.body.style.overflow=u}},p=e&&e.createInput({h:_p,hooks:hd,dialog:c,options:t}),d=e=>{!function(t,e,n){var r,i,o,a;sp.__&&sp.__(t,e),i=(r="function"==typeof n)?null:e.__k,o=[],a=[],zp(e,t=(!r&&n||e).__k=_p(xp,null,[t]),i||hp,hp,void 0!==e.ownerSVGElement,!r&&n?[n]:i?null:e.firstChild?ap.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r,a),t.__d=void 0,Lp(o,t,a)}(_p(bd,{options:t,screenshotInput:p,showName:t.showName||t.isNameRequired,showEmail:t.showEmail||t.isEmailRequired,defaultName:o&&a&&a[o.name]||"",defaultEmail:o&&a&&a[o.email]||"",onFormClose:()=>{d(!1),t.onFormClose&&t.onFormClose()},onSubmit:n,onSubmitSuccess:e=>{d(!1),t.onSubmitSuccess&&t.onSubmitSuccess(e)},onSubmitError:e=>{t.onSubmitError&&t.onSubmitError(e)},onFormSubmitted:()=>{t.onFormSubmitted&&t.onFormSubmitted()},open:e}),s)};return c}});function wd(t){const e=Zc.createElement("style");return e.textContent="\n.editor {\n  padding: 10px;\n  padding-top: 65px;\n  padding-bottom: 65px;\n  flex-grow: 1;\n\n  background-color: #1A141F;\n  background-image: repeating-linear-gradient(\n      -145deg,\n      transparent,\n      transparent 8px,\n      #1A141F 8px,\n      #1A141F 11px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 15px,\n      #302735 15px,\n      #302735 16px\n    );\n}\n\n.editor__canvas-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor__canvas-container canvas {\n  object-fit: contain;\n  position: relative;\n}\n\n.editor__crop-btn-group {\n  padding: 8px;\n  gap: 8px;\n  border-radius: var(--menu-border-radius, 6px);\n  background: var(--button-primary-background, var(--background));\n  width: 175px;\n  position: absolute;\n}\n\n.editor__crop-corner {\n  width: 30px;\n  height: 30px;\n  position: absolute;\n  background: none;\n  border: 3px solid #ffffff;\n}\n\n.editor__crop-corner--top-left {\n  cursor: nwse-resize;\n  border-right: none;\n  border-bottom: none;\n}\n.editor__crop-corner--top-right {\n  cursor: nesw-resize;\n  border-left: none;\n  border-bottom: none;\n}\n.editor__crop-corner--bottom-left {\n  cursor: nesw-resize;\n  border-right: none;\n  border-top: none;\n}\n.editor__crop-corner--bottom-right {\n  cursor: nwse-resize;\n  border-left: none;\n  border-top: none;\n}\n",t&&e.setAttribute("nonce",t),e}const kd=Gc.devicePixelRatio,Sd=t=>({x:Math.min(t.startX,t.endX),y:Math.min(t.startY,t.endY),width:Math.abs(t.startX-t.endX),height:Math.abs(t.startY-t.endY)}),Cd=t=>{const e=t.clientHeight,n=t.clientWidth,r=t.width/t.height;let i=e*r,o=e;i>n&&(i=n,o=n/r);const a=(n-i)/2,s=(e-o)/2;return{startX:a,startY:s,endX:i+a,endY:o+s}};function Ed({h:t,hooks:e,imageBuffer:n,dialog:r,options:i}){const o=function({hooks:t}){return function({onBeforeScreenshot:e,onScreenshot:n,onAfterScreenshot:r,onError:i}){t.useEffect(()=>{(async()=>{e();const t=await Kc.mediaDevices.getDisplayMedia({video:{width:Gc.innerWidth*Gc.devicePixelRatio,height:Gc.innerHeight*Gc.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),i=Zc.createElement("video");await new Promise((e,r)=>{i.srcObject=t,i.onloadedmetadata=()=>{n(i),t.getTracks().forEach(t=>t.stop()),e()},i.play().catch(r)}),r()})().catch(i)},[])}}({hooks:e});return function({onError:a}){const s=e.useMemo(()=>({__html:wd(i.styleNonce).innerText}),[]),l=function({h:t}){return function({top:e,left:n,corner:r,onGrabButton:i}){return t("button",{class:`editor__crop-corner editor__crop-corner--${r} `,style:{top:e,left:n},onMouseDown:t=>{t.preventDefault(),i(t,r)},onClick:t=>{t.preventDefault()}})}}({h:t}),u=e.useRef(null),c=e.useRef(null),p=e.useRef(null),[d,h]=e.useState({startX:0,startY:0,endX:0,endY:0}),[f,m]=e.useState(!1),[g,y]=e.useState(!1);function v(){const t=p.current,e=Sd(Cd(n));if(t){t.width=e.width*kd,t.height=e.height*kd,t.style.width=e.width+"px",t.style.height=e.height+"px";const n=t.getContext("2d");n&&n.scale(kd,kd)}const r=c.current;r&&(r.style.width=e.width+"px",r.style.height=e.height+"px"),h({startX:0,startY:0,endX:e.width,endY:e.height})}function _(t,e){m(!1),y(!0);const n=b(e),r=()=>{Zc.removeEventListener("mousemove",n),Zc.removeEventListener("mouseup",r),m(!0),y(!1)};Zc.addEventListener("mouseup",r),Zc.addEventListener("mousemove",n)}e.useEffect(()=>{Gc.addEventListener("resize",v,!1)},[]),e.useEffect(()=>{const t=p.current;if(!t)return;const e=t.getContext("2d");if(!e)return;const r=Sd(Cd(n)),i=Sd(d);e.clearRect(0,0,r.width,r.height),e.fillStyle="rgba(0, 0, 0, 0.5)",e.fillRect(0,0,r.width,r.height),e.clearRect(i.x,i.y,i.width,i.height),e.strokeStyle="#ffffff",e.lineWidth=3,e.strokeRect(i.x+1,i.y+1,i.width-2,i.height-2),e.strokeStyle="#000000",e.lineWidth=1,e.strokeRect(i.x+3,i.y+3,i.width-6,i.height-6)},[d]);const b=e.useCallback(t=>function(e){if(!p.current)return;const n=p.current,r=n.getBoundingClientRect(),i=e.clientX-r.x,o=e.clientY-r.y;switch(t){case"top-left":h(t=>({...t,startX:Math.min(Math.max(0,i),t.endX-33),startY:Math.min(Math.max(0,o),t.endY-33)}));break;case"top-right":h(t=>({...t,endX:Math.max(Math.min(i,n.width/kd),t.startX+33),startY:Math.min(Math.max(0,o),t.endY-33)}));break;case"bottom-left":h(t=>({...t,startX:Math.min(Math.max(0,i),t.endX-33),endY:Math.max(Math.min(o,n.height/kd),t.startY+33)}));break;case"bottom-right":h(t=>({...t,endX:Math.max(Math.min(i,n.width/kd),t.startX+33),endY:Math.max(Math.min(o,n.height/kd),t.startY+33)}))}},[]),x=e.useRef({initialX:0,initialY:0});return o({onBeforeScreenshot:e.useCallback(()=>{r.el.style.display="none"},[]),onScreenshot:e.useCallback(t=>{const e=n.getContext("2d");if(!e)throw new Error("Could not get canvas context");n.width=t.videoWidth,n.height=t.videoHeight,n.style.width="100%",n.style.height="100%",e.drawImage(t,0,0)},[n]),onAfterScreenshot:e.useCallback(()=>{r.el.style.display="block";const t=u.current;t&&t.appendChild(n),v()},[]),onError:e.useCallback(t=>{r.el.style.display="block",a(t)},[])}),t("div",{class:"editor"},t("style",{nonce:i.styleNonce,dangerouslySetInnerHTML:s}),t("div",{class:"editor__canvas-container",ref:u},t("div",{class:"editor__crop-container",style:{position:"absolute",zIndex:1},ref:c},t("canvas",{onMouseDown:function(t){if(g)return;x.current={initialX:t.clientX,initialY:t.clientY};const e=t=>{const e=p.current;if(!e)return;const n=t.clientX-x.current.initialX,r=t.clientY-x.current.initialY;h(i=>{const o=Math.max(0,Math.min(i.startX+n,e.width/kd-(i.endX-i.startX))),a=Math.max(0,Math.min(i.startY+r,e.height/kd-(i.endY-i.startY))),s=o+(i.endX-i.startX),l=a+(i.endY-i.startY);return x.current.initialX=t.clientX,x.current.initialY=t.clientY,{startX:o,startY:a,endX:s,endY:l}})},n=()=>{Zc.removeEventListener("mousemove",e),Zc.removeEventListener("mouseup",n)};Zc.addEventListener("mousemove",e),Zc.addEventListener("mouseup",n)},style:{position:"absolute",cursor:f?"move":"auto"},ref:p}),t(l,{left:d.startX-3,top:d.startY-3,onGrabButton:_,corner:"top-left"}),t(l,{left:d.endX-30+3,top:d.startY-3,onGrabButton:_,corner:"top-right"}),t(l,{left:d.startX-3,top:d.endY-30+3,onGrabButton:_,corner:"bottom-left"}),t(l,{left:d.endX-30+3,top:d.endY-30+3,onGrabButton:_,corner:"bottom-right"}),t("div",{style:{left:Math.max(0,d.endX-191),top:Math.max(0,d.endY+8),display:f?"flex":"none"},class:"editor__crop-btn-group"},t("button",{onClick:t=>{t.preventDefault(),p.current&&h({startX:0,startY:0,endX:p.current.width/kd,endY:p.current.height/kd}),m(!1)},class:"btn btn--default"},i.cancelButtonLabel),t("button",{onClick:t=>{t.preventDefault(),function(){const t=Zc.createElement("canvas"),e=Sd(Cd(n)),r=Sd(d);t.width=r.width*kd,t.height=r.height*kd;const i=t.getContext("2d");i&&n&&i.drawImage(n,r.x/e.width*n.width,r.y/e.height*n.height,r.width/e.width*n.width,r.height/e.height*n.height,0,0,t.width,t.height);const o=n.getContext("2d");o&&(o.clearRect(0,0,n.width,n.height),n.width=t.width,n.height=t.height,n.style.width=r.width+"px",n.style.height=r.height+"px",o.drawImage(t,0,0),v())}(),m(!1)},class:"btn btn--primary"},i.confirmButtonLabel)))))}}const Td=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:t,hooks:e,dialog:n,options:r})=>{const i=Zc.createElement("canvas");return{input:Ed({h:t,hooks:e,imageBuffer:i,dialog:n,options:r}),value:async()=>{const t=await new Promise(t=>{i.toBlob(t,"image/png")});if(t){return{data:new Uint8Array(await t.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}}),Id=ip({lazyLoadIntegration:ro}),Md=ip({getModalIntegration:()=>xd,getScreenshotIntegration:()=>Td});function Ad(t,e){const n=Object(u.b)("globalMetricsAggregators",()=>new WeakMap),r=n.get(t);if(r)return r;const i=new e(t);return t.on("flush",()=>i.flush()),t.on("close",()=>i.close()),n.set(t,i),i}function Od(t,e,n,r,i={}){const o=i.client||H();if(!o)return;const a=At(),s=a?Mt(a):void 0,l=s&&St(s).description,{unit:u,tags:c,timestamp:p}=i,{release:d,environment:h}=o.getOptions(),f={};d&&(f.release=d),h&&(f.environment=h),l&&(f.transaction=l),X&&S.c.log(`Adding value of ${r} to ${e} metric ${n}`);Ad(o,t).add(e,n,r,u,{...f,...c},p)}function Pd(t,e,n,r){Od(t,"d",e,zd(n),r)}const Dd={increment:function(t,e,n=1,r){Od(t,"c",e,zd(n),r)},distribution:Pd,set:function(t,e,n,r){Od(t,"s",e,n,r)},gauge:function(t,e,n,r){Od(t,"g",e,zd(n),r)},timing:function(t,e,n,r="second",i){if("function"==typeof n){const r=p();return cn({op:"metrics.timing",name:e,startTime:r,onlyIfParent:!0},o=>Le(()=>n(),()=>{},()=>{const n=p();Pd(t,e,n-r,{...i,unit:"second"}),o.end(n)}))}Pd(t,e,n,{...i,unit:r})},getMetricsAggregatorForClient:Ad};function zd(t){return"string"==typeof t?parseInt(t):t}function Ld(t){return t.replace(/[^\w\-./]+/gi,"")}const Rd=[["\n","\\n"],["\r","\\r"],["\t","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function Wd(t){return[...t].reduce((t,e)=>t+function(t){for(const[e,n]of Rd)if(t===e)return n;return t}(e),"")}function Bd(t,e){S.c.log("Flushing aggregated metrics, number of metrics: "+e.length);const n=function(t,e,n,r){const i={sent_at:(new Date).toISOString()};n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version});r&&e&&(i.dsn=je(e));const o=function(t){const e=function(t){let e="";for(const n of t){const t=Object.entries(n.tags),r=t.length>0?"|#"+t.map(([t,e])=>`${t}:${e}`).join(","):"";e+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return e}(t);return[{type:"statsd",length:e.length},e]}(t);return Ve(i,[o])}(e,t.getDsn(),t.getSdkMetadata(),t.getOptions().tunnel);t.sendEnvelope(n)}const jd={c:class{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return""+this._value}},g:class{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},d:class{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}},s:class{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>"string"==typeof t?function(t){let e=0;for(let n=0;n<t.length;n++){e=(e<<5)-e+t.charCodeAt(n),e&=e}return e>>>0}(t):t).join(":")}}};class Nd{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),5e3)}add(t,e,n,r="none",i={},o=p()){const a=Math.floor(o),s=e.replace(/[^\w\-.]+/gi,"_");const u=function(t){const e={};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){e[Ld(n)]=Wd(String(t[n]))}return e}(i),c=function(t){return t.replace(/[^\w]+/gi,"_")}(r),d=function(t,e,n,r){return`${t}${e}${n}${Object.entries(Object(l.c)(r)).sort((t,e)=>t[0].localeCompare(e[0]))}`}(t,s,c,u);let h=this._buckets.get(d);const f=h&&"s"===t?h.metric.weight:0;h?(h.metric.add(n),h.timestamp<a&&(h.timestamp=a)):(h={metric:new jd[t](n),timestamp:a,metricType:t,name:s,unit:c,tags:u},this._buckets.set(d,h));Ot(t,s,"string"==typeof n?h.metric.weight-f:n,c,i,d)}flush(){if(0===this._buckets.size)return;const t=Array.from(this._buckets.values());Bd(this._client,t),this._buckets.clear()}close(){clearInterval(this._interval),this.flush()}}const Fd={increment:function(t,e=1,n){Dd.increment(Nd,t,e,n)},distribution:function(t,e,n){Dd.distribution(Nd,t,e,n)},set:function(t,e,n){Dd.set(Nd,t,e,n)},gauge:function(t,e,n){Dd.gauge(Nd,t,e,n)},timing:function(t,e,n="second",r){return Dd.timing(Nd,t,e,n,r)}};function Ud(t){return"number"==typeof t&&isFinite(t)}function Vd(t,e,n,{...r}){const i=St(t).start_timestamp;return i&&i>e&&"function"==typeof t.updateStartTime&&t.updateStartTime(e),hn(t,()=>{const t=pn({startTime:e,...r});return t&&t.end(n),t})}function qd(t){const e=H();if(!e)return;const{name:n,transaction:r,attributes:i,startTime:o}=t,{release:a,environment:s}=e.getOptions(),l=e.getIntegrationByName("Replay"),u=l&&l.getReplayId(),c=N(),p=c.getUser(),d=void 0!==p?p.email||p.id||p.ip_address:void 0;let h;try{h=c.getScopeData().contexts.profile.profile_id}catch(t){}return pn({name:n,attributes:{release:a,environment:s,user:d||void 0,profile_id:h||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":Vr.navigator&&Vr.navigator.userAgent,...i},startTime:o,experimental:{standalone:!0}})}function Hd(){return Vr&&Vr.addEventListener&&Vr.performance}function Gd(t){return t/1e3}function Zd(t){let e="unknown",n="unknown",r="";for(const i of t){if("/"===i){[e,n]=t.split("/");break}if(!isNaN(Number(i))){e="h"===r?"http":r,n=t.split(r)[1];break}r+=i}return r===t&&(e=r),{name:e,version:n}}function Kd(t={}){const e=H();if(!function(){const t=H();return!!t&&!1!==t.getOptions().enabled&&!!t.getTransport()}()||!e)return{};const n=j(P());if(n.getTraceData)return n.getTraceData(t);const r=N(),i=t.span||At(),o=i?xt(i):function(t){const{traceId:e,sampled:n,spanId:r}=t.getPropagationContext();return yt(e,r,n)}(r),a=ut(i?Wt(i):Rt(e,r));return mt.test(o)?{"sentry-trace":o,baggage:a}:(S.c.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function Qd(t,e,n,r,i="auto.http.browser"){if(!t.fetchData)return;const o=pt()&&e(t.fetchData.url);if(t.endTimestamp&&o){const e=t.fetchData.__span;if(!e)return;const n=r[e];return void(n&&(!function(t,e){if(e.response){ft(t,e.response.status);const n=e.response&&e.response.headers&&e.response.headers.get("content-length");if(n){const e=parseInt(n);e>0&&t.setAttribute("http.response_content_length",e)}}else e.error&&t.setStatus({code:2,message:"internal_error"});t.end()}(n,t),delete r[e]))}const{method:l,url:u}=t.fetchData,c=function(t){try{return new URL(t).href}catch(t){return}}(u),p=c?Oi(c).host:void 0,d=!!At(),h=o&&d?pn({name:`${l} ${u}`,attributes:{url:u,type:"fetch","http.method":l,"http.url":c,"server.address":p,[s]:i,[a]:"http.client"}}):new We;if(t.fetchData.__span=h.spanContext().spanId,r[h.spanContext().spanId]=h,n(t.fetchData.url)){const e=t.args[0],n=t.args[1]||{},r=Xd(e,n,pt()&&d?h:void 0);r&&(t.args[1]=n,n.headers=r)}return h}function Xd(t,e,n){const r=Kd({span:n}),i=r["sentry-trace"],o=r.baggage;if(!i)return;const a=e.headers||(function(t){return"undefined"!=typeof Request&&Object(k.g)(t,Request)}(t)?t.headers:void 0);if(a){if(function(t){return"undefined"!=typeof Headers&&Object(k.g)(t,Headers)}(a)){const t=new Headers(a);if(t.set("sentry-trace",i),o){const e=t.get("baggage");if(e){const n=Yd(e);t.set("baggage",n?`${n},${o}`:o)}else t.set("baggage",o)}return t}if(Array.isArray(a)){const t=[...a.filter(t=>!(Array.isArray(t)&&"sentry-trace"===t[0])).map(t=>{if(Array.isArray(t)&&"baggage"===t[0]&&"string"==typeof t[1]){const[e,n,...r]=t;return[e,Yd(n),...r]}return t}),["sentry-trace",i]];return o&&t.push(["baggage",o]),t}{const t="baggage"in a?a.baggage:void 0;let e=[];return Array.isArray(t)?e=t.map(t=>"string"==typeof t?Yd(t):t).filter(t=>""===t):t&&e.push(Yd(t)),o&&e.push(o),{...a,"sentry-trace":i,baggage:e.length>0?e.join(","):void 0}}}return{...r}}function Yd(t){return t.split(",").filter(t=>!t.split("=")[0].startsWith("sentry-")).join(",")}const Jd=new WeakMap,$d=new Map,th={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function eh(t,e){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:o,enableHTTPTimings:l,tracePropagationTargets:u}={traceFetch:th.traceFetch,traceXHR:th.traceXHR,trackFetchStreamPerformance:th.trackFetchStreamPerformance,...e},c="function"==typeof o?o:t=>!0,p=t=>function(t,e){const n=hr.location&&hr.location.href;if(n){let r,i;try{r=new URL(t,n),i=new URL(n).origin}catch(t){return!1}const o=r.origin===i;return e?Object(f.c)(r.toString(),e)||o&&Object(f.c)(r.pathname,e):o}{const n=!!t.match(/^\/(?!\/)/);return e?Object(f.c)(t,e):n}}(t,u),d={};n&&(t.addEventProcessor(t=>("transaction"===t.type&&t.spans&&t.spans.forEach(t=>{if("http.client"===t.op){const e=$d.get(t.span_id);e&&(t.timestamp=e/1e3,$d.delete(t.span_id))}}),t)),i&&function(t){const e="fetch-body-resolved";ye(e,t),ve(e,()=>Ci(Ei))}(t=>{if(t.response){const e=Jd.get(t.response);e&&t.endTimestamp&&$d.set(e,t.endTimestamp)}}),Si(t=>{const e=Qd(t,c,p,d);if(t.response&&t.fetchData.__span&&Jd.set(t.response,t.fetchData.__span),e){const n=ih(t.fetchData.url),r=n?Oi(n).host:void 0;e.setAttributes({"http.url":n,"server.address":r})}l&&e&&nh(e)})),r&&vi(t=>{const e=function(t,e,n,r){const i=t.xhr,o=i&&i.__sentry_xhr_v3__;if(!i||i.__sentry_own_request__||!o)return;const l=pt()&&e(o.url);if(t.endTimestamp&&l){const t=i.__sentry_xhr_span_id__;if(!t)return;const e=r[t];return void(e&&void 0!==o.status_code&&(ft(e,o.status_code),e.end(),delete r[t]))}const u=ih(o.url),c=u?Oi(u).host:void 0,p=!!At(),d=l&&p?pn({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":u,url:o.url,"server.address":c,[s]:"auto.http.browser",[a]:"http.client"}}):new We;i.__sentry_xhr_span_id__=d.spanContext().spanId,r[i.__sentry_xhr_span_id__]=d,n(o.url)&&function(t,e){const{"sentry-trace":n,baggage:r}=Kd({span:e});n&&function(t,e,n){try{t.setRequestHeader("sentry-trace",e),n&&t.setRequestHeader("baggage",n)}catch(t){}}(t,n,r)}(i,pt()&&p?d:void 0);return d}(t,c,p,d);l&&e&&nh(e)})}function nh(t){const{url:e}=St(t).data||{};if(!e||"string"!=typeof e)return;const n=da("resource",({entries:r})=>{r.forEach(r=>{if(function(t){return"resource"===t.entryType&&"initiatorType"in t&&"string"==typeof t.nextHopProtocol&&("fetch"===t.initiatorType||"xmlhttprequest"===t.initiatorType)}(r)&&r.name.endsWith(e)){(function(t){const{name:e,version:n}=Zd(t.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",e]),!h)return r;return[...r,["http.request.redirect_start",rh(t.redirectStart)],["http.request.fetch_start",rh(t.fetchStart)],["http.request.domain_lookup_start",rh(t.domainLookupStart)],["http.request.domain_lookup_end",rh(t.domainLookupEnd)],["http.request.connect_start",rh(t.connectStart)],["http.request.secure_connection_start",rh(t.secureConnectionStart)],["http.request.connection_end",rh(t.connectEnd)],["http.request.request_start",rh(t.requestStart)],["http.request.response_start",rh(t.responseStart)],["http.request.response_end",rh(t.responseEnd)]]})(r).forEach(e=>t.setAttribute(...e)),setTimeout(n)}})})}function rh(t=0){return((h||performance.timeOrigin)+t)/1e3}function ih(t){try{return new URL(t,hr.location.origin).href}catch(t){return}}function oh(){let t,e,n=0;if(!function(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch(t){return!1}}())return;let r=!1;function i(){r||(r=!0,e&&function(t,e,n){Ur&&S.c.log(`Sending CLS span (${t})`);const r=Gd((h||0)+(e&&e.startTime||0)),i=N().getScopeData().transactionName,o=e?Object(Mi.d)(e.sources[0]&&e.sources[0].node):"Layout shift",u=Object(l.c)({[s]:"auto.http.browser.cls",[a]:"ui.webvital.cls","sentry.exclusive_time":e&&e.duration||0,"sentry.pageload.span_id":n}),c=qd({name:o,transaction:i,attributes:u,startTime:r});c&&(c.addEvent("cls",{"sentry.measurement_unit":"","sentry.measurement_value":t}),c.end(r))}(n,t,e),o())}const o=la(({metric:e})=>{const r=e.entries[e.entries.length-1];r&&(n=e.value,t=r)},!0);To(()=>{i()}),setTimeout(()=>{const t=H();if(!t)return;const n=t.on("startNavigationSpan",()=>{i(),n&&n()}),r=At(),o=r&&Mt(r),a=o&&St(o);a&&"pageload"===a.op&&(e=o.spanContext().spanId)},0)}let ah,sh,lh=0,uh={};function ch({recordClsStandaloneSpans:t}){const e=Hd();if(e&&h){e.mark&&Vr.performance.mark("sentry-tracing-init");const n=ca(({metric:t})=>{const e=t.entries[t.entries.length-1];if(!e)return;const n=Gd(h),r=Gd(e.startTime);uh.fid={value:t.value,unit:"millisecond"},uh["mark.fid"]={value:n+r,unit:"second"}}),r=ua(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(uh.lcp={value:t.value,unit:"millisecond"},ah=e)},!0),i=_a("ttfb",({metric:t})=>{t.entries[t.entries.length-1]&&(uh.ttfb={value:t.value,unit:"millisecond"})},ya,aa),o=t?oh():la(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(uh.cls={value:t.value,unit:""},sh=e)},!0);return()=>{n(),r(),i(),o&&o()}}return()=>{}}function ph(t,e){const n=Hd();if(!n||!n.getEntries||!h)return;const r=Gd(h),i=n.getEntries(),{op:o,start_timestamp:a}=St(t);if(i.slice(lh).forEach(e=>{const n=Gd(e.startTime),i=Gd(Math.max(0,e.duration));if(!("navigation"===o&&a&&r+n<a))switch(e.entryType){case"navigation":!function(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{dh(t,e,r,n)}),dh(t,e,"secureConnection",n,"TLS/SSL"),dh(t,e,"fetch",n,"cache"),dh(t,e,"domainLookup",n,"DNS"),function(t,e,n){const r=n+Gd(e.requestStart),i=n+Gd(e.responseEnd),o=n+Gd(e.responseStart);e.responseEnd&&(Vd(t,r,i,{op:"browser.request",name:e.name,attributes:{[s]:"auto.ui.browser.metrics"}}),Vd(t,o,i,{op:"browser.response",name:e.name,attributes:{[s]:"auto.ui.browser.metrics"}}))}(t,e,n)}(t,e,r);break;case"mark":case"paint":case"measure":{!function(t,e,n,r,i){const o=ko(!1),a=Gd(o?o.requestStart:0),l=i+Math.max(n,a),u=i+n,c=u+r,p={[s]:"auto.resource.browser.metrics"};l!==u&&(p["sentry.browser.measure_happened_before_request"]=!0,p["sentry.browser.measure_start_time"]=l);Vd(t,l,c,{name:e.name,op:e.entryType,attributes:p})}(t,e,n,i,r);const o=Po(),a=e.startTime<o.firstHiddenTime;"first-paint"===e.name&&a&&(uh.fp={value:e.startTime,unit:"millisecond"}),"first-contentful-paint"===e.name&&a&&(uh.fcp={value:e.startTime,unit:"millisecond"});break}case"resource":!function(t,e,n,r,i,o){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;const a=Oi(n),l={[s]:"auto.resource.browser.metrics"};hh(l,e,"transferSize","http.response_transfer_size"),hh(l,e,"encodedBodySize","http.response_content_length"),hh(l,e,"decodedBodySize","http.decoded_response_content_length");const u=e.deliveryType;null!=u&&(l["http.response_delivery_type"]=u);const c=e.renderBlockingStatus;c&&(l["resource.render_blocking_status"]=c);a.protocol&&(l["url.scheme"]=a.protocol.split(":").pop());a.host&&(l["server.address"]=a.host);l["url.same_origin"]=n.includes(Vr.location.origin);const{name:p,version:d}=Zd(e.nextHopProtocol);l["network.protocol.name"]=p,l["network.protocol.version"]=d;const h=o+r;Vd(t,h,h+i,{name:n.replace(Vr.location.origin,""),op:e.initiatorType?"resource."+e.initiatorType:"resource.other",attributes:l})}(t,e,e.name,n,i,r)}}),lh=Math.max(i.length-1,0),function(t){const e=Vr.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&t.setAttribute("connectionType",n.type),Ud(n.rtt)&&(uh["connection.rtt"]={value:n.rtt,unit:"millisecond"}));Ud(e.deviceMemory)&&t.setAttribute("deviceMemory",e.deviceMemory+" GB");Ud(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}(t),"pageload"===o){!function(t){const e=ko(!1);if(!e)return;const{responseStart:n,requestStart:r}=e;r<=n&&(t["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(uh);const n=uh["mark.fid"];n&&uh.fid&&(Vd(t,n.value,n.value+Gd(uh.fid.value),{name:"first input delay",op:"ui.action",attributes:{[s]:"auto.ui.browser.metrics"}}),delete uh["mark.fid"]),"fcp"in uh&&e.recordClsOnPageloadSpan||delete uh.cls,Object.entries(uh).forEach(([t,e])=>{nn(t,e.value,e.unit)}),t.setAttribute("performance.timeOrigin",r),t.setAttribute("performance.activationStart",So()),function(t){ah&&(ah.element&&t.setAttribute("lcp.element",Object(Mi.d)(ah.element)),ah.id&&t.setAttribute("lcp.id",ah.id),ah.url&&t.setAttribute("lcp.url",ah.url.trim().slice(0,200)),null!=ah.loadTime&&t.setAttribute("lcp.loadTime",ah.loadTime),null!=ah.renderTime&&t.setAttribute("lcp.renderTime",ah.renderTime),t.setAttribute("lcp.size",ah.size));sh&&sh.sources&&sh.sources.forEach((e,n)=>t.setAttribute("cls.source."+(n+1),Object(Mi.d)(e.node)))}(t)}ah=void 0,sh=void 0,uh={}}function dh(t,e,n,r,i=n){const o=e[function(t){if("secureConnection"===t)return"connectEnd";if("fetch"===t)return"domainLookupStart";return t+"End"}(n)],a=e[n+"Start"];a&&o&&Vd(t,r+Gd(a),r+Gd(o),{op:"browser."+i,name:e.name,attributes:{[s]:"auto.ui.browser.metrics"}})}function hh(t,e,n,r){const i=e[n];null!=i&&i<2147483647&&(t[r]=i)}const fh=[],mh=new Map;function gh(){if(Hd()&&h){const t=pa(({metric:t})=>{if(null==t.value)return;const e=t.entries.find(e=>e.duration===t.value&&yh[e.name]);if(!e)return;const{interactionId:n}=e,r=yh[e.name],i=Gd(h+e.startTime),o=Gd(t.value),u=At(),c=u?Mt(u):void 0,p=(null!=n?mh.get(n):void 0)||c,d=p?St(p).description:N().getScopeData().transactionName,f=qd({name:Object(Mi.d)(e.target),transaction:d,attributes:Object(l.c)({[s]:"auto.http.browser.inp",[a]:"ui.interaction."+r,"sentry.exclusive_time":e.duration}),startTime:i});f&&(f.addEvent("inp",{"sentry.measurement_unit":"millisecond","sentry.measurement_value":t.value}),f.end(i+o))});return()=>{t()}}return()=>{}}const yh={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};const vh={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function _h(t,e={}){const n=new Map;let r,i=!1,o="externalFinish",a=!e.disableAutoFinish;const s=[],{idleTimeout:l=vh.idleTimeout,finalTimeout:u=vh.finalTimeout,childSpanTimeout:c=vh.childSpanTimeout,beforeSpanEnd:d}=e,h=H();if(!h||!pt())return new We;const f=N(),m=At(),g=function(t){const e=pn(t);return I(N(),e),X&&S.c.log("[Tracing] Started span is an idle span"),e}(t);function y(){r&&(clearTimeout(r),r=void 0)}function v(t){y(),r=setTimeout(()=>{!i&&0===n.size&&a&&(o="idleTimeout",g.end(t))},l)}function _(t){r=setTimeout(()=>{!i&&a&&(o="heartbeatFailed",g.end(t))},c)}function b(t){i=!0,n.clear(),s.forEach(t=>t()),I(f,m);const e=St(g),{start_timestamp:r}=e;if(!r)return;(e.data||{})["sentry.idle_span_finish_reason"]||g.setAttribute("sentry.idle_span_finish_reason",o),S.c.log(`[Tracing] Idle span "${e.op}" finished`);const a=It(g).filter(t=>t!==g);let c=0;a.forEach(e=>{e.isRecording()&&(e.setStatus({code:2,message:"cancelled"}),e.end(t),X&&S.c.log("[Tracing] Cancelling span since span ended early",JSON.stringify(e,void 0,2)));const n=St(e),{timestamp:r=0,start_timestamp:i=0}=n,o=i<=t,a=r-i<=(u+l)/1e3;if(X){const t=JSON.stringify(e,void 0,2);o?a||S.c.log("[Tracing] Discarding span since it finished after idle span final timeout",t):S.c.log("[Tracing] Discarding span since it happened after idle span was finished",t)}a&&o||(!function(t,e){t._sentryChildSpans&&t._sentryChildSpans.delete(e)}(g,e),c++)}),c>0&&g.setAttribute("sentry.idle_span_discarded_spans",c)}return g.end=new Proxy(g.end,{apply(t,e,n){d&&d(g);const[r,...i]=n,o=wt(r||p()),a=It(g).filter(t=>t!==g);if(!a.length)return b(o),Reflect.apply(t,e,[o,...i]);const s=a.map(t=>St(t).timestamp).filter(t=>!!t),l=s.length?Math.max(...s):void 0,c=St(g).start_timestamp,h=Math.min(c?c+u/1e3:1/0,Math.max(c||-1/0,Math.min(o,l||1/0)));return b(h),Reflect.apply(t,e,[h,...i])}}),s.push(h.on("spanStart",t=>{if(i||t===g||St(t).timestamp)return;var e;It(g).includes(t)&&(e=t.spanContext().spanId,y(),n.set(e,!0),_(p()+c/1e3))})),s.push(h.on("spanEnd",t=>{i||function(t){if(n.has(t)&&n.delete(t),0===n.size){v(p()+l/1e3)}}(t.spanContext().spanId)})),s.push(h.on("idleSpanEnableAutoFinish",t=>{t===g&&(a=!0,v(),n.size&&_())})),e.disableAutoFinish||v(),setTimeout(()=>{i||(g.setStatus({code:2,message:"deadline_exceeded"}),o="finalTimeout",g.end())},u),g}const bh={...vh,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...th},xh=(t={})=>{Te();const{enableInp:e,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:o,enableStandaloneClsSpans:a},beforeStartSpan:l,idleTimeout:c,finalTimeout:p,childSpanTimeout:d,markBackgroundSpan:f,traceFetch:m,traceXHR:g,trackFetchStreamPerformance:y,shouldCreateSpanForRequest:v,enableHTTPTimings:_,instrumentPageLoad:b,instrumentNavigation:x}={...bh,...t},w=ch({recordClsStandaloneSpans:a||!1});e&&gh(),r&&u.a.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?new PerformanceObserver(t=>{const e=At();if(e)for(const n of t.getEntries()){if(!n.scripts[0])continue;const t=Gd(h+n.startTime),{start_timestamp:r,op:i}=St(e);if("navigation"===i&&r&&t<r)continue;const o=Gd(n.duration),a={[s]:"auto.ui.browser.metrics"},l=n.scripts[0],{invoker:u,invokerType:c,sourceURL:p,sourceFunctionName:d,sourceCharPosition:f}=l;a["browser.script.invoker"]=u,a["browser.script.invoker_type"]=c,p&&(a["code.filepath"]=p),d&&(a["code.function"]=d),-1!==f&&(a["browser.script.source_char_position"]=f),Vd(e,t,t+o,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:a})}}).observe({type:"long-animation-frame",buffered:!0}):n&&da("longtask",({entries:t})=>{const e=At();if(!e)return;const{op:n,start_timestamp:r}=St(e);for(const i of t){const t=Gd(h+i.startTime),o=Gd(i.duration);"navigation"===n&&r&&t<r||Vd(e,t,t+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[s]:"auto.ui.browser.metrics"}})}}),o&&da("event",({entries:t})=>{const e=At();if(e)for(const n of t)if("click"===n.name){const t=Gd(h+n.startTime),r=Gd(n.duration),i={name:Object(Mi.d)(n.target),op:"ui.interaction."+n.name,startTime:t,attributes:{[s]:"auto.ui.browser.metrics"}},o=Object(Mi.a)(n.target);o&&(i.attributes["ui.component_name"]=o),Vd(e,t,t+r,i)}});const k={name:void 0,source:void 0};function C(t,e){const n="pageload"===e.op,r=l?l(e):e,o=r.attributes||{};e.name!==r.name&&(o[i]="custom",r.attributes=o),k.name=r.name,k.source=o[i];const s=_h(r,{idleTimeout:c,finalTimeout:p,childSpanTimeout:d,disableAutoFinish:n,beforeSpanEnd:t=>{w(),ph(t,{recordClsOnPageloadSpan:!a})}});function u(){["interactive","complete"].includes(hr.document.readyState)&&t.emit("idleSpanEnableAutoFinish",s)}return n&&hr.document&&(hr.document.addEventListener("readystatechange",()=>{u()}),u()),s}return{name:"BrowserTracing",afterAllSetup(t){let n,r=hr.location&&hr.location.href;function a(){n&&!St(n).timestamp&&(wr&&S.c.log("[Tracing] Finishing current active span with op: "+St(n).op),n.end())}t.on("startNavigationSpan",e=>{H()===t&&(a(),n=C(t,{op:"navigation",...e}))}),t.on("startPageLoadSpan",(e,r={})=>{if(H()!==t)return;a();const i=gt(r.sentryTrace||Sh("sentry-trace"),r.baggage||Sh("baggage"));N().setPropagationContext(i),n=C(t,{op:"pageload",...e})}),t.on("spanEnd",t=>{const e=St(t).op;if(t!==Mt(t)||"navigation"!==e&&"pageload"!==e)return;const n=N(),r=n.getPropagationContext();n.setPropagationContext({...r,sampled:void 0!==r.sampled?r.sampled:Ct(t),dsc:r.dsc||Wt(t)})}),hr.location&&(b&&wh(t,{name:hr.location.pathname,startTime:h?h/1e3:void 0,attributes:{[i]:"url",[s]:"auto.pageload.browser"}}),x&&wi(({to:e,from:n})=>{void 0===n&&r&&-1!==r.indexOf(e)?r=void 0:n!==e&&(r=void 0,kh(t,{name:hr.location.pathname,attributes:{[i]:"url",[s]:"auto.navigation.browser"}}))})),f&&(hr&&hr.document?hr.document.addEventListener("visibilitychange",()=>{const t=At();if(!t)return;const e=Mt(t);if(hr.document.hidden&&e){const t="cancelled",{op:n,status:r}=St(e);wr&&S.c.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus({code:2,message:t}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):wr&&S.c.warn("[Tracing] Could not set up background tab detection due to lack of global document")),o&&function(t,e,n,r){let o;const a=()=>{const a="ui.action.click",s=At(),l=s&&Mt(s);if(l){const t=St(l).op;if(["navigation","pageload"].includes(t))return void(wr&&S.c.warn(`[Tracing] Did not create ${a} span because a pageload or navigation span is in progress.`))}o&&(o.setAttribute("sentry.idle_span_finish_reason","interactionInterrupted"),o.end(),o=void 0),r.name?o=_h({name:r.name,op:a,attributes:{[i]:r.source||"url"}},{idleTimeout:t,finalTimeout:e,childSpanTimeout:n}):wr&&S.c.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`)};hr.document&&addEventListener("click",a,{once:!1,capture:!0})}(c,p,d,k),e&&function(t){const e=({entries:t})=>{const e=At(),n=e&&Mt(e);t.forEach(t=>{if(!function(t){return"duration"in t}(t)||!n)return;const e=t.interactionId;if(null!=e&&!mh.has(e)){if(fh.length>10){const t=fh.shift();mh.delete(t)}fh.push(e),mh.set(e,n)}})};da("event",e),da("first-input",e)}(),eh(t,{traceFetch:m,traceXHR:g,trackFetchStreamPerformance:y,tracePropagationTargets:t.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:v,enableHTTPTimings:_})}}};function wh(t,e,n){t.emit("startPageLoadSpan",e,n),N().setTransactionName(e.name);const r=At();return"pageload"===(r&&St(r).op)?r:void 0}function kh(t,e){F().setPropagationContext({traceId:C()}),N().setPropagationContext({traceId:C()}),t.emit("startNavigationSpan",e),N().setTransactionName(e.name);const n=At();return"navigation"===(n&&St(n).op)?n:void 0}function Sh(t){const e=Object(Mi.b)(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}function Ch(t){function e(...t){X&&S.c.info("[Offline]:",...t)}return n=>{const r=t(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const i=n.createStore(n);let o,a=5e3;function s(t){o&&clearTimeout(o),o=setTimeout(async()=>{o=void 0;const t=await i.shift();t&&(e("Attempting to send previously queued event"),t[0].sent_at=(new Date).toISOString(),u(t,!0).catch(t=>{e("Failed to retry sending",t)}))},t),"number"!=typeof o&&o.unref&&o.unref()}function l(){o||(s(a),a=Math.min(2*a,36e5))}async function u(t,o=!1){if(!o&&Ge(t,["replay_event","replay_recording"]))return await i.push(t),s(100),{};try{const e=await r.send(t);let n=100;if(e)if(e.headers&&e.headers["retry-after"])n=Sn(e.headers["retry-after"]);else if(e.headers&&e.headers["x-sentry-rate-limits"])n=6e4;else if((e.statusCode||0)>=400)return e;return s(n),a=5e3,e}catch(r){if(await function(t,e,r){return!Ge(t,["client_report"])&&(!n.shouldStore||n.shouldStore(t,e,r))}(t,r,a))return o?await i.unshift(t):await i.push(t),l(),e("Error sending. Event queued.",r),{};throw r}}return n.flushAtStartup&&l(),{send:u,flush:t=>(void 0===t&&(a=5e3,s(100)),r.flush(t))}}}function Eh(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function Th(t){return Eh(t.getAllKeys())}function Ih(t){let e;function n(){return null==e&&(e=function(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Eh(n);return t=>r.then(n=>t(n.transaction(e,"readwrite").objectStore(e)))}(t.dbName||"sentry-offline",t.storeName||"queue")),e}return{push:async e=>{try{const r=await Ke(e);await function(t,e,n){return t(t=>Th(t).then(r=>{if(!(r.length>=n))return t.put(e,Math.max(...r,0)+1),Eh(t.transaction)}))}(n(),r,t.maxQueueSize||30)}catch(t){}},unshift:async e=>{try{const r=await Ke(e);await function(t,e,n){return t(t=>Th(t).then(r=>{if(!(r.length>=n))return t.put(e,Math.min(...r,0)-1),Eh(t.transaction)}))}(n(),r,t.maxQueueSize||30)}catch(t){}},shift:async()=>{try{const t=await function(t){return t(t=>Th(t).then(e=>{const n=e[0];if(null!=n)return Eh(t.get(n)).then(e=>(t.delete(n),Eh(t.transaction).then(()=>e)))}))}(n());if(t)return Qe(t)}catch(t){}}}}function Mh(t=Kr){return function(t){return e=>{const n=t({...e,createStore:Ih});return hr.addEventListener("online",async t=>{await n.flush()}),n}}(Ch(t))}const Ah=String(0);let Oh="",Ph="",Dh="",zh=hr.navigator&&hr.navigator.userAgent||"",Lh="";const Rh=hr.navigator&&hr.navigator.language||hr.navigator&&hr.navigator.languages&&hr.navigator.languages[0]||"";const Wh=hr.navigator&&hr.navigator.userAgentData;var Bh;function jh(t){return function(t){return!("thread_metadata"in t)}(t)?function(t){let e=void 0,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[Ah]:{name:"main"}}},i=t.samples[0];if(!i)return r;const o=i.timestamp,a="number"==typeof performance.timeOrigin?performance.timeOrigin:h||0,s=a-(h||a);return t.samples.forEach((i,a)=>{if(void 0===i.stackId)return void 0===e&&(e=n,r.stacks[e]=[],n++),void(r.samples[a]={elapsed_since_start_ns:(1e6*(i.timestamp+s-o)).toFixed(0),stack_id:e,thread_id:Ah});let l=t.stacks[i.stackId];const u=[];for(;l;){u.push(l.frameId);const e=t.frames[l.frameId];e&&void 0===r.frames[l.frameId]&&(r.frames[l.frameId]={function:e.name,abs_path:"number"==typeof e.resourceId?t.resources[e.resourceId]:void 0,lineno:e.line,colno:e.column}),l=void 0===l.parentId?void 0:t.stacks[l.parentId]}const c={elapsed_since_start_ns:(1e6*(i.timestamp+s-o)).toFixed(0),stack_id:n,thread_id:Ah};r.stacks[n]=u,r.samples[a]=c,n++}),r}(t):t}function Nh(t,e,n,r){if("transaction"!==r.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==n)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const i=function(t){const e=t&&t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id;return"string"==typeof e&&32!==e.length&&wr&&S.c.log(`[Profiling] Invalid traceId: ${e} on profiled event`),"string"!=typeof e?"":e}(r),o=jh(n),a=e||("number"==typeof r.start_timestamp?1e3*r.start_timestamp:1e3*p()),s="number"==typeof r.timestamp?1e3*r.timestamp:1e3*p();return{event_id:t,timestamp:new Date(a).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Q,runtime:{name:"javascript",version:hr.navigator.userAgent},os:{name:Oh,version:Ph,build_number:zh},device:{locale:Rh,model:Lh,manufacturer:zh,architecture:Dh,is_emulator:!1},debug_meta:{images:Uh(n.resources)},profile:o,transactions:[{name:r.transaction||"",id:r.event_id||m(),trace_id:i,active_thread_id:Ah,relative_start_ns:"0",relative_end_ns:(1e6*(s-a)).toFixed(0)}]}}function Fh(t){return"pageload"===St(t).op}function Uh(t){const e=H(),n=e&&e.getOptions(),r=n&&n.stackParser;return r?function(t,e){const n=it(t);if(!n)return[];const r=[];for(const t of e)t&&n[t]&&r.push({type:"sourcemap",code_file:t,debug_id:n[t]});return r}(r,t):[]}"object"==typeof(Bh=Wh)&&null!==Bh&&"getHighEntropyValues"in Bh&&Wh.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(t=>{if(Oh=t.platform||"",Dh=t.architecture||"",Lh=t.model||"",Ph=t.platformVersion||"",t.fullVersionList&&t.fullVersionList.length>0){const e=t.fullVersionList[t.fullVersionList.length-1];zh=`${e.brand} ${e.version}`}}).catch(t=>{});let Vh=!1;function qh(t){if(Vh)return wr&&S.c.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!t.isRecording())return wr&&S.c.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const e=H(),n=e&&e.getOptions();if(!n)return wr&&S.c.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;if(!("number"!=typeof(i=r)&&"boolean"!=typeof i||"number"==typeof i&&isNaN(i)?(wr&&S.c.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),0):!0===i||!1===i||!(i<0||i>1)||(wr&&S.c.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${i}.`),0)))return wr&&S.c.warn("[Profiling] Discarding profile because of invalid sample rate."),!1;var i;if(!r)return wr&&S.c.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1;return!!(!0===r||Math.random()<r)||(wr&&S.c.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1)}function Hh(t,e,n,r){return function(t){return t.samples.length<2?(wr&&S.c.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!t.frames.length||(wr&&S.c.log("[Profiling] Discarding profile because it contains no frames"),!1)}(n)?Nh(t,e,n,r):null}const Gh=new Map;function Zh(t){const e=Gh.get(t);return e&&Gh.delete(t),e}function Kh(t){let e;Fh(t)&&(e=1e3*p());const n=function(){const t=hr.Profiler;if("function"!=typeof t)return void(wr&&S.c.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));const e=Math.floor(3e3);try{return new t({sampleInterval:10,maxBufferSize:e})}catch(t){wr&&(S.c.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),S.c.log("[Profiling] Disabling profiling for current user session.")),Vh=!0}}();if(!n)return;wr&&S.c.log("[Profiling] started profiling span: "+St(t).description);const r=m();async function i(){if(t&&n)return n.stop().then(e=>{o&&(hr.clearTimeout(o),o=void 0),wr&&S.c.log("[Profiling] stopped profiling of span: "+St(t).description),e?function(t,e){if(Gh.set(t,e),Gh.size>30){const t=Gh.keys().next().value;Gh.delete(t)}}(r,e):wr&&S.c.log("[Profiling] profiler returned null profile for: "+St(t).description,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started")}).catch(t=>{wr&&S.c.log("[Profiling] error while stopping profiler:",t)})}N().setContext("profile",{profile_id:r,start_timestamp:e});let o=hr.setTimeout(()=>{wr&&S.c.log("[Profiling] max profile duration elapsed, stopping profiling for:",St(t).description),i()},3e4);const a=t.end.bind(t);t.end=function(){return t?(i().then(()=>{a()},()=>{a()}),t):a()}}const Qh=()=>({name:"BrowserProfiling",setup(t){const e=At(),n=e&&Mt(e);n&&Fh(n)&&qh(n)&&Kh(n),t.on("spanStart",t=>{t===Mt(t)&&qh(t)&&Kh(t)}),t.on("beforeEnvelope",t=>{if(!Gh.size)return;const e=function(t){const e=[];return He(t,(t,n)=>{if("transaction"===n)for(let n=1;n<t.length;n++){const r=t[n];r&&r.contexts&&r.contexts.profile&&r.contexts.profile.profile_id&&e.push(t[n])}}),e}(t);if(!e.length)return;const n=[];for(const t of e){const e=t&&t.contexts,r=e&&e.profile&&e.profile.profile_id,i=e&&e.profile&&e.profile.start_timestamp;if("string"!=typeof r){wr&&S.c.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!r){wr&&S.c.log("[Profiling] cannot find profile for a span without a profile context");continue}e&&e.profile&&delete e.profile;const o=Zh(r);if(!o){wr&&S.c.log("[Profiling] Could not retrieve profile for span: "+r);continue}const a=Hh(r,i,o,t);a&&n.push(a)}!function(t,e){if(!e.length)return t;for(const n of e)t[1].push([{type:"profile"},n])}(t,n)})}});const Xh=(t={})=>{const e=t.sidecarUrl||"http://localhost:8969/stream";return{name:"SpotlightBrowser",setup:()=>{wr&&S.c.log("Using Sidecar URL",e)},processEvent:t=>function(t){return Boolean("transaction"===t.type&&t.spans&&t.contexts&&t.contexts.trace&&"ui.action.click"===t.contexts.trace.op&&t.spans.some(({description:t})=>t&&t.includes("#sentry-spotlight")))}(t)?null:t,afterAllSetup:t=>{!function(t,e){const n=Hr("fetch");let r=0;t.on("beforeEnvelope",t=>{r>3?S.c.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r):n(e,{method:"POST",body:Ke(t),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(t=>{t.status>=200&&t.status<400&&(r=0)},t=>{r++,S.c.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",t)})})}(t,e)}}};function Yh(t){const e=N().getScopeData().contexts.flags,n=e?e.values:[];return n.length?(void 0===t.contexts&&(t.contexts={}),t.contexts.flags={values:[...n]},t):t}function Jh(t,e,n=100){const r=N().getScopeData().contexts;r.flags||(r.flags={values:[]});!function(t,e,n,r){if("boolean"!=typeof n)return;if(t.length>r)return void(wr&&S.c.error("[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize="+r));const i=t.findIndex(t=>t.flag===e);-1!==i&&t.splice(i,1);t.length===r&&t.shift();t.push({flag:e,result:n})}(r.flags.values,t,e,n)}const $h=()=>({name:"FeatureFlags",processEvent:(t,e,n)=>Yh(t),addFeatureFlag(t,e){Jh(t,e)}}),tf=()=>({name:"LaunchDarkly",processEvent:(t,e,n)=>Yh(t)});function ef(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(t,e,n)=>{Jh(t,e.value)}}}const nf=()=>({name:"OpenFeature",processEvent:(t,e,n)=>Yh(t)});class rf{after(t,e){Jh(e.flagKey,e.value)}error(t,e,n){Jh(t.flagKey,t.defaultValue)}}const of=({unleashClientClass:t})=>({name:"Unleash",processEvent:(t,e,n)=>Yh(t),setupOnce(){const e=t.prototype;Object(l.e)(e,"isEnabled",af)}});function af(t){return function(...e){const n=e[0],r=t.apply(this,e);return"string"==typeof n&&"boolean"==typeof r?Jh(n,r):wr&&S.c.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}const sf=({featureFlagClient:t})=>({name:"Statsig",processEvent:(t,e,n)=>Yh(t),setup(){t.on("gate_evaluation",t=>{Jh(t.gate.name,t.gate.value)})}});var lf=n(0);function uf(t){const e={...t};return xr(e,"react"),Kt("react",{version:lf.version}),Xi(e)}function cf(t,{componentStack:e},n){if(function(t){const e=t.match(/^([^.]+)/);return null!==e&&parseInt(e[0])>=17}(lf.version)&&Object(k.d)(t)&&e){const n=new Error(t.message);n.name="React ErrorBoundary "+t.name,n.stack=e,function(t,e){const n=new WeakSet;!function t(e,r){if(!n.has(e))return e.cause?(n.add(e),t(e.cause,r)):void(e.cause=r)}(t,e)}(t,n)}return Ht(t,{...n,captureContext:{contexts:{react:{componentStack:e}}}})}function pf(t){return(e,n)=>{const r=cf(e,n);t&&t(e,n,r)}}var df=n(63),hf=n.n(df);class ff extends lf.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:e,disabled:n=!1}=this.props;n||(this._mountSpan=pn({name:`<${e}>`,onlyIfParent:!0,op:"ui.react.mount",attributes:{[s]:"auto.ui.react.profiler","ui.component_name":e}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:e=!0}){if(e&&this._mountSpan&&t!==this.props.updateProps){const e=Object.keys(t).filter(e=>t[e]!==this.props.updateProps[e]);if(e.length>0){const t=p();this._updateSpan=hn(this._mountSpan,()=>pn({name:`<${this.props.name}>`,onlyIfParent:!0,op:"ui.react.update",startTime:t,attributes:{[s]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":e}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=p(),{name:e,includeRender:n=!0}=this.props;if(this._mountSpan&&n){const n=St(this._mountSpan).timestamp;hn(this._mountSpan,()=>{const r=pn({onlyIfParent:!0,name:`<${e}>`,op:"ui.react.render",startTime:n,attributes:{[s]:"auto.ui.react.profiler","ui.component_name":e}});r&&r.end(t)})}}render(){return this.props.children}}function mf(t,e){const n=e&&e.name||t.displayName||t.name||"unknown",r=r=>lf.createElement(ff,{...e,name:n,updateProps:r},lf.createElement(t,{...r}));return r.displayName=`profiler(${n})`,hf()(r,t),r}function gf(t,e={disabled:!1,hasRenderSpan:!0}){const[n]=lf.useState(()=>{if(!e||!e.disabled)return pn({name:`<${t}>`,onlyIfParent:!0,op:"ui.react.mount",attributes:{[s]:"auto.ui.react.profiler","ui.component_name":t}})});lf.useEffect(()=>(n&&n.end(),()=>{if(n&&e.hasRenderSpan){const e=St(n).timestamp,r=p(),i=pn({name:`<${t}>`,onlyIfParent:!0,op:"ui.react.render",startTime:e,attributes:{[s]:"auto.ui.react.profiler","ui.component_name":t}});i&&i.end(r)}}),[])}ff.__initStatic();const yf="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,vf={componentStack:null,error:null,eventId:null};class _f extends lf.Component{constructor(t){super(t),_f.prototype.__init.call(this),this.state=vf,this._openFallbackReportDialog=!0;const e=H();e&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=e.on("afterSendEvent",e=>{!e.type&&this._lastEventId&&e.event_id===this._lastEventId&&Yi({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,e){const{componentStack:n}=e,r=null==n?void 0:n,{beforeCapture:i,onError:o,showDialog:a,dialogOptions:s}=this.props;V(l=>{i&&i(l,t,r);const u=null!=this.props.handled?this.props.handled:!!this.props.fallback,c=cf(t,e,{mechanism:{handled:u}});o&&o(t,r,c),a&&(this._lastEventId=c,this._openFallbackReportDialog&&Yi({...s,eventId:c})),this.setState({error:t,componentStack:n,eventId:c})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:e,eventId:n}=this.state,{onUnmount:r}=this.props;r&&r(t,e,n),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:e,componentStack:n,eventId:r}=this.state;t&&t(e,n,r),this.setState(vf)}}render(){const{fallback:t,children:e}=this.props,n=this.state;if(n.error){let e=void 0;return e="function"==typeof t?lf.createElement(t,{error:n.error,componentStack:n.componentStack,resetError:this.resetErrorBoundary,eventId:n.eventId}):t,lf.isValidElement(e)?e:(t&&yf&&S.c.warn("fallback did not produce a valid ReactElement"),null)}return"function"==typeof e?e():e}}function bf(t,e){const n=t.displayName||t.name||"unknown",r=n=>lf.createElement(_f,{...e},lf.createElement(t,{...n}));return r.displayName=`errorBoundary(${n})`,hf()(r,t),r}const xf={attachReduxState:!0,actionTransformer:t=>t,stateTransformer:t=>t||null};function wf(t){const e={...xf,...t};return t=>(n,r)=>{e.attachReduxState&&U().addEventProcessor((t,e)=>{try{void 0===t.type&&"redux"===t.contexts.state.state.type&&(e.attachments=[...e.attachments||[],{filename:"redux_state.json",data:JSON.stringify(t.contexts.state.state.value)}])}catch(t){}return t});return t((t,r)=>{const i=n(t,r),o=N(),a=e.actionTransformer(r);null!=a&&K({category:"redux.action",data:a,type:"info"});const s=e.stateTransformer(i);if(null!=s){const t=H(),e=t&&t.getOptions(),n=e&&e.normalizeDepth||3,r={state:{type:"redux",value:s}};Object(l.a)(r,"__sentry_override_normalization_depth__",3+n),o.setContext("state",r)}else o.setContext("state",null);const{configureScopeWithState:u}=e;return"function"==typeof u&&u(o,i),i},r)}}function kf(t){const e=xh({...t,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,match:o,instrumentPageLoad:l=!0,instrumentNavigation:u=!0}=t;return{...e,afterAllSetup(t){e.afterAllSetup(t),l&&hr&&hr.location&&Sf(r,hr.location,o,(e,n="url")=>{wh(t,{name:e,attributes:{[a]:"pageload",[s]:"auto.pageload.react.reactrouter_v3",[i]:n}})}),u&&n.listen&&n.listen(e=>{"PUSH"!==e.action&&"POP"!==e.action||Sf(r,e,o,(e,n="url")=>{kh(t,{name:e,attributes:{[a]:"navigation",[s]:"auto.navigation.react.reactrouter_v3",[i]:n}})})})}}}function Sf(t,e,n,r){let i=e.pathname;n({location:e,routes:t},(t,e,n)=>{if(t||!n)return r(i);const o=function(t){if(!Array.isArray(t)||0===t.length)return"";const e=t.filter(t=>!!t.path);let n=-1;for(let t=e.length-1;t>=0;t--){const r=e[t];if(r.path&&r.path.startsWith("/")){n=t;break}}return e.slice(n).filter(({path:t})=>!!t).map(({path:t})=>t).join("")}(n.routes||[]);return 0===o.length||"/*"===o?r(i):(i=o,r(i,"route"))})}function Cf(t,e={}){const n=t,r=xh({...e,instrumentNavigation:!1,instrumentPageLoad:!1}),{instrumentPageLoad:o=!0,instrumentNavigation:l=!0}=e;return{...r,afterAllSetup(t){r.afterAllSetup(t);const e=hr.location;if(o&&e){const r=n.matchRoutes(e.pathname,n.options.parseSearch(e.search),{preload:!1,throwOnError:!1}),o=r[r.length-1];wh(t,{name:o?o.routeId:e.pathname,attributes:{[a]:"pageload",[s]:"auto.pageload.react.tanstack_router",[i]:o?"route":"url",...Ef(o)}})}l&&n.subscribe("onBeforeNavigate",e=>{const r=e.fromLocation&&e.fromLocation.state;if(e.toLocation.state===r)return;const o=n.matchRoutes(e.toLocation.pathname,e.toLocation.search,{preload:!1,throwOnError:!1}),l=o[o.length-1],u=hr.location,c=kh(t,{name:l?l.routeId:u.pathname,attributes:{[a]:"navigation",[s]:"auto.navigation.react.tanstack_router",[i]:l?"route":"url"}}),p=n.subscribe("onResolved",t=>{if(p(),c){const e=n.matchRoutes(t.toLocation.pathname,t.toLocation.search,{preload:!1,throwOnError:!1}),r=e[e.length-1];r&&(c.updateName(r.routeId),c.setAttribute(i,"route"),c.setAttributes(Ef(r)))}})})}}}function Ef(t){if(!t)return{};const e={};return Object.entries(t.params).forEach(([t,n])=>{e["url.path.params."+t]=n}),e}function Tf(t){const e=xh({...t,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:i,instrumentPageLoad:o=!0,instrumentNavigation:a=!0}=t;return{...e,afterAllSetup(t){e.afterAllSetup(t),Mf(t,o,a,n,"reactrouter_v4",r,i)}}}function If(t){const e=xh({...t,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:i,instrumentPageLoad:o=!0,instrumentNavigation:a=!0}=t;return{...e,afterAllSetup(t){e.afterAllSetup(t),Mf(t,o,a,n,"reactrouter_v5",r,i)}}}function Mf(t,e,n,r,o,l=[],u){function c(t){if(0===l.length||!u)return[t,"url"];const e=function t(e,n,r,i=[]){return e.some(e=>{const o=e.path?r(n,e):i.length?i[i.length-1].match:function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}}(n);return o&&(i.push({route:e,match:o}),e.routes&&t(e.routes,n,r,i)),!!o}),i}(l,t,u);for(const t of e)if(t.match.isExact)return[t.match.path,"route"];return[t,"url"]}if(e){const e=r&&r.location?r.location.pathname:hr&&hr.location?hr.location.pathname:void 0;if(e){const[n,r]=c(e);wh(t,{name:n,attributes:{[a]:"pageload",[s]:"auto.pageload.react."+o,[i]:r}})}}n&&r.listen&&r.listen((e,n)=>{if(n&&("PUSH"===n||"POP"===n)){const[n,r]=c(e.pathname);kh(t,{name:n,attributes:{[a]:"navigation",[s]:"auto.navigation.react."+o,[i]:r}})}})}function Af(t){const e=t.displayName||t.name,n=e=>{if(e&&e.computedMatch&&e.computedMatch.isExact){const t=e.computedMatch.path,n=function(){const t=At(),e=t&&Mt(t);if(!e)return;const n=St(e).op;return"navigation"===n||"pageload"===n?e:void 0}();N().setTransactionName(t),n&&(n.updateName(t),n.setAttribute(i,"route"))}return lf.createElement(t,{...e})};return n.displayName=`sentryRoute(${e})`,hf()(n,t),n}let Of,Pf,Df,zf,Lf,Rf=!1;const Wf=new WeakSet,Bf=new Set;function jf(t,e){return Of&&Pf&&Df&&Lf?function(n,r){n.forEach(t=>{Bf.add(t)});const i=t(n,r),o=r&&r.basename,a=im();return"POP"===i.state.historyAction&&a&&nm(a,i.state.location,n,void 0,o,Array.from(Bf)),i.subscribe(t=>{"PUSH"!==t.historyAction&&"POP"!==t.historyAction||("idle"!==t.navigation.state?requestAnimationFrame(()=>{Vf({location:t.location,routes:n,navigationType:t.historyAction,version:e,basename:o,allRoutes:Array.from(Bf)})}):Vf({location:t.location,routes:n,navigationType:t.historyAction,version:e,basename:o,allRoutes:Array.from(Bf)}))}),i}:(yf&&S.c.warn(`reactRouterV${e}Instrumentation was unable to wrap the \`createRouter\` function because of one or more missing parameters.`),t)}function Nf(t,e){return Of&&Pf&&Df&&Lf?function(n,r){n.forEach(t=>{Bf.add(t)});const i=t(n,r),o=r?r.basename:void 0,a=im();let s=void 0;const l=r?r.initialEntries:void 0,u=r?r.initialIndex:void 0,c=l&&1===l.length,p=void 0!==u&&l&&l[u];s=c?l[0]:p?l[u]:void 0;const d=s?"string"==typeof s?{pathname:s}:s:i.state.location;return"POP"===i.state.historyAction&&a&&nm(a,d,n,void 0,o,Array.from(Bf)),i.subscribe(t=>{const r=t.location;"PUSH"!==t.historyAction&&"POP"!==t.historyAction||Vf({location:r,routes:n,navigationType:t.historyAction,version:e,basename:o,allRoutes:Array.from(Bf)})}),i}:(yf&&S.c.warn(`reactRouterV${e}Instrumentation was unable to wrap the \`createMemoryRouter\` function because of one or more missing parameters.`),t)}function Ff(t,e){const n=xh({...t,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:r,useLocation:o,useNavigationType:l,createRoutesFromChildren:u,matchRoutes:c,stripBasename:p,instrumentPageLoad:d=!0,instrumentNavigation:h=!0}=t;return{...n,setup(){Of=r,Pf=o,Df=l,Lf=c,zf=u,Rf=p||!1},afterAllSetup(t){n.afterAllSetup(t);const r=hr&&hr.location&&hr.location.pathname;d&&r&&wh(t,{name:r,attributes:{[i]:"url",[a]:"pageload",[s]:"auto.pageload.react.reactrouter_v"+e}}),h&&Wf.add(t)}}}function Uf(t,e){if(!(Of&&Pf&&Df&&Lf))return yf&&S.c.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),t;const n=n=>{const r=lf.useRef(!0),{routes:i,locationArg:o}=n,a=t(i,o),s=Pf(),l=Df(),u="string"==typeof o||o&&o.pathname?o:s;return Of(()=>{const t="string"==typeof u?{pathname:u}:u;r.current?(i.forEach(t=>{Qf(t).forEach(t=>{Bf.add(t)})}),nm(im(),t,i,void 0,void 0,Array.from(Bf)),r.current=!1):Vf({location:t,routes:i,navigationType:l,version:e,allRoutes:Array.from(Bf)})},[l,u]),a};return(t,e)=>lf.createElement(n,{routes:t,locationArg:e})}function Vf(t){const{location:e,routes:n,navigationType:r,version:o,matches:l,basename:u,allRoutes:c}=t,p=Array.isArray(l)?l:Lf(n,e,u),d=H();if(d&&Wf.has(d)&&("PUSH"===r||"POP"===r)&&p){let t,r="url";const l=Kf(e,c||n);l&&(t=$f(tm(c||n,e)),r="route"),l&&t||([t,r]=em(n,e,p,u)),kh(d,{name:t,attributes:{[i]:r,[a]:"navigation",[s]:"auto.navigation.react.reactrouter_v"+o}})}}function qf(t,e){if(!e||"/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return t;const n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&"/"!==r?t:t.slice(n)||"/"}function Hf(t,e,n){const r=t||Rf?qf(e,n):e;return["/"===r[r.length-1]||"/*"===r.slice(-2)?r.slice(0,-1):r,"route"]}function Gf(t){return t.endsWith("*")}function Zf(t,e){return Gf(t)&&e.route.children&&e.route.children.length>0||!1}function Kf(t,e){const n=Lf(e,t);if(n)for(const t of n)if(!(r=t.route).children&&r.element&&r.path&&r.path.endsWith("/*")&&Yf(t))return!0;var r;return!1}function Qf(t,e=new Set){return e.has(t)||(e.add(t),t.children&&!t.index&&t.children.forEach(t=>{Qf(t,e).forEach(t=>e.add(t))})),e}function Xf(t){return"*"===(e=t.route.path||"")[e.length-1]?e.slice(0,-1):e;var e}function Yf(t){return t.params["*"]||""}function Jf(t){return"/"===t[t.length-1]?t.slice(0,-1):t}function $f(t){return"/"===t[0]?t:"/"+t}function tm(t,e){const n=Lf(t,e);if(!n||0===n.length)return"";for(const r of n)if(r.route.path&&"*"!==r.route.path){const n=Xf(r),i=qf(e.pathname,$f(r.pathnameBase));return Jf(Jf(n||"")+$f(tm(t.filter(t=>t!==r.route),{pathname:i})))}return""}function em(t,e,n,r=""){if(!t||0===t.length)return[Rf?qf(e.pathname,r):e.pathname,"url"];let i="";if(n)for(const t of n){const n=t.route;if(n){if(n.index)return Hf(i,t.pathname,r);const o=n.path;if(o&&!Zf(o,t)){const n="/"===o[0]||"/"===i[i.length-1]?o:"/"+o;if(i=Jf(i)+$f(n),Jf(e.pathname)===Jf(r+t.pathname))return Pi(i)===Pi(t.pathname)||Gf(i)?(Zf(i,t)&&(i=i.slice(0,-1)),[(Rf?"":r)+i,"route"]):[(Rf?"":r)+n,"route"]}}}return[Rf?qf(e.pathname,r):e.pathname||"/","url"]}function nm(t,e,n,r,o,a){const s=Array.isArray(r)?r:Lf(a||n,e,o);if(s){let r,l="url";const u=Kf(e,a||n);u&&(r=$f(tm(a||n,e)),l="route"),u&&r||([r,l]=em(n,e,s,o)),N().setTransactionName(r||"/"),t&&(t.updateName(r),t.setAttribute(i,l))}}function rm(t,e){if(!(Of&&Pf&&Df&&zf&&Lf))return yf&&S.c.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.\n      useEffect: ${Of}. useLocation: ${Pf}. useNavigationType: ${Df}.\n      createRoutesFromChildren: ${zf}. matchRoutes: ${Lf}.`),t;const n=n=>{const r=lf.useRef(!0),i=Pf(),o=Df();return Of(()=>{const t=zf(n.children);r.current?(t.forEach(t=>{Qf(t).forEach(t=>{Bf.add(t)})}),nm(im(),i,t,void 0,void 0,Array.from(Bf)),r.current=!1):Vf({location:i,routes:t,navigationType:o,version:e,allRoutes:Array.from(Bf)})},[i,o]),lf.createElement(t,{...n})};return hf()(n,t),n}function im(){const t=At(),e=t?Mt(t):void 0;if(!e)return;const n=St(e).op;return"navigation"===n||"pageload"===n?e:void 0}function om(t){return Ff(t,"6")}function am(t){return Uf(t,"6")}const sm=am;function lm(t){return jf(t,"6")}const um=lm;function cm(t){return Nf(t,"6")}function pm(t){return rm(t,"6")}function dm(t){return Ff(t,"7")}function hm(t){return rm(t,"7")}function fm(t){return jf(t,"7")}function mm(t){return Nf(t,"7")}function gm(t){return Uf(t,"7")}},function(t,e){t.exports=function(t,e,n,r){var i=n?n.call(r,t,e):void 0;if(void 0!==i)return!!i;if(t===e)return!0;if("object"!=typeof t||!t||"object"!=typeof e||!e)return!1;var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(e),l=0;l<o.length;l++){var u=o[l];if(!s(u))return!1;var c=t[u],p=e[u];if(!1===(i=n?n.call(r,c,p,u):void 0)||void 0===i&&c!==p)return!1}return!0}},function(t,e,n){"use strict";e.a=function(t){function e(t,e,r){var i=e.trim().split(f);e=i;var o=i.length,a=t.length;switch(a){case 0:case 1:var s=0;for(t=0===a?"":t[0]+" ";s<o;++s)e[s]=n(t,e[s],r).trim();break;default:var l=s=0;for(e=[];s<o;++s)for(var u=0;u<a;++u)e[l++]=n(t[u]+" ",i[s],r).trim()}return e}function n(t,e,n){var r=e.charCodeAt(0);switch(33>r&&(r=(e=e.trim()).charCodeAt(0)),r){case 38:return e.replace(m,"$1"+t.trim());case 58:return t.trim()+e.replace(m,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(m,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function r(t,e,n,o){var a=t+";",s=2*e+3*n+4*o;if(944===s){t=a.indexOf(":",9)+1;var l=a.substring(t,a.length-1).trim();return l=a.substring(0,t).trim()+l+";",1===M||2===M&&i(l,1)?"-webkit-"+l+l:l}if(0===M||2===M&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(C,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return d.test(a)?a.replace(p,":-webkit-")+a.replace(p,":-moz-")+a:a;case 1e3:switch(e=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(e)){case 226:l=a.replace(_,"tb");break;case 232:l=a.replace(_,"tb-rl");break;case 220:l=a.replace(_,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(e=(a=t).length-10,s=(l=(33===a.charCodeAt(e)?a.substring(0,e):a).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(w,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(w,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===S.test(t))return 115===(l=t.substring(t.indexOf(":")+1)).charCodeAt(0)?r(t.replace("stretch","fill-available"),e,n,o).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+a}return a}function i(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),D(2!==e?r:r.replace(k,"$1"),n,e)}function o(t,e){var n=r(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(x," or ($1)").substring(4):"("+e+")"}function a(t,e,n,r,i,o,a,s,u,c){for(var p,d=0,h=e;d<P;++d)switch(p=O[d].call(l,t,h,n,r,i,o,a,s,u,c)){case void 0:case!1:case!0:case null:break;default:h=p}if(h!==e)return h}function s(t){return void 0!==(t=t.prefix)&&(D=null,t?"function"!=typeof t?M=1:(M=2,D=t):M=0),s}function l(t,n){var s=t;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<P){var l=a(-1,n,s,s,T,E,0,0,0,0);void 0!==l&&"string"==typeof l&&(n=l)}var p=function t(n,s,l,p,d){for(var h,f,m,_,x,w=0,k=0,S=0,C=0,O=0,D=0,L=m=h=0,R=0,W=0,B=0,j=0,N=l.length,F=N-1,U="",V="",q="",H="";R<N;){if(f=l.charCodeAt(R),R===F&&0!==k+C+S+w&&(0!==k&&(f=47===k?10:47),C=S=w=0,N++,F++),0===k+C+S+w){if(R===F&&(0<W&&(U=U.replace(c,"")),0<U.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:U+=l.charAt(R)}f=59}switch(f){case 123:for(h=(U=U.trim()).charCodeAt(0),m=1,j=++R;R<N;){switch(f=l.charCodeAt(R)){case 123:m++;break;case 125:m--;break;case 47:switch(f=l.charCodeAt(R+1)){case 42:case 47:t:{for(L=R+1;L<F;++L)switch(l.charCodeAt(L)){case 47:if(42===f&&42===l.charCodeAt(L-1)&&R+2!==L){R=L+1;break t}break;case 10:if(47===f){R=L+1;break t}}R=L}}break;case 91:f++;case 40:f++;case 34:case 39:for(;R++<F&&l.charCodeAt(R)!==f;);}if(0===m)break;R++}switch(m=l.substring(j,R),0===h&&(h=(U=U.replace(u,"").trim()).charCodeAt(0)),h){case 64:switch(0<W&&(U=U.replace(c,"")),f=U.charCodeAt(1)){case 100:case 109:case 115:case 45:W=s;break;default:W=A}if(j=(m=t(s,W,m,f,d+1)).length,0<P&&(x=a(3,m,W=e(A,U,B),s,T,E,j,f,d,p),U=W.join(""),void 0!==x&&0===(j=(m=x.trim()).length)&&(f=0,m="")),0<j)switch(f){case 115:U=U.replace(b,o);case 100:case 109:case 45:m=U+"{"+m+"}";break;case 107:m=(U=U.replace(g,"$1 $2"))+"{"+m+"}",m=1===M||2===M&&i("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=U+m,112===p&&(V+=m,m="")}else m="";break;default:m=t(s,e(s,U,B),m,p,d+1)}q+=m,m=B=W=L=h=0,U="",f=l.charCodeAt(++R);break;case 125:case 59:if(1<(j=(U=(0<W?U.replace(c,""):U).trim()).length))switch(0===L&&(h=U.charCodeAt(0),45===h||96<h&&123>h)&&(j=(U=U.replace(" ",":")).length),0<P&&void 0!==(x=a(1,U,s,n,T,E,V.length,p,d,p))&&0===(j=(U=x.trim()).length)&&(U="\0\0"),h=U.charCodeAt(0),f=U.charCodeAt(1),h){case 0:break;case 64:if(105===f||99===f){H+=U+l.charAt(R);break}default:58!==U.charCodeAt(j-1)&&(V+=r(U,h,f,U.charCodeAt(2)))}B=W=L=h=0,U="",f=l.charCodeAt(++R)}}switch(f){case 13:case 10:47===k?k=0:0===1+h&&107!==p&&0<U.length&&(W=1,U+="\0"),0<P*z&&a(0,U,s,n,T,E,V.length,p,d,p),E=1,T++;break;case 59:case 125:if(0===k+C+S+w){E++;break}default:switch(E++,_=l.charAt(R),f){case 9:case 32:if(0===C+w+k)switch(O){case 44:case 58:case 9:case 32:_="";break;default:32!==f&&(_=" ")}break;case 0:_="\\0";break;case 12:_="\\f";break;case 11:_="\\v";break;case 38:0===C+k+w&&(W=B=1,_="\f"+_);break;case 108:if(0===C+k+w+I&&0<L)switch(R-L){case 2:112===O&&58===l.charCodeAt(R-3)&&(I=O);case 8:111===D&&(I=D)}break;case 58:0===C+k+w&&(L=R);break;case 44:0===k+S+C+w&&(W=1,_+="\r");break;case 34:case 39:0===k&&(C=C===f?0:0===C?f:C);break;case 91:0===C+k+S&&w++;break;case 93:0===C+k+S&&w--;break;case 41:0===C+k+w&&S--;break;case 40:if(0===C+k+w){if(0===h)switch(2*O+3*D){case 533:break;default:h=1}S++}break;case 64:0===k+S+C+w+L+m&&(m=1);break;case 42:case 47:if(!(0<C+w+S))switch(k){case 0:switch(2*f+3*l.charCodeAt(R+1)){case 235:k=47;break;case 220:j=R,k=42}break;case 42:47===f&&42===O&&j+2!==R&&(33===l.charCodeAt(j+2)&&(V+=l.substring(j,R+1)),_="",k=0)}}0===k&&(U+=_)}D=O,O=f,R++}if(0<(j=V.length)){if(W=s,0<P&&(void 0!==(x=a(2,V,W,n,T,E,j,p,d,p))&&0===(V=x).length))return H+V+q;if(V=W.join(",")+"{"+V+"}",0!=M*I){switch(2!==M||i(V,2)||(I=0),I){case 111:V=V.replace(v,":-moz-$1")+V;break;case 112:V=V.replace(y,"::-webkit-input-$1")+V.replace(y,"::-moz-$1")+V.replace(y,":-ms-input-$1")+V}I=0}}return H+V+q}(A,s,n,0,0);return 0<P&&(void 0!==(l=a(-2,p,s,s,T,E,p.length,0,0,0))&&(p=l)),"",I=0,E=T=1,p}var u=/^\0+/g,c=/[\0\r\f]/g,p=/: */g,d=/zoo|gra/,h=/([,: ])(transform)/g,f=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,v=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,w=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,E=1,T=1,I=0,M=1,A=[],O=[],P=0,D=null,z=0;return l.use=function t(e){switch(e){case void 0:case null:P=O.length=0;break;default:if("function"==typeof e)O[P++]=e;else if("object"==typeof e)for(var n=0,r=e.length;n<r;++n)t(e[n]);else z=0|!!e}return t},l.set=s,void 0!==t&&s(t),l}},function(t,e,n){"use strict";e.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(t,e){t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(371);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r,i=n(0),o=(r=i)&&"object"==typeof r&&"default"in r?r.default:r;function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=!("undefined"==typeof window||!window.document||!window.document.createElement);t.exports=function(t,e,n){if("function"!=typeof t)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof e)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==n&&"function"!=typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!=typeof r)throw new Error("Expected WrappedComponent to be a React component.");var l,u=[];function c(){l=t(u.map((function(t){return t.props}))),p.canUseDOM?e(l):n&&(l=n(l))}var p=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.peek=function(){return l},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var t=l;return l=void 0,u=[],t};var a=i.prototype;return a.UNSAFE_componentWillMount=function(){u.push(this),c()},a.componentDidUpdate=function(){c()},a.componentWillUnmount=function(){var t=u.indexOf(this);u.splice(t,1),c()},a.render=function(){return o.createElement(r,this.props)},i}(i.PureComponent);return a(p,"displayName","SideEffect("+function(t){return t.displayName||t.name||"Component"}(r)+")"),a(p,"canUseDOM",s),p}}},function(t,e){var n="undefined"!=typeof Element,r="function"==typeof Map,i="function"==typeof Set,o="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;t.exports=function(t,e){try{return function t(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,l,u,c;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(l=s;0!=l--;)if(!t(e[l],a[l]))return!1;return!0}if(r&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!t(l.value[1],a.get(l.value[0])))return!1;return!0}if(i&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(l=s;0!=l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof a.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof a.toString)return e.toString()===a.toString();if((s=(u=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,u[l]))return!1;if(n&&e instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!e.$$typeof)&&!t(e[u[l]],a[u[l]]))return!1;return!0}return e!=e&&a!=a}(t,e)}catch(t){if((t.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw t}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return o}));var r=n(14);const i=n(8).a;function o(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,i=[];let o=0,s=0;const l=" > ",u=l.length;let c;const p=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||80;for(;n&&o++<r&&(c=a(n,p),!("html"===c||o>1&&s+i.length*u+c.length>=d));)i.push(c),s+=c.length,n=n.parentNode;return i.reverse().join(l)}catch(t){return"<unknown>"}}function a(t,e){const n=t,o=[];if(!n||!n.tagName)return"";if(i.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}o.push(n.tagName.toLowerCase());const a=e&&e.length?e.filter(t=>n.getAttribute(t)).map(t=>[t,n.getAttribute(t)]):null;if(a&&a.length)a.forEach(t=>{o.push(`[${t[0]}="${t[1]}"]`)});else{n.id&&o.push("#"+n.id);const t=n.className;if(t&&Object(r.l)(t)){const e=t.split(/\s+/);for(const t of e)o.push("."+t)}}const s=["aria-label","type","name","title","alt"];for(const t of s){const e=n.getAttribute(t);e&&o.push(`[${t}="${e}"]`)}return o.join("")}function s(){try{return i.document.location.href}catch(t){return""}}function l(t){return i.document&&i.document.querySelector?i.document.querySelector(t):null}function u(t){if(!i.HTMLElement)return null;let e=t;for(let t=0;t<5;t++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}},function(t,e,n){"use strict";function r(){const t="function"==typeof WeakSet,e=t?new WeakSet:[];return[function(n){if(t)return!!e.has(n)||(e.add(n),!1);for(let t=0;t<e.length;t++){if(e[t]===n)return!0}return e.push(n),!1},function(n){if(t)e.delete(n);else for(let t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}}]}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function i(){return"npm"}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}))},function(t,e,n){"use strict";(function(t,r){n.d(e,"a",(function(){return o}));var i=n(407);function o(){return!Object(i.b)()&&"[object process]"===Object.prototype.toString.call(void 0!==t?t:0)}}).call(this,n(228),n(908)(t))},function(t,e,n){"use strict";e.a=n.p+"fonts/52388e8fa53145d5a94d.woff2"},function(t,e,n){"use strict";e.a=n.p+"fonts/1d61eb00849928919660.woff2"},function(t,e,n){"use strict";e.a=n.p+"fonts/e1b962829e9346343ae0.woff2"},function(t,e,n){"use strict";e.a=n.p+"fonts/ecda174d27dfae677a04.woff2"},function(t,e,n){"use strict";e.a=n.p+"fonts/5829632602670a5e8279.woff2"},function(t,e,n){"use strict";e.a=n.p+"fonts/bfdd5c1e08d4043b643f.woff2"},function(t,e,n){"use strict";e.a=n.p+"fonts/f390d0eed2b8130d98c0.woff2"},function(t,e,n){"use strict";e.a=n.p+"fonts/ebca8b536618dfe55099.woff2"},function(t,e,n){"use strict";e.a=n.p+"fonts/ad2b46085e3b750a48a4.woff2"},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.CustomAddressIcon=e.CouponIconType3=e.CouponIconType2=e.CouponIconType1=e.CashOrPosIcon=void 0,e.CustomArrowRightIcon=function(t){return At.default.createElement("svg",(0,Mt.default)({},t,{width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),I||(I=(0,Et.default)("path",{d:"M1.66671 10.5H18.3334M18.3334 10.5L10 18.8333M18.3334 10.5L10 2.16667",stroke:"#222222",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))},e.CustomCloseIcon=function(t){return At.default.createElement("svg",(0,Mt.default)({},t,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),T||(T=(0,Et.default)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.7352 5.85103C20.0672 5.51909 20.0672 4.9809 19.7352 4.64895C19.4033 4.31701 18.8651 4.31701 18.5332 4.64895L12.192 10.9901L5.85094 4.64895C5.519 4.31701 4.98081 4.31701 4.64886 4.64895C4.31692 4.9809 4.31692 5.51909 4.64886 5.85103L10.99 12.1921L4.64886 18.5332C4.31692 18.8652 4.31692 19.4034 4.64886 19.7353C4.98081 20.0673 5.519 20.0673 5.85094 19.7353L12.192 13.3942L18.5332 19.7353C18.8651 20.0673 19.4033 20.0673 19.7352 19.7353C20.0672 19.4034 20.0672 18.8652 19.7352 18.5332L13.3941 12.1921L19.7352 5.85103Z",fill:"#222222"})))},e.MoneyWalletIcon=e.MoneyIcon=e.HandPackageDeliveryIcon=e.EditIcon=e.DeleteIcon=e.CustomUserIcon24=e.CustomUserIcon=e.CustomTrashIcon=e.CustomSearchIcon=e.CustomPasswordIcon=e.CustomOrdersIcon=e.CustomInfoIcon=e.CustomHamburgerMenuIcon=e.CustomExitIcon=e.CustomDropDownIcon20=e.CustomDropDownIcon=void 0,e.OcticonInfo24Icon=function(t){return At.default.createElement("svg",(0,Mt.default)({xmlns:"http://www.w3.org/2000/svg",width:"18px",height:"18px",viewBox:"0 0 24 24"},t),C||(C=(0,Et.default)("path",{fill:"currentColor",d:"M13 7.5a1 1 0 1 1-2 0a1 1 0 0 1 2 0m-3 3.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v4.25h.75a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5h.75V12h-.75a.75.75 0 0 1-.75-.75"})),E||(E=(0,Et.default)("path",{fill:"currentColor",d:"M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12S5.925 1 12 1M2.5 12a9.5 9.5 0 0 0 9.5 9.5a9.5 9.5 0 0 0 9.5-9.5A9.5 9.5 0 0 0 12 2.5A9.5 9.5 0 0 0 2.5 12"})))},e.TransportationScooterIcon=e.StyledThemedIcon=e.ShoppingCartIcon=e.PlusIcon=e.PaymentFinanceIcon=e.OutdoorTableRestaurant=e.OfficeWorkIcon=void 0;var i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b,x,w,k,S,C,E,T,I,M,A,O,P,D,z,L,R,W,B,j,N,F,U,V,q,H,G,Z,K,Q,X,Y,J,$,tt,et,nt,rt,it,ot,at,st,lt,ut,ct,pt,dt,ht,ft,mt,gt,yt,vt,_t,bt,xt,wt,kt,St,Ct,Et=r(n(10)),Tt=r(n(13)),It=r(n(943)),Mt=r(n(111)),At=r(n(0)),Ot=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16));function Pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}e.StyledThemedIcon=Ot.default.div.withConfig({componentId:"sc-d5mb6n-0"})(["width:fit-content;height:fit-content;"," & > svg{display:block;}& > svg > path{","}"],(function(t){return!t.noStroke&&(0,Ot.css)(["& > svg,& > svg *{stroke:",";}"],(function(t){return t.color?t.color:t.theme.color.textColor}))}),(function(t){return t.filled&&"fill: ".concat(t.color?t.color:t.theme.color.textColor,";")}));e.CustomTrashIcon=function(t){let e=(0,Mt.default)({},((0,It.default)(t),t));return At.default.createElement("svg",(0,Mt.default)({},function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(n),!0).forEach((function(e){(0,Tt.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({width:11,height:12,fill:"#48484A"},e),{viewBox:"0 0 11 12",xmlns:"http://www.w3.org/2000/svg"}),i||(i=(0,Et.default)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.97309 1.27296C4.09502 1.15104 4.26038 1.08254 4.4328 1.08254H6.56638C6.73881 1.08254 6.90417 1.15104 7.02609 1.27296C7.14801 1.39488 7.21651 1.56024 7.21651 1.73267V2.38288H3.78268V1.73267C3.78268 1.56024 3.85117 1.39488 3.97309 1.27296ZM2.94934 2.38288V1.73267C2.94934 1.33923 3.10564 0.961906 3.38384 0.683704C3.66204 0.405502 4.03936 0.249209 4.4328 0.249209H6.56638C6.95982 0.249209 7.33714 0.405502 7.61534 0.683704C7.89355 0.961906 8.04984 1.33923 8.04984 1.73267V2.38288H9.2245C9.22745 2.38282 9.2304 2.38279 9.23336 2.38279C9.23632 2.38279 9.23927 2.38282 9.24221 2.38288H10.3006C10.5307 2.38288 10.7172 2.56943 10.7172 2.79955C10.7172 3.02967 10.5307 3.21622 10.3006 3.21622H9.65002V10.267C9.65002 10.6604 9.49373 11.0377 9.21553 11.316C8.93733 11.5942 8.56001 11.7504 8.16657 11.7504H2.83262C2.43918 11.7504 2.06186 11.5942 1.78365 11.316C1.50545 11.0377 1.34916 10.6604 1.34916 10.267V3.21622H0.699454C0.469336 3.21622 0.282788 3.02967 0.282788 2.79955C0.282788 2.56943 0.469336 2.38288 0.699454 2.38288H1.75697C1.75991 2.38282 1.76287 2.38279 1.76583 2.38279C1.76879 2.38279 1.77174 2.38282 1.77468 2.38288H2.94934ZM2.18249 3.21622V10.267C2.18249 10.4394 2.25099 10.6048 2.37291 10.7267C2.49483 10.8486 2.66019 10.9171 2.83262 10.9171H8.16657C8.33899 10.9171 8.50435 10.8486 8.62627 10.7267C8.7482 10.6048 8.81669 10.4394 8.81669 10.267V3.21622H2.18249Z"})))};e.CustomInfoIcon=function(t){let e=(0,Mt.default)({},((0,It.default)(t),t));return At.default.createElement("svg",(0,Mt.default)({className:"icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=(0,Et.default)("path",{d:"M9.10079 8.97996C9.10079 8.74127 9.19561 8.51235 9.3644 8.34357C9.53318 8.17479 9.7621 8.07996 10.0008 8.07996C10.2395 8.07996 10.4684 8.17479 10.6372 8.34357C10.806 8.51235 10.9008 8.74127 10.9008 8.97996V14.98C10.9008 15.2187 10.806 15.4476 10.6372 15.6164C10.4684 15.7851 10.2395 15.88 10.0008 15.88C9.7621 15.88 9.53318 15.7851 9.3644 15.6164C9.19561 15.4476 9.10079 15.2187 9.10079 14.98V8.97996ZM9.3644 4.41457C9.53318 4.24579 9.7621 4.15096 10.0008 4.15096C10.2395 4.15096 10.4684 4.24579 10.6372 4.41457C10.806 4.58335 10.9008 4.81227 10.9008 5.05096C10.9008 5.28966 10.806 5.51858 10.6372 5.68736C10.4684 5.85614 10.2395 5.95096 10.0008 5.95096C9.7621 5.95096 9.53318 5.85614 9.3644 5.68736C9.19561 5.51858 9.10079 5.28966 9.10079 5.05096C9.10079 4.81227 9.19561 4.58335 9.3644 4.41457Z",fill:"#222222",strokeWidth:"0.2"})),a||(a=(0,Et.default)("path",{d:"M0.100793 9.99994C0.100793 4.53217 4.53302 0.099939 10.0008 0.099939C15.4686 0.099939 19.9008 4.53217 19.9008 9.99994C19.9008 15.4677 15.4686 19.8999 10.0008 19.8999C4.53302 19.8999 0.100793 15.4677 0.100793 9.99994ZM1.90079 9.99994C1.90079 12.1482 2.75418 14.2085 4.27323 15.7275C5.79227 17.2465 7.85254 18.0999 10.0008 18.0999C12.149 18.0999 14.2093 17.2465 15.7284 15.7275C17.2474 14.2085 18.1008 12.1482 18.1008 9.99994C18.1008 7.85169 17.2474 5.79142 15.7284 4.27237C14.2093 2.75333 12.149 1.89994 10.0008 1.89994C7.85254 1.89994 5.79227 2.75333 4.27323 4.27237C2.75418 5.79142 1.90079 7.85169 1.90079 9.99994Z",fill:"#222222",strokeWidth:"0.2"})))};e.CustomAddressIcon=function(t){let e=(0,Mt.default)({},((0,It.default)(t),t));return At.default.createElement("svg",(0,Mt.default)({className:"icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s||(s=(0,Et.default)("path",{d:"M22.9411 5.21907L19.5434 2.82122H19.5432C19.5021 2.79244 19.4528 2.77721 19.4026 2.77755H12.3644V1.44267C12.3644 1.30876 12.2557 1.20007 12.1216 1.20007C11.9875 1.20007 11.8788 1.30876 11.8788 1.44267V2.77755H7.26759C6.31379 2.77755 5.43245 3.28643 4.95555 4.11242C4.47865 4.93842 4.47865 5.95601 4.95555 6.78218C5.43245 7.60817 6.31379 8.11688 7.26759 8.11688H11.8788V10.5438H4.84062C4.79034 10.5435 4.74107 10.5587 4.69994 10.5875L1.30227 12.9854H1.3021C1.2381 13.0309 1.20001 13.1047 1.20001 13.1833C1.20001 13.2618 1.2381 13.3355 1.3021 13.381L4.69977 15.8371H4.69993C4.7409 15.8667 4.79 15.883 4.84062 15.8833H11.8788V22.5575C11.8788 22.6914 11.9875 22.8001 12.1216 22.8001C12.2557 22.8001 12.3644 22.6914 12.3644 22.5575V15.8833H16.9756C17.9294 15.8833 18.8107 15.3744 19.2876 14.5484C19.7645 13.7224 19.7645 12.7047 19.2876 11.8787C18.8107 11.0527 17.9294 10.5438 16.9756 10.5438H12.3644V8.11684H19.4026C19.454 8.11701 19.5041 8.10093 19.5458 8.07079L22.9435 5.6147C23.0075 5.56916 23.0455 5.49552 23.0455 5.41697C23.0455 5.33841 23.0075 5.2646 22.9435 5.21906L22.9411 5.21907ZM19.1598 13.2133C19.1598 13.7926 18.9297 14.3483 18.52 14.7578C18.1105 15.1675 17.5549 15.3976 16.9756 15.3976H4.91829L1.86022 13.1866L4.91829 11.0291H16.9756C17.5549 11.0291 18.1105 11.2592 18.52 11.6689C18.9297 12.0784 19.1598 12.6341 19.1598 13.2134V13.2133ZM19.3248 7.6313H7.26758C6.48713 7.6313 5.76611 7.21501 5.37593 6.53921C4.98571 5.86339 4.98571 5.03081 5.37593 4.35502C5.76615 3.6792 6.48718 3.26276 7.26758 3.26276H19.3248L22.3828 5.42038L19.3248 7.6313Z",fill:"#222222"})))};e.CustomOrdersIcon=function(t){let e=(0,Mt.default)({},((0,It.default)(t),t));return At.default.createElement("svg",(0,Mt.default)({className:"icon",width:"18",height:"22",viewBox:"0 0 18 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=(0,Et.default)("g",{clipPath:"url(#clip0_250_1237)"},void 0,(0,Et.default)("path",{d:"M6.83075 18.9911C6.87208 18.9903 6.91316 18.9976 6.95162 19.0128C6.99008 19.0279 7.02515 19.0506 7.0548 19.0794L8.90147 20.7767L10.7549 19.0794C10.8158 19.0201 10.8974 18.9869 10.9824 18.9869C11.0674 18.9869 11.149 19.0201 11.2098 19.0794L13.0565 20.7767L14.9032 19.0794C14.9659 19.0211 15.0484 18.9888 15.134 18.9888C15.2196 18.9888 15.3021 19.0211 15.3648 19.0794L16.8721 20.4372V2.78516C16.8685 2.37095 16.7019 1.97481 16.4084 1.68254C16.1148 1.39028 15.718 1.2254 15.3037 1.22363H2.506C2.09061 1.22542 1.69274 1.39123 1.39901 1.68496C1.10528 1.97869 0.93947 2.37656 0.937683 2.79195V20.444L2.4449 19.0862C2.50767 19.0279 2.59012 18.9956 2.67573 18.9956C2.76134 18.9956 2.84379 19.0279 2.90657 19.0862L4.75324 20.7835L6.59992 19.0862C6.63026 19.0559 6.66626 19.032 6.70587 19.0156C6.74548 18.9993 6.78792 18.991 6.83075 18.9911V18.9911Z",strokeWidth:"1.28571",strokeLinejoin:"round"}),(0,Et.default)("path",{d:"M3.55878 5.48718H14.2518",strokeWidth:"1.28571",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,Et.default)("path",{d:"M3.55878 10.2397H8.26373",strokeWidth:"1.28571",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,Et.default)("path",{d:"M11.6994 10.2397H14.2522",strokeWidth:"1.28571",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,Et.default)("path",{d:"M3.55878 12.2765H8.26373",strokeWidth:"1.28571",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,Et.default)("path",{d:"M11.6994 12.2765H14.2522",strokeWidth:"1.28571",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,Et.default)("path",{d:"M3.55878 14.3065H8.26373",strokeWidth:"1.28571",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,Et.default)("path",{d:"M11.6994 14.3065H14.2522",strokeWidth:"1.28571",strokeMiterlimit:"10",strokeLinecap:"round"}))),u||(u=(0,Et.default)("defs",{},void 0,(0,Et.default)("clipPath",{id:"clip0_250_1237"},void 0,(0,Et.default)("rect",{width:"16.9528",height:"20.5714",fill:"white",transform:"translate(0.428894 0.714233)"})))))};e.CustomPasswordIcon=function(t){let e=(0,Mt.default)({},((0,It.default)(t),t));return At.default.createElement("svg",(0,Mt.default)({className:"icon",width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),c||(c=(0,Et.default)("path",{d:"M1 15C1 12.172 1 10.757 1.879 9.879C2.757 9 4.172 9 7 9H15C17.828 9 19.243 9 20.121 9.879C21 10.757 21 12.172 21 15C21 17.828 21 19.243 20.121 20.121C19.243 21 17.828 21 15 21H7C4.172 21 2.757 21 1.879 20.121C1 19.243 1 17.828 1 15Z",strokeWidth:"1.5"})),p||(p=(0,Et.default)("path",{d:"M5 9V7C5 5.4087 5.63214 3.88258 6.75736 2.75736C7.88258 1.63214 9.4087 1 11 1C12.5913 1 14.1174 1.63214 15.2426 2.75736C16.3679 3.88258 17 5.4087 17 7V9",strokeWidth:"1.5",strokeLinecap:"round"})),d||(d=(0,Et.default)("path",{d:"M7 15H7.009M10.991 15H11M14.991 15H15",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))};e.CustomExitIcon=function(t){let e=(0,Mt.default)({},((0,It.default)(t),t));return At.default.createElement("svg",(0,Mt.default)({className:"icon",width:"19",height:"18",viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),h||(h=(0,Et.default)("path",{d:"M12.3 18C12.5387 18 12.7676 17.9052 12.9364 17.7364C13.1052 17.5676 13.2 17.3387 13.2 17.1C13.2 16.8613 13.1052 16.6324 12.9364 16.4636C12.7676 16.2948 12.5387 16.2 12.3 16.2H4.79998C4.16346 16.2 3.55301 15.9471 3.10292 15.4971C2.65283 15.047 2.39998 14.4365 2.39998 13.8V4.2C2.39998 3.56348 2.65283 2.95303 3.10292 2.50294C3.55301 2.05286 4.16346 1.8 4.79998 1.8H12.3C12.5387 1.8 12.7676 1.70518 12.9364 1.5364C13.1052 1.36761 13.2 1.13869 13.2 0.9C13.2 0.661305 13.1052 0.432387 12.9364 0.263604C12.7676 0.094821 12.5387 0 12.3 0H4.79998C3.68607 0 2.61778 0.442499 1.83013 1.23015C1.04247 2.0178 0.599976 3.08609 0.599976 4.2V13.8C0.599976 14.9139 1.04247 15.9822 1.83013 16.7698C2.61778 17.5575 3.68607 18 4.79998 18H12.3ZM13.4892 4.4388C13.576 4.35857 13.6778 4.29623 13.7887 4.25534C13.8996 4.21446 14.0175 4.19582 14.1356 4.2005C14.2537 4.20518 14.3698 4.23309 14.4771 4.28262C14.5844 4.33216 14.681 4.40235 14.7612 4.4892L18.3612 8.3892C18.5148 8.55549 18.6002 8.77359 18.6002 9C18.6002 9.22641 18.5148 9.44451 18.3612 9.6108L14.7612 13.5108C14.599 13.686 14.3739 13.7896 14.1354 13.7988C13.8968 13.8081 13.6644 13.7222 13.4892 13.56C13.314 13.3978 13.2104 13.1727 13.2011 12.9342C13.1919 12.6956 13.2778 12.4632 13.44 12.288L15.6456 9.8988H6.29998C6.06128 9.8988 5.83236 9.80398 5.66358 9.6352C5.4948 9.46641 5.39998 9.23749 5.39998 8.9988C5.39998 8.76011 5.4948 8.53119 5.66358 8.3624C5.83236 8.19362 6.06128 8.0988 6.29998 8.0988H15.6444L13.4388 5.7096C13.3585 5.62278 13.2962 5.521 13.2553 5.41009C13.2144 5.29917 13.1958 5.18128 13.2005 5.06316C13.2052 4.94504 13.2331 4.829 13.2826 4.72166C13.3321 4.61433 13.4023 4.519 13.4892 4.4388Z",fill:"#222222"})))};e.CustomUserIcon=function(t){let e=(0,Mt.default)({},((0,It.default)(t),t));return At.default.createElement("svg",(0,Mt.default)({width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),f||(f=(0,Et.default)("path",{d:"M14.95 8C14.95 9.04761 14.5338 10.0523 13.7931 10.7931C13.0523 11.5338 12.0476 11.95 11 11.95C9.95239 11.95 8.9477 11.5338 8.20693 10.7931C7.46616 10.0523 7.05 9.04761 7.05 8C7.05 6.95239 7.46616 5.9477 8.20693 5.20693C8.9477 4.46616 9.95239 4.05 11 4.05C12.0476 4.05 13.0523 4.46616 13.7931 5.20693C14.5338 5.9477 14.95 6.95239 14.95 8ZM12.4496 9.44957C12.834 9.06512 13.05 8.54369 13.05 8C13.05 7.45631 12.834 6.93488 12.4496 6.55043C12.0651 6.16598 11.5437 5.95 11 5.95C10.4563 5.95 9.93488 6.16598 9.55043 6.55043C9.16598 6.93488 8.95 7.45631 8.95 8C8.95 8.54369 9.16598 9.06512 9.55043 9.44957C9.93488 9.83402 10.4563 10.05 11 10.05C11.5437 10.05 12.0651 9.83402 12.4496 9.44957Z",fill:"#D2D2D2",strokeWidth:"0.1"})),m||(m=(0,Et.default)("path",{d:"M11.065 14.95C9.93077 14.9492 8.81309 15.2224 7.8071 15.7463C6.8011 16.2703 5.93655 17.0295 5.28701 17.9594L5.26041 17.9974L5.29643 18.0268C6.90762 19.3384 8.92245 20.0531 11 20.05C13.1143 20.0529 15.1623 19.3126 16.786 17.9584L16.8217 17.9286L16.7946 17.8909C16.1424 16.9803 15.2823 16.2384 14.2858 15.7269C13.2893 15.2155 12.1851 14.9491 11.065 14.95ZM11.065 14.95L11.065 15L11.065 14.95C11.065 14.95 11.065 14.95 11.065 14.95ZM3.86861 16.5728L3.90853 16.6238L3.94778 16.5723C4.78234 15.4763 5.85899 14.5881 7.09361 13.9771C8.32824 13.3661 9.68741 13.0488 11.065 13.05H11.065C12.4248 13.0487 13.7668 13.3578 14.989 13.9537C16.2112 14.5496 17.2812 15.4167 18.1176 16.4888L18.1575 16.5399L18.1968 16.4883C19.068 15.3456 19.6547 14.0119 19.9081 12.5974C20.1616 11.183 20.0746 9.7285 19.6543 8.35436C19.2341 6.98022 18.4926 5.7259 17.4914 4.6952C16.4901 3.66449 15.2578 2.88703 13.8964 2.42714C12.535 1.96725 11.0837 1.83815 9.66247 2.05052C8.24128 2.2629 6.89109 2.81064 5.72362 3.64843C4.55615 4.48622 3.60495 5.58997 2.94875 6.86836C2.29254 8.14675 1.95018 9.56302 1.95 11C1.95 13.1016 2.66699 15.0363 3.86861 16.5728ZM0.05 11C0.05 4.95261 4.95261 0.05 11 0.05C17.0474 0.05 21.95 4.95261 21.95 11C21.95 17.0474 17.0474 21.95 11 21.95C4.95261 21.95 0.05 17.0474 0.05 11Z",fill:"#D2D2D2",strokeWidth:"0.1"})))};e.CustomUserIcon24=function(t){let e=(0,Mt.default)({},((0,It.default)(t),t));return At.default.createElement("svg",(0,Mt.default)({width:"20",height:"20",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),g||(g=(0,Et.default)("path",{d:"M14.95 8C14.95 9.04761 14.5338 10.0523 13.7931 10.7931C13.0523 11.5338 12.0476 11.95 11 11.95C9.95239 11.95 8.9477 11.5338 8.20693 10.7931C7.46616 10.0523 7.05 9.04761 7.05 8C7.05 6.95239 7.46616 5.9477 8.20693 5.20693C8.9477 4.46616 9.95239 4.05 11 4.05C12.0476 4.05 13.0523 4.46616 13.7931 5.20693C14.5338 5.9477 14.95 6.95239 14.95 8ZM12.4496 9.44957C12.834 9.06512 13.05 8.54369 13.05 8C13.05 7.45631 12.834 6.93488 12.4496 6.55043C12.0651 6.16598 11.5437 5.95 11 5.95C10.4563 5.95 9.93488 6.16598 9.55043 6.55043C9.16598 6.93488 8.95 7.45631 8.95 8C8.95 8.54369 9.16598 9.06512 9.55043 9.44957C9.93488 9.83402 10.4563 10.05 11 10.05C11.5437 10.05 12.0651 9.83402 12.4496 9.44957Z",fill:"#fff",strokeWidth:"0.1"})),y||(y=(0,Et.default)("path",{d:"M11.065 14.95C9.93077 14.9492 8.81309 15.2224 7.8071 15.7463C6.8011 16.2703 5.93655 17.0295 5.28701 17.9594L5.26041 17.9974L5.29643 18.0268C6.90762 19.3384 8.92245 20.0531 11 20.05C13.1143 20.0529 15.1623 19.3126 16.786 17.9584L16.8217 17.9286L16.7946 17.8909C16.1424 16.9803 15.2823 16.2384 14.2858 15.7269C13.2893 15.2155 12.1851 14.9491 11.065 14.95ZM11.065 14.95L11.065 15L11.065 14.95C11.065 14.95 11.065 14.95 11.065 14.95ZM3.86861 16.5728L3.90853 16.6238L3.94778 16.5723C4.78234 15.4763 5.85899 14.5881 7.09361 13.9771C8.32824 13.3661 9.68741 13.0488 11.065 13.05H11.065C12.4248 13.0487 13.7668 13.3578 14.989 13.9537C16.2112 14.5496 17.2812 15.4167 18.1176 16.4888L18.1575 16.5399L18.1968 16.4883C19.068 15.3456 19.6547 14.0119 19.9081 12.5974C20.1616 11.183 20.0746 9.7285 19.6543 8.35436C19.2341 6.98022 18.4926 5.7259 17.4914 4.6952C16.4901 3.66449 15.2578 2.88703 13.8964 2.42714C12.535 1.96725 11.0837 1.83815 9.66247 2.05052C8.24128 2.2629 6.89109 2.81064 5.72362 3.64843C4.55615 4.48622 3.60495 5.58997 2.94875 6.86836C2.29254 8.14675 1.95018 9.56302 1.95 11C1.95 13.1016 2.66699 15.0363 3.86861 16.5728ZM0.05 11C0.05 4.95261 4.95261 0.05 11 0.05C17.0474 0.05 21.95 4.95261 21.95 11C21.95 17.0474 17.0474 21.95 11 21.95C4.95261 21.95 0.05 17.0474 0.05 11Z",fill:"#fff",strokeWidth:"0.1"})))};e.CustomDropDownIcon=function(t){let e=(0,Mt.default)({},((0,It.default)(t),t));return At.default.createElement("svg",(0,Mt.default)({width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),v||(v=(0,Et.default)("path",{d:"M1 1L5 5L9 1",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})))};e.CustomDropDownIcon20=function(t){let e=(0,Mt.default)({},((0,It.default)(t),t));return At.default.createElement("svg",(0,Mt.default)({width:"12",height:"12",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),_||(_=(0,Et.default)("path",{d:"M1 1L5 5L9 1",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})))};e.CustomSearchIcon=function(t){let e=(0,Mt.default)({},((0,It.default)(t),t));return At.default.createElement("svg",(0,Mt.default)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),b||(b=(0,Et.default)("path",{d:"M8.66667 12.6667C5.72115 12.6667 3.33333 10.2789 3.33333 7.33333C3.33333 4.38781 5.72115 2 8.66667 2C11.6122 2 14 4.38781 14 7.33333C14 10.2789 11.6122 12.6667 8.66667 12.6667Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),x||(x=(0,Et.default)("path",{d:"M1.9999 14L4.8999 11.1",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))};e.CustomHamburgerMenuIcon=function(t){let e=(0,Mt.default)({},((0,It.default)(t),t));return At.default.createElement("svg",(0,Mt.default)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),w||(w=(0,Et.default)("path",{d:"M3 12H21",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),k||(k=(0,Et.default)("path",{d:"M3 6H21",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),S||(S=(0,Et.default)("path",{d:"M3 18H21",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))};e.ShoppingCartIcon=function(t){return At.default.createElement("svg",(0,Mt.default)({},t,{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),M||(M=(0,Et.default)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.17419 11.8718L4.89502 5.8335H15.4167C15.9592 5.8335 16.3567 6.34266 16.225 6.86933L15.1017 11.3627C14.9309 12.0452 14.3509 12.5468 13.6509 12.6168L7.97085 13.1852C7.12419 13.2693 6.35002 12.7035 6.17419 11.8718Z",stroke:"#222222",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})),A||(A=(0,Et.default)("path",{d:"M4.89508 5.8335L4.35341 3.3335H2.91675",stroke:"#222222",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})),O||(O=(0,Et.default)("path",{d:"M14.2575 16.0562C14.0892 16.0562 13.9525 16.1929 13.9542 16.3612C13.9542 16.5296 14.0909 16.6662 14.2592 16.6662C14.4275 16.6662 14.5642 16.5296 14.5642 16.3612C14.5634 16.1929 14.4267 16.0562 14.2575 16.0562",stroke:"#222222",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})),P||(P=(0,Et.default)("path",{d:"M7.24746 16.0563C7.07912 16.0563 6.94246 16.193 6.94412 16.3613C6.94246 16.5305 7.07996 16.6672 7.24829 16.6672C7.41662 16.6672 7.55329 16.5305 7.55329 16.3622C7.55329 16.193 7.41662 16.0563 7.24746 16.0563",stroke:"#222222",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})))};e.TransportationScooterIcon=function(t){return At.default.createElement("svg",(0,Mt.default)({},t,{width:"41",height:"41",viewBox:"0 0 41 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),D||(D=(0,Et.default)("path",{d:"M24 32.1667V35.0833C24 36.2339 23.0673 37.1667 21.9167 37.1667H19.4167C18.8642 37.1667 18.3343 36.9472 17.9436 36.5565C17.5529 36.1658 17.3334 35.6359 17.3334 35.0833V32.1667",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),z||(z=(0,Et.default)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5327 12.1667H23.8007C27.1879 12.1747 30.0339 14.7149 30.425 18.0795C30.7473 20.7947 30.7473 23.5385 30.4251 26.2538C30.034 29.6185 27.1879 32.1588 23.8006 32.1667C21.8049 32.1667 19.5285 32.1667 17.5328 32.1667C14.1454 32.1587 11.2994 29.6183 10.9084 26.2536C10.5862 23.5384 10.5862 20.7947 10.9085 18.0795C11.2996 14.7149 14.1455 12.1747 17.5327 12.1667Z",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),L||(L=(0,Et.default)("path",{d:"M15.6667 31.8992V28.8333C15.6667 26.0719 17.9053 23.8333 20.6667 23.8333V23.8333C23.4282 23.8333 25.6667 26.0719 25.6667 28.8333V31.8992",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),R||(R=(0,Et.default)("path",{d:"M30.6668 7.16666H24.75",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),W||(W=(0,Et.default)("path",{d:"M16.5836 7.16666H10.6667",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),B||(B=(0,Et.default)("path",{d:"M20.6667 23.8333V12.1667",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),j||(j=(0,Et.default)("circle",{cx:"20.6668",cy:"7.99999",r:"4.16667",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})))};e.HandPackageDeliveryIcon=function(t){return At.default.createElement("svg",(0,Mt.default)({},t,{width:"40",height:"41",viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),N||(N=(0,Et.default)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9961 35.5063H6.66138C5.74052 35.5063 4.99402 34.7598 4.99402 33.8389V23.8348C4.99402 22.9139 5.74052 22.1674 6.66138 22.1674H9.9961C10.917 22.1674 11.6635 22.9139 11.6635 23.8348V33.8389C11.6635 34.7598 10.917 35.5063 9.9961 35.5063Z",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),F||(F=(0,Et.default)("path",{d:"M22.5012 7.16109V14.8309",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),U||(U=(0,Et.default)("path",{d:"M33.3389 23.8348V17.232C33.3343 15.9053 32.258 14.8319 30.9312 14.831H14.0709C12.7441 14.8319 11.6678 15.9053 11.6632 17.232V25.6689",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),V||(V=(0,Et.default)("path",{d:"M11.6632 23.8347V13.7822C11.6636 13.1318 11.7951 12.4881 12.05 11.8898L13.3689 8.80513C13.795 7.80767 14.7753 7.16073 15.86 7.1611H29.1405C30.2285 7.1576 31.2133 7.80491 31.6415 8.80513L32.9604 11.8931C33.2129 12.4919 33.3416 13.1357 33.3389 13.7855V24.6434",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),q||(q=(0,Et.default)("path",{d:"M21.6674 28.8369H25.5573C26.2789 28.8369 26.9809 28.6029 27.5582 28.1699L31.5865 25.1487C32.5922 24.3948 33.9992 24.495 34.8879 25.3838V25.3838C35.3617 25.8573 35.628 26.4997 35.628 27.1695C35.628 27.8394 35.3617 28.4818 34.8879 28.9553L31.4314 32.4117C30.5004 33.3428 29.3145 33.9775 28.0234 34.2358L23.138 35.2129C22.1694 35.4065 21.17 35.3826 20.2118 35.1428L15.7933 34.0391C15.265 33.9059 14.7223 33.8387 14.1776 33.839H11.6632",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),H||(H=(0,Et.default)("path",{d:"M21.6674 28.8369H24.1434C25.5385 28.8369 26.6695 27.7059 26.6695 26.3108V25.8106C26.6695 24.652 25.881 23.6421 24.757 23.3613L20.9354 22.4059C20.3145 22.2492 19.6767 22.1691 19.0363 22.1674V22.1674C17.4902 22.1669 15.9788 22.6247 14.6928 23.483L11.6632 25.5021",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})))};e.OutdoorTableRestaurant=function(t){return At.default.createElement("svg",(0,Mt.default)({},t,{width:"41",height:"41",viewBox:"0 0 41 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),G||(G=(0,Et.default)("path",{d:"M5.33341 22.1667C6.44453 26.5417 6.44453 31.125 5.33341 35.5",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),Z||(Z=(0,Et.default)("path",{d:"M13.6667 35.5V28.8334",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),K||(K=(0,Et.default)("path",{d:"M6.16553 28.8334H13.6667",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),Q||(Q=(0,Et.default)("path",{d:"M35.3334 22.1667C34.2223 26.5417 34.2223 31.125 35.3334 35.5",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),X||(X=(0,Et.default)("path",{d:"M27.0001 35.5V28.8334",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),Y||(Y=(0,Et.default)("path",{d:"M34.5011 28.8334H27",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),J||(J=(0,Et.default)("path",{d:"M20.3333 13.8334V35.5",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),$||($=(0,Et.default)("path",{d:"M28.6667 23.8334H12",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})),tt||(tt=(0,Et.default)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.4786 10.231C27.4052 1.70081 13.2616 1.70081 4.18821 10.231C3.85324 10.552 3.66472 10.9964 3.66676 11.4604V12.1667C3.66676 13.0871 4.41296 13.8333 5.33343 13.8333H35.3334C36.2539 13.8333 37.0001 13.0871 37.0001 12.1667V11.4604C37.0021 10.9964 36.8136 10.552 36.4786 10.231Z",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})))};e.PaymentFinanceIcon=function(t){return At.default.createElement("svg",(0,Mt.default)({xmlns:"http://www.w3.org/2000/svg",width:41,height:40,fill:"none"},t),et||(et=(0,Et.default)("path",{stroke:"#323232",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.2,d:"M29.083 20c-4.445 4.613-4.445 12.052 0 16.665 4.445-4.612 4.445-12.052 0-16.665Z",clipRule:"evenodd"})),nt||(nt=(0,Et.default)("g",{stroke:"#323232",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.2},void 0,(0,Et.default)("path",{d:"M5.75 11.667h30M16.7 18.333h-4.283M15.75 28.333h-5a5 5 0 0 1-5-5V10a5 5 0 0 1 5-5h20a5 5 0 0 1 5 5v6.667"}),(0,Et.default)("path",{d:"M29.083 20c-4.445 4.613-4.445 12.052 0 16.665 4.445-4.612 4.445-12.052 0-16.665Z",clipRule:"evenodd"}),(0,Et.default)("path",{d:"M37.417 28.333a8.32 8.32 0 0 1-8.334 8.334 8.32 8.32 0 0 1-8.333-8.334A8.32 8.32 0 0 1 29.083 20a8.32 8.32 0 0 1 8.334 8.333Z",clipRule:"evenodd"}),(0,Et.default)("path",{d:"M20.753 28.333h16.66"}))))};e.OfficeWorkIcon=function(t){return At.default.createElement("svg",(0,Mt.default)({xmlns:"http://www.w3.org/2000/svg",width:41,height:40,fill:"none"},t),rt||(rt=(0,Et.default)("g",{stroke:"#323232",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.2},void 0,(0,Et.default)("path",{d:"M24.083 15h2.153a5 5 0 0 1 2.236.528l.976.487a5 5 0 0 1 2.051 1.9L35.75 25"}),(0,Et.default)("path",{d:"M19.084 30H10.75a5 5 0 0 1-5-5V10a5 5 0 0 1 5-5h8.334a5 5 0 0 1 5 5v13.333M11.584 10.834v3.333"}),(0,Et.default)("path",{d:"m27.417 35-4.586-1.763a6.667 6.667 0 0 1-3.262-2.692l-5.081-8.136a2.664 2.664 0 0 1 .376-3.295v0a2.664 2.664 0 0 1 3.865.103l3.699 4.117h3.322"}))))};e.MoneyIcon=function(t){return At.default.createElement("svg",(0,Mt.default)({xmlns:"http://www.w3.org/2000/svg",width:41,height:40,fill:"none"},t),it||(it=(0,Et.default)("g",{stroke:"#323232",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.2},void 0,(0,Et.default)("ellipse",{cx:15.248,cy:16.665,rx:10.004,ry:4.168}),(0,Et.default)("path",{d:"M25.252 22.501c0 2.302-4.479 4.168-10.004 4.168-5.525 0-10.004-1.866-10.004-4.168M35.256 16.665c0 2.302-4.479 4.169-10.004 4.169"}),(0,Et.default)("path",{d:"M25.252 16.665v12.506c0 2.302-4.479 4.168-10.004 4.168-5.525 0-10.004-1.866-10.004-4.168V16.665M35.256 10.83v12.505c0 2.302-4.479 4.168-10.004 4.168"}),(0,Et.default)("path",{d:"M16.082 12.514a2.403 2.403 0 0 1-.834-1.684c0-2.301 4.485-4.169 10.004-4.169 5.52 0 10.004 1.868 10.004 4.168 0 2.301-4.485 4.169-10.004 4.169-.283 0-.567 0-.834-.017"}))))};e.MoneyWalletIcon=function(t){return At.default.createElement("svg",(0,Mt.default)({xmlns:"http://www.w3.org/2000/svg",width:41,height:40,fill:"none"},t),ot||(ot=(0,Et.default)("g",{stroke:"#323232",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.2},void 0,(0,Et.default)("path",{d:"M22.748 22.467a.418.418 0 0 0-.415.418.417.417 0 1 0 .415-.418"}),(0,Et.default)("path",{d:"M5.25 10.472V10a5 5 0 0 1 5-5h20a5 5 0 0 1 5 5v15a5 5 0 0 1-5 5h-1.667M35.25 15h-6.667"}),(0,Et.default)("path",{d:"M22.458 34.87c3.134.724 6.125-1.656 6.125-4.871V15.645a5 5 0 0 0-3.875-4.871L9.333 7.225a3.332 3.332 0 0 0-4.083 3.247V26.92a5 5 0 0 0 3.875 4.872l13.333 3.078v0Z",clipRule:"evenodd"}))))};e.PlusIcon=function(t){return At.default.createElement("svg",(0,Mt.default)({},t,{width:"28",height:"30",viewBox:"0 0 19 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),at||(at=(0,Et.default)("path",{id:"Union",fillRule:"evenodd",clipRule:"evenodd",d:"M10 1.0002C10 0.724056 9.77614 0.500198 9.5 0.500198C9.22386 0.500198 9 0.724056 9 1.0002V9.5002H0.5C0.223858 9.5002 0 9.72406 0 10.0002C0 10.2763 0.223858 10.5002 0.5 10.5002H9V19.0002C9 19.2763 9.22386 19.5002 9.5 19.5002C9.77614 19.5002 10 19.2763 10 19.0002V10.5002H18.5C18.7761 10.5002 19 10.2763 19 10.0002C19 9.72406 18.7761 9.5002 18.5 9.5002H10V1.0002Z",fill:"#8E8E93"})))};e.EditIcon=function(t){return At.default.createElement("svg",(0,Mt.default)({},t,{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),st||(st=(0,Et.default)("path",{id:"Union",fillRule:"evenodd",clipRule:"evenodd",d:"M11.5168 2.23656C11.6858 2.06763 11.9149 1.97273 12.1538 1.97273C12.3927 1.97273 12.6218 2.06763 12.7907 2.23656C12.9596 2.40549 13.0545 2.6346 13.0545 2.87349C13.0545 3.11239 12.9596 3.3415 12.7907 3.51043L6.61554 9.68559L4.91705 10.1102L5.34167 8.41172L11.5168 2.23656ZM12.1538 0.972733C11.6497 0.972733 11.1662 1.17299 10.8097 1.52945L4.53664 7.80254C4.47256 7.86662 4.4271 7.94691 4.40512 8.03483L3.74479 10.6761C3.7022 10.8465 3.75212 11.0268 3.87631 11.151C4.0005 11.2751 4.18075 11.3251 4.35113 11.2825L6.99243 10.6221C7.08035 10.6002 7.16064 10.5547 7.22472 10.4906L13.4978 4.21754C13.8543 3.86107 14.0545 3.37761 14.0545 2.87349C14.0545 2.36938 13.8543 1.88591 13.4978 1.52945C13.1413 1.17299 12.6579 0.972733 12.1538 0.972733ZM1.8469 1.9052C1.35707 1.9052 0.887303 2.09978 0.540943 2.44614C0.194583 2.7925 0 3.26227 0 3.75209V13.1804C0 13.6702 0.194583 14.14 0.540943 14.4863C0.887303 14.8327 1.35707 15.0273 1.8469 15.0273H11.2752C11.765 15.0273 12.2348 14.8327 12.5811 14.4863C12.9275 14.14 13.1221 13.6702 13.1221 13.1804V8.46623C13.1221 8.19009 12.8982 7.96623 12.6221 7.96623C12.3459 7.96623 12.1221 8.19009 12.1221 8.46623V13.1804C12.1221 13.405 12.0328 13.6204 11.874 13.7792C11.7152 13.938 11.4998 14.0273 11.2752 14.0273H1.8469C1.62229 14.0273 1.40687 13.938 1.24805 13.7792C1.08923 13.6204 1 13.405 1 13.1804V3.75209C1 3.52748 1.08923 3.31207 1.24805 3.15325C1.40687 2.99443 1.62229 2.9052 1.8469 2.9052H6.56103C6.83717 2.9052 7.06103 2.68134 7.06103 2.4052C7.06103 2.12906 6.83717 1.9052 6.56103 1.9052H1.8469Z",fill:"#222222"})))};e.DeleteIcon=function(t){return At.default.createElement("svg",(0,Mt.default)({},t,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),lt||(lt=(0,Et.default)("path",{d:"M8.47266 7.29725C8.52789 7.29725 8.57266 7.25248 8.57266 7.19725V6.69689C8.57266 6.13984 8.79394 5.60561 9.18784 5.21172C9.58173 4.81783 10.116 4.59654 10.673 4.59654H13.3737C13.9307 4.59654 14.465 4.81783 14.8589 5.21172C15.2528 5.60561 15.474 6.13984 15.474 6.69689V7.19725C15.474 7.25248 15.5188 7.29725 15.574 7.29725L16.7442 7.29725L16.7445 7.29725L16.7492 7.29723H16.7499L16.7546 7.29725H16.7549H18.1C18.5142 7.29725 18.85 7.63304 18.85 8.04725C18.85 8.46147 18.5142 8.79725 18.1 8.79725H17.5996C17.5443 8.79725 17.4996 8.84202 17.4996 8.89725V17.4997C17.4996 18.0567 17.2783 18.5909 16.8844 18.9848C16.4905 19.3787 15.9563 19.6 15.3992 19.6H8.64749C8.09044 19.6 7.55621 19.3787 7.16232 18.9848C6.76843 18.5909 6.54714 18.0567 6.54714 17.4997L6.54714 8.89725C6.54714 8.84202 6.50237 8.79725 6.44714 8.79725H5.94692C5.53271 8.79725 5.19692 8.46147 5.19692 8.04725C5.19692 7.63304 5.53271 7.29725 5.94692 7.29725L7.29176 7.29725L7.29207 7.29725L7.29683 7.29723H7.29745L7.30221 7.29725H7.30252H8.47266ZM13.874 7.29725C13.9293 7.29725 13.974 7.25248 13.974 7.19725V6.69689C13.974 6.53767 13.9108 6.38497 13.7982 6.27238C13.6856 6.15979 13.5329 6.09654 13.3737 6.09654H10.673C10.5138 6.09654 10.3611 6.15979 10.2485 6.27238C10.1359 6.38497 10.0727 6.53767 10.0727 6.69689V7.19725C10.0727 7.25248 10.1174 7.29725 10.1727 7.29725L13.874 7.29725ZM8.14714 8.79725C8.09191 8.79725 8.04714 8.84202 8.04714 8.89725L8.04714 17.4997C8.04714 17.6589 8.11039 17.8116 8.22298 17.9242C8.33556 18.0367 8.48826 18.1 8.64749 18.1H15.3992C15.5584 18.1 15.7111 18.0367 15.8237 17.9242C15.9363 17.8116 15.9996 17.6589 15.9996 17.4997L15.9996 8.89725C15.9996 8.84202 15.9548 8.79725 15.8996 8.79725H8.14714Z",fill:"#222222",stroke:"white",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"})))};e.CashOrPosIcon=function(){return ut||(ut=(0,Et.default)("svg",{width:"41",height:"41",viewBox:"0 0 41 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"},void 0,(0,Et.default)("g",{id:"Group"},void 0,(0,Et.default)("path",{id:"Path",d:"M23.833 15.5001H25.986C26.7622 15.5001 27.5278 15.6808 28.2221 16.0279L29.1974 16.5156C30.0479 16.9409 30.7595 17.5998 31.2488 18.4153L35.4997 25.5001",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Et.default)("path",{id:"Path_2",d:"M18.8333 30.5001H10.5C7.73858 30.5001 5.5 28.2615 5.5 25.5001V10.5001C5.5 7.73865 7.73858 5.50008 10.5 5.50008H18.8333C21.5948 5.50008 23.8333 7.73865 23.8333 10.5001V23.8334",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Et.default)("path",{id:"Path_3",d:"M11.3333 11.3334V14.6668",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Et.default)("path",{id:"Path_4",d:"M27.1663 35.5001L22.5807 33.7367C21.2301 33.2174 20.0852 32.2728 19.3187 31.0454L14.2375 22.9087C13.5806 21.8568 13.7364 20.4907 14.6134 19.6137V19.6137C15.1305 19.0966 15.8374 18.8148 16.5684 18.8344C17.2994 18.8539 17.9902 19.1731 18.479 19.717L22.1776 23.8334H25.4997",stroke:"#222222",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}))))};e.CouponIconType1=function(t){return At.default.createElement("svg",(0,Mt.default)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),ct||(ct=(0,Et.default)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.8972 6.15401L19.7622 6.34301C20.5542 6.51601 21.0262 7.33301 20.7802 8.10601L20.5112 8.95001C20.3482 9.46301 20.4982 10.023 20.8962 10.386L21.5512 10.982C22.1502 11.528 22.1502 12.472 21.5512 13.018L20.8962 13.614C20.4982 13.976 20.3482 14.537 20.5112 15.05L20.7802 15.894C21.0262 16.667 20.5542 17.484 19.7622 17.657L18.8972 17.846C18.3712 17.961 17.9612 18.371 17.8462 18.897L17.6572 19.762C17.4842 20.554 16.6672 21.026 15.8942 20.78L15.0502 20.511C14.5372 20.348 13.9772 20.498 13.6142 20.896L13.0182 21.551C12.4722 22.15 11.5282 22.15 10.9822 21.551L10.3862 20.896C10.0242 20.498 9.46323 20.348 8.95023 20.511L8.10623 20.78C7.33323 21.026 6.51623 20.554 6.34323 19.762L6.15423 18.897C6.03923 18.371 5.62923 17.961 5.10323 17.846L4.23823 17.657C3.44623 17.484 2.97423 16.667 3.22023 15.894L3.48923 15.05C3.65223 14.537 3.50223 13.977 3.10423 13.614L2.45023 13.018C1.85123 12.472 1.85123 11.528 2.45023 10.982L3.10523 10.386C3.50323 10.024 3.65323 9.46301 3.49023 8.95001L3.22023 8.10601C2.97423 7.33301 3.44623 6.51601 4.23823 6.34301L5.10323 6.15401C5.62923 6.03901 6.03923 5.62901 6.15423 5.10301L6.34323 4.23801C6.51623 3.44601 7.33323 2.97401 8.10623 3.22001L8.95023 3.48901C9.46323 3.65201 10.0232 3.50201 10.3862 3.10401L10.9822 2.44901C11.5282 1.85001 12.4722 1.85001 13.0182 2.44901L13.6142 3.10401C13.9762 3.50201 14.5372 3.65201 15.0502 3.48901L15.8942 3.22001C16.6672 2.97401 17.4842 3.44601 17.6572 4.23801L17.8462 5.10301C17.9612 5.62901 18.3712 6.03901 18.8972 6.15401Z",stroke:"#EF0321","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),pt||(pt=(0,Et.default)("path",{d:"M9 15L15 9",stroke:"#EF0321",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),dt||(dt=(0,Et.default)("path",{d:"M9.249 9C9.111 9 8.999 9.112 9 9.25C9 9.388 9.112 9.5 9.25 9.5C9.388 9.5 9.5 9.388 9.5 9.25C9.5 9.112 9.388 9 9.249 9",stroke:"#EF0321",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),ht||(ht=(0,Et.default)("path",{d:"M14.749 14.5C14.611 14.5 14.499 14.612 14.5 14.75C14.5 14.888 14.612 15 14.75 15C14.888 15 15 14.888 15 14.75C15 14.612 14.888 14.5 14.749 14.5",stroke:"#EF0321",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})))};e.CouponIconType2=function(t){return At.default.createElement("svg",(0,Mt.default)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),ft||(ft=(0,Et.default)("path",{d:"M14 11H19.5C20.3284 11 21 10.3284 21 9.5V8.5C21 7.67157 20.3284 7 19.5 7H4.5C3.67157 7 3 7.67157 3 8.5V9.5C3 10.3284 3.67157 11 4.5 11H10",stroke:"#EF0321",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),mt||(mt=(0,Et.default)("path",{d:"M20 11V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V11",stroke:"#EF0321",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),gt||(gt=(0,Et.default)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3V3C11.1046 3 12 3.89543 12 5V7H10C8.89543 7 8 6.10457 8 5V5C8 3.89543 8.89543 3 10 3Z",stroke:"#EF0321",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),yt||(yt=(0,Et.default)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 3V3C15.1046 3 16 3.89543 16 5V5C16 6.10457 15.1046 7 14 7H12V5C12 3.89543 12.8954 3 14 3Z",stroke:"#EF0321",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),vt||(vt=(0,Et.default)("rect",{x:"10",y:"7",width:"4",height:"14",rx:"1",stroke:"#EF0321",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})))};e.CouponIconType3=function(t){return At.default.createElement("svg",(0,Mt.default)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),_t||(_t=(0,Et.default)("path",{d:"M14 19V20.75C14 21.4404 13.4404 22 12.75 22H11.25C10.9185 22 10.6005 21.8683 10.3661 21.6339C10.1317 21.3995 10 21.0815 10 20.75V19",stroke:"#EF0321",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),bt||(bt=(0,Et.default)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.1195 7H13.8804C15.9127 7.00479 17.6203 8.52896 17.8549 10.5477C18.0483 12.1768 18.0483 13.8231 17.855 15.4523C17.6203 17.4711 15.9127 18.9953 13.8803 19C12.6829 19 11.3171 19 10.1196 19C8.08721 18.9952 6.37962 17.471 6.14499 15.4521C5.95165 13.823 5.95167 12.1768 6.14504 10.5477C6.37973 8.52896 8.08723 7.00482 10.1195 7Z",stroke:"#EF0321",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),xt||(xt=(0,Et.default)("path",{d:"M9 18.8395V17C9 15.3431 10.3431 14 12 14V14C13.6569 14 15 15.3431 15 17V18.8395",stroke:"#EF0321",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),wt||(wt=(0,Et.default)("path",{d:"M18.0003 4H14.4502",stroke:"#EF0321",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),kt||(kt=(0,Et.default)("path",{d:"M9.55013 4H6",stroke:"#EF0321",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),St||(St=(0,Et.default)("path",{d:"M12 14V7",stroke:"#EF0321",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),Ct||(Ct=(0,Et.default)("ellipse",{cx:"12",cy:"4.5",rx:"2.5",ry:"2.5",stroke:"#EF0321",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})))}},,function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.visitedFoodAction=e.updateFoodAction=e.setMenuTagAction=e.setMenuAction=e.setLastLoadedTimeMenuAction=e.resetFoodMenuAction=e.reloadMenuByTimeAction=e.activeCategoryAction=e.activateCategoryAction=void 0;var i=r(n(13)),o=n(385),a=n(110),s=n(69),l=n(268),u=r(n(885)),c=n(177);function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.updateFoodAction=function(t){return{type:l.UPDATE_FOOD,payload:t}};e.visitedFoodAction=function(t,e){return function(n,r){const i=r().menu.foodListItem[t];i&&i.visited!==e&&n({type:l.VISITED_FOOD_MENU,payload:{id:t,visited:e}})}};e.activeCategoryAction=function(t){return{type:l.SET_ACTIVE_CATEGORY,payload:t}};e.activateCategoryAction=function(t){return function(e,n){const r="".concat(t),i=n().menu.categoryList,o=n().menu.categoryObj;o[r]?(i.forEach((function(t){const e=t.catId===r;o[t.catId].active!==e&&(o[t.catId]={active:e})})),e({type:l.SET_ACTIVATE_CATEGORY,payload:o})):console.log("not found ",r,o)}};const h=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return function(i,c){const p=c().app.digitalMenuMode,h=(0,u.default)(t,n,p),f=h.foodList.obj,m=h.foodList.arr,g=[],y=[];if(e&&e.length){const t={};e.forEach((function(e){const{id:n,count:r,toppings:i}=e,s=d({},m.find((function(t){return t.id===n})));if(s&&s.available){const l=f[n];if(l.quantity=r+(t[s.id]||0),t[s.id]=l.quantity,s.parent){f[s.parent].quantity+=l.quantity}if(i){s.toppingsSelected=i,s.toppingId=(0,a.toppingIdGenerator)(i);let t=0;i.forEach((function(e){t+=e.count*e.price})),s.toppingsPrice=t}s.type=e.type,g.push((0,o.updateFoodPrices)(s,r))}else y.push(s)}))}r(h.extra,g,y),i({type:l.SET_FOOD_MENU,payload:{foodListItem:f,foodList:m,categoryList:h.categoryList,categoryObj:h.categoryObj}}),(0,s.isEmpty)(g)||i((0,a.updateCartAction)(g,!1))}};e.setMenuAction=h;const f=function(){return{type:l.RESET_FOOD_MENU}};e.resetFoodMenuAction=f;e.setLastLoadedTimeMenuAction=function(){return{type:l.SET_LAST_LOADED_TIME_FOOD_MENU,payload:new Date}};e.reloadMenuByTimeAction=function(t,e){return function(n,r){const i=r(),o=i.restaurant.current.id,s=i.restaurant.current.complexTypeId,l=i.cart.items||[],u=[];l.forEach((function(t){u.push({id:t.id,count:t.quantity})})),n(f()),(0,c.getMenuList)(o,t).then((function(t){let{data:r}=t;n(h(r,u,s,(function(t,r,i){r.length!==l.length&&n((0,a.updateCartAction)(r)),e(i)})))}))}};e.setMenuTagAction=function(t,e){return function(n){n({type:l.SET_TAG_MENU,payload:t}),e()}}},function(t,e,n){"use strict";n.r(e),n.d(e,"Trans",(function(){return tt})),n.d(e,"useTranslation",(function(){return at})),n.d(e,"withTranslation",(function(){return ct})),n.d(e,"Translation",(function(){return dt})),n.d(e,"I18nextProvider",(function(){return ht})),n.d(e,"withSSR",(function(){return yt})),n.d(e,"useSSR",(function(){return ft})),n.d(e,"I18nContext",(function(){return A})),n.d(e,"initReactI18next",(function(){return R})),n.d(e,"setDefaults",(function(){return O})),n.d(e,"getDefaults",(function(){return P})),n.d(e,"setI18n",(function(){return z})),n.d(e,"getI18n",(function(){return L})),n.d(e,"composeInitialProps",(function(){return W})),n.d(e,"getInitialProps",(function(){return B})),n.d(e,"date",(function(){return vt})),n.d(e,"time",(function(){return _t})),n.d(e,"number",(function(){return bt})),n.d(e,"select",(function(){return xt})),n.d(e,"plural",(function(){return wt})),n.d(e,"selectOrdinal",(function(){return kt}));var r=n(51),i=n.n(r),o=n(108),a=n.n(o),s=n(13),l=n.n(s),u=n(0),c=n(400),p=n.n(c),d=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function h(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=t.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(e.name=n[1],(p.a[n[1]]||"/"===t.charAt(t.length-2))&&(e.voidElement=!0),e.name.startsWith("!--"))){var r=t.indexOf("--\x3e");return{type:"comment",comment:-1!==r?t.slice(4,r):""}}for(var i=new RegExp(d),o=null;null!==(o=i.exec(t));)if(o[0].trim())if(o[1]){var a=o[1].trim(),s=[a,""];a.indexOf("=")>-1&&(s=a.split("=")),e.attrs[s[0]]=s[1],i.lastIndex--}else o[2]&&(e.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1));return e}var f=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,m=/^\s*$/,g=Object.create(null);function y(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(t){var e=[];for(var n in t)e.push(n+'="'+t[n]+'"');return e.length?" "+e.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(y,"")+"</"+e.name+">";case"comment":return t+"\x3c!--"+e.comment+"--\x3e"}}var v={parse:function(t,e){e||(e={}),e.components||(e.components=g);var n,r=[],i=[],o=-1,a=!1;if(0!==t.indexOf("<")){var s=t.indexOf("<");r.push({type:"text",content:-1===s?t:t.substring(0,s)})}return t.replace(f,(function(s,l){if(a){if(s!=="</"+n.name+">")return;a=!1}var u,c="/"!==s.charAt(1),p=s.startsWith("\x3c!--"),d=l+s.length,f=t.charAt(d);if(p){var g=h(s);return o<0?(r.push(g),r):((u=i[o]).children.push(g),r)}if(c&&(o++,"tag"===(n=h(s)).type&&e.components[n.name]&&(n.type="component",a=!0),n.voidElement||a||!f||"<"===f||n.children.push({type:"text",content:t.slice(d,t.indexOf("<",d))}),0===o&&r.push(n),(u=i[o-1])&&u.children.push(n),i[o]=n),(!c||n.voidElement)&&(o>-1&&(n.voidElement||n.name===s.slice(2,-1))&&(o--,n=-1===o?r:i[o]),!a&&"<"!==f&&f)){u=-1===o?r:i[o].children;var y=t.indexOf("<",d),v=t.slice(d,-1===y?void 0:y);m.test(v)&&(v=" "),(y>-1&&o+u.length>=0||" "!==v)&&u.push({type:"text",content:v})}})),r},stringify:function(t){return t.reduce((function(t,e){return t+y("",e)}),"")}},_=n(401),b=n.n(_),x=n(402),w=n.n(x),k=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,S={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},C=function(t){return S[t]};function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var I,M={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(t){return t.replace(k,C)}},A=Object(u.createContext)();function O(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M=T(T({},M),t)}function P(){return M}var D=function(){function t(){b()(this,t),this.usedNamespaces={}}return w()(t,[{key:"addUsedNamespaces",value:function(t){var e=this;t.forEach((function(t){e.usedNamespaces[t]||(e.usedNamespaces[t]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}();function z(t){I=t}function L(){return I}var R={type:"3rdParty",init:function(t){O(t.options.react),z(t)}};function W(t){return function(e){return new Promise((function(n){var r=B();t.getInitialProps?t.getInitialProps(e).then((function(t){n(T(T({},t),r))})):n(r)}))}}function B(){var t=L(),e=t.reportNamespaces?t.reportNamespaces.getUsedNamespaces():[],n={},r={};return t.languages.forEach((function(n){r[n]={},e.forEach((function(e){r[n][e]=t.getResourceBundle(n,e)||{}}))})),n.initialI18nStore=r,n.initialLanguage=t.language,n}function j(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}var N={};function F(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];"string"==typeof e[0]&&N[e[0]]||("string"==typeof e[0]&&(N[e[0]]=new Date),j.apply(void 0,e))}function U(t,e,n){t.loadNamespaces(e,(function(){if(t.isInitialized)n();else{t.on("initialized",(function e(){setTimeout((function(){t.off("initialized",e)}),0),n()}))}}))}function V(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.languages[0],i=!!e.options&&e.options.fallbackLng,o=e.languages[e.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(t,n){var r=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t))&&(!!e.hasResourceBundle(r,t)||(!(e.services.backendConnector.backend&&(!e.options.resources||e.options.partialBundledLanguages))||!(!a(r,t)||i&&!a(o,t))))}function q(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.languages||!e.languages.length)return F("i18n.languages were undefined or empty",e.languages),!0;var r=void 0!==e.options.ignoreJSONStructure;return r?e.hasLoadedNamespace(t,{precheck:function(e,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!r(e.isLanguageChangingTo,t))return!1}}):V(t,e,n)}function H(t){return t.displayName||t.name||("string"==typeof t&&t.length>0?t:"Unknown")}var G=["format"],Z=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function X(t,e){if(!t)return!1;var n=t.props?t.props.children:t.children;return e?n.length>0:!!n}function Y(t){return t?t.props?t.props.children:t.children:[]}function J(t){return Array.isArray(t)?t:[t]}function $(t,e,n,r,i,o){if(""===e)return[];var s=r.transKeepBasicHtmlNodesFor||[],l=e&&new RegExp(s.join("|")).test(e);if(!t&&!l)return[e];var c={};!function t(e){J(e).forEach((function(e){"string"!=typeof e&&(X(e)?t(Y(e)):"object"!==a()(e)||Object(u.isValidElement)(e)||Object.assign(c,e))}))}(t);var p=v.parse("<0>".concat(e,"</0>")),d=Q(Q({},c),i);function h(t,e,n){var r=Y(t),i=m(r,e.children,n);return function(t){return"[object Array]"===Object.prototype.toString.call(t)&&t.every((function(t){return Object(u.isValidElement)(t)}))}(r)&&0===i.length?r:i}function f(t,e,n,r,i){t.dummy&&(t.children=e),n.push(Object(u.cloneElement)(t,Q(Q({},t.props),{},{key:r}),i?void 0:e))}function m(e,i,c){var p=J(e);return J(i).reduce((function(e,i,g){var y,v,_,b=i.children&&i.children[0]&&i.children[0].content&&n.services.interpolator.interpolate(i.children[0].content,d,n.language);if("tag"===i.type){var x=p[parseInt(i.name,10)];!x&&1===c.length&&c[0][i.name]&&(x=c[0][i.name]),x||(x={});var w=0!==Object.keys(i.attrs).length?(y={props:i.attrs},(_=Q({},v=x)).props=Object.assign(y.props,v.props),_):x,k=Object(u.isValidElement)(w),S=k&&X(i,!0)&&!i.voidElement,C=l&&"object"===a()(w)&&w.dummy&&!k,E="object"===a()(t)&&null!==t&&Object.hasOwnProperty.call(t,i.name);if("string"==typeof w){var T=n.services.interpolator.interpolate(w,d,n.language);e.push(T)}else if(X(w)||S){f(w,h(w,i,c),e,g)}else if(C){var I=m(p,i.children,c);e.push(Object(u.cloneElement)(w,Q(Q({},w.props),{},{key:g}),I))}else if(Number.isNaN(parseFloat(i.name))){if(E)f(w,h(w,i,c),e,g,i.voidElement);else if(r.transSupportBasicHtmlNodes&&s.indexOf(i.name)>-1)if(i.voidElement)e.push(Object(u.createElement)(i.name,{key:"".concat(i.name,"-").concat(g)}));else{var M=m(p,i.children,c);e.push(Object(u.createElement)(i.name,{key:"".concat(i.name,"-").concat(g)},M))}else if(i.voidElement)e.push("<".concat(i.name," />"));else{var A=m(p,i.children,c);e.push("<".concat(i.name,">").concat(A,"</").concat(i.name,">"))}}else if("object"!==a()(w)||k)1===i.children.length&&b?e.push(Object(u.cloneElement)(w,Q(Q({},w.props),{},{key:g}),b)):e.push(Object(u.cloneElement)(w,Q(Q({},w.props),{},{key:g})));else{var O=i.children[0]?b:null;O&&e.push(O)}}else if("text"===i.type){var P=r.transWrapTextNodes,D=o?r.unescape(n.services.interpolator.interpolate(i.content,d,n.language)):n.services.interpolator.interpolate(i.content,d,n.language);P?e.push(Object(u.createElement)(P,{key:"".concat(i.name,"-").concat(g)},D)):e.push(D)}return e}),[])}return Y(m([{dummy:!0,children:t||[]}],p,J(t||[]))[0])}function tt(t){var e=t.children,n=t.count,r=t.parent,o=t.i18nKey,s=t.context,l=t.tOptions,c=void 0===l?{}:l,p=t.values,d=t.defaults,h=t.components,f=t.ns,m=t.i18n,g=t.t,y=t.shouldUnescape,v=i()(t,Z),_=Object(u.useContext)(A)||{},b=_.i18n,x=_.defaultNS,w=m||b||L();if(!w)return F("You will need to pass in an i18next instance by using i18nextReactModule"),e;var k=g||w.t.bind(w)||function(t){return t};s&&(c.context=s);var S=Q(Q({},P()),w.options&&w.options.react),C=f||k.ns||x||w.options&&w.options.defaultNS;C="string"==typeof C?[C]:C||["translation"];var E=d||function t(e,n){if(!e)return"";var r="",o=J(e),s=n.transSupportBasicHtmlNodes&&n.transKeepBasicHtmlNodesFor?n.transKeepBasicHtmlNodesFor:[];return o.forEach((function(e,o){if("string"==typeof e)r+="".concat(e);else if(Object(u.isValidElement)(e)){var l=Object.keys(e.props).length,c=s.indexOf(e.type)>-1,p=e.props.children;if(!p&&c&&0===l)r+="<".concat(e.type,"/>");else if(p||c&&0===l)if(e.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(c&&1===l&&"string"==typeof p)r+="<".concat(e.type,">").concat(p,"</").concat(e.type,">");else{var d=t(p,n);r+="<".concat(o,">").concat(d,"</").concat(o,">")}else r+="<".concat(o,"></").concat(o,">")}else if(null===e)j("Trans: the passed in value is invalid - seems you passed in a null child.");else if("object"===a()(e)){var h=e.format,f=i()(e,G),m=Object.keys(f);if(1===m.length){var g=h?"".concat(m[0],", ").concat(h):m[0];r+="{{".concat(g,"}}")}else j("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",e)}else j("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",e)})),r}(e,S)||S.transEmptyNodeValue||o,T=S.hashTransKey,I=o||(T?T(E):E),M=p?c.interpolation:{interpolation:Q(Q({},c.interpolation),{},{prefix:"#$?",suffix:"?$#"})},O=Q(Q(Q(Q({},c),{},{count:n},p),M),{},{defaultValue:E,ns:C}),D=$(h||e,I?k(I,O):E,w,S,O,y),z=void 0!==r?r:S.defaultTransParent;return z?Object(u.createElement)(z,v,D):D}var et=n(153),nt=n.n(et);function rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ot=function(t,e){var n=Object(u.useRef)();return Object(u.useEffect)((function(){n.current=e?n.current:t}),[t,e]),n.current};function at(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.i18n,r=Object(u.useContext)(A)||{},i=r.i18n,o=r.defaultNS,a=n||i||L();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new D),!a){F("You will need to pass in an i18next instance by using initReactI18next");var s=function(t){return Array.isArray(t)?t[t.length-1]:t},l=[s,{},!1];return l.t=s,l.i18n={},l.ready=!1,l}a.options.react&&void 0!==a.options.react.wait&&F("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=it(it(it({},P()),a.options.react),e),p=c.useSuspense,d=c.keyPrefix,h=t||o||a.options&&a.options.defaultNS;h="string"==typeof h?[h]:h||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(h);var f=(a.isInitialized||a.initializedStoreOnce)&&h.every((function(t){return q(t,a,c)}));function m(){return a.getFixedT(null,"fallback"===c.nsMode?h:h[0],d)}var g=Object(u.useState)(m),y=nt()(g,2),v=y[0],_=y[1],b=h.join(),x=ot(b),w=Object(u.useRef)(!0);Object(u.useEffect)((function(){var t=c.bindI18n,e=c.bindI18nStore;function n(){w.current&&_(m)}return w.current=!0,f||p||U(a,h,(function(){w.current&&_(m)})),f&&x&&x!==b&&w.current&&_(m),t&&a&&a.on(t,n),e&&a&&a.store.on(e,n),function(){w.current=!1,t&&a&&t.split(" ").forEach((function(t){return a.off(t,n)})),e&&a&&e.split(" ").forEach((function(t){return a.store.off(t,n)}))}}),[a,b]);var k=Object(u.useRef)(!0);Object(u.useEffect)((function(){w.current&&!k.current&&_(m),k.current=!1}),[a,d]);var S=[v,a,f];if(S.t=v,S.i18n=a,S.ready=f,f)return S;if(!f&&!p)return S;throw new Promise((function(t){U(a,h,(function(){t()}))}))}var st=["forwardedRef"];function lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function r(r){var o=r.forwardedRef,a=i()(r,st),s=at(t,ut(ut({},a),{},{keyPrefix:e.keyPrefix})),l=nt()(s,3),c=l[0],p=l[1],d=l[2],h=ut(ut({},a),{},{t:c,i18n:p,tReady:d});return e.withRef&&o?h.ref=o:!e.withRef&&o&&(h.forwardedRef=o),Object(u.createElement)(n,h)}r.displayName="withI18nextTranslation(".concat(H(n),")"),r.WrappedComponent=n;return e.withRef?Object(u.forwardRef)((function(t,e){return Object(u.createElement)(r,Object.assign({},t,{forwardedRef:e}))})):r}}var pt=["ns","children"];function dt(t){var e=t.ns,n=t.children,r=at(e,i()(t,pt)),o=nt()(r,3),a=o[0],s=o[1],l=o[2];return n(a,{i18n:s,lng:s.language},l)}function ht(t){var e=t.i18n,n=t.defaultNS,r=t.children,i=Object(u.useMemo)((function(){return{i18n:e,defaultNS:n}}),[e,n]);return Object(u.createElement)(A.Provider,{value:i},r)}function ft(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.i18n,i=Object(u.useContext)(A)||{},o=i.i18n,a=r||o||L();a.options&&a.options.isClone||(t&&!a.initializedStoreOnce&&(a.services.resourceStore.data=t,a.options.ns=Object.values(t).reduce((function(t,e){return Object.keys(e).forEach((function(e){t.indexOf(e)<0&&t.push(e)})),t}),a.options.ns),a.initializedStoreOnce=!0,a.isInitialized=!0),e&&!a.initializedLanguageOnce&&(a.changeLanguage(e),a.initializedLanguageOnce=!0))}var mt=["initialI18nStore","initialLanguage"];function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yt(){return function(t){function e(e){var n=e.initialI18nStore,r=e.initialLanguage,o=i()(e,mt);return ft(n,r),Object(u.createElement)(t,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},o))}return e.getInitialProps=W(t),e.displayName="withI18nextSSR(".concat(H(t),")"),e.WrappedComponent=t,e}}var vt=function(){return""},_t=function(){return""},bt=function(){return""},xt=function(){return""},wt=function(){return""},kt=function(){return""}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.zeroIdCurrentResaurantAction=e.setTableNumber=e.setResaurantInfoAction=e.setCurrentResaurantAction=e.setActiveBranch=e.fetchRestaurantListAction=e.fetchRestaurantInfoAction=e.fetchRestaurantDataAction=e.fetchRestaurantAction=e.checkRestaurantOnlineAction=void 0;var i=r(n(21)),o=r(n(13)),a=r(n(7)),s=(n(180),n(423)),l=r(n(129)),u=n(177),c=n(104),p=n(420),d=n(69),h=n(110),f=n(275),m=n(103),g=n(285);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.setTableNumber=function(t){let{restId:e,tableNumber:n}=t;return sessionStorage.setItem("tableNumber-".concat(e),n),{type:g.SET_TABLE_NUMBER,payload:n}};const _=function(t){return{type:g.SET_CURRENT_RESAURANT,payload:t}};e.setCurrentResaurantAction=_;e.zeroIdCurrentResaurantAction=function(){return{type:g.ZERO_ID_CURRENT_RESAURANT}};e.setActiveBranch=function(t){return{type:g.SET_ACTIVE_BRANCH,payload:{activeBranch:t}}};const b=function(t,e){return{type:g.SET_INFO_RESAURANT,payload:{domain:t,info:e}}};e.setResaurantInfoAction=b;const x=function(t){return t.forEach((function(e){var n,r;let i=null===(n=e.name)||void 0===n?void 0:n.trim();const o=null===(r=e.title)||void 0===r?void 0:r.trim();if(e.branch)if(a.default.multiBrand){const t="شعبه ".concat(e.branch.trim());i="".concat(o?"".concat(o," "):"").concat(i," (").concat(t,")")}else i=e.name&&e.name===t[0].name?"شعبه ".concat(e.branch.trim()):e.branch.trim();else a.default.multiBrand&&(i="".concat(o?"".concat(o," "):"").concat(i));e.text=i})),t};e.fetchRestaurantListAction=function(t){return function(e){new Promise((function(t,e){a.default.multiBrand?(0,u.getBrandList)().then((function(e){return(0,u.getRestaurantList)().then((function(n){const r=n.data?x(n.data):[],i=e.data||[];i.forEach((function(t){t.branches=r.filter((function(e){return e.brandId===t.brandId}))})),t({branchList:r,brandList:i})}))})).catch(e):(0,u.getRestaurantList)().then((function(e){const n=e.data?x(e.data):[];t({branchList:n})})).catch(e)})).then((function(n){let{branchList:r,brandList:i=[]}=n;if(r.length){const n={};r.forEach((function(t){n[t.domain]=v(v({},t),{},{info:null})})),e({type:g.FETCH_RESAURANT_LIST,payload:{brandList:i,list:n,listArray:r}}),setTimeout((function(){(0,s.getLandingData)().then((function(i){i&&e((0,m.setPageContentAction)(i)),t({success:!0,data:n,branchList:r})}))}),500)}else{const e={success:!1,message:"خطا در دریافت اطلاعات"};a.default.delinoBaseId?(0,u.getRestaurantData)(a.default.delinoBaseId).then((function(n){n.offlineText&&(e.message=n.offlineText),t(e)})).catch((function(){return t(e)})):t(e)}})).catch(function(){var e=(0,i.default)((function*(e){t(e)}));return function(t){return e.apply(this,arguments)}}())}};e.fetchRestaurantDataAction=function(t){return function(){const e=a.default.delinoBaseId;e?(0,u.getRestaurantData)(e).then((function(n){(0,u.getRestaurantInfo)(e).then((function(e){t(v(v({},n),e.data))})).catch((function(){return t(null)}))})).catch((function(){return t(null)})):t("delinoBaseId not found")}};e.fetchRestaurantInfoAction=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){const i=e?{id:e}:r().restaurant.current;return(0,u.getRestaurantInfo)(i.id).then((function(e){n(b(i.domain,e.data)),t&&t(e.data)}))}};e.fetchRestaurantAction=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,i){const o=i(),a=o.restaurant.list,s=o.restaurant.multiBranch,m=o.user.isLoggedIn;let y;if(a)if(s){if(y=a[t],!y)return e(!1)}else{const t=Object.keys(a)[0];y=a[t]}r((0,p.resetFoodMenuAction)()),r((0,h.resetCartAction)());const{id:b,domain:x,text:w,brandId:k}=y;return r({type:g.UPDATE_CURRENT_RESAURANT_TEXT,payload:{domain:x,text:w,brandId:k}}),(0,u.getRestaurant)(b,w).then((function(t){let{menu:i,menuTags:a,data:s,setting:u}=t;o.user.isLoggedIn&&r((0,c.fetchSmartClubAction)(s.id,(function(){}),!0)),(0,d.batchRedux)((function(){r(_(v(v({},s),u))),r(n?(0,p.setMenuTagAction)(a,(function(){r((0,p.setMenuAction)(i,[],s.complexTypeId))})):(0,f.restoreCheckoutFromStorageAction)((function(){r((0,h.restoreCartFromStorageAction)(x,(function(t){r((0,p.setMenuTagAction)(a,(function(){r((0,p.setMenuAction)(i,t,s.complexTypeId,(function(t){r({type:g.UPDATE_CURRENT_RESAURANT,payload:{discount:t.maxDiscount}}),m&&"web"!==l.default.device&&setTimeout((function(){r((0,c.fetchSmartClubAction)(s.id,(function(){console.log("smartClub Loaded")})))}),1500)})))})))})))}))),e(y)}))})).catch((function(){return e(null)}))}};e.checkRestaurantOnlineAction=function(t,e){return function(n,r){var i;const o=r().restaurant.listArray,a=r().restaurant.current,s=r().restaurant.multiBranch;let l;if(o)if(s)l=o[t];else{l=o[Object.keys(o)[0]]}null!==(i=l)&&void 0!==i&&i.id&&(0,u.getRestaurantData)(l.id).then((function(t){a.online!==t.online&&(n({type:g.UPDATE_CURRENT_RESAURANT,payload:{online:t.online,offlineText:t.offlineText}}),e())}))}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.getVersion=e.getSliderList=e.getPopup=e.getLandingData=void 0;var i=r(n(13)),o=r(n(21)),a=n(84),s=r(n(129));function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}e.getVersion=function(){var t=(0,o.default)((function*(t,e){let n={success:!1};try{const r=yield a.api.get("app/version/?apitoken=".concat(s.default.apiToken,"&platform=").concat(t,"&version=").concat(e)),{data:{data:i}}=r;n={success:!0,needed:i.updateRequired,force:!i.optional,updateUrl:i.updateUrl}}catch(t){n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({success:!1},t)}return n}));return function(e,n){return t.apply(this,arguments)}}(),e.getSliderList=function(){var t=(0,o.default)((function*(){try{const{data:t}=yield a.api.get("subscriber/sliders/".concat(s.default.apiToken));return t.map((function(t){return t.src}))}catch(t){throw t}}));return function(){return t.apply(this,arguments)}}(),e.getPopup=function(){var t=(0,o.default)((function*(t){try{const e=yield a.api.get("subscriber/popup/".concat(s.default.apiToken,"/").concat(t||""));return 204===e.status?null:e.data}catch(t){throw t}}));return function(e){return t.apply(this,arguments)}}(),e.getLandingData=function(){var t=(0,o.default)((function*(t){try{const{data:t}=yield a.api.get("subscriber/vendoLanding/".concat(s.default.apiToken));return t}catch(t){return null}}));return function(e){return t.apply(this,arguments)}}()},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.NoBranchErrorByFilter=e.BranchSwitcherFilters=void 0;var i,o,a,s,l=r(n(10)),u=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),c=n(284),p=n(132),d=r(n(7)),h=n(29);e.BranchSwitcherFilters={deliveryOnly:function(t){return null==t?void 0:t.deliveryAvailable},pickupOnly:function(t){return null==t?void 0:t.pickupAvailable},dineInOnly:function(t){return null==t?void 0:t.diningOnSite}},e.NoBranchErrorByFilter={deliveryOnly:function(){return i||(i=(0,l.default)("p",{},void 0,"شعبه‌ای با نوع تحویل",(0,l.default)("b",{},void 0," ارسال "),"یافت نشد."))},pickupOnly:function(){return o||(o=(0,l.default)("p",{},void 0,"شعبه‌ای با نوع تحویل",(0,l.default)("b",{},void 0," حضوری "),"یافت نشد."))},dineInOnly:function(){return a||(a=(0,l.default)("p",{},void 0,"شعبه‌ای با نوع تحویل",(0,l.default)("b",{},void 0," سرودرمحل "),"یافت نشد."))}};e.default=function(t){let{branchFilter:e,onBranchFilterChange:n,brandName:r=null}=t;const i=(0,h.useSelector)((function(t){return t.restaurant.listArray})),{deliveryAvailableBranches:o,pickupAvailableBranches:a,dineInAvailableBranches:f}=function(t){const e=[],n=[],r=[];return t.forEach((function(t){t.deliveryAvailable&&e.push(t),t.pickupAvailable&&n.push(t),t.diningOnSite&&r.push(t)})),{deliveryAvailableBranches:e,pickupAvailableBranches:n,dineInAvailableBranches:r}}(i);(0,u.useEffect)((function(){d.default.showBranchSwitcherGroups&&d.default.landingTemplate&&(e||n("deliveryOnly"))}),[]);const{isDarkMode:m}=(0,p.useThemeMode)(),g=r?" نمایش شعبه‌های ".concat(r,"  با تحویل: "):"نحوه دریافت سفارش",y=function(t){return function(){t!==e&&n(t)}};return d.default.showBranchSwitcherGroups&&d.default.landingTemplate?(0,l.default)(c.Wrapper,{},void 0,(0,l.default)(c.BranchSwitcherTitle,{isDarkMode:m},void 0,g),(0,l.default)(c.BranchSwitcherContainer,{isTemplate3:"3"===d.default.landingTemplate,isDarkMode:m,filterButtonsCount:function(){let t=0;return o.length>0&&t++,a.length>0&&t++,f.length>0&&t++,t}()},void 0,a.length>0&&(0,l.default)("button",{disabled:"pickupOnly"===e,onClick:y("pickupOnly")},void 0,"دریافت حضوری"),o.length>0&&(0,l.default)("button",{disabled:"deliveryOnly"===e,onClick:y("deliveryOnly")},void 0,"ارسال با پیک"),f.length>0&&(0,l.default)("button",{disabled:"dineInOnly"===e,onClick:y("dineInOnly")},void 0,"سرو در محل"))):s||(s=u.default.createElement(u.default.Fragment,null))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n(10)),a=r(n(21)),s=r(n(45)),l=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),u=r(n(134)),c=n(29);const p=function(){var t=(0,a.default)((function*(t){var e;if(null!==(e=navigator)&&void 0!==e&&e.clipboard)return yield navigator.clipboard.writeText(t);throw new Error("Clipboard is not supported")}));return function(e){return t.apply(this,arguments)}}(),d=function(t,e){var n;"function"==typeof(null===(n=navigator)||void 0===n?void 0:n.share)?navigator.share({title:"وندو",text:"وندو",url:e.toString()}):p(e.toString()).then((function(e){t.current.show("لینک مورد نظر با موفقیت کپی شد.","tick",2e3)})).catch((function(e){t.current.show("مرورگر شما از کپی کردن لینک پشتیبانی نمیکند! لطفا مرورگر خود را بروز کنید.","error",2e3)}))};e.default=function(t){let{actionName:e,extraParams:n,customLink:r=null}=t;const a=(0,l.useRef)(null);return(0,c.useSelector)((function(t){return t.app.kiosk}))?i||(i=l.default.createElement(l.default.Fragment,null)):(0,o.default)(l.default.Fragment,{},void 0,(0,o.default)(s.default,{style:{marginRight:"10px",cursor:"pointer",backgroundColor:"rgba(0,0,0,0.05)",borderRadius:"50%",padding:"8px",fontSize:"17px"},onClick:function(){if(r)return void d(a,r);const t=new URL(window.location.href);t.searchParams.delete("share"),n&&t.searchParams.delete("shareParams"),t.searchParams.append("share",e),n&&t.searchParams.append("shareParams",n),d(a,t)},name:"share"}),l.default.createElement(u.default,{ref:a}))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.TotalText=e.TotalSumPrice=e.TotalPrice=e.TotalHolder=e.TotalDiscount=e.Total=e.TitlePlaceholder=e.Title=e.SuggestionTitle=e.StyledFooter=e.RestaurantCart=e.RemoveButton=e.PreorderSuggestion=e.PreorderHint=e.ListPlaceholder=e.ListHolder=e.List=e.LightBox=e.ItemTitlePlaceholder=e.ItemPricePlaceholder=e.ItemPlaceholder=e.InvoiceDetailsTotal=e.InvoiceDetailsText=e.InvoiceDetailsPrice=e.InvoiceDetailsDiscount=e.InvoiceDetails=e.InfoTooltip=e.Holder=e.Header=e.Empty=e.CreditNote=e.CouponHolder=e.CompactMenuRestaurantCart=e.ButtonHolder=e.AnchorButton=void 0;var i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b,x,w,k,S,C,E,T=r(n(35)),I=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),M=n(42),A=n(38),O=r(n(7)),P=n(33);n(418);e.RestaurantCart=I.default.div.withConfig({componentId:"sc-10csuqt-0"})(["position:fixed;top:0;left:0;width:100%;height:100%;backface-visibility:hidden;z-index:1141;background-color:",";overflow:hidden;transform:translate3d(-100%,0,0);transition:",";"," "," ",";"],(function(t){return t.theme.color.fgColor}),(function(t){return t.theme.transition.all}),P.breakpoint.greaterThan("415px")(i||(i=(0,T.default)(["\n    max-width: 350px;\n\t  border-radius: 5px;\n    border-radius: 0 ","px ","px 0;\n  "])),null===O.default||void 0===O.default||null===(o=O.default.styles)||void 0===o||null===(a=o.box)||void 0===a?void 0:a.radius,null===O.default||void 0===O.default||null===(s=O.default.styles)||void 0===s||null===(l=s.box)||void 0===l?void 0:l.radius),P.breakpoint.greaterThan("desktop")(u||(u=(0,T.default)(["\n    z-index: 8;\n    position: relative;\n    left: auto;\n    top: auto;\n    bottom: auto;\n    width: 100%;\n    max-width: none;\n    height: auto;\n    border: 1px solid ",";\n    transform: translateZ(0);\n    transition: none;\n    border-radius: ","px;\n\n    &.fix-top {\n      position: fixed;\n      bottom: auto;\n      top: 20px;\n    }\n\n    &.fix-bottom {\n      position: absolute;\n      bottom: 0;\n      top: auto;\n    }\n  "])),(function(t){return t.theme.color.border}),null===O.default||void 0===O.default||null===(c=O.default.styles)||void 0===c||null===(p=c.box)||void 0===p?void 0:p.radius),(function(t){return t.$show&&(0,I.css)(["transform:translate3d(0,0,0);"])})),e.CompactMenuRestaurantCart=I.default.div.withConfig({componentId:"sc-10csuqt-1"})(["position:fixed;top:0;left:0;width:100%;height:100%;backface-visibility:hidden;z-index:1141;background-color:",";overflow:hidden;transform:translate3d(-100%,0,0);transition:",";"," "," ",";"],(function(t){return t.isDarkMode?"#0a0a0a":t.theme.color.fgColor}),(function(t){return t.theme.transition.all}),P.breakpoint.greaterThan("415px")(d||(d=(0,T.default)(["\n    max-width: 350px;\n\t  border-radius: 5px;\n    border-radius: 0 ","px ","px 0;\n  "])),null===O.default||void 0===O.default||null===(h=O.default.styles)||void 0===h||null===(f=h.box)||void 0===f?void 0:f.radius,null===O.default||void 0===O.default||null===(m=O.default.styles)||void 0===m||null===(g=m.box)||void 0===g?void 0:g.radius),P.breakpoint.greaterThan("desktop")(y||(y=(0,T.default)(["\n    z-index: 8;\n    position: relative;\n    left: auto;\n    top: auto;\n    bottom: auto;\n    width: 100%;\n    max-width: none;\n    height: auto;\n    border: 1px solid ",";\n    transform: translateZ(0);\n    transition: none;\n    border-radius: 6px;\n\n      position: sticky;\n      bottom: auto;\n      top: 20px;\n\n  "])),(function(t){return t.theme.color.border})),(function(t){return t.$show&&(0,I.css)(["transform:translate3d(0,0,0);"])})),e.AnchorButton=I.default.button.withConfig({componentId:"sc-10csuqt-2"})(["cursor:pointer;border:none;position:fixed;left:0;bottom:0;width:100%;padding:",";color:",";background-color:",";transform:translateY(100%);z-index:1190;transition:",";"," "," .fab-button{display:none;}"," "," h3{float:right;display:flex;align-items:center;margin:0;direction:rtl;white-space:nowrap;font-weight:400;display:flex;span{margin:0 3px;font-size:",";font-style:normal;font-weight:400;line-height:22px;}strong{font-weight:400;font-size:",";font-size:14px;font-size:",";font-style:normal;font-weight:400;line-height:22px;}}@keyframes AnimationName{0%{background-position:79% 0%;}50%{background-position:22% 100%;}100%{background-position:79% 0%;}}background:",";background-size:",";animation:",";"],(function(t){return t.isKiosk?"48px 50px":"10px 20px"}),(function(t){return t.isDarkMode?"#000000":(0,M.isLight)(t.theme.color.primary)?t.theme.color.grayDark:t.theme.color.white}),(function(t){return t.theme.color.primary}),(function(t){return t.theme.transition.all}),(function(){return"compact"!==O.default.menuTemplate&&(0,I.css)(["",""],P.breakpoint.greaterThan("desktop")(v||(v=(0,T.default)(["\n\t\t\tdisplay: none !important;\n\t\t"]))))}),(function(t){return"compact"===O.default.menuTemplate&&(0,I.css)(["&,& *{color:",";}padding:0 24px;height:48px;border-radius:24px;left:16px;right:16px;bottom:20px;width:calc(100% - 32px);"," .cart-text{margin-right:4px;}"],(0,M.getContrastColor)(t),P.breakpoint.greaterThan("desktop")(_||(_=(0,T.default)(["\n\t\t\tbottom: 0px;\n\t\t"]))))}),(function(t){return t.$fab&&(0,I.css)(["border:none;border-radius:99px;padding:0;width:50px;height:50px;box-shadow:0 0 20px rgba(0,0,0,0.3);left:10px;bottom:10px;transform:translateY(140%);color:",";background-color:",";border:1px solid ",";.fab-button{display:block;}.flat-button{display:none;}.icon{font-size:25px;}small{position:absolute;right:-6px;top:-6px;width:24px;height:24px;padding-top:5px;color:",";background-color:",";border-radius:99px;font-size:15px;}"],t.theme.color.white,t.theme.color.grayDark,t.theme.color.grayLight,t.theme.color.white,t.theme.color.danger)}),P.breakpoint.lessThan("largescreen")(b||(b=(0,T.default)(["\n    transform: translateY(0);\n\n    ","\n  "])),(function(t){return!t.$show&&(0,I.css)(["transform:translateY(140%);"])})),(function(t){return t.isKiosk?"32px":"14px"}),(function(t){return(0,M.rem)(16,t.theme.fontSize.base)}),(function(t){return t.isKiosk?"32px":"14px"}),(function(t){return t.isKiosk?"linear-gradient(6deg, ".concat((0,M.lighten)(t.theme.color.primary,10),", ").concat((0,M.darken)(t.theme.color.primary,10),")"):"".concat((function(t){return(0,M.rem)(16,t.theme.fontSize.base)}))}),(function(t){return t.isKiosk?"400% 400%":""}),(function(t){return t.isKiosk?"AnimationName 2s ease infinite":""})),e.TotalSumPrice=I.default.div.withConfig({componentId:"sc-10csuqt-3"})(["position:absolute;left:",";top:50%;min-width:30px;height:",";display:flex;align-items:center;line-height:32px;padding:0 ",";text-align:center;font-weight:400;background-color:",";transform:translateY(-50%);border-radius:999px;direction:rtl;font-size:",";",""],(function(t){return t.isKiosk?"40px":"15px"}),(function(t){return t.isKiosk?"72px":"30px"}),(function(t){return t.isKiosk?"32px":"10px"}),(function(t){return t.isKiosk?t.theme.color.primary:(0,M.isLight)(t.theme.color.primary)?(0,M.darken)(t.theme.color.primary,10):(0,M.lighten)(t.theme.color.primary,10)}),(function(t){return t.isKiosk?"32px":"14px"}),"compact"===O.default.menuTemplate&&(0,I.css)(["left:24px;display:flex;flex-direction:row;align-items:center;gap:4px;height:26px;p{font-size:14px;font-style:normal;font-weight:700;line-height:18px;}span{font-size:11px;font-style:normal;font-weight:400;line-height:14px;}"])),e.LightBox=(0,I.default)(A.StyledLightBox).withConfig({componentId:"sc-10csuqt-4"})(["z-index:1131;opacity:0;visibility:hidden;"," ",""],P.breakpoint.greaterThan("desktop")(x||(x=(0,T.default)(["\n    display: none\n  "]))),(function(t){return t.$show&&(0,I.css)(["opacity:1;visibility:visible;"])})),e.Header=I.default.header.withConfig({componentId:"sc-10csuqt-5"})(["border-bottom:1px solid ",";padding:0 15px;direction:rtl;position:relative;z-index:10;button{position:absolute;left:0;top:0;width:45px;height:45px;padding:0;span{padding:0;}.icon{font-size:",";}&.trash{left:45px;"," "," .icon{font-size:",";}}&.close{","}}"],(function(t){return t.theme.color.border}),(function(t){return(0,M.rem)(14,t.theme.fontSize.base)}),"compact"===O.default.menuTemplate&&(0,I.css)(["left:32px;"]),P.breakpoint.greaterThan("desktop")(w||(w=(0,T.default)(["\n        left: 0px;\n      "]))),(function(t){return(0,M.rem)(18,t.theme.fontSize.base)}),P.breakpoint.greaterThan("desktop")(k||(k=(0,T.default)(["\n        display: none;\n      "])))),e.Title=I.default.h3.withConfig({componentId:"sc-10csuqt-6"})(["float:right;margin:0;white-space:nowrap;direction:rtl;font-size:",";height:45px;line-height:45px;span{margin-right:5px;}"],(function(t){return(0,M.rem)(15,t.theme.fontSize.base)})),e.TitlePlaceholder=I.default.div.withConfig({componentId:"sc-10csuqt-7"})(["width:80px;height:15px;margin-top:15px;margin-bottom:15px;"]),e.Empty=I.default.div.withConfig({componentId:"sc-10csuqt-8"})(["display:block;text-align:center;padding:50px 0;.icon,img{font-size:",";display:inline-block;margin-bottom:10px;color:",";}img{width:60px;height:60px;}span{color:",";display:block;}"],(function(t){return(0,M.rem)(80,t.theme.fontSize.base)}),(function(t){return t.theme.color.grayLight}),(function(t){return t.theme.color.grayLight})),e.Holder=I.default.div.withConfig({componentId:"sc-10csuqt-9"})(["height:calc(100% - 60px);direction:rtl;overflow-y:scroll;-webkit-overflow-scrolling:touch;",""],P.breakpoint.greaterThan("desktop")(S||(S=(0,T.default)(["\n    overflow: hidden;\n  "])))),e.ListHolder=I.default.div.withConfig({componentId:"sc-10csuqt-10"})([""]);const D=e.List=I.default.div.withConfig({componentId:"sc-10csuqt-11"})(["width:100%;",""],P.breakpoint.greaterThan("desktop")(C||(C=(0,T.default)(["\n    min-height: ","px;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n  "])),(function(t){return t.count<=3?68*t.count:204})));e.PreorderHint=I.default.div.withConfig({componentId:"sc-10csuqt-12"})(["font-size:11px;text-align:right;width:100%;float:left;background-color:",";padding:2px 10px 2px 0;position:relative;.icon{font-size:14px;margin-left:5px;}button{position:absolute;left:0;top:0;color:",";span{padding:7px;}.icon{font-size:11px;}}"],(function(t){return(0,M.rgba)(t.theme.color.warning,.5)}),(function(t){return t.theme.color.textColor})),e.StyledFooter=I.default.div.withConfig({componentId:"sc-10csuqt-13"})(["background-color:",";z-index:8;float:left;width:100%;padding:15px;direction:rtl;border-top:1px solid ",";font-size:",";"],(function(t){return t.isDarkMode?"#0a0a0a":t.theme.color.bgColor}),(function(t){return t.theme.color.border}),(function(t){return(0,M.rem)(13,t.theme.fontSize.base)})),e.InvoiceDetails=I.default.div.withConfig({componentId:"sc-10csuqt-14"})(["text-align:right;width:100%;margin-bottom:10px;position:relative;"]),e.InvoiceDetailsText=I.default.span.withConfig({componentId:"sc-10csuqt-15"})(["float:right;line-height:18px;align-items:center;display:flex;flex-direction:row;justify-content:space-between;gap:6px;"," strong{margin-right:5px;}small{display:block;}"],(function(t){return t.$hasRemoveButton&&(0,I.css)(["margin-right:28px;"])})),e.InvoiceDetailsTotal=I.default.span.withConfig({componentId:"sc-10csuqt-16"})(["float:left;text-align:left;width:40%;"]),e.InvoiceDetailsPrice=I.default.span.withConfig({componentId:"sc-10csuqt-17"})(["display:block;"]),e.InvoiceDetailsDiscount=I.default.span.withConfig({componentId:"sc-10csuqt-18"})(["position:relative;color:",";&:before{content:'';position:absolute;top:50%;left:-5px;right:-5px;height:1px;transform:rotate(-8deg);background-color:",";}"],(function(t){return t.theme.color.grayMedium}),(function(t){return t.theme.color.grayMedium})),e.Total=I.default.div.withConfig({componentId:"sc-10csuqt-19"})(["text-align:right;font-size:",";font-weight:700;margin-bottom:20px;",""],(function(t){return(0,M.rem)(14,t.theme.fontSize.base)}),(function(t){return t.$hasDiscount&&(0,I.css)(["padding-top:5px;border-top:1px dashed ",";"],t.theme.color.border)})),e.TotalText=I.default.span.withConfig({componentId:"sc-10csuqt-20"})(["float:right;font-size:",";width:50%;"],(function(t){return(0,M.rem)(13,t.theme.fontSize.base)})),e.TotalHolder=I.default.span.withConfig({componentId:"sc-10csuqt-21"})(["font-size:",";float:left;width:50%;text-align:left;"],(function(t){return(0,M.rem)(16,t.theme.fontSize.base)})),e.TotalPrice=I.default.strong.withConfig({componentId:"sc-10csuqt-22"})(["position:relative;white-space:nowrap;",""],(function(t){return t.$hasDiscount&&(0,I.css)(["font-weight:400;font-size:80%;&:before{content:'';position:absolute;top:50%;left:-5px;right:-5px;height:1px;transform:rotate(-8deg);background-color:",";}"],t.theme.color.grayMedium)})),e.TotalDiscount=I.default.small.withConfig({componentId:"sc-10csuqt-23"})(["display:block;color:",";white-space:nowrap;font-size:100%;"],(function(t){return t.theme.color.primary})),e.CouponHolder=I.default.div.withConfig({componentId:"sc-10csuqt-24"})([""]),e.ButtonHolder=I.default.div.withConfig({componentId:"sc-10csuqt-25"})(["text-align:center;width:100%;*{color:",";&:hover{color:",";}","}"],(function(t){return(0,M.getContrastColor)(t)}),(function(t){return(0,M.getContrastColor)(t)}),(function(t){return t.isCheckout&&(0,I.css)(["color:",";&:hover{color:",";}"],(function(t){return t.isDarkMode?"#fff":"#000"}),(function(t){return t.isDarkMode?"#000":"#fff"}))})),e.RemoveButton=(0,I.default)(A.AnchorButton).withConfig({componentId:"sc-10csuqt-26"})(["position:absolute;top:50%;margin-top:-8px;text-decoration:none;width:20px;height:20px;line-height:20px;font-size:",";display:block;text-align:center;color:",";font-family:Arial;cursor:pointer;"],(function(t){return(0,M.rem)(24,t.theme.fontSize.base)}),(function(t){return t.theme.color.danger})),e.ListPlaceholder=(0,I.default)(D).withConfig({componentId:"sc-10csuqt-27"})(["",""],P.breakpoint.greaterThan("desktop")(E||(E=(0,T.default)(["\n    height: 300px;\n    max-height: none;\n  "])))),e.ItemPlaceholder=I.default.div.withConfig({componentId:"sc-10csuqt-28"})(["height:50px;border-bottom:1px solid ",";padding-right:15px;&:last-child{border-bottom:none;}"],(function(t){return t.theme.color.border})),e.ItemTitlePlaceholder=I.default.div.withConfig({componentId:"sc-10csuqt-29"})(["width:150px;height:12px;margin-top:10px;"]),e.ItemPricePlaceholder=I.default.div.withConfig({componentId:"sc-10csuqt-30"})(["width:100px;height:8px;margin-top:12px;"]),e.CreditNote=I.default.div.withConfig({componentId:"sc-10csuqt-31"})(["padding:5px;line-height:1.1em;text-align:center;border-radius:5px;border:1px solid ",";background-color:",";"],(function(t){return t.theme.color.border}),(function(t){return t.isDarkMode?"#232323":"#f8f8f8"})),e.PreorderSuggestion=I.default.div.withConfig({componentId:"sc-10csuqt-32"})(["margin-top:10px;padding-top:10px;border-top:1px solid ",";"],(function(t){return t.theme.color.border})),e.SuggestionTitle=I.default.div.withConfig({componentId:"sc-10csuqt-33"})(["margin-bottom:20px;"]),e.InfoTooltip=I.default.div.withConfig({componentId:"sc-10csuqt-34"})(["position:relative;display:inline-block;height:18px;.tooltip-text{visibility:hidden;width:120px;background-color:black;color:#fff;text-align:center;border-radius:6px;padding:5px 0;position:absolute;z-index:1;bottom:150%;left:50%;margin-left:-60px;}.tooltip-text::after{content:'';position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:black transparent transparent transparent;}&:active .tooltip-text,&:hover .tooltip-text{visibility:visible;}"])},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(10)),o=r(n(51)),a=r(n(0)),s=n(915);const l=["children","label","inline"];e.default=function(t){let{children:e,label:n,inline:r}=t,u=(0,o.default)(t,l);return a.default.createElement(s.StyledGroup,u,n&&(0,i.default)(s.Label,{},void 0,n),(0,i.default)(s.InputGroup,{$inline:r},void 0,e))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.Unavailable=e.TitlePlaceholder=e.Title=e.SubHolder=e.SubFoodSection=e.SubDetailsHolder=e.StyledBadge=e.Section=e.PricePlaceholder=e.PriceHolder=e.Price=e.PlaceHolderCard=e.PillContainer=e.OverlayIngredient=e.MobileQuantityHolder=e.Ingredient=e.ImagePlaceholder=e.Image=e.Footer=e.FoodTitleHolder=e.FoodIngredients=e.FoodGroupItem=e.Figure=e.DiscountPercentage=e.DiscountHolder=e.DiscountBadge=e.Discount=e.DetailsHolder=e.DesktopQuantityHolder=e.DefaultImage=e.Card=e.ButtonPlaceholder=e.ArrowIcon=void 0;var i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b,x,w,k=r(n(35)),S=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),C=n(33),E=n(42);n(38),r(n(7));e.Card=S.default.div.withConfig({componentId:"sc-15ucq0h-0"})(["display:flex;justify-content:stretch;float:right;width:100%;position:relative;padding-bottom:15px;&:last-child{padding-bottom:0;"," [dir='ltr'] &{float:left;}"," "],C.breakpoint.greaterThan("tablet")(i||(i=(0,k.default)(["\n\t\t\tpadding-bottom:15px;\n\t\t"]))),C.breakpoint.greaterThan("650px")(o||(o=(0,k.default)(["\n  ","\n    \n  "])),(function(t){return t.$isSub&&(0,S.css)([".ingredient{display:block;}.details-holder{height:auto;}"])}))),e.PlaceHolderCard=S.default.div.withConfig({componentId:"sc-15ucq0h-1"})(["float:right;width:100%;position:relative;padding-bottom:15px;[dir='ltr'] &{float:left;}",""],C.breakpoint.greaterThan("tablet")(a||(a=(0,k.default)(["\n\t\twidth:49%;\n\t\twidth:calc(50% - 20px);\n  "])))),e.Section=S.default.section.withConfig({componentId:"sc-15ucq0h-2"})(["padding:15px 15px 0 15px;background-color:",";border:1px solid ",";width:100%;direction:rtl;position:relative;will-change:height;transition:height 0.4s cubic-bezier(0.19,1,0.22,1);border-radius:8px;overflow:hidden;[dir='ltr'] &{direction:ltr;}"," ",""],(function(t){return t.isDarkMode?"#161616":t.theme.color.boxColor}),(function(t){return t.theme.color.border}),C.breakpoint.greaterThan("650px")(s||(s=(0,k.default)(["\n\t\tpadding-bottom: 15px;\n\n\t\t&:hover {\n\t\t\tfigure {\n\t\t\t\t.ingredient {\n\n\t\t\t\t\topacity: 1;\n\t\t\t\t\tvisibility: visible;\n\n\t\t\t\t}\n\n\t\t\t\t.ingredient div {\n\t\t\t\t\ttransform: translate3d(0, 0, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t"]))),(function(t){return t.$selected&&(0,S.css)(["border-color:",";"],t.theme.color.primary)})),e.SubFoodSection=S.default.section.withConfig({componentId:"sc-15ucq0h-3"})(["padding:15px 5px;border:none;width:100%;direction:rtl;position:relative;will-change:height;transition:height 0.4s cubic-bezier(0.19,1,0.22,1);border-radius:8px;overflow:hidden;[dir='ltr'] &{direction:ltr;}"," ",""],C.breakpoint.greaterThan("650px")(l||(l=(0,k.default)(["\n    &:hover{\n      figure {\n        .ingredient{\n        \n          opacity: 1;\n          visibility: visible;\n          \n        }\n        .ingredient div{\n          transform: translate3d(0, 0, 0);\n        }\n      }\n    }\n  "]))),(function(t){return t.$selected&&(0,S.css)(["border-color:",";"],t.theme.color.primary)})),e.Figure=S.default.figure.withConfig({componentId:"sc-15ucq0h-4"})(["position:relative;display:flex;flex-direction:row;justify-content:space-between;gap:16px;& > .icon{display:none;}"]),e.Image=S.default.img.withConfig({componentId:"sc-15ucq0h-5"})(["height:max-content;display:block;width:95px;flex-basis:95px;object-fit:cover;aspect-ratio:1/1;border-radius:50%;",";",""],C.breakpoint.greaterThan("tablet")(u||(u=(0,k.default)(["\n\t\twidth: 125px;\n\t\tflex-basis: 125px;\n\t"]))),C.breakpoint.lessThan("1200px")(c||(c=(0,k.default)(["\n\t\twidth:85px;\n\t\t"])))),e.DefaultImage=S.default.img.withConfig({componentId:"sc-15ucq0h-6"})(["width:100%;display:block;"]),e.Ingredient=S.default.div.withConfig({componentId:"sc-15ucq0h-7"})(["line-height:normal;margin-top:10px;font-size:",";color:",";",""],(function(t){return(0,E.rem)(12,t.theme.fontSize.base)}),(function(t){return t.theme.grayMedium}),C.breakpoint.greaterThan("650px")(p||(p=(0,k.default)(["\n    display: none;\n  "])))),e.OverlayIngredient=S.default.div.withConfig({componentId:"sc-15ucq0h-8"})(["position:absolute;left:0;top:0;bottom:0;width:100%;z-index:2;padding:15px;max-height:none;text-align:right;transition:",";background-color:",";font-size:",";color:",";opacity:0;visibility:hidden;display:none;[dir='ltr'] &{text-align:left;}"," div{width:100%;height:100%;display:table;transform:translate3d(0,10px,0);transition:",";}span{vertical-align:middle;display:table-cell;}"],(function(t){return t.theme.transition.all}),(function(t){return(0,E.rgba)(t.theme.color.fgColor,.9)}),(function(t){return(0,E.rem)(14,t.theme.fontSize.base)}),(function(t){return t.theme.textColor}),C.breakpoint.greaterThan("650px")(d||(d=(0,k.default)(["\n    display: block;\n  "]))),(function(t){return t.theme.transition.all})),e.DiscountPercentage=S.default.div.withConfig({componentId:"sc-15ucq0h-9"})(["background-color:#000000;color:#ffffff;border-radius:4px;padding:5px 8px;margin:0 5px;text-align:center;display:flex;align-items:center;flex-direction:row;font-size:14px;font-weight:400;line-height:18px;letter-spacing:0em;height:20px;width:37px;& > p{margin:0 0 0 3px;font-size:10px;font-weight:400;line-height:12px;}"]),e.DiscountBadge=S.default.div.withConfig({componentId:"sc-15ucq0h-10"})(["position:absolute;left:10px;top:10px;[dir='ltr'] &{left:inherit;right:inherit;}span{margin-right:3px;display:inline-block;vertical-align:middle;width:32px;height:30px;line-height:28px;padding:2px 5px;box-shadow:0 0 0 1px "," inset;[dir='ltr'] &{margin-left:3px;margin-right:inherit;}img{width:22px;display:inline-block;vertical-align:middle;}}"],(function(t){return(0,E.rgba)(t.theme.color.black,.1)}));const T=e.DetailsHolder=S.default.div.withConfig({componentId:"sc-15ucq0h-11"})(["position:relative;display:flex;flex-direction:row;align-items:center;width:100%;&.isNotSub{margin-top:-5%;width:65%;}",""],C.breakpoint.greaterThan("tablet")(h||(h=(0,k.default)(["\n\t\tmargin-top: 15px;\n\t\twidth:100%;\n\t\t&.isNotSub{\n\t\t\tmargin-top: 15px;\n\t\t\twidth: 100%;\n\t\t}\n\t"]))));e.SubDetailsHolder=(0,S.default)(T).withConfig({componentId:"sc-15ucq0h-12"})(["justify-content:space-between;& > *{width:max-content !important;}"]),e.Footer=S.default.footer.withConfig({componentId:"sc-15ucq0h-13"})(["display:flex;justify-content:space-between;align-items:center;width:100%;gap:25px;",""],(function(t){return!t.isDiscounted&&(0,S.css)(["margin-bottom:6px;",""],C.breakpoint.greaterThan("desktop")(f||(f=(0,k.default)(["\n\t\t\tmargin-top: 12px;\n\t\t\tmargin-bottom: 0;\n\t\t"]))))})),e.FoodGroupItem=S.default.footer.withConfig({componentId:"sc-15ucq0h-14"})([""," "," display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin:16px 0;&:last-child{margin-bottom:0!important;}& > h3{width:100%;font-size:12px;font-weight:400;line-height:18px;letter-spacing:0;text-align:right;margin:0;}"],(function(t){return t.mobileSub&&"\n\t\t\tmax-width:65%;\n\t\t\tmargin-top:-5% !important;\n\t\t\n\t"}),C.breakpoint.lessThan("390px")(m||(m=(0,k.default)(["\n\t\t\tmax-width:100%;\n\t\t\tmargin-top:0 !important;\n\t\t\t"])))),e.FoodTitleHolder=S.default.div.withConfig({componentId:"sc-15ucq0h-15"})(["display:flex;flex-direction:column;flex-basis:70%;",""],C.breakpoint.greaterThan("tablet")(g||(g=(0,k.default)(["\n\t\tflex-basis:65%;\n\t"])))),e.FoodIngredients=S.default.div.withConfig({componentId:"sc-15ucq0h-16"})(["font-size:13px;font-weight:500;line-height:16px;text-align:right;width:100%;white-space:normal;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;",";"],C.breakpoint.greaterThan("tablet")(y||(y=(0,k.default)(["\n\t-webkit-line-clamp: 3;\t\n\t"])))),e.Title=S.default.div.withConfig({componentId:"sc-15ucq0h-17"})(["font-size:14px;font-weight:700;line-height:18px;text-align:right;margin:0 0 8px 0;display:flex;flex-direction:row;justify-content:space-between;align-items:center;[dir='ltr'] &{text-align:left;}"," ",";& > span{white-space:nowrap;text-overflow:ellipsis;max-width:200px;overflow:hidden;display:inline-block;}",""],C.breakpoint.greaterThan("tablet")(v||(v=(0,k.default)(["\n\t\tmargin: 0 0 16px 0 ;\n\t\n\t"]))),C.breakpoint.greaterThan("768px")(_||(_=(0,k.default)(["\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    width: 100%;\n    overflow: hidden;\n\n  "]))),(function(t){return t.$isSub&&(0,S.css)(["max-width:85%;"])})),e.ArrowIcon=S.default.div.withConfig({componentId:"sc-15ucq0h-18"})(["position:absolute;width:4px;height:8px;left:calc(50% - 4px / 2);top:calc(50% - 8px / 2 + 8px);border:1px solid #222222;transform:matrix(1,0,0,-1,0,0);"]),e.PriceHolder=S.default.span.withConfig({componentId:"sc-15ucq0h-19"})(["direction:rtl;white-space:nowrap;&,& > *{font-size:14px;font-weight:400;line-height:18px;letter-spacing:0;text-align:right;}[dir='ltr'] &{direction:ltr;font-family:Arial;}",""],(function(t){return t.$hasDiscount&&(0,S.css)(["small{color:",";font-size:",";&:before{content:'';position:absolute;top:50%;left:-5px;right:-5px;height:1px;background-color:",";}}strong{display:block;}"],t.theme.color.grayMedium,(0,E.rem)(11,t.theme.fontSize.base),t.theme.color.grayMedium)})),e.DiscountHolder=S.default.div.withConfig({componentId:"sc-15ucq0h-20"})(["display:flex;flex-direction:row;"]),e.Discount=S.default.small.withConfig({componentId:"sc-15ucq0h-21"})(["display:flex;flex-direction:row;align-items:center;margin:0 5px;position:relative;width:fit-content;font-size:",";color:",";"],(function(t){return(0,E.rem)(13,t.theme.fontSize.base)}),(function(t){return t.theme.color.priceColor})),e.Price=S.default.strong.withConfig({componentId:"sc-15ucq0h-22"})(["display:none;margin-top:5px;font-weight:normal;"]),e.DesktopQuantityHolder=S.default.div.withConfig({componentId:"sc-15ucq0h-23"})(["&,& > *{font-size:14px;font-weight:400;line-height:22px;letter-spacing:0em;}width:90px !important;max-width:90px !important;min-width:90px !important;display:flex;justify-content:space-between;align-items:center;text-align:center;&.merged,&.initialIncrease{flex:1;max-width:100px;justify-content:space-between;}&.merged{overflow:hidden;border-radius:40px;background-color:",";& > *{color:"," !important;}}&.initialIncrease:hover > *{color:"," !important;background-color:",";}&.initialIncrease{border-radius:20px;overflow:hidden;& > *{color:"," !important;}}button{padding:0;border-radius:","px;width:30px;height:30px;line-height:1px;&.isText{width:100% !important;border-radius:20px;& > span{padding:3px 24px;font-size:14px;font-weight:400;line-height:22px;letter-spacing:0;}}span{padding:0;}.icon{font-size:",";}}& > span{text-align:center;width:22px;font-size:",";color:",";}"],(function(t){return t.theme.color.primary}),(function(t){return(0,E.getContrastColor)(t.theme.color.primary)}),(function(t){return(0,E.getContrastColor)(t)}),(function(t){return t.theme.color.primary}),(function(t){return t.theme.color.primary}),(function(t){var e,n,r,i;return(null==t||null===(e=t.theme)||void 0===e||null===(n=e.qty)||void 0===n?void 0:n.radius)||(null===(r=t.theme)||void 0===r||null===(i=r.button)||void 0===i?void 0:i.radius)}),(function(t){return(0,E.rem)(13,t.theme.fontSize.base)}),(function(t){return(0,E.rem)(14,t.theme.fontSize.base)}),(function(t){return t.theme.color.textColor})),e.MobileQuantityHolder=S.default.div.withConfig({componentId:"sc-15ucq0h-24"})(["display:flex;justify-content:space-between;align-items:center;max-width:87px;text-align:center;button{border-radius:","px;width:30px;height:30px;line-height:1px;span{padding:0;}.icon{font-size:",";}}& > span{text-align:center;width:22px;font-size:",";color:",";}"," & > *{","}"],(function(t){var e,n,r,i;return(null==t||null===(e=t.theme)||void 0===e||null===(n=e.qty)||void 0===n?void 0:n.radius)||(null===(r=t.theme)||void 0===r||null===(i=r.button)||void 0===i?void 0:i.radius)}),(function(t){return(0,E.rem)(13,t.theme.fontSize.base)}),(function(t){return(0,E.rem)(14,t.theme.fontSize.base)}),(function(t){return t.theme.color.textColor}),C.breakpoint.greaterThan("tablet")(b||(b=(0,k.default)(["\n\t\tdisplay:none;\n\t"]))),C.breakpoint.greaterThan("tablet")(x||(x=(0,k.default)(["\n\t\t\tdisplay:none;\n\t\t"])))),e.Unavailable=S.default.div.withConfig({componentId:"sc-15ucq0h-25"})(["width:90px;max-width:90px;min-width:90px;height:30px;line-height:18px;display:flex;justify-content:center;align-items:center;span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}"]),e.SubHolder=S.default.div.withConfig({componentId:"sc-15ucq0h-26"})(["&,& > *{font-size:14px !important;font-weight:400 !important;line-height:22px !important;letter-spacing:0em !important;}width:90px !important;max-width:90px !important;min-width:90px !important;display:flex;align-items:center;&.merged,&.initialIncrease{flex:1;max-width:100px;justify-content:space-between;}&.merged{overflow:hidden;border-radius:40px;background-color:",";& > *{color:"," !important;}}&.initialIncrease:hover{& > *{color:"," !important;background-color:",";}}&.initialIncrease{border-radius:20px;color:"," !important;overflow:hidden;& > *{font-size:14px;font-weight:400;line-height:22px;letter-spacing:0em;color:"," !important;}}& > .icon{color:",";font-size:",";}button{border-radius:","px;width:30px;height:30px;padding:0;line-height:1px;[dir='ltr'] &{margin-right:initial;margin-left:5px;}&.isText{padding:0 !important;& > span{padding:3px 24px;}width:100% !important;border-radius:20px;}.icon{font-size:",";}span{padding:0;font-size:14px;font-weight:400;line-height:22px;letter-spacing:0em;display:flex;justify-content:center;align-items:center;}}"],(function(t){return t.theme.color.primary}),(function(t){return(0,E.getContrastColor)(t)}),(function(t){return(0,E.getContrastColor)(t)}),(function(t){return t.theme.color.primary}),(function(t){return t.theme.color.primary}),(function(t){return t.theme.color.primary}),(function(t){return t.theme.color.grayLight}),(function(t){return(0,E.rem)(26,t.theme.fontSize.base)}),(function(t){return t.theme.button.radius}),(function(t){return(0,E.rem)(13,t.theme.fontSize.base)})),e.ImagePlaceholder=S.default.div.withConfig({componentId:"sc-15ucq0h-27"})(["width:100%;height:100%;top:0;left:0;position:absolute;"]),e.TitlePlaceholder=S.default.div.withConfig({componentId:"sc-15ucq0h-28"})(["height:15px;width:150px;margin-bottom:15px;"]),e.PricePlaceholder=S.default.div.withConfig({componentId:"sc-15ucq0h-29"})(["height:8px;width:100px;"]),e.ButtonPlaceholder=S.default.div.withConfig({componentId:"sc-15ucq0h-30"})(["height:30px;width:30px;border-radius:",";"],(function(t){return t.theme.button.radius})),e.StyledBadge=S.default.div.withConfig({componentId:"sc-15ucq0h-31"})(["width:25px;min-width:25px;max-width:25px;height:25px;border-radius:50%;margin-left:5px;background-color:#eeeeee;color:#222222;text-align:center;display:flex;justify-content:center;align-items:center;",""],C.breakpoint.lessThan("desktop")(w||(w=(0,k.default)(["\n\t \tdisplay:none !important;\n\t "])))),e.PillContainer=S.default.div.withConfig({componentId:"sc-15ucq0h-32"})(["display:flex;justify-content:center;align-items:center;"])},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(922),i=n(923),o=n(924);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=d(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(l.isBuffer(e)){var n=0|h(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):d(t,e);if("Buffer"===e.type&&o(e.data))return d(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function p(t,e){if(c(e),t=s(t,e<0?0:0|h(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|h(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function f(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(t).length;default:if(r)return N(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return I(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=l.from(e,r)),l.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var o,a=1,s=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var c=-1;for(o=n;o<s;o++)if(u(t,o)===u(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var p=!0,d=0;d<l;d++)if(u(t,o+d)!==u(e,d)){p=!1;break}if(p)return o}return-1}function _(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,r){return U(N(e,t.length-n),t,n,r)}function x(t,e,n,r){return U(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return x(t,e,n,r)}function k(t,e,n,r){return U(F(e),t,n,r)}function S(t,e,n,r){return U(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,l,u=t[i],c=null,p=u>239?4:u>223?3:u>191?2:1;if(i+p<=n)switch(p){case 1:u<128&&(c=u);break;case 2:128==(192&(o=t[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,p=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=p}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return u(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return function(t,e,n,r){return c(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},l.allocUnsafe=function(t){return p(null,t)},l.allocUnsafeSlow=function(t){return p(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=l.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):m.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,r,i){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),u=this.slice(r,i),c=t.slice(e,n),p=0;p<s;++p)if(u[p]!==c[p]){o=u[p],a=c[p];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},l.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function M(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=j(t[o]);return i}function A(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function z(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function L(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(t,e,n,r,o){return o||L(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function W(t,e,n,r,o){return o||L(t,0,n,8),i.write(t,e,n,r,52,8),n+8}l.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=l.prototype;else{var i=e-t;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},l.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):z(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},l.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):z(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return R(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return R(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return W(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return W(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},l.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=l.isBuffer(t)?t:N(new l(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function N(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function F(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(156))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l=r(n(10)),u=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),c=n(438),p=r(n(45)),d=n(38),h=r(n(930)),f=n(391);const m=function(t){var e,n;let{onSelectSearchList:r,innerRef:m}=t;const{state:g,onChange:y,onSelect:v,setClear:_}=(0,h.default)(r),b=(0,u.useRef)(),x=(0,u.useCallback)((function(){return b.current=setTimeout((function(){_(),k()}),350),function(){clearTimeout(b.current)}}),[]),w=(0,u.useCallback)((function(t){v(t),k()}),[]),k=(0,u.useCallback)((function(){m.current.classList.remove("open")}),[]),S=(0,u.useCallback)((function(){m.current.classList.add("open")}),[]);return u.default.createElement(f.SearchHolder,{key:"search-holder",ref:m},(0,l.default)(f.InputHolder,{},void 0,i||(i=(0,l.default)(p.default,{name:"search"})),(0,l.default)("input",{type:"text",name:"query",placeholder:"جستجو",value:g.query,onChange:function(t){return y(t.target.value)},onFocus:S,onBlur:x,autoComplete:"off"}),g.query&&(0,l.default)(f.SearchClear,{onClick:x},void 0,o||(o=(0,l.default)(p.default,{name:"cross"})))),(null==g?void 0:g.query)&&!(null!=g&&g.loading)&&!((null==g||null===(e=g.list)||void 0===e?void 0:e.length)>0)&&(a||(a=(0,l.default)(c.DropdownAddon,{},void 0,(0,l.default)(f.DropdownList,{},void 0,(0,l.default)(f.DropdownItem,{},void 0,(0,l.default)(d.AnchorButton,{type:"button"},void 0,(0,l.default)("span",{},void 0,(0,l.default)(p.default,{name:"pin"}),(0,l.default)("strong",{},void 0,"نتیجه ای یافت نشد")))))))),(null==g||null===(n=g.list)||void 0===n?void 0:n.length)>0&&(0,l.default)(c.DropdownAddon,{className:"thin-scrollbar"},void 0,(0,l.default)(f.DropdownList,{},void 0,g.list.map((function(t){return(0,l.default)(f.DropdownItem,{},t.id,(0,l.default)(d.AnchorButton,{onClick:function(){return w(t)},type:"button"},void 0,(0,l.default)("span",{},void 0,s||(s=(0,l.default)(p.default,{name:"pin"})),(0,l.default)("strong",{},void 0,t.title)),(0,l.default)("small",{},void 0,t.address)))})))))},g=function(t,e){return t.onSelectSearchList===e.onSelectSearchList};e.default=(0,u.memo)(m,g)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.getLocationLastResolves=e.getDetailLocationByMapir=e.getDetailLocation=e.getAddressDeliveryPrice=void 0;var i=r(n(21)),o=n(269),a=n(84);e.getDetailLocation=function(t,e){return a.api.get("location?lat=".concat(t,"&lng=").concat(e))};const s=function(){var t=(0,i.default)((function*(t,e){try{const n=yield a.api.get("/mapLocation?lat=".concat(t,"&lng=").concat(e)),{data:r}=n;return r}catch(t){throw t}}));return function(e,n){return t.apply(this,arguments)}}();e.getLocationLastResolves=(0,o.onlyResolvesLast)(s);e.getDetailLocationByMapir=function(t,e){return a.api.get("location?lat=".concat(t,"&lng=").concat(e))};e.getAddressDeliveryPrice=function(){var t=(0,i.default)((function*(t,e){try{const{status:n,data:r}=yield a.apiAuth.get("user/addresses/".concat(e,"/").concat(t));let i=!0;return 200!==n&&(i=!1),{success:i,response:r}}catch(t){return{success:!1}}}));return function(e,n){return t.apply(this,arguments)}}()},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.TitlePlaceholder=e.StyledCategory=e.Item=e.Holder=e.CatIconPlaceholder=e.CatIcon=void 0;var i,o,a,s,l,u,c,p,d=r(n(35)),h=r(n(16)),f=n(33),m=r(n(7));e.StyledCategory=h.default.div.withConfig({componentId:"sc-6uixc6-0"})([".kiosk-cat-slider{.swiper-wrapper{display:flex;}.swiper-slide{display:inline;}}border-bottom:1px solid #e4e4e4;z-index:9;position:relative;background-color:#fff;border-radius:","px ","px 0 0;.order-menu &{border-radius:","px 0 0 0;}&.fix-top{position:fixed;top:0;left:auto;border-radius:0;}button{display:none;position:absolute;height:100px;top:0;margin:5px auto;z-index:1;span{padding:0 15px;}"," &.disabled{cursor:default;opacity:0.3;}","}"],null===m.default||void 0===m.default||null===(i=m.default.styles)||void 0===i||null===(o=i.box)||void 0===o?void 0:o.radius,null===m.default||void 0===m.default||null===(a=m.default.styles)||void 0===a||null===(s=a.box)||void 0===s?void 0:s.radius,null===m.default||void 0===m.default||null===(l=m.default.styles)||void 0===l||null===(u=l.box)||void 0===u?void 0:u.radius,(function(t){return t.kiosk&&"\n      &.back {\n        right: 0;\n        box-shadow: -8px 0 10px 0px rgba(255, 255, 255, 0.9);\n      }\n  \n      &.next {\n        left: 0;\n        box-shadow: 8px 0 10px 0px rgba(255, 255, 255, 0.9);\n      }\n      "}),f.breakpoint.greaterThan("tablet")(c||(c=(0,d.default)(["\n      display: inline-block;\n    "])))),e.Holder=h.default.div.withConfig({componentId:"sc-6uixc6-1"})(["direction:rtl;max-width:100%;white-space:nowrap;overflow-y:hidden;overflow-x:auto;-webkit-overflow-scrolling:touch;transition:all 0s ease 0s;transform:translate3d(0px,0px,0px);[dir='ltr'] &{direction:initial;}",""],f.breakpoint.greaterThan("tablet")(p||(p=(0,d.default)(["\n    max-width: 85%;\n    margin: auto;\n\t  overflow-x: hidden;\n  "])))),e.Item=h.default.a.withConfig({componentId:"sc-6uixc6-2"})(["cursor:pointer;width:100px;padding:20px 0;user-select:none;position:relative;min-height:1px;outline:none;display:inline-block;vertical-align:top;text-align:center;position:relative;overflow:hidden;strong{display:block;font-weight:400;font-size:",";width:100%;overflow:hidden;white-space:normal;color:",";}.category-icon{width:",";height:",";display:inline-block;vertical-align:middle;background-size:",";",";margin-bottom:10px;transition:all 0.4s cubic-bezier(0.19,1,0.22,1);}&.category-active{strong{font-weight:",";}$ &:before{position:absolute;content:'';bottom:0;left:10%;right:10%;height:4px;background-color:",";}.category-icon{transform:translateY(2px);}}"],(function(t){return t.isKiosk?"18px":"13px"}),(function(t){return t.theme.color.textColor}),(function(t){var e,n;return t.isKiosk?"60px":"".concat((null===m.default||void 0===m.default||null===(e=m.default.order)||void 0===e||null===(n=e.categoryIconSize)||void 0===n?void 0:n.width)||"40px")}),(function(t){var e,n;return t.isKiosk?"60px":"".concat((null===m.default||void 0===m.default||null===(e=m.default.order)||void 0===e||null===(n=e.categoryIconSize)||void 0===n?void 0:n.width)||"40px")}),(function(t){var e,n;return t.isKiosk?"60px":"".concat((null===m.default||void 0===m.default||null===(e=m.default.order)||void 0===e||null===(n=e.categoryIconSize)||void 0===n?void 0:n.width)||"40px")}),(function(t){var e,n;return t.isKiosk?"60px":"".concat((null===m.default||void 0===m.default||null===(e=m.default.order)||void 0===e||null===(n=e.categoryIconSize)||void 0===n?void 0:n.width)||"40px")}),(function(t){return t.isKiosk?"400":"700"}),(function(t){return t.isKiosk?"unset":t.theme.color.primary})),e.CatIcon=h.default.i.withConfig({componentId:"sc-6uixc6-3"})(["background-image:url(",");"],(function(t){return t.image})),e.CatIconPlaceholder=h.default.div.withConfig({componentId:"sc-6uixc6-4"})(["height:40px;width:40px;border-radius:50%;margin:auto;"]),e.TitlePlaceholder=h.default.div.withConfig({componentId:"sc-6uixc6-5"})(["height:8px;width:50px;margin:15px auto 0;"])},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(10)),o=r(n(51)),a=r(n(0)),s=n(29),l=n(104),u=r(n(282)),c=n(283),p=r(n(157));const d=["component"];e.default=function(t){let{component:e}=t,n=(0,o.default)(t,d);const{LoginRedirect:r}=(0,u.default)(!1),h=(0,s.useDispatch)(),f=(0,s.useSelector)((function(t){return t.user.isLoggedIn})),m=(0,s.useSelector)((function(t){return t.user}));return(0,s.useSelector)((function(t){var e;return null===(e=t.app)||void 0===e?void 0:e.kiosk}))&&p.default.info("privateRoute compinent location: ".concat(window.location," , isLogin: ").concat(f,"} , user: ").concat(JSON.stringify(m)," , localStorage: ").concat(localStorage.getItem("token")),!0),f?a.default.createElement(e,n):(h((0,l.setAfterLoginAction)(c.LOGIN_REDIRECT,"",n.location.pathname)),(0,i.default)(r,{}))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.StyledLink=e.StyledButton=void 0;var i,o,a,s,l=r(n(35)),u=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),c=n(42),p=n(33);const d={lg:(0,u.css)(["padding:22px 45px;font-size:",";",""],(function(t){return(0,c.rem)(20,t.theme.fontSize.base)}),(function(t){return t.$loading&&(0,u.css)(["padding:20px 45px;"])})),md:(0,u.css)(["padding:16px 25px;font-size:",";",""],(function(t){return(0,c.rem)(16,t.theme.fontSize.base)}),(function(t){return t.$loading&&(0,u.css)(["padding:14px 25px;"])})),sm:(0,u.css)(["font-size:",";padding:12px 15px;",""],(function(t){return(0,c.rem)(14,t.theme.fontSize.base)}),(function(t){return t.$loading&&(0,u.css)(["padding:10px 15px;"])}))},h={lg:(0,u.css)(["font-size:",";"],(function(t){return(0,c.rem)(20,t.theme.fontSize.base)})),sm:(0,u.css)(["font-size:",";"],(function(t){return(0,c.rem)(14,t.theme.fontSize.base)}))},f={lg:10,sm:5},m=(0,u.css)(["display:block;width:100%;"]),g=(0,u.css)(["display:inline-block;text-align:center;text-decoration:none;direction:rtl;outline:0;padding:0;line-height:1;background-repeat:no-repeat;background-position:center center;position:relative;white-space:nowrap;overflow:hidden;user-select:none;cursor:pointer;border:none;transition:all 0.25s ",";border-radius:","px;color:",";.icon{font-size:",";","}& > span{display:block;width:100%;"," &.mr{margin-right:","px;}&.ml{margin-left:","px;}}"," ",""],(function(t){return t.theme.transition.custom}),(function(t){return t.theme.button.radius}),(function(t){return t.theme.color.white}),(function(t){return(0,c.rem)(19,t.theme.fontSize.base)}),(function(t){return t.$size&&h[t.$size]}),(function(t){return t.$size&&d[t.$size]}),(function(t){return f[t.$size]||8}),(function(t){return f[t.$size]||8}),(function(t){return t.$outline?(n=t.$color,r=t.$colorWithTheme,(0,u.css)([""," ",""],(function(t){const e="primary"!==n||r?t.theme.color[n]:t.theme.color.grayDark;return t.$link?(0,u.css)(["background:none;border:none;color:",";&:hover{color:",";}"],e,(0,c.darken)(e,.1)):(0,u.css)(["background:none;border:1px solid ",";color:",";"," "," ","}"],t.theme.color[n],e,p.breakpoint.greaterThan("tablet")(a||(a=(0,l.default)(["\n              &:active {\n                border-color: ",";\n                transform: scale(0.98);\n              }\n            "])),(0,c.rgba)(t.theme.color[n],.6)),t.$selected&&(0,u.css)(["color:",";border-color:",";background-color:",";"],(0,c.isLight)(t.theme.color[n])?"#333":"white",t.theme.color[n],t.theme.color[n]),!t.$noHover&&!t.disabled&&!t.$selected&&(0,u.css)(["",""],p.breakpoint.greaterThan("tablet")(s||(s=(0,l.default)(["\n            &:hover {\n              color: ",";\n\n              border-color: ",";\n              background-color: ",";\n            }\n          "])),(0,c.isLight)(t.theme.color[n])?"#333":"white",t.theme.color[n],t.theme.color[n])))}),(function(t){return t.disabled&&(0,u.css)(["&[disabled]{cursor:default;border-color:",";color:",";}"],(0,c.rgba)(t.theme.color.grayLight,.6),(0,c.rgba)(t.theme.color.grayLight,.6))}))):(e=t.$color,(0,u.css)([""," ",""],(function(t){return t.$link?(0,u.css)(["background:none;color:",";&:hover{color:",";}"],t.theme.color[e],(0,c.darken)(t.theme.color[e],.1)):(0,u.css)(["background-color:",";color:",";"," "," ",""],t.theme.color[e],(0,c.isLight)(t.theme.color[e])?"#333":"white",!t.$selected&&(0,u.css)(["",""],p.breakpoint.greaterThan("tablet")(i||(i=(0,l.default)(["\n\t\t\t\t\t\t\t\t&:hover {\n\t\t\t\t\t\t\t\t\tbackground: ",";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t"])),(0,c.darken)(t.theme.color[e],.05))),p.breakpoint.greaterThan("tablet")(o||(o=(0,l.default)(["\n\t\t\t\t\t\t\t&:active {\n\t\t\t\t\t\t\t\tbackground: ",";\n\t\t\t\t\t\t\t\ttransform: scale(0.98);\n\t\t\t\t\t\t\t}\n            \t\t\t"])),(0,c.darken)(t.theme.color[e],.05)),t.$selected&&(0,u.css)(["color:",";background:",";border-color:",";"],(0,c.isLight)(t.theme.color[e])?"#333":"white",(0,c.darken)(t.theme.color[e],.05),(0,c.darken)(t.theme.color[e],.05)))}),(function(t){return t.disabled&&(0,u.css)(["&[disabled]{cursor:default;background-color:",";}"],t.theme.color.grayLight)})));var e,n,r}),(function(t){return t.$block&&m}));e.StyledButton=u.default.button.attrs((function(t){return{$color:t.$color||"primary",$size:t.$size||"md"}})).withConfig({componentId:"sc-1hidz1m-0"})(["",""],g),e.StyledLink=u.default.span.attrs((function(t){return{$color:t.$color||"primary",$size:t.$size||"md"}})).withConfig({componentId:"sc-1hidz1m-1"})(["a{","}"],g)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(21)),o=n(0),a=r(n(7)),s=n(133),l=r(n(128)),u=n(29);e.default=function(){const t=(0,o.useRef)((0,s.isIos)()).current,e=(0,u.useSelector)((function(t){return t.app})),[n,r]=(0,o.useState)(!1),c=(0,o.useRef)();(0,o.useEffect)((function(){(function(){var n=(0,i.default)((function*(){const n=yield l.default.getItem("@pwa_shown");let i=e.skipTour,o=e.skipAds;!localStorage.getItem("tour")&&void 0!==a.default.tourGuide&&a.default.tourGuide||(i=!0),void 0!==a.default.popup&&a.default.popup||(o=!0);a.default.showPwa&&(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://")||!t||n||!i||!o||setTimeout((function(){r(!0)}),1500))}));return function(){return n.apply(this,arguments)}})()()}),[e.skipTour,e.skipAds]);return{showPwa:n,onClose:(0,o.useCallback)((function(){c.current.classList.add("webapp-close"),l.default.setItem("@pwa_shown",new Date),setTimeout((function(){r(!1)}),1e3)}),[]),ref:c}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a=r(n(10)),s=r(n(21)),l=r(n(13)),u=C(n(0)),c=n(29),p=n(50),d=n(419),h=C(n(7)),f=r(n(134)),m=r(n(45)),g=C(n(388)),y=n(283),v=n(152),_=r(n(902)),b=r(n(909)),x=r(n(910)),w=r(n(914)),k=r(n(917)),S=r(n(157));function C(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(C=function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a})(t,e)}function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){(0,l.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const I={[g.LOGIN]:b.default,[g.VERIFY_MOBILE]:x.default,[g.REGISTER]:w.default,[g.PASSWORD]:k.default,[g.CHECK_USER]:_.default},M=function(t){var e;let{setModalIgnoreClose:n=function(){},calculateHeight:r=function(){},closeModal:l,location:_,history:b,match:x}=t;const w=(0,u.useRef)(),k=(0,u.useRef)(),C=(0,c.useSelector)((function(t){return t.user.afterLogin})),E=(0,c.useSelector)((function(t){var e;return null===(e=t.app)||void 0===e?void 0:e.kiosk})),[M,A]=(0,u.useState)(!1),O=(0,u.useRef)();var P;null!==(e=x.params)&&void 0!==e&&e.step&&!O.current?b.replace(T(T({},_),{},{pathname:"/login"})):(O.current=(null===(P=x.params)||void 0===P?void 0:P.step)||g.CHECK_USER,n(O.current!==g.CHECK_USER));const{mobile:D,token:z,onNext:L,isLoggedIn:R}=(0,g.default)(),W=(0,u.useCallback)((function(t){const e=L(O.current,t);e&&b.push(T(T({},_),{},{pathname:"".concat("/login","/").concat(e)}))}),[L]);(0,u.useEffect)((function(){R&&C.action!==y.LOGIN_REDIRECT&&(l?l(!0):A(!0))}),[R]),(0,u.useEffect)((function(){r()}),[_]);const B=(0,u.useCallback)(function(){var t=(0,s.default)((function*(t){var e;401===(null==t||null===(e=t.response)||void 0===e?void 0:e.status)?(k.current.show("زمان درج اطلاعات به پایان رسید، دوباره تلاش کنید","clock"),w.current=!0):k.current.show("خطایی رخ داده است، دوباره تلاش کنید")}));return function(e){return t.apply(this,arguments)}}(),[]),j=(0,u.useCallback)((function(){w.current&&A(!0)}),[]),N=(0,u.useCallback)((function(){O.current!==g.CHECK_USER&&b.push(T(T({},_),{},{pathname:"".concat("/login")}))}),[O.current]);if(R&&C.action===y.LOGIN_REDIRECT)return console.log({inja:"inja2",redirectHome:M,isLoggedIn:R,afterLogin:C,kiosk:E}),E&&S.default.info("Auth component ".concat(JSON.stringify({redirectHome:JSON.stringify(M),isLoggedIn:JSON.stringify(R),afterLogin:JSON.stringify(C),kiosk:JSON.stringify(E)})),!0),E?(0,a.default)(p.Redirect,{to:"/order/"+E}):(0,a.default)(p.Redirect,{to:C.data||"/"});if(M||R&&C.action!==y.LOGIN_REDIRECT&&!l)return console.log({inja:"inja",redirectHome:M,isLoggedIn:R,afterLogin:C,kiosk:E}),E?(0,a.default)(p.Redirect,{to:"/order/"+E}):i||(i=(0,a.default)(p.Redirect,{to:"/"}));const F=I[O.current||g.CHECK_USER];return u.default.createElement(u.default.Fragment,null,h.pageSEO&&(0,a.default)(d.Helmet,{},"helmet",(0,a.default)("title",{},void 0,h.pageSEO.login.title)),O.current!==g.CHECK_USER&&(0,a.default)(v.BackButton,{onClick:N},void 0,o||(o=(0,a.default)(m.default,{name:"angle-right"}))),(0,a.default)(v.Body,{},void 0,h.default.loginImage&&(0,a.default)(v.LoginImage,{image:h.default.loginImage}),(0,a.default)(F,{onSuccess:W,onError:B,mobile:D,token:z})),u.default.createElement(f.default,{ref:k,listenClose:j}))},A=function(t,e){return t.location.pathname===e.location.pathname};e.default=(0,p.withRouter)((0,u.memo)(M,A))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(10)),o=r(n(21)),a=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),s=n(29),l=r(n(48)),u=(r(n(279)),r(n(920))),c=r(n(934)),p=n(390),d=n(177),h=r(n(935)),f=r(n(7)),m=r(n(393)),g=n(392),y=r(n(176));e.default=function(){var t;let e=(0,s.useSelector)((function(t){return t.restaurant.listArray}));(0,s.useSelector)((function(t){return t.restaurant.multiBranch}));const n=(0,a.useRef)(null),r=(0,a.useRef)(null),[v,_]=(0,a.useState)(window.innerWidth),[b,x]=(0,a.useState)(f.default.preferPickUpInMap?"pickupOnly":"deliveryOnly"),[w,k]=(0,a.useState)(),[S,C]=(0,a.useState)(null),[E,T]=(0,a.useState)(!1),[I,M]=(0,a.useState)(!1),A=(0,a.useRef)(!1),[O,P]=(0,a.useState)("");function D(){_(window.innerWidth)}(0,a.useEffect)((function(){return window.addEventListener("resize",D),function(){window.removeEventListener("resize",D)}}),[]),(0,a.useEffect)((function(){if(!e.length||A.current)return;A.current=!0,console.log("config.map.center",f.default.map.center),r.current=f.default.map.center;const t=function(){var t=(0,o.default)((function*(){try{if(navigator.permissions&&navigator.permissions.query){if("granted"===(yield navigator.permissions.query({name:"geolocation"})).state)return void i()}a()}catch(t){console.log("Error checking permissions:",t),a()}}));return function(){return t.apply(this,arguments)}}(),i=function(){navigator.geolocation.getCurrentPosition((function(t){console.log({position:t}),r.current={lat:t.coords.latitude,lng:t.coords.longitude},n.current&&n.current.panTo(r.current)}),(function(t){console.log("Geolocation error:",t),a()}),{maximumAge:6e4,timeout:1e4})},a=function(){console.log("setDefaultBranchCenter()"),!r.current&&e.length&&(r.current=f.default.map.center,n.current.panTo(r.current))};t()}),[e]);const z=v<=650,L=(0,a.useCallback)((function(t){n.current=t}),[]),R=(0,a.useCallback)((function(t){n.current&&n.current.panTo(t)}),[]),W=(0,a.useCallback)((function(t){B({lat:t.lat,lng:t.lng},t.id),k(t)}),[]),B=function(){var t=(0,o.default)((function*(t,e){var r;if(E)return;T(!0);const i=null===(r=n.current)||void 0===r?void 0:r.getCenter(),o=yield(0,d.getNearestRestaurantByType)({lat:+i.lat,lng:+i.lng,deliveryType:"deliveryOnly"==b?1:2,restaurantId:e});T(!1),C(o)}));return function(e,n){return t.apply(this,arguments)}}();e=e.filter((function(t){if("deliveryOnly"==b){if(t.deliveryAvailable)return t}else if(t.pickupAvailable)return t})),!r.current&&null!==(t=e)&&void 0!==t&&t.length&&(r.current=f.default.map.center),(0,a.useEffect)((function(){e.length&&n.current&&setTimeout((function(){const t=document.getElementById("confirm-loc");t&&t.scrollIntoView({behavior:"smooth",block:"end"})}),500)}),[e,n.current]);const j=e.length>8,N=e.filter((function(t){return t.branch.includes(O)}));return(0,i.default)(p.SelectBranchFromMapContainer,{isMobile:z,className:"select-branch-from-map"},void 0,(0,i.default)(c.default,{branchFilter:b,onBranchFilterChange:function(t){x(t)},isMobile:z}),(0,i.default)("div",{className:"neshan-wrapper",style:{maxWidth:z?window.innerWidth:"700px",height:z?"300px":"513px",width:z?window.innerWidth:"663px",maxHeight:z?window.innerWidth:"350px",borderRadius:"8px",margin:"auto"}},void 0,(0,i.default)(u.default,{hasCustomMarkers:!0,id:"branchesInMap",centerMarker:!0,onInit:L,customMarkersList:Array.isArray(e)?e:[],onCustomMarkerClick:W,customMarkerAddress:"https://static.delino.com/exclusive/img/map/User-Pin.png",functionAfterFindLocation:R,initialCenter:r.current,token:"web.5lSYHZi6YrkuRnradXd3cnAwOltSpy9GW26dtOdn",withGetLocationButton:!0,withSearchBar:!0,withZoomControl:!0})),(0,i.default)("div",{className:"branch-selector-footer",id:"branch-selector-footer"},void 0,(0,i.default)("button",{className:"ignore-button",onClick:function(){M(!0)},style:{border:"1px solid #e5e5ea",whiteSpace:"nowrap",borderRadius:"5px",textDecoration:"none",padding:"12px 24px",margin:z&&"0 24px"}},void 0,"مشاهده لیست شعب"),(0,i.default)(l.default,{id:"confirm-loc",onClick:B,disabled:E,style:{margin:z&&"0 24px",padding:"16px",display:"flex",alignItems:"center"},loadingSpanStyle:{padding:0},spanStyle:{padding:0},loading:E},void 0,"تایید موقعیت")),!!S&&(0,i.default)(h.default,{isPickUp:"deliveryOnly"!==b,isMobile:z,selectedBranch:w,nearByResponse:S,setNearByResponse:C,setSelectedBranch:k}),I&&(0,i.default)(y.default,{size:"md",align:"center",title:"لیست شعب: ".concat("deliveryOnly"==b?"ارسال با پیک":"تحویل حضوری"),onClose:function(){return M(!1)},hasFooter:!1,boxStyle:{minHeight:"fit-content"}},void 0,(0,i.default)("div",{style:{width:"100%",padding:"28px 24px"}},void 0,(0,i.default)("span",{className:"",style:{width:"100%",textAlign:"right",display:"block",direction:"rtl"}},void 0,f.default.formalSpeech?a.default.createElement(a.default.Fragment,null,"شعبه مورد نظرت رو جهت ",(0,i.default)("strong",{},void 0,"deliveryOnly"==b?"ارسال سفارش":"تحویل حضوری")," انتخاب کن."):a.default.createElement(a.default.Fragment,null,"لطفا شعبه مورد نظر خود را جهت ",(0,i.default)("strong",{},void 0,"deliveryOnly"==b?"ارسال سفارش":"تحویل حضوری")," انتخاب کنید.")),j&&(0,i.default)(m.default,{placeholder:"جستجو",value:O,onChange:P,dir:"rtl",autoFocus:!0}),(0,i.default)(g.SelectBranchChips,{branches:N,style:{paddingTop:"32px"}}))))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.InputGroupAddon=e.InputAddon=e.DropdownAddon=e.ButtonAddon=void 0;var i=r(n(111)),o=r(n(51)),a=r(n(0)),s=n(929);const l=["children"],u=["children"],c=["children"],p=["children"];e.InputGroupAddon=function(t){let{children:e}=t,n=(0,o.default)(t,l);return a.default.createElement(s.Group,(0,i.default)({className:"input-group-addon"},n),e)};e.InputAddon=function(t){let{children:e}=t,n=(0,o.default)(t,u);return a.default.createElement(s.Addon,(0,i.default)({className:"input-addon"},n),e)};e.ButtonAddon=function(t){let{children:e}=t,n=(0,o.default)(t,c);return a.default.createElement(s.Button,(0,i.default)({className:"input-button-addon"},n),e)};e.DropdownAddon=function(t){let{children:e}=t,n=(0,o.default)(t,p);return a.default.createElement(s.Dropdown,(0,i.default)({className:"input-dropdown-addon"},n),e)}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s=r(n(10)),l=r(n(0)),u=r(n(941)),c=r(n(942)),p=r(n(944)),d=r(n(7)),h=n(449),f=r(n(948));const m=function(){const{menuTemplate:t}=d.default;return"compact"===t?i||(i=(0,s.default)(f.default,{})):o||(o=(0,s.default)(u.default,{}))};e.default=function(){return a||(a=l.default.createElement(l.default.Fragment,null,(0,s.default)(m,{}),(0,s.default)(h.Container,{className:"clearfix"},void 0,(0,s.default)(h.RightContainer,{},void 0,(0,s.default)(p.default,{})),(0,s.default)(h.LeftContainer,{},void 0,(0,s.default)(c.default,{})))))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.Wrapper=e.TitlePlaceholder=e.Title=e.StyledBadge=e.Strong=e.StatusWrapper=e.StatusLight=e.SmallTextPlaceholder=e.SmallText=e.RestLogo=e.MainPlaceholder=e.Main=e.LogoPlaceholder=e.List=e.Item=e.InfoContainer=e.DiscountBadge=e.Details=e.DeliveryAreaWrapper=e.CustomTiming=e.ButtonPlaceholder=e.Aside=e.AddressPlaceholder=e.Address=void 0;var i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b,x,w,k=r(n(35)),S=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),C=n(42),E=r(n(7)),T=n(33),I=n(38);e.Main=(0,S.default)(I.ContainerFluid).withConfig({componentId:"sc-1yansig-0"})(["background-image:url(",");background-color:",";min-height:250px;background-size:cover;background-repeat:no-repeat;background-position:50%;position:relative;color:",";z-index:2;"," "," &::before{background-color:rgba(0,0,0,",");content:'';width:100%;height:100%;position:absolute;}",""],(function(t){return t.bgImage}),(function(t){return t.theme.color.white}),(function(t){return t.theme.color.white}),T.breakpoint.greaterThan("tablet")(i||(i=(0,k.default)(["\n\t  min-height: ","px;\n  "])),(function(t){return t.timing?350:300})),E.default.transparentHeader&&(0,S.css)(["min-height:300px;",""],T.breakpoint.greaterThan("tablet")(o||(o=(0,k.default)(["\n\t\t// padding-top:60px;\n\t  min-height: ","px;\n  "])),(function(t){return t.timing?400:350}))),(function(t){return"number"==typeof t.blurIntensity?t.blurIntensity/100:60}),E.default.transparentHeader&&(0,S.css)(["padding-top:80px;min-height:300px;",""],T.breakpoint.greaterThan("tablet")(a||(a=(0,k.default)(["\n\t  min-height: ","px;\n  "])),(function(t){return t.timing?400:350})))),e.MainPlaceholder=(0,S.default)(I.ContainerFluid).withConfig({componentId:"sc-1yansig-1"})(["min-height:300px;background-color:",";border-top:1px solid ",";"],(function(t){return t.theme.color.white}),(function(t){return t.theme.color.graySuperlight})),e.Wrapper=(0,S.default)(I.Container).withConfig({componentId:"sc-1yansig-2"})(["z-index:1;padding-top:30px;direction:rtl;flex-direction:column;width:90%;margin:0 auto;position:relative;text-align:center;",""],T.breakpoint.greaterThan("tablet")(s||(s=(0,k.default)(["\n\t  text-align: right;\n\t  padding-top: 50px;\n  "])))),e.StatusWrapper=S.default.div.withConfig({componentId:"sc-1yansig-3"})(["margin-bottom:20px;",""],T.breakpoint.greaterThan("tablet")(l||(l=(0,k.default)(["\n\t  position: absolute;\n\t  bottom: 20px;\n\t  margin-bottom: 0;\n  "])))),e.DeliveryAreaWrapper=S.default.div.withConfig({componentId:"sc-1yansig-4"})(["margin-bottom:20px;",""],T.breakpoint.greaterThan("tablet")(u||(u=(0,k.default)(["\n\t  position: absolute;\n    left: 0;\n\t  bottom: 20px;\n\t  margin-bottom: 0;\n  "])))),e.InfoContainer=S.default.div.withConfig({componentId:"sc-1yansig-5"})(["text-align:center;",""],T.breakpoint.greaterThan("tablet")(c||(c=(0,k.default)(["\n\t  display: flex;\n\t  justify-content: flex-start;\n    align-items: center;\n\t  text-align: right;\n  "])))),e.RestLogo=S.default.figure.withConfig({componentId:"sc-1yansig-6"})(["position:relative;margin:0 auto 20px;width:100px;height:100px;overflow:hidden;border-radius:50%;"," border:5px solid ",";img{width:100%;}",""],(function(t){return!t.hasValidLogo&&(0,S.css)(["background-color:",";background-image:url('https://www.delino.com/img/general/logo-default.png');background-size:cover;"],(function(t){return t.theme.color.white}))}),(function(t){return t.theme.color.white}),T.breakpoint.greaterThan("tablet")(p||(p=(0,k.default)(["\n\twidth: 120px;\n\theight: 120px;\n\t  margin: 0 0 0 20px;\n  "])))),e.LogoPlaceholder=S.default.div.withConfig({componentId:"sc-1yansig-7"})(["width:100px;height:100px;border-radius:50%;margin:0 auto 20px;",""],T.breakpoint.greaterThan("tablet")(d||(d=(0,k.default)(["\n\t\twidth: 120px;\n\t\theight: 120px;\n\t  \tmargin: 0 0 0 20px;\n  "])))),e.Aside=S.default.aside.withConfig({componentId:"sc-1yansig-8"})([""]),e.Title=S.default.h1.withConfig({componentId:"sc-1yansig-9"})(["margin:10px 0;line-height:1.4;font-size:",";",""],(function(t){return(0,C.rem)(24,t.theme.fontSize.base)}),T.breakpoint.greaterThan("tablet")(h||(h=(0,k.default)(["\n    white-space: nowrap;\n    \tmargin: 0 0 10px;\n\t  font-size: ",";\n  "])),(function(t){return(0,C.rem)(32,t.theme.fontSize.base)}))),e.TitlePlaceholder=S.default.div.withConfig({componentId:"sc-1yansig-10"})(["height:15px;width:200px;margin:10px auto 20px;",""],T.breakpoint.greaterThan("tablet")(f||(f=(0,k.default)(["\n\t\tmargin: 10px 0 20px;\n  "])))),e.SmallTextPlaceholder=S.default.div.withConfig({componentId:"sc-1yansig-11"})(["height:8px;width:100px;margin:0 auto;",""],T.breakpoint.greaterThan("tablet")(m||(m=(0,k.default)(["\n\t\tmargin: 0;\n  "])))),e.DiscountBadge=S.default.span.withConfig({componentId:"sc-1yansig-12"})([""]),e.StyledBadge=(0,S.default)(I.Badge).withConfig({componentId:"sc-1yansig-13"})(["font-size:",";display:inline-block;vertical-align:middle;padding:8px;margin-right:5px;small{font-weight:normal;margin-right:3px;font-size:",";&:last-child{display:none;","}}"],(function(t){return(0,C.rem)(14,t.theme.fontSize.base)}),(function(t){return(0,C.rem)(12,t.theme.fontSize.base)}),T.breakpoint.greaterThan("tablet")(g||(g=(0,k.default)(["\n\t\t\t\tdisplay: inline;\n\t\t\t"])))),e.Address=S.default.h2.withConfig({componentId:"sc-1yansig-14"})(["font-size:",";margin:0 0 10px;"],(function(t){return(0,C.rem)(14,t.theme.fontSize.base)})),e.AddressPlaceholder=S.default.div.withConfig({componentId:"sc-1yansig-15"})(["height:10px;width:350px;margin:10px auto;",""],T.breakpoint.greaterThan("tablet")(y||(y=(0,k.default)(["\n\t\tmargin: 10px 0;\n  "])))),e.Details=S.default.div.withConfig({componentId:"sc-1yansig-16"})(["margin-bottom:25px;.icon{margin-right:10px;}"]),e.ButtonPlaceholder=S.default.div.withConfig({componentId:"sc-1yansig-17"})(["height:40px;width:125px;margin:0 auto 25px;",""],T.breakpoint.greaterThan("tablet")(v||(v=(0,k.default)(["\n\t\tmargin: 0 0 25px;\n  "])))),e.StatusLight=S.default.i.withConfig({componentId:"sc-1yansig-18"})(["vertical-align:middle;margin-top:0;position:relative;width:12px;height:12px;display:inline-block;margin-left:10px;border-radius:50%;"," ",""],(function(t){return t.online&&(0,S.css)(["animation:flash 1s linear infinite;background-color:",";&::before{content:'';position:absolute;width:20px;height:20px;left:-4px;top:-4px;background-color:rgba(33,198,79,0.3);border-radius:50%;}@keyframes flash{0%,100%{opacity:1;}50%{opacity:0;}}"],t.theme.color.success)}),(function(t){return!t.online&&(0,S.css)(["background-color:",";"],t.theme.color.grayMedium)})),e.SmallText=(0,S.default)(I.SmallText).withConfig({componentId:"sc-1yansig-19"})(["display:block;"]),e.CustomTiming=S.default.div.withConfig({componentId:"sc-1yansig-20"})(["margin:20px auto;padding:5px;border-radius:5px;max-width:300px;font-size:",";background-color:",";",""],(function(t){return(0,C.rem)(12,t.theme.fontSize.base)}),(function(t){return(0,C.rgba)(t.theme.color.black,.6)}),T.breakpoint.greaterThan("tablet")(_||(_=(0,k.default)(["\n\t\tmax-width: inherit;\n\t\tmin-width: 200px;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\tpadding: 5px 15px;\n\t\t\n\t"])))),e.Strong=S.default.strong.withConfig({componentId:"sc-1yansig-21"})(["",""],T.breakpoint.greaterThan("tablet")(b||(b=(0,k.default)(["\n\t\tfont-size: ",";\n\t"])),(function(t){return(0,C.rem)(13,t.theme.fontSize.base)}))),e.List=S.default.ul.withConfig({componentId:"sc-1yansig-22"})(["display:flex;justify-content:space-evenly;",""],T.breakpoint.greaterThan("tablet")(x||(x=(0,k.default)(["\n\t\tdisplay: block;\n\t"])))),e.Item=S.default.li.withConfig({componentId:"sc-1yansig-23"})(["label{margin-left:4px;&:after{content:':';}}",""],T.breakpoint.greaterThan("tablet")(w||(w=(0,k.default)(["\n\t\ttext-align: right;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\n\t\tlabel {\n\t\t\t&:after {\n\t\t\t\tcontent: '';\n\t\t\t}\n\t\t}\n\n\t\tspan {\n\t\t\ttext-align: left;\n\t\t}\n\t"]))))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n(10)),a=r(n(0)),s=n(38),l=r(n(442)),u=r(n(443)),c=r(n(445)),p=n(289);e.default=function(){return i||(i=a.default.createElement(a.default.Fragment,null,(0,o.default)(l.default,{}),(0,o.default)(u.default,{}),(0,o.default)(s.FoodList,{},void 0,(0,o.default)(p.CategoryTitle,{},void 0,(0,o.default)(p.CategoryTitlePlaceHolder,{className:"placeholder-anim"})),(0,o.default)(c.default,{}),(0,o.default)(c.default,{}),(0,o.default)(c.default,{}))))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a=r(n(10)),s=(r(n(0)),r(n(48))),l=r(n(45)),u=n(432);const c=function(){return i||(i=(0,a.default)(u.Item,{},void 0,(0,a.default)(u.CatIconPlaceholder,{className:"placeholder-anim"}),(0,a.default)(u.TitlePlaceholder,{className:"placeholder-anim"})))};e.default=function(){return o||(o=(0,a.default)(u.StyledCategory,{},void 0,(0,a.default)(s.default,{link:!0,color:"grayDark",className:"back disabled"},void 0,(0,a.default)(l.default,{name:"angle-right"})),(0,a.default)(u.Holder,{},"holder",(0,a.default)(c,{}),(0,a.default)(c,{}),(0,a.default)(c,{})),(0,a.default)(s.default,{link:!0,color:"grayDark",className:"next disabled"},void 0,(0,a.default)(l.default,{name:"angle-left"}))))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n(10)),a=(r(n(0)),n(444));e.default=function(){return i||(i=(0,o.default)(a.StyledFilter,{},void 0,(0,o.default)(a.SearchPlaceholder,{className:"placeholder-anim"}),(0,o.default)(a.StockPlaceholder,{className:"placeholder-anim"})))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.TagListWrapper=e.TagList=e.TagLink=e.TagContainer=e.Tag=e.StyledFilter=e.StockPlaceholder=e.Stock=e.SearchPlaceholder=e.SearchClear=e.Search=e.Label=void 0;var i,o,a,s,l,u,c=r(n(35)),p=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),d=n(42),h=n(33);e.StyledFilter=p.default.div.withConfig({componentId:"sc-1bdeiad-0"})(["position:relative;padding:10px 0;font-size:14px;display:flex;direction:rtl;align-items:center;border-bottom:1px dashed #e4e4e4;flex-direction:column;[dir='ltr'] &{direction:ltr;}span{padding:0 15px;}",""],h.breakpoint.greaterThan("tablet")(i||(i=(0,c.default)(["\n\t  height: 56px;\n\t  flex-direction: ",";\n\t  justify-content: space-between;\n\t  padding: 10px 15px;\n  "])),(function(t){return t.hasTag?"row-reverse":"row"}))),e.Search=p.default.div.withConfig({componentId:"sc-1bdeiad-1"})(["position:relative;width:calc(100% - 30px);margin:0 auto;"," & > div{margin-bottom:0;height:35px;}input{padding-right:38px;height:35px;border-radius:5px;width:100%;[dir='ltr'] &{padding-right:initial;padding-left:38px;}","}label{span{right:30px;line-height:18px;[dir='ltr'] &{left:30px;right:auto;}}}.icon{padding:5px;left:auto;right:7px;[dir='ltr'] &{right:auto;left:7px;}}"],h.breakpoint.greaterThan("tablet")(o||(o=(0,c.default)(["\n\t  width: inherit;\n\t  margin: 0;\n  "]))),h.breakpoint.greaterThan("mobile")(a||(a=(0,c.default)(["\n\t\t\twidth: 250px;\n\t\t"])))),e.SearchClear=p.default.span.withConfig({componentId:"sc-1bdeiad-2"})(["cursor:pointer;position:absolute;left:5px;top:50%;transform:translateY(-50%);[dir='ltr'] &{left:auto;right:5px;}.icon{font-size:0.5rem;}"]),e.Stock=p.default.div.withConfig({componentId:"sc-1bdeiad-3"})(["direction:rtl;margin-top:20px;[dir='ltr'] &{direction:ltr;}",""],h.breakpoint.greaterThan("mobile")(s||(s=(0,c.default)(["\n\t\tmargin-top: 0;\n  "])))),e.SearchPlaceholder=p.default.div.withConfig({componentId:"sc-1bdeiad-4"})(["height:12px;width:200px;"]),e.StockPlaceholder=p.default.div.withConfig({componentId:"sc-1bdeiad-5"})(["padding-right:10px;direction:rtl;height:12px;width:100px;[dir='ltr'] &{direction:ltr;padding-right:initial;padding-left:10px;}"]),e.TagContainer=p.default.div.withConfig({componentId:"sc-1bdeiad-6"})(["display:flex;align-items:center;width:100%;margin-top:10px;padding-right:15px;[dir='ltr'] &{padding-right:initial;padding-left:15px;}button{display:none;span{width:100%;display:flex;justify-content:center;align-items:center;}&.back{right:0;box-shadow:-8px 0 10px 0px rgba(255,255,255,0.9);[dir='ltr'] &{left:0;right:auto;}}&.next{left:0;box-shadow:8px 0 10px 0px rgba(255,255,255,0.9);[dir='ltr'] &{right:0;left:auto;}}&.disabled{span{cursor:default;opacity:0.3;}}","}",""],h.breakpoint.greaterThan("tablet")(l||(l=(0,c.default)(["\n      display: inline-block;\n    "]))),h.breakpoint.greaterThan("450px")(u||(u=(0,c.default)(["\n\t\tmax-width: calc(100% - 270px);\n\t\tmargin-top: 0;\n\t\tpadding-right: 0;\n\n    [dir='ltr'] & {\n      padding-left: 0;\n      padding-right: 0;\n\t\t}\n  "])))),e.TagListWrapper=p.default.div.withConfig({componentId:"sc-1bdeiad-7"})(["overflow:hidden;height:30px;"]),e.TagList=p.default.ul.withConfig({componentId:"sc-1bdeiad-8"})(["list-style:none;display:flex;align-items:center;overflow-x:auto;"]),e.Tag=p.default.li.withConfig({componentId:"sc-1bdeiad-9"})(["border-radius:5px;background-color:#f2f2f2;padding:3px 10px;font-size:13px;position:relative;margin-left:5px;cursor:pointer;white-space:nowrap;[dir='ltr'] &{margin-left:initial;margin-right:5px;}",";"],(function(t){return t.selected&&(0,p.css)(["background-color:",";color:",";"],t.theme.color.primary,(0,d.isLight)(t.theme.color.primary)?"#333":"white")})),e.Label=p.default.h4.withConfig({componentId:"sc-1bdeiad-10"})(["font-size:14px;margin:0 0 0 5px;float:right;[dir='ltr'] &{float:left;margin:0 5px 0 0;}"]),e.TagLink=p.default.input.withConfig({componentId:"sc-1bdeiad-11"})(["font-family:Arial,Helvetica,sans-serif;font-size:14px;width:100%;text-align:center;border:0 none;background:none;cursor:pointer;"])},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n(10)),a=(r(n(0)),n(446));e.default=function(){return i||(i=(0,o.default)(a.Card,{className:"food-card"},void 0,(0,o.default)(a.Section,{},void 0,(0,o.default)(a.Figure,{},void 0,(0,o.default)(a.DefaultImage,{src:"https://static.delino.com/images/food-default-blank.jpg"}),(0,o.default)(a.ImagePlaceholder,{className:"placeholder-anim"})),(0,o.default)(a.DetailsHolder,{},void 0,(0,o.default)(a.TitlePlaceholder,{className:"placeholder-anim"}),(0,o.default)(a.Footer,{},void 0,(0,o.default)(a.PriceHolder,{},void 0,(0,o.default)(a.PricePlaceholder,{className:"placeholder-anim"})),(0,o.default)(a.SubHolder,{},void 0,(0,o.default)(a.ButtonPlaceholder,{className:"placeholder-anim"})))))))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.Unavailable=e.TitlePlaceholder=e.Title=e.SubHolder=e.StyledBadge=e.Section=e.QuantityHolder=e.PricePlaceholder=e.PriceHolder=e.Price=e.OverlayIngredient=e.Ingredient=e.ImagePlaceholder=e.Image=e.Footer=e.Figure=e.DiscountBadge=e.Discount=e.DetailsHolder=e.DefaultImage=e.Card=e.ButtonPlaceholder=void 0;var i,o,a,s,l,u,c,p,d=r(n(35)),h=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),f=n(33),m=n(42),g=n(38),y=r(n(7));e.Card=h.default.div.withConfig({componentId:"sc-cg1rr9-0"})(["float:right;width:100%;position:relative;padding-bottom:15px;[dir='ltr'] &{float:left;}",""],f.breakpoint.greaterThan("650px")(i||(i=(0,d.default)(["\n  ","\n    \n  "])),(function(t){return t.$isSub&&(0,h.css)([".ingredient{display:block;}.details-holder{height:auto;}"])}))),e.Section=h.default.section.withConfig({componentId:"sc-cg1rr9-1"})(["background-color:",";border:1px solid ",";width:100%;direction:rtl;position:relative;will-change:height;transition:height 0.4s cubic-bezier(0.19,1,0.22,1);border-radius:","px;overflow:hidden;display:flex;flex-direction:column;"," [dir='ltr'] &{direction:ltr;}"," ",""],(function(t){return t.theme.color.boxColor}),(function(t){return t.theme.color.border}),null===y.default||void 0===y.default||null===(o=y.default.styles)||void 0===o||null===(a=o.box)||void 0===a?void 0:a.radius,(function(t){return t.isSub&&(0,h.css)(["flex-direction:row;"])}),f.breakpoint.greaterThan("650px")(s||(s=(0,d.default)(["\n    &:hover{\n      figure {\n        .ingredient{\n        \n          opacity: 1;\n          visibility: visible;\n          \n        }\n        .ingredient div{\n          transform: translate3d(0, 0, 0);\n        }\n      }\n    }\n  "]))),(function(t){return t.$selected&&(0,h.css)(["border-color:",";"],t.theme.color.primary)})),e.Figure=h.default.figure.withConfig({componentId:"sc-cg1rr9-2"})(["position:relative;& > .icon{display:none;}",""],(function(t){return t.isSub&&(0,h.css)(["& > img{max-width:200px;padding:8px;}"])})),e.Image=h.default.img.withConfig({componentId:"sc-cg1rr9-3"})(["width:100%;display:block;position:absolute;top:0;"]),e.DefaultImage=h.default.img.withConfig({componentId:"sc-cg1rr9-4"})(["width:100%;display:block;"]),e.Ingredient=h.default.div.withConfig({componentId:"sc-cg1rr9-5"})(["line-height:normal;margin-top:10px;font-size:",";color:",";",""],(function(t){return(0,m.rem)(12,t.theme.fontSize.base)}),(function(t){return t.theme.grayMedium}),f.breakpoint.greaterThan("650px")(l||(l=(0,d.default)(["\n    display: none;\n  "])))),e.OverlayIngredient=h.default.div.withConfig({componentId:"sc-cg1rr9-6"})(["position:absolute;left:0;top:0;bottom:0;width:100%;z-index:2;padding:15px;max-height:none;text-align:right;transition:",";background-color:",";font-size:",";color:",";opacity:0;visibility:hidden;display:none;[dir='ltr'] &{text-align:left;}"," div{width:100%;height:100%;display:table;transform:translate3d(0,10px,0);transition:",";}span{vertical-align:middle;display:table-cell;}"],(function(t){return t.theme.transition.all}),(function(t){return(0,m.rgba)(t.theme.color.fgColor,.9)}),(function(t){return(0,m.rem)(14,t.theme.fontSize.base)}),(function(t){return t.theme.textColor}),f.breakpoint.greaterThan("650px")(u||(u=(0,d.default)(["\n    display: block;\n  "]))),(function(t){return t.theme.transition.all})),e.DiscountBadge=h.default.div.withConfig({componentId:"sc-cg1rr9-7"})(["position:absolute;left:10px;top:10px;[dir='ltr'] &{left:inherit;right:inherit;}span{margin-right:3px;display:inline-block;vertical-align:middle;width:32px;height:30px;line-height:28px;padding:2px 5px;box-shadow:0 0 0 1px "," inset;[dir='ltr'] &{margin-left:3px;margin-right:inherit;}img{width:22px;display:inline-block;vertical-align:middle;}}"],(function(t){return(0,m.rgba)(t.theme.color.black,.1)})),e.DetailsHolder=h.default.div.withConfig({componentId:"sc-cg1rr9-8"})(["position:relative;padding:15px;width:100%;",""],f.breakpoint.greaterThan("650px")(c||(c=(0,d.default)(["\n    height:",";\n  "])),(function(t){return t.kiosk?"96px":"90px"}))),e.Footer=h.default.footer.withConfig({componentId:"sc-cg1rr9-9"})(["display:flex;justify-content:space-between;align-items:center;"]),e.Title=h.default.h3.withConfig({componentId:"sc-cg1rr9-10"})(["text-align:right;margin:0 0 5px;font-size:",";font-weight:bold;line-height:22px;[dir='ltr'] &{text-align:left;}"," ",""],(function(t){return(0,m.rem)(14,t.theme.fontSize.base)}),f.breakpoint.greaterThan("768px")(p||(p=(0,d.default)(["\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    width: 100%;\n    overflow: hidden;\n  "]))),(function(t){return t.$isSub&&(0,h.css)(["max-width:85%;"])})),e.PriceHolder=h.default.span.withConfig({componentId:"sc-cg1rr9-11"})(["font-size:",";direction:rtl;white-space:nowrap;line-height:1;[dir='ltr'] &{direction:ltr;font-family:Arial;}",""],(function(t){return(0,m.rem)(13,t.theme.fontSize.base)}),(function(t){return t.$hasDiscount&&(0,h.css)(["small{color:",";font-size:",";&:before{content:'';position:absolute;top:50%;left:-5px;right:-5px;height:1px;transform:rotate(-8deg);background-color:",";}}strong{display:block;}"],t.theme.color.grayMedium,(0,m.rem)(11,t.theme.fontSize.base),t.theme.color.grayMedium)})),e.Discount=h.default.small.withConfig({componentId:"sc-cg1rr9-12"})(["position:relative;font-size:",";color:",";"],(function(t){return(0,m.rem)(13,t.theme.fontSize.base)}),(function(t){return t.theme.color.priceColor})),e.Price=h.default.strong.withConfig({componentId:"sc-cg1rr9-13"})(["display:none;margin-top:5px;font-weight:normal;"]),e.QuantityHolder=h.default.div.withConfig({componentId:"sc-cg1rr9-14"})(["display:flex;justify-content:space-between;align-items:center;max-width:87px;text-align:center;button{border-radius:","px;width:30px;height:30px;line-height:1px;span{padding:0;}.icon{font-size:",";}}& > span{text-align:center;width:22px;font-size:",";color:",";}"],(function(t){var e,n,r,i;return(null==t||null===(e=t.theme)||void 0===e||null===(n=e.qty)||void 0===n?void 0:n.radius)||(null===(r=t.theme)||void 0===r||null===(i=r.button)||void 0===i?void 0:i.radius)}),(function(t){return(0,m.rem)(13,t.theme.fontSize.base)}),(function(t){return(0,m.rem)(14,t.theme.fontSize.base)}),(function(t){return t.theme.color.textColor})),e.Unavailable=h.default.div.withConfig({componentId:"sc-cg1rr9-15"})(["max-width:120px;line-height:18px;span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}"]),e.SubHolder=h.default.div.withConfig({componentId:"sc-cg1rr9-16"})(["display:flex;align-items:center;& > .icon{color:",";font-size:",";}button{border-radius:","px;width:30px;height:30px;padding:0;line-height:1px;margin-right:5px;[dir='ltr'] &{margin-right:initial;margin-left:5px;}.icon{font-size:",";}span{padding:0;}}"],(function(t){return t.theme.color.grayLight}),(function(t){return(0,m.rem)(26,t.theme.fontSize.base)}),(function(t){return t.theme.button.radius}),(function(t){return(0,m.rem)(13,t.theme.fontSize.base)})),e.ImagePlaceholder=h.default.div.withConfig({componentId:"sc-cg1rr9-17"})(["width:100%;height:100%;top:0;left:0;position:absolute;"]),e.TitlePlaceholder=h.default.div.withConfig({componentId:"sc-cg1rr9-18"})(["height:15px;width:150px;margin-bottom:15px;"]),e.PricePlaceholder=h.default.div.withConfig({componentId:"sc-cg1rr9-19"})(["height:8px;width:100px;"]),e.ButtonPlaceholder=h.default.div.withConfig({componentId:"sc-cg1rr9-20"})(["height:30px;width:30px;border-radius:",";"],(function(t){return t.theme.button.radius})),e.StyledBadge=(0,h.default)(g.Badge).withConfig({componentId:"sc-cg1rr9-21"})(["line-height:20px;margin-left:3px;[dir='ltr'] &{margin-right:3px;margin-left:initial;}"])},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l,u=r(n(10)),c=(r(n(0)),r(n(946))),p=r(n(947)),d=n(289);e.default=function(){return(0,u.default)(d.CompactPlaceHolderContainer,{},void 0,i||(i=(0,u.default)(c.default,{})),(0,u.default)(d.FoodListPlaceHolderContainer,{},void 0,o||(o=(0,u.default)(p.default,{})),a||(a=(0,u.default)(p.default,{})),s||(s=(0,u.default)(p.default,{})),l||(l=(0,u.default)(p.default,{}))))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.TitlePlaceholder=e.StyledCategoryPlaceHolder=e.StyledCategory=e.MobileSearchButton=e.Item=e.Holder=e.CatIconPlaceholder=e.CatIcon=void 0;var i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b,x,w,k,S,C,E,T,I,M=r(n(35)),A=r(n(16)),O=n(33),P=r(n(7)),D=n(38),z=n(42);e.StyledCategoryPlaceHolder=A.default.div.withConfig({componentId:"sc-141xs2a-0"})(["width:98vw;"," display:flex;flex-direction:row;direction:rtl;border-bottom:1px solid #e4e4e4;z-index:9;position:relative;background-color:#fff;border-radius:","px ","px 0 0;.order-menu &{border-radius:","px 0 0 0;}&.fix-top{position:fixed;top:0;left:auto;border-radius:0;}button{display:none;position:absolute;height:100px;top:0;margin:5px auto;z-index:1;span{padding:0 15px;}&.back{right:0;box-shadow:-8px 0 10px 0px rgba(255,255,255,0.9);}&.next{left:0;box-shadow:8px 0 10px 0px rgba(255,255,255,0.9);}&.disabled{cursor:default;opacity:0.3;}","}"],O.breakpoint.greaterThan("desktop")(i||(i=(0,M.default)(["\n\t\twidth: 15vw;\n\t"]))),null===P.default||void 0===P.default||null===(o=P.default.styles)||void 0===o||null===(a=o.box)||void 0===a?void 0:a.radius,null===P.default||void 0===P.default||null===(s=P.default.styles)||void 0===s||null===(l=s.box)||void 0===l?void 0:l.radius,null===P.default||void 0===P.default||null===(u=P.default.styles)||void 0===u||null===(c=u.box)||void 0===c?void 0:c.radius,O.breakpoint.greaterThan("tablet")(p||(p=(0,M.default)(["\n      display: inline-block;\n    "])))),e.StyledCategory=A.default.div.withConfig({componentId:"sc-141xs2a-1"})(["position:sticky;top:0;right:0;border:1px solid ",";border-bottom:none;border-right:none;z-index:1;background-color:",";width:100vw;",";"," button{display:none;position:absolute;height:100px;top:0;margin:5px auto;z-index:1;span{padding:0 15px;}&.back{right:0;box-shadow:-8px 0 10px 0px rgba(255,255,255,0.9);}&.next{left:0;box-shadow:8px 0 10px 0px rgba(255,255,255,0.9);}&.disabled{cursor:default;opacity:0.3;}","}"],(function(t){return t.theme.color.border}),(function(t){return t.isDarkMode?"#0A0A0A":"#fff"}),O.breakpoint.greaterThan("desktop")(d||(d=(0,M.default)(["\n\tborder-bottom: 1px solid ",";\n\theight: 100vh;\n   \t\twidth: 185px;\n\t\tmin-width: 185px;\n\t\tmax-width: 185px;\n  "])),(function(t){return t.theme.color.border})),O.breakpoint.lessThan("tablet")(h||(h=(0,M.default)(["\n\t\t\tborder:none ;\n\t\t"]))),O.breakpoint.greaterThan("tablet")(f||(f=(0,M.default)(["\n      display: inline-block;\n    "])))),e.MobileSearchButton=A.default.div.withConfig({componentId:"sc-141xs2a-2"})(["height:43px;min-width:50px;margin-left:4px;display:flex;justify-content:center;align-items:center;box-sizing:content-box;cursor:pointer;svg{height:20px;width:20px;}&.category-active{height:39px;border-bottom:3px solid ",";margin-bottom:0;}",""],(function(t){return t.theme.color.primary}),O.breakpoint.greaterThan("desktop")(m||(m=(0,M.default)(["\n\t\tdisplay:none;\n\t"])))),e.Holder=A.default.div.withConfig({componentId:"sc-141xs2a-3"})(["",";display:flex;direction:rtl;flex-direction:row;width:fit-content;max-width:100%;white-space:nowrap;overflow-y:hidden;overflow-x:auto;-webkit-overflow-scrolling:touch;transition:all 0s ease 0s;transform:translate3d(0px,0px,0px);align-items:center;padding:12px 24px 0px 16px;[dir='ltr'] &{direction:initial;}",""],D.hiddenScrollbarStyles,O.breakpoint.greaterThan("desktop")(g||(g=(0,M.default)(["\n    \tmargin: auto;\n\t\tmargin-top: 16px;\n    \tmax-width: 85%;\n\t  \toverflow-x: hidden;\n\t  \tflex-direction: column;\n\t  \tpadding:initial;\n\t  \talign-items:start;\n\n  "])))),e.Item=A.default.a.withConfig({componentId:"sc-141xs2a-4"})(["margin-left:4px;&:last-child{margin-left:0;}cursor:pointer;user-select:none;min-height:1px;outline:none;display:inline-block;vertical-align:top;position:relative;overflow:visible;text-align:right;",";strong{font-size:14px;font-weight:400;line-height:22px;padding:4px 16px 0 16px;height:fit-content !important;overflow:hidden;display:-webkit-box !important;word-break:break-word;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin:4px 4px 0 4px;display:block;width:100%;color:",";transition-property:color,background-color,border-radius;transition-duration:0.2s;transition-timing-function:ease-out;white-space:nowrap;",";}.category-icon{width:",";height:",";display:inline-block;vertical-align:middle;background-size:"," ",";margin-bottom:10px;transition:all 0.4s cubic-bezier(0.19,1,0.22,1);}&.category-active{box-sizing:content-box;strong{font-size:14px;font-weight:700;line-height:18px;letter-spacing:0em;color:",";width:auto;border-bottom:3px solid ",";",";",";}.category-icon{transform:translateY(2px);}}"],O.breakpoint.greaterThan("desktop")(y||(y=(0,M.default)(["\n\t\toverflow:hidden;\n\t\tmargin-left:0;\n\t"]))),(function(t){return t.theme.color.textColor}),O.breakpoint.greaterThan("desktop")(v||(v=(0,M.default)(["\n\t\t\theight: auto;\n\t\t\twhite-space: normal;\n\t\t\tpadding: 2px 16px !important;\n\t\t\tmargin:4px;\n\t\t"]))),(null===P.default||void 0===P.default||null===(_=P.default.order)||void 0===_||null===(b=_.categoryIconSize)||void 0===b?void 0:b.width)||"40px",(null===P.default||void 0===P.default||null===(x=P.default.order)||void 0===x||null===(w=x.categoryIconSize)||void 0===w?void 0:w.height)||"40px",(null===P.default||void 0===P.default||null===(k=P.default.order)||void 0===k||null===(S=k.categoryIconSize)||void 0===S?void 0:S.width)||"40px",(null===P.default||void 0===P.default||null===(C=P.default.order)||void 0===C||null===(E=C.categoryIconSize)||void 0===E?void 0:E.height)||"40px",(function(t){return t.theme.color.textColor}),(function(t){return t.theme.color.primary}),O.breakpoint.greaterThan("desktop")(T||(T=(0,M.default)(["\n\t\t\t\tfont-weight: 400;\n\t\t\t\tline-height: 22px;\n\t\t\t\tcolor: ",";\n\t\t\t\tbackground-color: ",";\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tborder:none;\n\t\t  "])),(function(t){return(0,z.getContrastColor)(t)}),(function(t){return t.theme.color.primary})),O.breakpoint.greaterThan("tablet")(I||(I=(0,M.default)(["\n        height:auto;\n        padding:4px 16px;\n        // padding-bottom:0px\n      "])))),e.CatIcon=A.default.i.withConfig({componentId:"sc-141xs2a-5"})(["background-image:url(",");"],(function(t){return t.image})),e.CatIconPlaceholder=A.default.div.withConfig({componentId:"sc-141xs2a-6"})(["height:40px;width:40px;border-radius:50%;margin:auto;"]),e.TitlePlaceholder=A.default.div.withConfig({componentId:"sc-141xs2a-7"})(["height:14px;min-width:70px;width:8vw;margin:15px 10px;border-radius:5px;"])},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.RightContainer=e.LeftContainer=e.Container=e.BackgroundPattern=void 0;var i,o,a,s,l,u,c=r(n(35)),p=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),d=n(33),h=n(38),f=r(n(7));e.BackgroundPattern=p.default.div.withConfig({componentId:"sc-larai9-0"})(["z-index:-1;position:absolute;left:0;top:0;width:100%;height:100%;"," "," &:before{z-index:0;position:absolute;top:0;left:0;width:100%;height:100%;content:'';background-image:url(",");background-size:",";background-position:",";background-repeat:",";opacity:",";}"],(null===f.default||void 0===f.default?void 0:f.default.menuPageBackground)&&(0,p.css)(["background-color:",";"],(function(t){return(null===f.default||void 0===f.default?void 0:f.default.menuPageBackground.color)||t.theme.color.bgGray})),(function(t){return t.isOrderingDarkMode&&(0,p.css)(["background-color:"," !important;"],t.theme.color.bgColor)}),null===f.default||void 0===f.default||null===(i=f.default.menuPageBackground)||void 0===i?void 0:i.image,(null===f.default||void 0===f.default||null===(o=f.default.menuPageBackground)||void 0===o?void 0:o.size)||null,(null===f.default||void 0===f.default||null===(a=f.default.menuPageBackground)||void 0===a?void 0:a.position)||null,(function(){var t;return(null===f.default||void 0===f.default||null===(t=f.default.menuPageBackground)||void 0===t?void 0:t.repeat)||"repeat"}),(null===f.default||void 0===f.default||null===(s=f.default.menuPageBackground)||void 0===s?void 0:s.opacity)/100||1),e.Container=(0,p.default)(h.Container).withConfig({componentId:"sc-larai9-1"})(["position:relative;margin-top:20px;margin-bottom:50px;min-height:800px;padding-bottom:40px;"]),e.RightContainer=p.default.div.withConfig({componentId:"sc-larai9-2"})(["",""],d.breakpoint.greaterThan("desktop")(l||(l=(0,c.default)(["\n    float: right;\n    width: 70%;\n    min-height: 600px;\n    padding-bottom:120px;\n  "])))),e.LeftContainer=p.default.div.withConfig({componentId:"sc-larai9-3"})(["",""],d.breakpoint.greaterThan("desktop")(u||(u=(0,c.default)(["\n    padding-right: 20px;\n    float: left;\n    width: 30%;\n    \n    position: absolute;\n    top: 0;\n    bottom: 0;\n  "]))))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.Wrapper=e.TitlePlaceholder=e.Title=e.StyledBadge=e.Strong=e.StatusWrapper=e.StatusLight=e.SmallTextPlaceholder=e.SmallText=e.RestLogo=e.MainPlaceholder=e.Main=e.LogoPlaceholder=e.List=e.Item=e.InfoContainer=e.DiscountBadge=e.Details=e.DeliveryAreaWrapper=e.CustomTiming=e.ButtonPlaceholder=e.Aside=e.AddressPlaceholder=e.Address=void 0;var i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b,x,w=r(n(35)),k=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),S=n(42),C=n(33),E=n(38),T=r(n(7));e.Main=(0,k.default)(E.ContainerFluid).withConfig({componentId:"sc-r8fzh1-0"})(["background-image:url(",");background-color:",";min-height:","px;background-size:cover;background-repeat:no-repeat;background-position:50%;position:relative;color:",";z-index:2;padding-top:","px;"," &::before{top:0;left:0;background-color:rgba(0,0,0,",");content:'';width:100%;height:100%;position:absolute;}"],(function(t){return t.bgImage}),(function(t){return t.theme.color.white}),(function(t){return t.timing?400:350}),(function(t){return t.theme.color.white}),(function(t){return t.timing?150:100}),C.breakpoint.greaterThan("tablet")(i||(i=(0,w.default)(["\n  top:0;\n\tleft:0;\n\t  min-height: ","px;\n  "])),(function(t){return t.timing?450:400})),(function(t){return"number"==typeof t.blurIntensity?t.blurIntensity/100:.6})),e.MainPlaceholder=(0,k.default)(E.ContainerFluid).withConfig({componentId:"sc-r8fzh1-1"})(["min-height:300px;background-color:",";border-top:1px solid ",";"],(function(t){return T.default.hasDynamicTheme?t.theme.color.boxColor:t.theme.color.white}),(function(t){return t.theme.color.graySuperlight})),e.Wrapper=(0,k.default)(E.Container).withConfig({componentId:"sc-r8fzh1-2"})(["z-index:1;padding-top:30px;direction:rtl;flex-direction:column;width:90%;margin:0 auto;position:relative;text-align:center;",""],C.breakpoint.greaterThan("tablet")(o||(o=(0,w.default)(["\n\t  text-align: right;\n\t  padding-top: 50px;\n  "])))),e.StatusWrapper=k.default.div.withConfig({componentId:"sc-r8fzh1-3"})(["display:flex;justify-content:center;align-items:center;gap:12px;margin-bottom:20px;width:147px;height:38px;position:relative;left:0;right:0;margin:auto;margin-bottom:40px;",""],C.breakpoint.greaterThan("tablet")(a||(a=(0,w.default)(["\n  justify-content: start;\n  margin:unset\n  "])))),e.DeliveryAreaWrapper=k.default.div.withConfig({componentId:"sc-r8fzh1-4"})(["margin-bottom:20px;",""],C.breakpoint.greaterThan("tablet")(s||(s=(0,w.default)(["\n\t  position: absolute;\n    left: 0;\n\t  bottom: 20px;\n\t  margin-bottom: 0;\n  "])))),e.InfoContainer=k.default.div.withConfig({componentId:"sc-r8fzh1-5"})(["text-align:center;",""],C.breakpoint.greaterThan("tablet")(l||(l=(0,w.default)(["\n\t  display: flex;\n\t  justify-content: flex-start;\n    align-items: center;\n\t  text-align: right;\n  "])))),e.RestLogo=k.default.figure.withConfig({componentId:"sc-r8fzh1-6"})(["position:relative;margin:0 auto 20px;width:107px;height:107px;overflow:hidden;border-radius:50%;"," img{width:100%;}",""],(function(t){return!t.hasValidLogo&&(0,k.css)(["background-image:url('https://www.delino.com/img/general/logo-default.png');background-color:",";background-size:cover;"],(function(t){return t.theme.color.white}))}),C.breakpoint.greaterThan("tablet")(u||(u=(0,w.default)(["\n\twidth: 140px;\n\theight: 140px;\n\t  margin: 0 0 0 30px;\n  "])))),e.LogoPlaceholder=k.default.div.withConfig({componentId:"sc-r8fzh1-7"})(["width:100px;height:100px;border-radius:50%;margin:0 auto 20px;",""],C.breakpoint.greaterThan("tablet")(c||(c=(0,w.default)(["\n\t\twidth: 120px;\n\t\theight: 120px;\n\t  \tmargin: 0 0 0 20px;\n  "])))),e.Aside=k.default.aside.withConfig({componentId:"sc-r8fzh1-8"})(["color:",";"],(function(t){return t.coverColor})),e.Title=k.default.h1.withConfig({componentId:"sc-r8fzh1-9"})(["margin:10px 0;line-height:1.4;font-size:",";margin-bottom:18px;",""],(function(t){return(0,S.rem)(28,t.theme.fontSize.base)}),C.breakpoint.greaterThan("tablet")(p||(p=(0,w.default)(["\n    white-space: nowrap;\n    margin: 0 0 10px;\n    margin-bottom:24px;\n\t  font-size: ",";\n  "])),(function(t){return(0,S.rem)(32,t.theme.fontSize.base)}))),e.TitlePlaceholder=k.default.div.withConfig({componentId:"sc-r8fzh1-10"})(["height:15px;width:200px;margin:10px auto 20px;",""],C.breakpoint.greaterThan("tablet")(d||(d=(0,w.default)(["\n\t\tmargin: 10px 0 20px;\n  "])))),e.SmallTextPlaceholder=k.default.div.withConfig({componentId:"sc-r8fzh1-11"})(["height:8px;width:100px;margin:0 auto;",""],C.breakpoint.greaterThan("tablet")(h||(h=(0,w.default)(["\n\t\tmargin: 0;\n  "])))),e.DiscountBadge=k.default.span.withConfig({componentId:"sc-r8fzh1-12"})([""]),e.StyledBadge=(0,k.default)(E.Badge).withConfig({componentId:"sc-r8fzh1-13"})(["font-size:",";display:inline-block;vertical-align:middle;padding:8px;margin-right:5px;small{font-weight:normal;margin-right:3px;font-size:",";&:last-child{display:none;","}}"],(function(t){return(0,S.rem)(14,t.theme.fontSize.base)}),(function(t){return(0,S.rem)(12,t.theme.fontSize.base)}),C.breakpoint.greaterThan("tablet")(f||(f=(0,w.default)(["\n\t\t\t\tdisplay: inline;\n\t\t\t"])))),e.Address=k.default.h2.withConfig({componentId:"sc-r8fzh1-14"})(["font-size:",";margin:0 0 10px;"],(function(t){return(0,S.rem)(14,t.theme.fontSize.base)})),e.AddressPlaceholder=k.default.div.withConfig({componentId:"sc-r8fzh1-15"})(["height:10px;width:350px;margin:10px auto;",""],C.breakpoint.greaterThan("tablet")(m||(m=(0,w.default)(["\n\t\tmargin: 10px 0;\n  "])))),e.Details=k.default.div.withConfig({componentId:"sc-r8fzh1-16"})(["*{border:none !important;}& > button{background-color:",";color:",";border-radius:48px;"," span{font-size:14px;font-weight:400;line-height:22px;letter-spacing:0;text-align:center;}}.icon{margin-right:10px;}.change-branch{","}"],(function(t){return t.isDarkMode?"#222222":"#ffffff"}),(function(t){return t.isDarkMode?"#ffffff":"#222222"}),(function(t){return t.isDarkMode&&(0,k.css)(["&:hover{background-color:#000000;}"])}),C.breakpoint.lessThan("tablet")(g||(g=(0,w.default)(["\n\t\tmargin-bottom:18px !important\n  "])))),e.ButtonPlaceholder=k.default.div.withConfig({componentId:"sc-r8fzh1-17"})(["height:40px;width:125px;margin:0 auto 25px;",""],C.breakpoint.greaterThan("tablet")(y||(y=(0,w.default)(["\n\t\tmargin: 0 0 25px;\n  "])))),e.StatusLight=k.default.i.withConfig({componentId:"sc-r8fzh1-18"})(["vertical-align:middle;margin-top:0;position:relative;width:10px;height:10px;display:inline-block;margin-left:10px;border-radius:50%;"," ",""],(function(t){return t.online&&(0,k.css)(["animation:flash 1s linear infinite;background-color:",";&::before{content:'';position:absolute;width:12px;height:12px;left:0px;top:0px;background-color:rgba(33,198,79,0.3);border-radius:50%;}@keyframes flash{0%,100%{opacity:1;}50%{opacity:0;}}"],t.theme.color.success)}),(function(t){return!t.online&&(0,k.css)(["background-color:",";"],t.theme.color.grayMedium)})),e.SmallText=(0,k.default)(E.SmallText).withConfig({componentId:"sc-r8fzh1-19"})(["border-radius:8px;border:1px solid ",";padding:8px 16px;background:",";backdrop-filter:blur(2px);display:block;color:",";text-align:center;font-size:14px;font-style:normal;font-weight:400;line-height:22px;"],(function(t){return t.isDarkMode?"#636366":"#aeaeb2"}),(function(t){return t.isDarkMode?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.17)"}),(function(t){return t.coverColor})),e.CustomTiming=k.default.div.withConfig({componentId:"sc-r8fzh1-20"})(["margin:20px auto;padding:5px;border-radius:5px;max-width:300px;font-size:",";background-color:",";",""],(function(t){return(0,S.rem)(12,t.theme.fontSize.base)}),(function(t){return(0,S.rgba)(t.theme.color.black,.6)}),C.breakpoint.greaterThan("tablet")(v||(v=(0,w.default)(["\n\t\tmax-width: inherit;\n\t\tmin-width: 200px;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\tpadding: 5px 15px;\n\t\t\n\t"])))),e.Strong=k.default.strong.withConfig({componentId:"sc-r8fzh1-21"})(["",""],C.breakpoint.greaterThan("tablet")(_||(_=(0,w.default)(["\n\t\tfont-size: ",";\n\t"])),(function(t){return(0,S.rem)(13,t.theme.fontSize.base)}))),e.List=k.default.ul.withConfig({componentId:"sc-r8fzh1-22"})(["display:flex;justify-content:space-evenly;",""],C.breakpoint.greaterThan("tablet")(b||(b=(0,w.default)(["\n\t\tdisplay: block;\n\t"])))),e.Item=k.default.li.withConfig({componentId:"sc-r8fzh1-23"})(["label{margin-left:4px;&:after{content:':';}}",""],C.breakpoint.greaterThan("tablet")(x||(x=(0,w.default)(["\n\t\ttext-align: right;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\n\t\tlabel {\n\t\t\t&:after {\n\t\t\t\tcontent: '';\n\t\t\t}\n\t\t}\n\n\t\tspan {\n\t\t\ttext-align: left;\n\t\t}\n\t"]))))},function(t,e,n){n(452),n(806),t.exports=n(807)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new C(i||[]);return r(a,"_invoke",{value:x(t,n,s)}),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var p={};function d(){}function h(){}function f(){}var m={};l(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(E([])));y&&y!==e&&n.call(y,o)&&(m=y);var v=f.prototype=d.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var i;r(this,"_invoke",{value:function(r,o){function a(){return new e((function(i,a){!function r(i,o,a,s){var l=c(t[i],t,o);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(p).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function x(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function w(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=c(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function E(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=f,r(v,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:h,configurable:!0}),h.displayName=l(f,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},_(b.prototype),l(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(v),l(v,s,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}(t.exports);try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";var r=n(2),i=r(n(10)),o=(r(n(0)),r(n(178))),a=n(29),s=n(50),l=r(n(218)),u=r(n(831)),c=r(n(954));const p=(0,i.default)(a.Provider,{store:l.default},void 0,(0,i.default)(s.BrowserRouter,{},void 0,(0,i.default)(u.default,{globalStyle:c.default})));o.default.render(p,document.getElementById("root"))},,,function(t,e,n){"use strict";t.exports=n(811)},function(t,e,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(t){throw setTimeout(c,0),t}},p=Date.now();e.unstable_now=function(){return Date.now()-p},r=function(t){null!==l?setTimeout(r,0,t):(l=t,setTimeout(c,0))},i=function(t,e){u=setTimeout(t,e)},o=function(){clearTimeout(u)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var d=window.performance,h=window.Date,f=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)e.unstable_now=function(){return d.now()};else{var y=h.now();e.unstable_now=function(){return h.now()-y}}var v=!1,_=null,b=-1,x=5,w=0;a=function(){return e.unstable_now()>=w},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<t?Math.floor(1e3/t):5};var k=new MessageChannel,S=k.port2;k.port1.onmessage=function(){if(null!==_){var t=e.unstable_now();w=t+x;try{_(!0,t)?S.postMessage(null):(v=!1,_=null)}catch(t){throw S.postMessage(null),t}}else v=!1},r=function(t){_=t,v||(v=!0,S.postMessage(null))},i=function(t,n){b=f((function(){t(e.unstable_now())}),n)},o=function(){m(b),b=-1}}function C(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<I(i,e)))break t;t[r]=e,t[n]=i,n=r}}function E(t){return void 0===(t=t[0])?null:t}function T(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,l=t[s];if(void 0!==a&&0>I(a,n))void 0!==l&&0>I(l,a)?(t[r]=l,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==l&&0>I(l,n)))break t;t[r]=l,t[s]=n,r=s}}}return e}return null}function I(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var M=[],A=[],O=1,P=null,D=3,z=!1,L=!1,R=!1;function W(t){for(var e=E(A);null!==e;){if(null===e.callback)T(A);else{if(!(e.startTime<=t))break;T(A),e.sortIndex=e.expirationTime,C(M,e)}e=E(A)}}function B(t){if(R=!1,W(t),!L)if(null!==E(M))L=!0,r(j);else{var e=E(A);null!==e&&i(B,e.startTime-t)}}function j(t,n){L=!1,R&&(R=!1,o()),z=!0;var r=D;try{for(W(n),P=E(M);null!==P&&(!(P.expirationTime>n)||t&&!a());){var s=P.callback;if(null!==s){P.callback=null,D=P.priorityLevel;var l=s(P.expirationTime<=n);n=e.unstable_now(),"function"==typeof l?P.callback=l:P===E(M)&&T(M),W(n)}else T(M);P=E(M)}if(null!==P)var u=!0;else{var c=E(A);null!==c&&i(B,c.startTime-n),u=!1}return u}finally{P=null,D=r,z=!1}}function N(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var F=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){L||z||(L=!0,r(j))},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_getFirstCallbackNode=function(){return E(M)},e.unstable_next=function(t){switch(D){case 1:case 2:case 3:var e=3;break;default:e=D}var n=D;D=e;try{return t()}finally{D=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=F,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=D;D=t;try{return e()}finally{D=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:N(t)}else a=N(t),l=s;return t={id:O++,callback:n,priorityLevel:t,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(t.sortIndex=l,C(A,t),null===E(M)&&t===E(A)&&(R?o():R=!0,i(B,l-s))):(t.sortIndex=a,C(M,t),L||z||(L=!0,r(j))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();W(t);var n=E(M);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<P.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=D;return function(){var n=D;D=e;try{return t.apply(this,arguments)}finally{D=n}}}},function(t,e,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case p:case d:case a:case l:case s:case f:return t;default:switch(t=t&&t.$$typeof){case c:case h:case y:case g:case u:return t;default:return e}}case o:return e}}}function k(t){return w(t)===d}e.AsyncMode=p,e.ConcurrentMode=d,e.ContextConsumer=c,e.ContextProvider=u,e.Element=i,e.ForwardRef=h,e.Fragment=a,e.Lazy=y,e.Memo=g,e.Portal=o,e.Profiler=l,e.StrictMode=s,e.Suspense=f,e.isAsyncMode=function(t){return k(t)||w(t)===p},e.isConcurrentMode=k,e.isContextConsumer=function(t){return w(t)===c},e.isContextProvider=function(t){return w(t)===u},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return w(t)===h},e.isFragment=function(t){return w(t)===a},e.isLazy=function(t){return w(t)===y},e.isMemo=function(t){return w(t)===g},e.isPortal=function(t){return w(t)===o},e.isProfiler=function(t){return w(t)===l},e.isStrictMode=function(t){return w(t)===s},e.isSuspense=function(t){return w(t)===f},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===d||t===l||t===s||t===f||t===m||"object"==typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===g||t.$$typeof===u||t.$$typeof===c||t.$$typeof===h||t.$$typeof===_||t.$$typeof===b||t.$$typeof===x||t.$$typeof===v)},e.typeOf=w},,function(t,e,n){"use strict";var r=n(815);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(220),o=r(n(818)),a=r(n(820)),s=r(n(821)),l=r(n(822)),u=r(n(824)),c=r(n(825)),p=r(n(826)),d=r(n(827)),h=r(n(829)),f=r(n(830));e.default=(0,i.combineReducers)({menu:o.default,cart:a.default,checkout:s.default,filter:l.default,user:u.default,address:c.default,restaurant:p.default,setting:d.default,app:f.default,coupons:h.default})},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13)),o=n(268);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const l={foodListItem:{},foodList:null,categoryList:null,categoryObj:{},tagList:null,sortType:"",searchQuery:"",inStock:!1,lastLoadedTime:0,selectedCategory:0};e.default=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,{type:e,payload:n}=arguments.length>1?arguments[1]:void 0;switch(e){case o.SET_FOOD_MENU:{const{foodList:e,categoryList:r,foodListItem:i,categoryObj:o}=n;return s(s({},t),{},{foodList:e,foodListItem:i,categoryList:r,categoryObj:o})}case o.UPDATE_FOOD:{const e={};if(t.foodListItem[n.id]){const r=t.foodListItem[n.id].parentId;if(r){const i=t.foodListItem[r],o=t.foodListItem[n.id].quantity,a=n.quantity-o;e[r]=s(s({},i),{},{quantity:i.quantity+a,clientFoodItemID:i.clientFoodItemID})}}return s(s({},t),{},{foodListItem:s(s({},t.foodListItem),{},{[n.id]:s(s({},t.foodListItem[n.id]),{},{quantity:n.quantity,clientFoodItemID:n.clientFoodItemID})},e)})}case o.FOOD_ACTIVE_BY_COUPON:return s(s({},t),{},{foodListItem:s(s({},t.foodListItem),{},{[n.id]:s(s({},t.foodListItem[n.id]),{},{activeByCoupon:n.activeByCoupon})})});case o.VISITED_FOOD_MENU:return s(s({},t),{},{foodListItem:s(s({},t.foodListItem),{},{[n.id]:s(s({},t.foodListItem[n.id]),{},{visited:n.visited})})});case o.UPDATE_FOOD_FILTER:return s(s({},t),{},{foodListItem:n});case o.RESET_FOOD_MENU:return s({},l);case o.SET_LAST_LOADED_TIME_FOOD_MENU:return s(s({},t),{},{lastLoadedTime:n});case o.SET_TAG_MENU:return s(s({},t),{},{tagList:n});case o.SET_ACTIVE_CATEGORY:return s(s({},t),{},{selectedCategory:n});case o.SET_ACTIVATE_CATEGORY:return s(s({},t),{},{categoryObj:s({},n)});default:return t}}},function(t,e,n){var r=n(108).default;t.exports=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13)),o=n(227);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const l={items:null,price:0,itemsCount:0,finalPrice:0,discountPrice:0,packaging:0,deliveryPrice:0,deliveryFinalPrice:0,taxPrice:0,remainingPriceToOrder:0,creditUsed:0,taxiDelivery:!1,couponPrice:0,coupon:{title:"",code:"",guid:"",percentage:0,maxAmount:0,absolute:!1,discountOnDelivery:!0,forItems:null},discountRemovedByCoupon:!1,minOrder:0,lowestMinOrder:0,lowestRemainingPriceToOrder:0,discountFromNewCoupon:0,activeSubItemData:{id:void 0,quantity:void 0,isToppingModalVisible:!1,toppingFoodData:void 0},kioskResetRemainTime:60,kioskOrderData:null};e.default=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,{type:e,payload:n}=arguments.length>1?arguments[1]:void 0;switch(e){case o.UPDATE_CART:return s(s({},t),n);case o.RESET_CART:return s(s({},l),{},{coupon:t.coupon});case o.EMPTY_CART:return s(s({},l),{},{items:[]});case o.ADD_COUPON:return s(s({},t),{},{couponPrice:0,coupon:s(s({},t.coupon),n)});case o.REMOVE_COUPON:return s(s({},t),{},{couponPrice:0,coupon:l.coupon,discountRemovedByCoupon:!1});case o.REMOVE_CART:return l;case o.REPLACE_CART_ITEMS:return s(s({},t),{},{items:n});case o.UPDATE_KIOSK_REMAIN_TIME:return s(s({},t),{},{kioskResetRemainTime:n});case o.UPDATE_KIOSK_ORDER_DATA:return s(s({},t),{},{kioskOrderData:n});case o.UPDATE_ACTIVE_SUB_ITEM_DATA:return s(s({},t),{},{activeSubItemData:n?s(s({},t.activeSubItemData),n):{}});default:return t}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n(13)),a=r(n(7)),s=n(372);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const c={note:"",deliveryMode:1,addressId:0,addressDeliveryPrice:0,paymentMethod:"bank",usingCredit:!1,gateway:0,gatewayTag:null,restaurantId:"",gatewayList:null,loaded:!1,taxiDelivery:!1,deliveryTimeId:0,usingSmartClub:!1,preOrder:null,personCount:1};null!==(i=a.default.checkout)&&void 0!==i&&i.terms&&(c.acceptedTerms=!1);e.default=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,{type:e,payload:n}=arguments.length>1?arguments[1]:void 0;switch(e){case s.SET_CHECKOUT:return u(u({},t),n);case s.REMOVE_CHECKOUT:return c;default:return t}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,{type:e,payload:n}=arguments.length>1?arguments[1]:void 0;switch(e){case o.SET_SORT_TYPE:return s(s({},t),{},{sortBy:n});case o.SET_SEARCH_QUERY:return s(s({},t),{},{searchKey:n});case o.SET_IN_STOCK:return s(s({},t),{},{inStock:n});default:return t}};var i=r(n(13)),o=n(823);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const l={sortBy:"",searchKey:"",inStock:!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SET_SORT_TYPE=e.SET_SEARCH_QUERY=e.SET_IN_STOCK=void 0;e.SET_SEARCH_QUERY="SET_SEARCH_QUERY",e.SET_SORT_TYPE="SET_SORT_TYPE",e.SET_IN_STOCK="SET_IN_STOCK"},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13)),o=n(373);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const l={isLoggedIn:!1,credit:0,orderCount:0,profile:{mobile:null,acceptedAgreement:null,birthDayMonth:null,birthDayYear:null,birthdayDay:null,email:null,fullname:null,gender:!0,graduationDegreeId:null,isMarried:null,tel:null},afterLogin:{action:null,name:"",data:""},smartClub:null};e.default=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,{type:e,payload:n}=arguments.length>1?arguments[1]:void 0;switch(e){case o.AUTH_LOGGED_IN:return s(s({},t),{},{profile:s(s({},n.profile),{},{mobile:n.profile.username}),credit:n.credit,isLoggedIn:!0});case o.PROFILE_UPDATE:return s(s({},t),{},{profile:n});case o.AUTH_CREDIT:return s(s({},t),{},{credit:n});case o.AUTH_ORDER_COUNT:return s(s({},t),{},{orderCount:n});case o.AUTH_LOG_OUT:return l;case o.SET_AFTER_LOGIN:return s(s({},t),{},{afterLogin:n});case o.REMOVE_AFTER_LOGIN:return s(s({},t),{},{afterLogin:l.afterLogin});case o.SMART_CLUB:return s(s({},t),{},{smartClub:n});default:return t}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13)),o=n(374);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const l={list:null,pricingStrategy:null,needRefresh:!1,newAddressId:0};e.default=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,{type:e,payload:n}=arguments.length>1?arguments[1]:void 0;switch(e){case o.SET_USER_ADDRESS:return s(s({},t),{},{list:n.list||[],pricingStrategy:n.pricingStrategy,needRefresh:!1});case o.SET_ADDRESS_REFRESH:return s(s({},t),{},{needRefresh:n.needRefresh,newAddressId:n.newAddressId});default:return t}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13)),o=n(285);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const l={multiBrand:!1,activeBranch:null,brandList:[],multiBranch:!0,list:{},listArray:[],current:null,current_text:"",current_domain:"",current_brandId:0,tableNumber:null};e.default=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,{type:e,payload:n}=arguments.length>1?arguments[1]:void 0;switch(e){case o.FETCH_RESAURANT_LIST:return s(s(s({},t),n),{},{multiBrand:!!n.brandList&&n.brandList.length>1,multiBranch:n.listArray.length>1});case o.SET_CURRENT_RESAURANT:return s(s({},t),{},{current:n});case o.ZERO_ID_CURRENT_RESAURANT:return s(s({},t),{},{current:s(s({},t.current),{},{id:0})});case o.SET_INFO_RESAURANT:return null!=t&&t.list&&null!=t&&t.list[null==n?void 0:n.domain]?s(s({},t),{},{list:s(s({},t.list),{},{[n.domain]:s(s({},t.list[n.domain]),{},{info:n.info})})}):s(s({},t),{},{list:s(s({},t.list||[]),{},{info:n.info})});case o.UPDATE_CURRENT_RESAURANT:return s(s({},t),{},{current:s(s({},t.current),n)});case o.UPDATE_CURRENT_RESAURANT_TEXT:{const{text:e,domain:r,brandId:i}=n;return s(s({},t),{},{current_text:e,current_domain:r,current_brandId:i})}case o.SET_ACTIVE_BRANCH:{const{activeBranch:e}=n;return s(s({},t),{},{activeBranch:e})}case o.SET_TABLE_NUMBER:return s(s({},t),{},{tableNumber:isNaN(n)?null:+n});default:return t}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,{type:e,payload:n}=arguments.length>1?arguments[1]:void 0;switch(e){case o.SET_THEME:return s(s({},t),{},{theme:n});case o.SET_LANG:return s(s({},t),{},{lang:n});case o.SET_THEME_MODE:return s(s({},t),{},{themeMode:n});case o.SET_PAGE_CUSTOM_STYLES:return s(s({},t),{},{pageCustomStyles:n});default:return t}};var i=r(n(13)),o=n(828);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const l={platform:"web",theme:"",lang:null,themeMode:"light",pageCustomStyles:{},hasDynamicTheme:r(n(7)).default.hasDynamicTheme||!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SET_THEME_MODE=e.SET_THEME=e.SET_PAGE_CUSTOM_STYLES=e.SET_LANG=void 0;e.SET_THEME="SET_THEME",e.SET_LANG="SET_LANG",e.SET_THEME_MODE="SET_THEME_MODE",e.SET_PAGE_CUSTOM_STYLES="SET_PAGE_CUSTOM_STYLES"},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13)),o=n(375);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const l={couponsList:[],activatedCoupons:[]};e.default=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,{type:e,payload:n}=arguments.length>1?arguments[1]:void 0;switch(e){case o.SET_COUPONS_LIST:return s(s({},t),{},{couponsList:n});case o.SET_ACTIVATED_COUPONS:return s(s({},t),{},{activatedCoupons:n});default:return t}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13)),o=n(286);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const l={refreshTokenFailed:!1,activeOrder:null,activeOrderCount:0,activeOrderChecking:!1,unsuccessfullPayment:null,showPreOrderModal:!1,introSkiped:!1,digitalMenuMode:!1,skipTour:!1,skipAds:!1,pages:null,isCompactBranchVisible:!1,isCompactSearchbarVisible:!1,themeMode:{isOrderingDarkMode:!1,isSubscriberDarkMode:!1},kiosk:localStorage.getItem("kiosk")};e.default=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,{type:e,payload:n}=arguments.length>1?arguments[1]:void 0;switch(e){case o.SET_REFRESH_TOKEN_FAILED:return s(s({},t),{},{refreshTokenFailed:n});case o.SET_ACTIVE_ORDER:return s(s({},t),{},{activeOrder:n.order,activeOrderCount:n.count});case o.SET_ACTIVE_ORDER_CHECKING:return s(s({},t),{},{activeOrderChecking:n});case o.SET_UNSUCCESSFUL_PAYMENT:return s(s({},t),{},{unsuccessfullPayment:n});case o.SET_SHOW_PREORDER:return s(s({},t),{},{showPreOrderModal:!!n});case o.SET_INTRO_SKIPED:return s(s({},t),{},{introSkiped:!!n});case o.SET_DIGITAL_MENU_MODE:return s(s({},t),{},{digitalMenuMode:n});case o.SET_SKIP_TOUR:return s(s({},t),{},{skipTour:n});case o.SET_SKIP_ADS:return s(s({},t),{},{skipAds:n});case o.SET_PAGE_CONTENT:const{darkMode:e}=n||{};return s(s({},t),{},{pages:n,themeMode:{isSubscriberDarkMode:!!e}});case o.SET_PAGES_THEME_MODE:return s(s({},t),{},{themeMode:s(s({},t.themeMode||{}),n)});case o.SET_COMPACT_BRANCH_LIST_VISIBILITY:return s(s({},t),{},{isCompactBranchVisible:n});case o.SET_KIOSK:return s(s({},t),{},{kiosk:n});default:return t}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(21)),o=r(n(51)),a=r(n(10)),s=nt(n(0)),l=n(29),u=n(50),c=n(16),p=r(n(376)),d=r(n(7)),h=r(n(833)),f=r(n(863)),m=r(n(865)),g=n(38),y=n(104),v=n(422),_=n(103),b=n(84),x=r(n(886));n(887);var w=r(n(894)),k=n(69),S=r(n(435)),C=r(n(896)),E=r(n(897)),T=n(105),I=n(386),M=n(110),A=r(n(134)),O=r(n(282)),P=r(n(898)),D=r(n(901)),z=r(n(950)),L=(n(957),r(n(132))),R=r(n(952)),W=r(n(953)),B=r(n(179)),j=n(172),N=nt(n(396)),F=r(n(157));const U=["history","location","globalStyle"];var V,q,H,G,Z,K,Q,X,Y,J,$,tt,et;function nt(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(nt=function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a})(t,e)}N.init({dsn:b.sentryDSN,integrations:[N.browserTracingIntegration(),N.replayIntegration({maskAllInputs:!1,maskAllText:!1})],tracesSampleRate:1,tracePropagationTargets:["localhost",/^https:\/\/yourserver\.io\/api/],replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1});const rt=(0,s.lazy)((function(){return(0,k.retry)((function(){return n.e(11).then(n.t.bind(null,961,7))}))})),it=(0,s.lazy)((function(){return(0,k.retry)((function(){return n.e(11).then(n.t.bind(null,962,7))}))})),ot=(0,s.lazy)((function(){return(0,k.retry)((function(){return n.e(28).then(n.t.bind(null,963,7))}))})),at=(0,s.lazy)((function(){return(0,k.retry)((function(){return n.e(26).then(n.t.bind(null,964,7))}))})),st=function(){return(0,k.retry)((function(){return n.e(29).then(n.t.bind(null,965,7))}))},lt=function(){return(0,a.default)(s.Suspense,{fallback:null},void 0,"2"===d.default.landingTemplate?V||(V=(0,a.default)(it,{})):q||(q=(0,a.default)(rt,{})))};!function(){const t=d.default.googleTagManagerId||"";if("string"!=typeof t||!t.toLowerCase().startsWith("gtm-"))return;const e={gtmId:t};st().then((function(t){t.initialize&&t.initialize(e)})).catch(console.error)}();const ut=function(t){let{history:e,location:r,globalStyle:u}=t;(0,o.default)(t,U);(0,I.useHistory)();const N=(0,s.useRef)(),V=(0,s.useRef)(!1),q=new URLSearchParams(e.location.search),nt=(0,B.default)(),rt=(0,s.useRef)(localStorage.getItem("kiosk")),it=(0,l.useSelector)((function(t){var e;return null===(e=t.app)||void 0===e?void 0:e.kiosk})),st=(0,l.useDispatch)(),{goLogin:ut}=(0,O.default)(!0,r,e),ct=(0,l.useSelector)((function(t){return t.user.isLoggedIn})),pt=(0,l.useSelector)((function(t){return t.restaurant.current})),dt=(0,l.useSelector)((function(t){var e;return null===(e=t.restaurant.current)||void 0===e?void 0:e.online})),[ht,ft]=(0,s.useState)(!0),[mt,gt]=(0,s.useState)(),yt=(0,L.default)();-1===r.pathname.toLowerCase().search("/board-menu")&&-1===r.pathname.toLowerCase().search("/monitor-menu")&&-1===r.search.indexOf("kiosk")&&-1===r.search.indexOf("appview")&&-1===r.search.indexOf("app=true")||(rt.current=!0,document.querySelector("html").classList.add("app-view"),window.appView=!0,-1!==r.search.indexOf("kiosk")&&(it||ct||(localStorage.getItem("kioskTerminalId")?(localStorage.setItem("kiosk",q.get("kiosk")),localStorage.setItem("kioskTerminalId",q.get("kioskTerminalId")),st((0,_.setKiosk)(localStorage.getItem("kiosk")))):(localStorage.setItem("kiosk",q.get("kiosk")),localStorage.setItem("kioskTerminalId",q.get("kioskTerminalId")),q.get("kioskTerminalId")||alert("برای سفارش کیوسک لطفا ترمینال آیدی را با کلید kioskTerminalId روی لوکال استوریج ست کنید"))))),(0,s.useEffect)((function(){setTimeout((function(){"/order"!==nt.location.pathname&&"/order/"!==nt.location.pathname&&"/"!==nt.location.pathname||"/login"===nt.location.pathname||!localStorage.getItem("kiosk")||nt.location.pathname.startsWith("/order/"+localStorage.getItem("kiosk"))||"#"==localStorage.getItem("kiosk")||(F.default.info("app condition, location: ".concat(nt.location.pathname," , kiosk in local storage: ").concat(localStorage.getItem("kiosk")),!0),console.log("app condition, location: ".concat(nt.location.pathname," , kiosk in local storage: ").concat(localStorage.getItem("kiosk"))),e.replace("/order/"+localStorage.getItem("kiosk")))}),600)}),[nt]);const vt=function(){var t=(0,i.default)((function*(){const t=q.get("coupon")||localStorage.getItem("smartCoupon");if(t&&pt&&!ct&&ut(),t&&ct&&pt&&dt){if(localStorage.setItem("smartCoupon",t),V.current)return;V.current=!0,st((0,M.addCouponAction)(t.toUpperCase(),(function(t){t.isValid||(localStorage.removeItem("smartCoupon"),N.current.show(t.text,"alert",3e3,"sm"))})))}}));return function(){return t.apply(this,arguments)}}();(0,s.useEffect)((function(){setTimeout((function(){vt()}),50)}),[pt,ct,window.location.search]);const _t=function(){var t=(0,i.default)((function*(){if(-1!==r.search.toLowerCase().indexOf("isexhibition=true")){const t="09981111111";try{yield(0,T.userLogin)(t,"123456")}catch(t){console.log("error in login: ",t)}}const t=(0,k.getQueryParams)(r.search);if(null!=t&&t.token){try{yield(0,T.userTempLogin)(t.token),st((0,y.fetchUserAction)((function(t){window.userMobile=t.username,ft(!1)})))}catch(t){ft(!1)}ft(!1)}else{(yield(0,b.getToken)())?st((0,y.fetchUserAction)((function(t){window.userMobile=null==t?void 0:t.username,ft(!1)}))):ft(!1)}}));return function(){return t.apply(this,arguments)}}(),bt=(0,s.useRef)(),xt=(0,s.useCallback)((function(){clearTimeout(bt.current),st((0,v.fetchRestaurantListAction)((function(t){t.success?_t():(gt(t),bt.current=setTimeout(xt,5e3))})))}),[]);(0,s.useEffect)((function(){var t;null!==(t=r.state)&&void 0!==t&&t.noClose||(r.state=null,e.replace(r,null));const i="en"===localStorage.getItem("lang")?"en":"fa";"en"===i&&((0,k.setCurrancyStr)("T"),document.documentElement.setAttribute("dir","ltr"),document.documentElement.setAttribute("lang","en")),p.default.changeLanguage(i),xt(),Promise.all([n.e(43),n.e(17)]).then(n.t.bind(null,966,7))}),[]),(0,s.useEffect)((function(){ht||setTimeout((function(){document.body.className=""}),500)}),[ht]);const wt=(0,l.useSelector)((function(t){return t.app.refreshTokenFailed})),kt=(0,l.useSelector)((function(t){return t.app.skipAd}));(0,s.useEffect)((function(){wt&&xt()}),[wt]);const St=(0,s.useCallback)((function(){gt(!1),setTimeout((function(){xt()}),1e3)}),[xt]),{activeOrder:Ct,activeOrderCount:Et,unsuccessfullPayment:Tt}=(0,x.default)(!rt.current),{showPwa:It}=(0,S.default)(),Mt=(0,s.useCallback)((function(){st((0,_.setIntroSkipedAction)())}),[]),{showIntro:At}=(0,E.default)(Mt);return console.log=function(){},(0,a.default)(c.ThemeProvider,{theme:yt},void 0,!1,(0,a.default)(u,{}),!1===d.default.digitalMenu?null:Z||(Z=(0,a.default)(z.default,{})),ht?(0,a.default)("div",{style:{textAlign:"center",height:"100vh",display:"flex",alignItems:"center"}},void 0,mt?(0,a.default)(w.default,{onRetry:St,data:mt}):K||(K=(0,a.default)(g.Spinner,{$size:"lg",margin:50}))):(0,a.default)("div",{style:{position:"relative",minHeight:"100vh"},className:rt.current?"app-view":""},void 0,!rt.current&&(Q||(Q=(0,a.default)(R.default,{}))),!!it&&(X||(X=(0,a.default)(W.default,{}))),!rt.current&&(Y||(Y=(0,a.default)(lt,{}))),J||(J=(0,a.default)(D.default,{})),Ct&&(0,a.default)(f.default,{lastOrder:Ct,countOrder:Et}),!rt.current&&function(t){switch(t){case"2":return H||(H=(0,a.default)(P.default,{}));default:return G||(G=(0,a.default)(h.default,{}))}}(d.default.landingTemplate),!rt.current&&function(){let t=kt;return!localStorage.getItem("tour")&&void 0!==d.default.tourGuide&&d.default.tourGuide||(t=!0),t}()&&(0,a.default)(s.Suspense,{fallback:null},void 0,(0,a.default)(at,{onCloseFunction:function(){st((0,_.setSkipAds)(!0))}})),!rt.current&&It&&($||($=(0,a.default)(s.Suspense,{fallback:null},void 0,(0,a.default)(ot,{})))),Tt&&!it&&(0,a.default)(s.Suspense,{fallback:null},void 0,(0,a.default)(m.default,{data:Tt})),!rt.current&&At&&(tt||(tt=(0,a.default)(C.default,{}))),it&&(0,a.default)(j.Version,{style:{width:"100%",textAlign:"center",position:"absolute",bottom:0}},void 0,"V ","2.17.102",et||(et=(0,a.default)("meta",{name:"viewport",content:"user-scalable=no"})))),s.default.createElement(A.default,{ref:N,key:"alert"}))},ct=function(){return!0};e.default=(0,u.withRouter)((0,s.memo)(ut,ct))},function(t,e){t.exports=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l,u,c,p,d,h=r(n(10)),f=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),m=n(50),g=r(n(48)),y=r(n(7)),v=n(172),_=r(n(836)),b=r(n(862));const x=function(t){let{location:{pathname:e}}=t;const n="/"===e;return"compact"===y.default.menuTemplate&&e.includes("checkout")?i||(i=f.default.createElement(f.default.Fragment,null)):(0,h.default)(v.StyledFooter,{isHome:n,className:n&&"home-footer",id:"footer"},void 0,o||(o=(0,h.default)(v.Wrapper,{className:"clearfix"},void 0,(0,h.default)(_.default,{}),(0,h.default)(b.default,{}))),(0,h.default)(v.Designer,{className:"footer-copyright"},void 0,(0,h.default)(v.DsignerCompany,{},void 0,"طراحی و پیاده‌سازی توسط",(0,h.default)("a",{style:{color:"#8228e1"},target:"_blank",href:"https://www.vendo.online/"},void 0,a||(a=(0,h.default)("img",{src:"https://static.delino.com/exclusive/img/vendo-logo.png",alt:"وندو"})),"وندو")),(0,h.default)(v.Version,{},void 0,"V ","2.17.102")),y.default.app&&(0,h.default)(v.AppLinks,{},void 0,y.default.app.ios.sibche&&(0,h.default)(g.default,{href:y.default.app.ios.sibche,title:"iOS app",target:"_blank",rel:"noopener"},void 0,s||(s=(0,h.default)("img",{src:"https://www.delino.com/img/general/label-app-ios-sibche.png",alt:""}))),y.default.app.ios.iapps&&(0,h.default)(g.default,{href:y.default.app.ios.iapps,title:"iOS app",target:"_blank",rel:"noopener"},void 0,l||(l=(0,h.default)("img",{src:"https://www.delino.com/img/general/label-app-ios-iapps.png",alt:""}))),y.default.app.ios.sibapp&&(0,h.default)(g.default,{href:y.default.app.ios.sibapp,title:"iOS app",target:"_blank",rel:"noopener"},void 0,u||(u=(0,h.default)("img",{src:"https://www.delino.com/img/general/label-app-ios-sibapp.png",alt:""}))),y.default.app.android.direct&&(0,h.default)(g.default,{href:y.default.app.android.direct,title:"android app",target:"_blank",rel:"noopener"},void 0,c||(c=(0,h.default)("img",{src:"https://www.delino.com/img/general/label-app-android-direct.png",alt:""}))),y.default.app.android.cafebazaar&&(0,h.default)(g.default,{href:y.default.app.android.cafebazaar,title:"android app",target:"_blank",rel:"noopener"},void 0,p||(p=(0,h.default)("img",{src:"https://www.delino.com/img/general/label-app-android-bazaar.png",alt:""}))),y.default.app.android.google&&(0,h.default)(g.default,{href:y.default.app.android.google,title:"android app",target:"_blank",rel:"noopener"},void 0,d||(d=(0,h.default)("img",{src:"https://www.delino.com/img/general/label-app-android.png",alt:""})))),y.default.enamad&&(0,h.default)("div",{className:"enamad-container text-center",dangerouslySetInnerHTML:{__html:y.default.enamad}}),!1)},w=function(t,e){return t.location.pathname===e.location.pathname};e.default=(0,m.withRouter)((0,f.memo)(x,w))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.icons=e.default=void 0;var r=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),i=n(42);const o=e.icons={"add-restaurant":"\\e900",alert:"\\e901",area:"\\e902","angle-down":"\\e903","angle-left":"\\e904","angle-right":"\\e905","angle-up":"\\e906",bell:"\\e907",bookmark:"\\e908","bookmark-f":"\\e909",building:"\\e90a",camera:"\\e90b",cart:"\\e90c",cash:"\\e90d",city:"\\e958",clock:"\\e90f",comment:"\\e910",credit:"\\e911",cross:"\\e912",delivery:"\\e913",disconnect:"\\e914",discount:"\\e915",dish:"\\e916",edit:"\\e917","empty-bag":"\\e918",failed:"\\e919",filter:"\\e91a",delino:"\\e91b",gallery:"\\e91c",gps:"\\e91d",guid:"\\e91e",headset:"\\e91f",home:"\\e920",info:"\\e921",lock:"\\e922",bag:"\\e923",settings:"\\e924",popup:"\\e925",mail:"\\e926",map:"\\e927",megaphone:"\\e928",minus:"\\e929",mobile:"\\e92a",more:"\\e92b",note:"\\e92c",online:"\\e92d",orders:"\\e92e",packaging:"\\e92f",pickup:"\\e930",pin:"\\e931",plus:"\\e932",pos:"\\e934",refresh:"\\e935",restaurant:"\\e936",search:"\\e937",stop:"\\e938",stopwatch:"\\e939",tag:"\\e93a",telephone:"\\e93b",terms:"\\e93c",tick:"\\e93d",trash:"\\e93e",user:"\\e93f",facebook:"\\e940",gplus:"\\e941",instagram:"\\e942",linkedin:"\\e943",telegram:"\\e944",twitter:"\\e945",addtobasket:"\\e946",menu:"\\e947",logout:"\\e948",maximize:"\\e949","arrow-left":"\\e94a","arrow-right":"\\e961",share:"\\e94b",group:"\\e94c","disconnect-f":"\\e94d",zoom:"\\e94e",calendar:"\\e90e",aparat:"\\e94f","envelope-f":"\\e950","alert-f":"\\e951",coupon:"\\e952",copy:"\\e953","note-f":"\\e954","building-f":"\\e955","home-f":"\\e956",earth:"\\e957","compass-f":"\\e959",flag:"\\e95a","grid-f":"\\e95b","list-f":"\\e95c","credit-card":"\\e95d","payment-method":"\\e95e",new:"\\e95f","cross-circle":"\\e960",helmet:"\\e962","most-ordered":"\\e963",sort:"\\e964",heart:"\\e965","heart-f":"\\e966",compass:"\\e967","sub-category":"\\e969",star:"\\e968","star-f":"\\e933","star-half":"\\e96a","pin-f":"\\e96b","arrow-circle-left":"\\e96d","arrow-circle-right":"\\e96e",whatsapp:"\\e96c","wallet-in":"\\e96f","wallet-out":"\\e974"},a={lg:(0,r.css)(["",""],(function(t){return(0,i.rem)(22,t.theme.fontSize.base)})),sm:(0,r.css)(["",""],(function(t){return(0,i.rem)(16,t.theme.fontSize.base)}))},s={lg:25,sm:12},l=r.default.i.withConfig({componentId:"sc-qhp95m-0"})(["position:relative;font-size:",";",";"," &::before{content:'","';}",""],(function(t){return t.$size?a[t.$size]:(0,i.rem)(19,t.theme.fontSize.base)}),(function(t){return t.$color&&(0,r.css)(["color:",";"],t.theme.color[t.$color])}),(function(t){return t.$align&&(0,r.css)(["position:absolute;top:50%;transform:translateY(-50%);margin:0;"," ",""],"left"===t.$align&&(0,r.css)(["left:","px;"],s[t.$size]||18),"right"===t.$align&&(0,r.css)(["right:","px;"],s[t.$size]||18))}),(function(t){return o[t.$name]||""}),(function(t){return t.$badge&&0!==t.$badge&&(0,r.css)(["&::after{content:'","';bottom:-1px;right:-8px;position:absolute;background-color:#00b3c4;font-size:10px;padding:2px;border-radius:50%;margin-bottom:1px;color:#fff;width:10px;height:10px;display:flex;justify-content:center;align-items:center;font-family:'IRANSans';}"],t.$badge||"")}));e.default=l},function(t,e,n){"use strict";n.r(e),n.d(e,"pxToEm",(function(){return a})),n.d(e,"pxToRem",(function(){return s})),n.d(e,"defaultBreakpoints",(function(){return h})),n.d(e,"generateMedia",(function(){return m}));var r=n(16);function i(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2?arguments[2]:void 0,r={};for(var i in t){var o=t[i];String(o).includes("px")?r[i]=+parseInt(o)/e+n:r[i]=o}return r}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return o(t,e,"em")}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return o(t,e,"rem")}function l(){var t=i(["\n          @media (min-width: ",") {\n            ","\n          }\n        "]);return l=function(){return t},t}function u(){var t=i(["\n          @media (max-width: ",") {\n            ","\n          }\n        "]);return u=function(){return t},t}function c(){var t=i(["\n    @media (min-width: ",") and\n      (max-width: ",") {\n      ","\n    }\n  "]);return c=function(){return t},t}function p(){var t=i(["\n    @media (min-width: ",") {\n      ","\n    }\n  "]);return p=function(){return t},t}function d(){var t=i(["\n    @media (max-width: ",") {\n      ","\n    }\n  "]);return d=function(){return t},t}var h={huge:"1440px",large:"1170px",medium:"768px",small:"450px"};function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[t]?e[t]:parseInt(t)?t:(console.error("styled-media-query: No valid breakpoint or size specified for media."),"0")}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=function(e){return function(){return Object(r.css)(d(),f(e,t),r.css.apply(void 0,arguments))}},n=function(e){return function(){return Object(r.css)(p(),f(e,t),r.css.apply(void 0,arguments))}},i=function(e,n){return function(){return Object(r.css)(c(),f(e,t),f(n,t),r.css.apply(void 0,arguments))}},o=Object.keys(t).reduce((function(e,n){var i=t[n];return e.to[n]=function(){return console.warn("styled-media-query: Use media.lessThan('".concat(n,"') instead of old media.to.").concat(n," (Probably we'll deprecate it)")),Object(r.css)(u(),i,r.css.apply(void 0,arguments))},e.from[n]=function(){return console.warn("styled-media-query: Use media.greaterThan('".concat(n,"') instead of old media.from.").concat(n," (Probably we'll deprecate it)")),Object(r.css)(l(),i,r.css.apply(void 0,arguments))},e}),{to:{},from:{}});return Object.assign({lessThan:e,greaterThan:n,between:i},o)}var g=m();e.default=g},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(10)),o=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),a=n(29),s=n(50),l=r(n(7)),u=n(103),c=r(n(134)),p=n(172);e.default=function(){const t=(0,o.useRef)(),e=(0,a.useDispatch)(),n=(0,a.useSelector)((function(t){return t.app.digitalMenuMode})),r=(0,o.useCallback)((function(){!1!==l.default.digitalMenu&&e((0,u.setDigitalMenuMode)((function(e){let{success:n,text:r}=e;t.current.show(r,n?"tick":"alert",1e3,"sm"),n&&setTimeout((function(){window.location.reload(!1)}),1e3)})))}),[]);return(0,i.default)(p.Copyright,{center:!1!==n},void 0,(0,i.default)("p",{},void 0,(0,i.default)("span",{onDoubleClick:r},void 0,"© حقوق مادی و معنوی متعلق به"," ",null!==l.default&&void 0!==l.default&&l.default.footerLink?(0,i.default)("a",{href:null===l.default||void 0===l.default?void 0:l.default.footerLink,target:"_blank",rel:"noreferrer"},void 0,l.default.name):(0,i.default)(s.Link,{to:"/"},void 0,l.default.name)," ","است")),o.default.createElement(c.default,{ref:t,key:"alert"}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(178);e.default=function(t){let{children:e,rootId:n}=t;const i=n?document.getElementById(n):document.body;return(0,r.createPortal)(e,i)}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13)),o=n(0),a=n(133),s=n(33);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.default=function(t,e,n,r){const[i,l]=(0,o.useState)("confirm"===t),[c,p]=(0,o.useState)((function(){return{scrollY:window.scrollY,animateEnded:!1,close:!1}})),d=(0,o.useRef)(),h=(0,o.useRef)(),f=(0,o.useRef)(null),m=(0,o.useMemo)((function(){return(0,a.animationEnd)()})),g=(0,o.useCallback)((function(t){}),[]),y=(0,o.useCallback)((function(){const t=window.innerWidth>=s.screenSize.tablet;t&&!0!==f.current?(f.current=!0,v(),g(!1)):t||!1===f.current||(f.current=!1,v(),g(!1))}),[]),v=(0,o.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;window.innerWidth>=s.screenSize.tablet?requestAnimationFrame((function(){var e;const n=window.innerHeight-window.innerHeight/10,r=t||(null===(e=h.current)||void 0===e?void 0:e.offsetHeight),i=r>n?n:r;if(d.current&&d.current.style.maxHeight!=="".concat(i,"px")){d.current.style.maxHeight="".concat(i,"px");d.current.style.animationName&&"none"!==d.current.style.animationName&&""!==d.current.style.animationName||"absolute"!==d.current.style.position||(d.current.style.top="50%",d.current.style.left="50%",d.current.style.transform="translate(-50%, -50%)")}})):d.current&&(d.current.style.maxHeight=null)}),[]),_=(0,o.useRef)();(0,o.useEffect)((function(){"alert"===t&&0!==e&&(_.current=setTimeout((function(){b()}),e)),y(),window.addEventListener("resize",y);const n=window.innerWidth,r="".concat(n-document.documentElement.clientWidth,"px");if(document.body.style.paddingRight=r,document.body.style.overflowY="hidden",n<=s.screenSize.tablet){const e=function(){c.close||(p(u(u({},c),{},{animateEnded:!0})),d.current&&("modal"===t?(d.current.style.position="fixed",d.current.style.top="0",d.current.style.left="0",d.current.style.right="0",d.current.style.bottom="0",d.current.style.transform="none"):(d.current.style.position="fixed",d.current.style.top="50%",d.current.style.left="50%",d.current.style.transform="translate(-50%, -50%)"),d.current.removeEventListener(m,e)),g(!0))};document.getElementById("header")&&(document.getElementById("header").style.paddingRight=r),d.current&&d.current.addEventListener(m,e,{once:!0})}else if(d.current&&!c.close){const t=function(){d.current&&(d.current.style.position="absolute",d.current.style.top="50%",d.current.style.left="50%",d.current.style.transform="translate(-50%, -50%)")};t(),requestAnimationFrame(t),setTimeout(t,50)}return function(){clearTimeout(_.current),window.removeEventListener("resize",y),c.close||(g(!1),document.body.style.overflowY="auto",document.body.style.paddingRight=0)}}),[]);const b=(0,o.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!i||t){p((function(t){return u(u({},t),{},{animateEnded:!1,close:!0})})),g(!1);const t=function(){d.current&&(d.current.removeEventListener(m,t),document.body.style.overflowY="auto",document.body.style.paddingRight=0,n&&n())};d.current&&m&&d.current.addEventListener(m,t,{once:!0})}}),[i]);(0,o.useEffect)((function(){"function"==typeof r&&r(b)}),[b]);const x=(0,o.useCallback)((function(t){t.currentTarget===t.target&&b()}),[b,i]);return u(u({},c),{},{onLightBoxClick:x,setIgnoreClose:l,boxRef:d,bodyRef:h,closeHandler:b,calculateHeight:v,ignoreClose:i})}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n(10)),a=n(287),s=r(n(45)),l=n(29),u=n(227);const c="compact"===r(n(7)).default.menuTemplate?function(t){let{closeHandler:e}=t;const n=(0,l.useSelector)((function(t){var e;return null==t||null===(e=t.cart)||void 0===e?void 0:e.activeSubItemData})),r=(0,l.useDispatch)();return(0,o.default)(a.CloseButton,{onClick:function(){null!=n&&n.id&&null!=n&&n.isToppingModalVisible?r({type:u.UPDATE_ACTIVE_SUB_ITEM_DATA,payload:{isToppingModalVisible:!1}}):e(!1)}},void 0,(0,o.default)(s.default,{name:null!=n&&n.isToppingModalVisible?"arrow-left":"cross"}))}:function(t){let{closeHandler:e}=t;return(0,o.default)(a.CloseButton,{onClick:function(){return e(!1)}},void 0,i||(i=(0,o.default)(s.default,{name:"cross"})))};e.default=c},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(841)),o=r(n(843)),a=r(n(844)),s=r(n(845)),l=r(n(846)),u=r(n(847)),c=r(n(848)),p=r(n(849)),d=r(n(850)),h=r(n(851)),f=r(n(852)),m=r(n(853)),g=r(n(854)),y=r(n(855)),v=r(n(856)),_=r(n(857)),b=r(n(858)),x=r(n(859)),w=r(n(860));const k={MasterColor:i.default,lightShila:o.default,darkTango:a.default,lightBondiBlue:s.default,lightRedDey:l.default,lightVerdigris:u.default,lightBlack:c.default,lightTwine:p.default,lightPickledBluewood:d.default,lightOrange:h.default,lightBlue:f.default,lightRhino:m.default,lightRedBerry:g.default,lightSundance:y.default,lightNayeb:v.default,lightRoyalHeath:_.default,lightDriftwood:b.default,lightFoodbell:x.default,lightRoostar:w.default};e.default=k},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l,u,c,p,d,h,f,m,g,y=r(n(7)),v=r(n(842));const _={color:{default:"#e4e4e4",primary:"".concat(null===(i=y.default.colorPalette)||void 0===i?void 0:i.primary),secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"".concat((null===(o=y.default.colorPalette)||void 0===o?void 0:o.textColor)||"#333333"),priceColor:"".concat((null===(a=y.default.colorPalette)||void 0===a?void 0:a.priceColor)||"#333333"),linkColor:"".concat((null===(s=y.default.colorPalette)||void 0===s?void 0:s.linkColor)||"#5b0101"),headerColor:"".concat((null===(l=y.default.colorPalette)||void 0===l?void 0:l.headerColor)||"#ffffff"),dotBackground:"#cccccc",dotBackgroundActive:"#ef4123",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===y.default||void 0===y.default||null===(u=y.default.styles)||void 0===u||null===(c=u.button)||void 0===c?void 0:c.radius)||5},qty:{radius:1===(null===y.default||void 0===y.default||null===(p=y.default.styles)||void 0===p||null===(d=p.qty)||void 0===d?void 0:d.type)?99:5},box:{radius:(null===y.default||void 0===y.default||null===(h=y.default.styles)||void 0===h||null===(f=h.box)||void 0===f?void 0:f.radius)||5},foodCard:{radius:(null===y.default||void 0===y.default||null===(m=y.default.styles)||void 0===m||null===(g=m.box)||void 0===g?void 0:g.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}};Object.assign(_,{dynamicTheme:v.default});e.default=_},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l,u,c,p,d,h,f,m=r(n(13)),g=r(n(7)),y=n(69);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){(0,m.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const b={color:{default:"#e4e4e4",primary:"".concat(null===(i=g.default.colorPalette)||void 0===i?void 0:i.primary),secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"".concat((null===(o=g.default.colorPalette)||void 0===o?void 0:o.textColor)||"#333333"),priceColor:"".concat((null===(a=g.default.colorPalette)||void 0===a?void 0:a.priceColor)||"#333333"),linkColor:"".concat((null===(s=g.default.colorPalette)||void 0===s?void 0:s.linkColor)||"#5b0101"),headerColor:"".concat((null===(l=g.default.colorPalette)||void 0===l?void 0:l.headerColor)||"#ffffff"),dotBackground:"#cccccc",dotBackgroundActive:"#ef4123",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:24},qty:{radius:1===(null===g.default||void 0===g.default||null===(u=g.default.styles)||void 0===u||null===(c=u.qty)||void 0===c?void 0:c.type)?99:5},box:{radius:(null===g.default||void 0===g.default||null===(p=g.default.styles)||void 0===p||null===(d=p.box)||void 0===d?void 0:d.radius)||5},foodCard:{radius:(null===g.default||void 0===g.default||null===(h=g.default.styles)||void 0===h||null===(f=h.box)||void 0===f?void 0:f.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}},x={light:_(_({},b),{},{color:_(_({},b.color),{},{border:"#E5E5EA"})}),dark:_(_({},b),{},{color:_(_({},b.color),{},{bgColor:"#000000",fgColor:"#141414",boxColor:"#1B1B1B",headerColor:"#101010",textColor:"#ffffff",secondary:"#b0afaf",border:"#2C2C2E",priceColor:"#F5F5F7"})})};e.default=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=x[t]||x.light;if(null!==e){const{brandColor:t}=(0,y.parseJsonString)(e);t&&(n.color.primary=t)}return n}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l,u,c,p,d=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#f37021",secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"#333333",linkColor:"#f37021",headerColor:"#000000",dotBackground:"#cccccc",dotBackgroundActive:"#ef4123",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===d.default||void 0===d.default||null===(i=d.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||5},qty:{radius:1===(null===d.default||void 0===d.default||null===(a=d.default.styles)||void 0===a||null===(s=a.qty)||void 0===s?void 0:s.type)?99:5},box:{radius:(null===d.default||void 0===d.default||null===(l=d.default.styles)||void 0===l||null===(u=l.box)||void 0===u?void 0:u.radius)||5},foodCard:{radius:(null===d.default||void 0===d.default||null===(c=d.default.styles)||void 0===c||null===(p=c.box)||void 0===p?void 0:p.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#f37021",secondary:"#231f20",white:"#fff",black:"#000",blue:"#39c",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#ddd",grayLight:"#ccc",grayMedium:"#888",grayDark:"#333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#12151d",border:"#2d3342",bgColor:"#000",fgColor:"#191d27",boxColor:"#1e222d",textColor:"#fff",linkColor:"#f37021",headerColor:"#ffffff",dotBackground:"#ccc",dotBackgroundActive:"#ef4123",placeholder:"#12151d",placeholderShine:"#373e50"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===l.default||void 0===l.default||null===(i=l.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||5},box:{radius:5},foodCard:{radius:(null===l.default||void 0===l.default||null===(a=l.default.styles)||void 0===a||null===(s=a.foodCard)||void 0===s?void 0:s.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l,u,c,p,d=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#00aeb3",secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"#333333",linkColor:"#00aeb3",headerColor:"#ffffff",dotBackground:"#cccccc",dotBackgroundActive:"#00aeb3",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===d.default||void 0===d.default||null===(i=d.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||5},qty:{radius:1===(null===d.default||void 0===d.default||null===(a=d.default.styles)||void 0===a||null===(s=a.qty)||void 0===s?void 0:s.type)?99:5},box:{radius:(null===d.default||void 0===d.default||null===(l=d.default.styles)||void 0===l||null===(u=l.box)||void 0===u?void 0:u.radius)||5},foodCard:{radius:(null===d.default||void 0===d.default||null===(c=d.default.styles)||void 0===c||null===(p=c.box)||void 0===p?void 0:p.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#ff0108",secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"#333333",linkColor:"#5b0101",headerColor:"#111111",dotBackground:"#cccccc",dotBackgroundActive:"#ef4123",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===l.default||void 0===l.default||null===(i=l.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||5},box:{radius:5},foodCard:{radius:(null===l.default||void 0===l.default||null===(a=l.default.styles)||void 0===a||null===(s=a.foodCard)||void 0===s?void 0:s.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#4C5230",secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"#333333",linkColor:"#5b0101",headerColor:"#ffffff",dotBackground:"#cccccc",dotBackgroundActive:"#ef4123",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===l.default||void 0===l.default||null===(i=l.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||5},box:{radius:5},foodCard:{radius:(null===l.default||void 0===l.default||null===(a=l.default.styles)||void 0===a||null===(s=a.foodCard)||void 0===s?void 0:s.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#000",secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"#333333",linkColor:"#00aeb3",headerColor:"#ffffff",dotBackground:"#cccccc",dotBackgroundActive:"#00aeb3",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===l.default||void 0===l.default||null===(i=l.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||5},box:{radius:5},foodCard:{radius:(null===l.default||void 0===l.default||null===(a=l.default.styles)||void 0===a||null===(s=a.foodCard)||void 0===s?void 0:s.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#C49A6C",secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"#333333",linkColor:"#00aeb3",headerColor:"#ffffff",dotBackground:"#cccccc",dotBackgroundActive:"#00aeb3",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===l.default||void 0===l.default||null===(i=l.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||5},box:{radius:5},foodCard:{radius:(null===l.default||void 0===l.default||null===(a=l.default.styles)||void 0===a||null===(s=a.foodCard)||void 0===s?void 0:s.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#2E4053",secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"#333333",linkColor:"#5b0101",headerColor:"#ffffff",dotBackground:"#cccccc",dotBackgroundActive:"#ef4123",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===l.default||void 0===l.default||null===(i=l.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||5},box:{radius:5},foodCard:{radius:(null===l.default||void 0===l.default||null===(a=l.default.styles)||void 0===a||null===(s=a.foodCard)||void 0===s?void 0:s.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#DA7613",secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"#333333",linkColor:"#5b0101",headerColor:"#ffffff",dotBackground:"#cccccc",dotBackgroundActive:"#ef4123",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===l.default||void 0===l.default||null===(i=l.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||5},box:{radius:5},foodCard:{radius:(null===l.default||void 0===l.default||null===(a=l.default.styles)||void 0===a||null===(s=a.foodCard)||void 0===s?void 0:s.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#0C05AB",secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"#333333",linkColor:"#5b0101",headerColor:"#ffffff",dotBackground:"#cccccc",dotBackgroundActive:"#ef4123",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===l.default||void 0===l.default||null===(i=l.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||5},box:{radius:5},foodCard:{radius:(null===l.default||void 0===l.default||null===(a=l.default.styles)||void 0===a||null===(s=a.foodCard)||void 0===s?void 0:s.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#2D2D64",secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"#333333",linkColor:"#5b0101",headerColor:"#ffffff",dotBackground:"#cccccc",dotBackgroundActive:"#ef4123",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===l.default||void 0===l.default||null===(i=l.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||5},box:{radius:5},foodCard:{radius:(null===l.default||void 0===l.default||null===(a=l.default.styles)||void 0===a||null===(s=a.foodCard)||void 0===s?void 0:s.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#990000",secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"#333333",linkColor:"#5b0101",headerColor:"#ffffff",dotBackground:"#cccccc",dotBackgroundActive:"#ef4123",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===l.default||void 0===l.default||null===(i=l.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||5},box:{radius:5},foodCard:{radius:(null===l.default||void 0===l.default||null===(a=l.default.styles)||void 0===a||null===(s=a.foodCard)||void 0===s?void 0:s.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#C6A358",secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"#333333",linkColor:"#00aeb3",headerColor:"#ffffff",dotBackground:"#cccccc",dotBackgroundActive:"#00aeb3",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===l.default||void 0===l.default||null===(i=l.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||5},box:{radius:5},foodCard:{radius:(null===l.default||void 0===l.default||null===(a=l.default.styles)||void 0===a||null===(s=a.foodCard)||void 0===s?void 0:s.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#391609",secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#f8f8f8",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"#333333",linkColor:"#fcb146",headerColor:"#391609",dotBackground:"#cccccc",dotBackgroundActive:"#ef4123",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===l.default||void 0===l.default||null===(i=l.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||5},box:{radius:5},foodCard:{radius:(null===l.default||void 0===l.default||null===(a=l.default.styles)||void 0===a||null===(s=a.foodCard)||void 0===s?void 0:s.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#922962",secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"#333333",linkColor:"#5b0101",headerColor:"#ffffff",dotBackground:"#cccccc",dotBackgroundActive:"#ef4123",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===l.default||void 0===l.default||null===(i=l.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||5},box:{radius:5},foodCard:{radius:(null===l.default||void 0===l.default||null===(a=l.default.styles)||void 0===a||null===(s=a.foodCard)||void 0===s?void 0:s.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#AE873F",secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"#333333",linkColor:"#AE873F",headerColor:"#ffffff",dotBackground:"#cccccc",dotBackgroundActive:"#ef4123",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===l.default||void 0===l.default||null===(i=l.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||5},box:{radius:5},foodCard:{radius:(null===l.default||void 0===l.default||null===(a=l.default.styles)||void 0===a||null===(s=a.foodCard)||void 0===s?void 0:s.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l,u,c,p,d=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#ffe715",secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"#333333",linkColor:"#00aeb3",headerColor:"#ffffff",dotBackground:"#cccccc",dotBackgroundActive:"#00aeb3",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===d.default||void 0===d.default||null===(i=d.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||999},qty:{radius:1===(null===d.default||void 0===d.default||null===(a=d.default.styles)||void 0===a||null===(s=a.qty)||void 0===s?void 0:s.type)?99:5},box:{radius:(null===d.default||void 0===d.default||null===(l=d.default.styles)||void 0===l||null===(u=l.box)||void 0===u?void 0:u.radius)||5},foodCard:{radius:(null===d.default||void 0===d.default||null===(c=d.default.styles)||void 0===c||null===(p=c.box)||void 0===p?void 0:p.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l,u,c,p,d=r(n(7));e.default={color:{default:"#e4e4e4",primary:"#C6A261",secondary:"#231f20",white:"#ffffff",black:"#000000",blue:"#39cccc",lightBlue:"#e4f2f4",yellow:"#fcb146",orange:"#f79905",success:"#1ece8e",warning:"#ffc107",danger:"#e7302a",graySuperlight:"#e4e4e4",grayDlight:"#dddddd",grayLight:"#cccccc",grayMedium:"#888888",grayDark:"#333333",grayDarker:"#222222",greenLight:"#11C35E",brown:"#563a22",fidilio:"#770C0C",facebook:"#3b5998",instagram:"#92643A",googleplus:"#d34836",linkedin:"#007bb6",twitter:"#1da1f2",telegram:"#2ca5e0",foursquare:"#F94877",bgGray:"#f8f8f8",border:"#e4e4e4",bgColor:"#ffffff",fgColor:"#ffffff",boxColor:"#ffffff",textColor:"#333333",linkColor:"#5b0101",headerColor:"#ffffff",dotBackground:"#cccccc",dotBackgroundActive:"#ef4123",placeholder:"#ebebeb",placeholderShine:"#d9d9d9"},fontSize:{base:16,xxSmall:10,xSmall:11,small:12,normal:14,large:16,xLarge:36,xxLarge:80},fontFamily:{primary:'"IRANSans", Tahoma, sans-serif'},device:{sm:540,md:720,lg:960,xl:1140,xxl:1400},button:{radius:(null===d.default||void 0===d.default||null===(i=d.default.styles)||void 0===i||null===(o=i.button)||void 0===o?void 0:o.radius)||30},qty:{radius:1===(null===d.default||void 0===d.default||null===(a=d.default.styles)||void 0===a||null===(s=a.qty)||void 0===s?void 0:s.type)?99:5},box:{radius:(null===d.default||void 0===d.default||null===(l=d.default.styles)||void 0===l||null===(u=l.box)||void 0===u?void 0:u.radius)||5},foodCard:{radius:(null===d.default||void 0===d.default||null===(c=d.default.styles)||void 0===c||null===(p=c.box)||void 0===p?void 0:p.radius)||0},transition:{all:"all .4s cubic-bezier(0.19, 1, 0.22, 1)",custom:"cubic-bezier(0.19, 1, 0.22, 1)"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.Text=void 0;var i=r(n(16));e.Text=i.default.span.withConfig({componentId:"sc-1igqjst-0"})(["margin-bottom:20px;display:block;direction:rtl;"])},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(10)),o=(r(n(0)),n(29)),a=r(n(7)),s=n(172),l=r(n(45));const u={instagram:"https://instagram.com",telegram:"https://telegram.me",facebook:"https://facebook.com",whatsapp:"https://wa.me"};e.default=function(){return(0,o.useSelector)((function(t){return t.app.digitalMenuMode}))||"1"===a.default.landingTemplate?null:(0,i.default)(s.Social,{},void 0,(0,i.default)("nav",{},void 0,a.default.social&&Object.keys(a.default.social).map((function(t,e){const n=a.default.social[t];return n&&(0,i.default)("a",{href:"".concat(u[t],"/").concat(n),rel:"noopener noreferrer",target:"_blank"},e,(0,i.default)(l.default,{name:t}))}))))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n(10)),a=(r(n(0)),n(50)),s=r(n(45)),l=n(864);e.default=function(t){let{lastOrder:e,countOrder:n}=t;const r=n>1?"/user/orders":"/track/".concat(e.trackId);return(0,o.default)(l.FabButton,{as:a.Link,to:r},void 0,n>1&&(0,o.default)("small",{},void 0,n),i||(i=(0,o.default)(s.default,{name:"bell"})))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.FabButton=void 0;var i=r(n(16));e.FabButton=i.default.div.withConfig({componentId:"sc-9un8sh-0"})(["cursor:pointer;position:fixed;border:none;border-radius:99px;padding:0;width:50px;height:50px;box-shadow:0 0 20px rgba(0,0,0,0.3);right:10px;bottom:10px;z-index:1190;color:",";background-color:",";.icon{position:absolute;font-size:25px;margin-top:10px;margin-left:12px;}small{z-index:1;position:absolute;left:-6px;top:-6px;width:24px;height:24px;padding-top:5px;color:",";background-color:",";border-radius:99px;font-size:15px;text-align:center;}"],(function(t){return t.theme.color.white}),(function(t){return t.theme.color.primary}),(function(t){return t.theme.color.white}),(function(t){return t.theme.color.danger}))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s=r(n(10)),l=r(n(21)),u=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),c=r(n(48)),p=n(226),d=n(38),h=n(69),f=n(883),m=n(132);e.default=function(t){let{data:e}=t;const{restaurantName:n,restaurantBranch:r,stringDate:g,trackId:y,price:v,usedCredit:_,restaurantLogo:b}=e,[x,w]=(0,u.useState)(),k=(0,u.useRef)(),S=function(){k.current.classList.add("payment-close")},C=function(){var t=(0,l.default)((function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function*(){w(!0);try{const{data:{hasSmartClubCredit:e,successful:n}}=yield(0,p.postCancelOrder)(y);n&&(t||_||e)&&window.location.reload(),S()}catch(t){alert("سفارش شما کنسل نشد")}}()}));return function(){return t.apply(this,arguments)}}(),E="".concat(n.trim()).concat(r?" <small>(".concat(r,")</small>"):""),{isSubscriberDarkMode:T,isOrderingDarkMode:I}=(0,m.useThemeMode)(),M="/"===window.location.pathname?T:I;return u.default.createElement(f.Popup,{ref:k},(0,s.default)(f.Container,{isDarkMode:M},void 0,i||(i=(0,s.default)(f.Header,{},void 0,(0,s.default)(f.Title,{},void 0,"سفارش معلق!"),(0,s.default)(f.SubTitle,{},void 0,"سفارش شما به دلیل عدم پرداخت در درگاه بانک ثبت نشده است."))),(0,s.default)(f.List,{className:"clearfix"},void 0,(0,s.default)(f.Row,{},void 0,(0,s.default)(f.Figure,{},void 0,(0,s.default)("img",{src:b.replace("#SIZEOFIMAGE#","180x180"),alt:E})),(0,s.default)(f.Name,{dangerouslySetInnerHTML:{__html:E}})),(0,s.default)(f.Row,{},void 0,"پرداختی شما: ",(0,h.currency)(v)),(0,s.default)(f.Row,{},void 0,(0,s.default)(f.Time,{},void 0,"زمان: ",g))),(0,s.default)(f.ButtonHolder,{isDarkMode:M},void 0,x?o||(o=(0,s.default)(f.Loading,{},void 0,(0,s.default)(d.Spinner,{}))):u.default.createElement(u.default.Fragment,null,(0,s.default)(c.default,{className:"filled",onClick:function(){C()}},void 0,"سفارش مجدد"),(0,s.default)(c.default,{outline:!0,onClick:function(){C(!0)}},void 0,"انصراف از این سفارش")))),a||(a=(0,s.default)(f.LightBox,{})))}},,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(21)),o=r(n(128));e.default=new class{constructor(){this._accessToken=null,this._refreshToken=null}get(){var t=this;return(0,i.default)((function*(){if(t._accessToken)return Promise.resolve({accessToken:t._accessToken,refreshToken:t._refreshToken});const e=yield o.default.getItem("token");if(!e)return null;const[n,r]=e.split("$");return t._accessToken=n,t._refreshToken=r,Promise.resolve({accessToken:n,refreshToken:r})}))()}set(t,e){var n=this;return(0,i.default)((function*(){n._accessToken=t,n._refreshToken=e;try{return yield o.default.setItem("token","".concat(t,"$").concat(e)),!0}catch(t){return!1}}))()}clear(){return this._accessToken=null,this._refreshToken=null,o.default.removeItem("token")}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.Title=e.Time=e.Text=e.SubTitle=e.Row=e.Popup=e.Note=e.Name=e.Loading=e.List=e.LightBox=e.Header=e.Figure=e.Container=e.ButtonHolder=void 0;var i,o,a=r(n(35)),s=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),l=n(42),u=n(38),c=n(33);e.Popup=s.default.div.withConfig({componentId:"sc-1h8sotv-0"})(["position:fixed;top:0;left:0;z-index:1200;width:100%;height:100%;font-size:13px;&.payment-close{visibility:hidden;}"]),e.Container=s.default.div.withConfig({componentId:"sc-1h8sotv-1"})(["position:relative;padding:20px;background-color:",";z-index:10001;text-align:center;margin:0 auto;height:100%;width:100%;max-width:500px;-webkit-overflow-scrolling:touch;direction:rtl;opacity:0;animation-name:'anim-open';animation-duration:400ms;animation-fill-mode:forwards;transition-timing-function:",";.payment-close &{animation-name:'anim-close';}@keyframes anim-open{0%{opacity:1;transform:translateY(100%);}100%{transform:translateY(0);}}@keyframes anim-close{100%{transform:translateY(100%);}}",""],(function(t){return t.isDarkMode?t.theme.color.boxColor:t.theme.color.white}),(function(t){return t.theme.transition.custom}),c.breakpoint.greaterThan("mobile")(i||(i=(0,a.default)(["\n    height: auto;\n\t\ttop: 50%;\n    transform: translateY(-50%);\n    border-radius: ","px;\n  "])),(function(t){return t.theme.box.radius}))),e.Header=s.default.div.withConfig({componentId:"sc-1h8sotv-2"})([""]),e.Title=s.default.h2.withConfig({componentId:"sc-1h8sotv-3"})(["margin-bottom:10px;"]),e.SubTitle=s.default.p.withConfig({componentId:"sc-1h8sotv-4"})(["margin-top:0;"]),e.Text=s.default.h3.withConfig({componentId:"sc-1h8sotv-5"})(["margin:0;font-size:16px;small{font-weight:normal;color:",";}"],(function(t){return t.theme.color.grayMedium})),e.Time=s.default.small.withConfig({componentId:"sc-1h8sotv-6"})(["color:",";"],(function(t){return t.theme.color.grayMedium})),e.Name=s.default.div.withConfig({componentId:"sc-1h8sotv-7"})([""]),e.List=s.default.ul.withConfig({componentId:"sc-1h8sotv-8"})(["margin:30px 0;"]),e.Row=s.default.ul.withConfig({componentId:"sc-1h8sotv-9"})(["float:left;width:100%;font-size:14px;"]),e.Figure=s.default.figure.withConfig({componentId:"sc-1h8sotv-10"})(["width:80px;height:80px;overflow:hidden;margin:0 auto 20px;border-radius:30%;border:2px solid ",";background-color:",";box-shadow:0 1px 3px ",";img{width:100%;display:block;}"],(function(t){return t.theme.color.white}),(function(t){return t.theme.color.white}),(function(t){return(0,l.rgba)(t.theme.color.black,.1)})),e.ButtonHolder=s.default.div.withConfig({componentId:"sc-1h8sotv-11"})(["margin-bottom:30px;display:inline-block;display:flex;flex-direction:column;justify-content:center;align-items:center;button{min-width:190px;margin-bottom:5px;","}",""],(function(t){return t.isDarkMode&&(0,s.css)(["&.filled{color:#000;&:hover{color:",";}}color:",";&:hover{color:",";}"],t.theme.color.secondary,t.theme.color.textColor,t.theme.color.secondary)}),c.breakpoint.greaterThan("tablet")(o||(o=(0,a.default)(["\n    flex-direction: row;\n\n    button{\n      margin-bottom: 5px;\n      margin: 0 2px;\n    }\n  "])))),e.Note=s.default.div.withConfig({componentId:"sc-1h8sotv-12"})(["margin:0 auto;font-size:13px;max-width:350px;"]),e.Loading=s.default.div.withConfig({componentId:"sc-1h8sotv-13"})(["display:flex;justify-content:center;align-items:center;"]),e.LightBox=(0,s.default)(u.StyledLightBox).withConfig({componentId:"sc-1h8sotv-14"})(["opacity:0;animation-name:'anim-open';animation-duration:400ms;animation-fill-mode:forwards;transition-timing-function:",";.payment-close &{animation-name:'anim-close';}@keyframes anim-open{100%{opacity:1;}}@keyframes anim-close{100%{opacity:0;visibility:hidden;}}"],(function(t){return t.theme.transition.custom}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={action:function(){}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13));function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const s="عدم موجودی",l="در وعد",u="بعد از افطار",c={[s]:"موجود نیست"},p={maxDiscount:0,complexTypeId:1};function d(t){let e=t;if(e)if(c[e])e=c[e];else if(1!==p.complexTypeId){let n=e.indexOf(l);n>-1?e=e.substring(0,n).trim():(n=e.indexOf(u),n>-1&&(e=e.substring(0,n).trim())),"همه روزه"===e&&(e=t),e||(e=c[s])}return e}function h(t){var e,n;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;if(!t.title)return!1;t.available&&t.discountPercentage>p.maxDiscount&&(p.maxDiscount=t.discountPercentage);const o=[];if(t.foodTags){const e=JSON.parse(t.foodTags);e&&e.length&&e.forEach((function(t){o.push(t.id)}))}let a=0;t.taxPercent&&(a=t.price*t.taxPercent/100);let s=t.showInKiosk;return t.id&&null!==(e=String(t.id))&&void 0!==e&&e.startsWith("s-")&&(s=t.subFoods.some((function(t){return t.showInKiosk}))),{id:"".concat(t.id),clientFoodItemID:"".concat(t.clientFoodItemID),title:t.title,ingredient:t.ingredient||"",img:t.img||"",multiImage:t.multiImage||[],archive:!!t.archive,price:t.price||0,index:t.index||0,discount:r?0:t.discount||0,discountPercentage:r?0:t.discountPercentage||0,available:!!t.available,unavailableText:t.available?"":d(t.unavailableText),stock:!!t.stock,subFoods:t.subFoods||[],priceLabel:t.priceLabel||"",packaging:t.packaging||0,pickupOnly:t.pickupOnly||!1,taxable:!!t.isTaxable,foodTags:o,topping:!(null===(n=t.topping)||void 0===n||!n.length)&&t.topping,taxPercent:t.taxPercent,hasSelfTax:!!t.taxPercent,selfTax:a,showInDigitalMonitor:t.showInDigitalMonitor,digitalMonitorOrderIndex:t.digitalMonitorOrderIndex,packagingIsTaxable:t.packagingIsTaxable,packagingTaxPercent:t.packagingTaxPercent,showInKiosk:s,kioskOrderIndex:t.kioskOrderIndex,kioskCategoryOrderIndex:i.kioskOrderIndex,kioskCategoryShow:i.showInKiosk,deliveryOnly:t.deliveryOnly,type:t.type,catId:i.id,categoryClientId:i.categoryClientId}}function f(t){let e=!0;const n=t[0];let r=n.price,i=0,o="";for(let a=0;a<t.length;a++){if(t[a].discountPercentage>0){t[a].discountPercentage>i&&(i=t[a].discountPercentage);const e=t[a].price-t[a].discount;e<r&&(r=e)}else t[a].price<r&&(r=t[a].price);t[a].price!==n.price&&(e=!1),t[a].ingredient&&(o=t[a].ingredient)}return{ingredient:o,lowPrice:r,maxDiscount:i,samePrice:e}}e.default=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];p.complexTypeId=e,p.maxDiscount=0;const r=[],i={},o=[],l={};return t.categories&&t.categories.forEach((function(t){const e=t.sub;if(e&&e.length){let o=[];if(e.forEach((function(e){const l=e.food;if(l&&l.length)if(0===e.id)l.forEach((function(e){const r=h(e,n,t);r&&o.push(r)}));else if(1===l.length){const r=l[0];r.img=r.img||e.img;const i=h(r,n,t);i&&o.push(i)}else{let u=[];const c=0;let p=!1,d=s,m=e.img;if(l.forEach((function(e){const r=h(e,n,t);r&&(u.push(r),e.available&&(p=!0,d=""),m||e.img&&(m=e.img))})),u=u.sort((function(t,e){return t.index-e.index})),u.length>0){const s=f(u);let l=e.priceLabel&&e.priceLabel.trim();l||(l=(s.samePrice?"":" شروع از ")+s.lowPrice);const g=h({id:"s-".concat(e.id),title:e.title,img:m,multiImage:e.multiImage,index:e.index,ingredient:e.description||"",discountPercentage:s.maxDiscount,priceLabel:l,available:p,unavailableText:d,subFoods:u},n,t);c&&(g.quantity=c),o.push(g),u.forEach((function(e){i["".concat(e.id)]={quantity:0,parentId:g.id},r.push(a({parent:g.id,catId:"".concat(t.id),categoryClientId:"".concat(t.categoryClientId),catIndex:t.index,categoryTitle:t.title,categoryIndex:t.index||0},e))}))}}})),o.length>0){o=o.sort((function(t,e){return t.index-e.index}));let e=null;o.forEach((function(n){i["".concat(n.id)]={quantity:0,available:n.available,parentId:null,visited:!1,activeByCoupon:!1};let o=!1;t.id!==e&&(o=!0,e=t.id),r.push(a(a({parent:0,catId:"".concat(t.id),categoryClientId:"".concat(t.categoryClientId),catIndex:t.index,categoryTitle:t.title,categoryIndex:t.index||0},n),{},{firstItem:o}))}))}}const u=t.title?t.title.trim():"بی نام";o.push({catId:"".concat(t.id),categoryClientId:"".concat(t.categoryClientId),catTitle:u,catLogo:t.logo,catIndex:t.index,catCustomIcon:t.customIcon,digitalMonitorOrderIndex:t.digitalMonitorOrderIndex,showInDigitalMonitor:t.showInDigitalMonitor,showInKiosk:t.showInKiosk,kioskOrderIndex:t.kioskOrderIndex}),l["".concat(t.id)]={active:1===o.length}})),{extra:p,foodList:{arr:r,obj:i},categoryList:o,categoryObj:l}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(21)),o=n(0),a=n(29),s=n(226),l=n(103);e.default=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=(0,a.useDispatch)(),n=(0,a.useSelector)((function(t){return t.user.isLoggedIn})),r=(0,a.useSelector)((function(t){return t.app.activeOrder})),u=(0,a.useSelector)((function(t){return t.app.activeOrderCount})),c=(0,a.useSelector)((function(t){return t.app.kiosk})),p=(0,a.useSelector)((function(t){return t.app.activeOrderChecking})),d=(0,a.useSelector)((function(t){return t.app.unsuccessfullPayment})),h=(0,o.useRef)(null),f=(0,o.useCallback)((0,i.default)((function*(){clearTimeout(h.current);try{const{data:t}=yield(0,s.getActiveOrder)();if(t.length>0){const n=t[t.length-1];n.successful&&e((0,l.setActiveOrder)(n,t.length))}else r&&e((0,l.setActiveOrder)(null,0));h.current=setTimeout(f,1e4)}catch(t){console.log(t)}})),[]),m=(0,o.useCallback)((0,i.default)((function*(){try{const{data:t}=yield(0,s.getUnsuccessfulOrders)();t&&t.length&&e((0,l.setUnsuccessfullOrder)(t[0]))}catch(t){console.log(t)}})),[]);return(0,o.useEffect)((function(){setTimeout((function(){clearTimeout(h.current),n&&!p?(t&&f(),e((0,l.setActiveOrderChecking)(!0)),c||m()):clearTimeout(h.current)}),2500)}),[n,p,f]),{activeOrder:r,activeOrderCount:u,unsuccessfullPayment:d}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(376)),o=n(421),a=r(n(893));i.default.use(o.initReactI18next).init({resources:{fa:a.default},lng:"en_US",fallbackLng:"en_US",debug:!1,interpolation:{escapeValue:!1}});e.default=i.default},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){u=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(891);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n(7));e.default={common:{"Login / Register":"ورود / عضویت","Order Online":"سفارش آنلاین",Search:"جستجوی سریع","No items found":"موردی برای نمایش وجود ندارد",walletTitle:null!==o.default&&void 0!==o.default&&null!==(i=o.default.locals)&&void 0!==i&&i.walletTitle?o.default.locals.walletTitle:"مبلغ مورد نظر خود را مشخص و از طریق درگاه بانکی حسابتان را شارژ کنید"},home:{"Welcome to Delino":"به دلینو خوش آمدید","Your messages: {{message_count}}":"تعداد پیام‌های شما: {{message_count}}"}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(10)),o=(r(n(0)),r(n(48))),a=n(895);e.default=function(t){let{onRetry:e,data:n}=t;const{apiDown:r,message:s,messageHtml:l}=n;return(0,i.default)(a.Main,{className:"main-container"},void 0,(0,i.default)(a.Container,{},void 0,(0,i.default)(a.Wrapper,{},void 0,(0,i.default)(a.SubTitle,{dangerouslySetInnerHTML:{__html:l||s}}),r?null:(0,i.default)(a.ButtonHolder,{},void 0,(0,i.default)(o.default,{onClick:e},void 0,"تلاش مجدد")))))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.Wrapper=e.Title=e.SubTitle=e.Main=e.Container=e.ButtonHolder=void 0;var i,o,a=r(n(35)),s=r(n(16)),l=n(33);e.Main=s.default.div.withConfig({componentId:"sc-1y3su22-0"})(["margin-top:0;position:relative;padding-bottom:0;min-height:500px;padding-top:80px;width:100%;"," &:before{display:table;content:' ';}&:after{display:table;content:' ';clear:both;}"],l.breakpoint.greaterThan("tablet")(i||(i=(0,a.default)(["\n    padding-top: 100px;\n  "])))),e.Container=s.default.div.withConfig({componentId:"sc-1y3su22-1"})(["min-height:771px;position:relative;width:100%;"]),e.Wrapper=s.default.div.withConfig({componentId:"sc-1y3su22-2"})(["margin:0 auto;width:90%;position:relative;z-index:2;text-align:center;padding-top:100px;direction:rtl;",""],l.breakpoint.greaterThan("tablet")(o||(o=(0,a.default)(["\n    max-width: 70%;\n    margin: 0 auto;\n  "])))),e.Title=s.default.h1.withConfig({componentId:"sc-1y3su22-3"})(["font-size:100px;margin:0 0 10px;line-height:1;font-family:Arial;"]),e.SubTitle=s.default.p.withConfig({componentId:"sc-1y3su22-4"})(["font-size:18px;margin:0;"]),e.ButtonHolder=s.default.div.withConfig({componentId:"sc-1y3su22-5"})(["margin-top:40px;"])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(){return null}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(21)),o=n(0),a=r(n(7)),s=r(n(128)),l=n(133);e.default=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};const[e,n]=(0,o.useState)(!1),r=(0,o.useRef)();(0,o.useEffect)((function(){(function(){var e=(0,i.default)((function*(){const e=yield s.default.getItem("@Intro_shown");a.default.showIntro&&(a.default.showIntro.mobile&&(0,l.isMobile)()||a.default.showIntro.desktop&&!(0,l.isMobile)())&&!e?n(!0):t()}));return function(){return e.apply(this,arguments)}})()()}),[]);const u=function(){r.current.classList.add("webapp-close"),s.default.setItem("@Intro_shown",new Date),setTimeout((function(){t(),n(!1)}),1e3)};return{showIntro:e,onClose:u,ref:r}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l,u,c,p=r(n(10)),d=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),h=n(50),f=r(n(48)),m=r(n(7)),g=n(387),y=r(n(899)),v=r(n(900));const _=function(t){let{location:{pathname:e}}=t;const n="/"===e;return(0,p.default)(g.StyledFooter,{fullWidth:"/"!==location.pathname,isHome:n,className:n&&"home-footer",id:"footer"},void 0,i||(i=(0,p.default)(g.Wrapper,{className:"clearfix"},void 0,(0,p.default)(y.default,{}),(0,p.default)(v.default,{}))),m.default.app&&(0,p.default)(g.AppLinks,{},void 0,m.default.app.ios.sibche&&(0,p.default)(f.default,{href:m.default.app.ios.sibche,title:"iOS app",target:"_blank",rel:"noopener"},void 0,o||(o=(0,p.default)("img",{src:"https://www.delino.com/img/general/label-app-ios-sibche.png",alt:""}))),m.default.app.ios.iapps&&(0,p.default)(f.default,{href:m.default.app.ios.iapps,title:"iOS app",target:"_blank",rel:"noopener"},void 0,a||(a=(0,p.default)("img",{src:"https://www.delino.com/img/general/label-app-ios-iapps.png",alt:""}))),m.default.app.ios.sibapp&&(0,p.default)(f.default,{href:m.default.app.ios.sibapp,title:"iOS app",target:"_blank",rel:"noopener"},void 0,s||(s=(0,p.default)("img",{src:"https://www.delino.com/img/general/label-app-ios-sibapp.png",alt:""}))),m.default.app.android.direct&&(0,p.default)(f.default,{href:m.default.app.android.direct,title:"android app",target:"_blank",rel:"noopener"},void 0,l||(l=(0,p.default)("img",{src:"https://www.delino.com/img/general/label-app-android-direct.png",alt:""}))),m.default.app.android.cafebazaar&&(0,p.default)(f.default,{href:m.default.app.android.cafebazaar,title:"android app",target:"_blank",rel:"noopener"},void 0,u||(u=(0,p.default)("img",{src:"https://www.delino.com/img/general/label-app-android-bazaar.png",alt:""}))),m.default.app.android.google&&(0,p.default)(f.default,{href:m.default.app.android.google,title:"android app",target:"_blank",rel:"noopener"},void 0,c||(c=(0,p.default)("img",{src:"https://www.delino.com/img/general/label-app-android.png",alt:""})))),m.default.enamad&&(0,p.default)("div",{className:"enamad-container text-center",dangerouslySetInnerHTML:{__html:m.default.enamad}}))},b=function(t,e){return t.location.pathname===e.location.pathname};e.default=(0,h.withRouter)((0,d.memo)(_,b))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(10)),o=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),a=n(29),s=n(50),l=r(n(7)),u=n(103),c=r(n(134)),p=n(387);e.default=function(){const t=(0,o.useRef)(),e=(0,a.useDispatch)(),n=(0,a.useSelector)((function(t){return t.app.digitalMenuMode})),r=(0,o.useCallback)((function(){!1!==l.default.digitalMenu&&e((0,u.setDigitalMenuMode)((function(e){let{success:n,text:r}=e;t.current.show(r,n?"tick":"alert",1e3,"sm"),n&&setTimeout((function(){window.location.reload(!1)}),1e3)})))}),[]);return(0,i.default)(p.Copyright,{center:!1!==n},void 0,(0,i.default)("p",{},void 0,(0,i.default)("span",{onDoubleClick:r},void 0,"© حقوق مادی و معنوی متعلق به"," ",null!==l.default&&void 0!==l.default&&l.default.footerLink?(0,i.default)("a",{href:null===l.default||void 0===l.default?void 0:l.default.footerLink,target:"_blank",rel:"noreferrer"},void 0,l.default.name):(0,i.default)(s.Link,{to:"/"},void 0,l.default.name)," ","است")),o.default.createElement(c.default,{ref:t,key:"alert"}))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(10)),o=(r(n(0)),n(29)),a=r(n(7)),s=n(172),l=r(n(45));const u={instagram:"https://instagram.com",telegram:"https://telegram.me",facebook:"https://facebook.com",whatsapp:"https://wa.me"};e.default=function(){return(0,o.useSelector)((function(t){return t.app.digitalMenuMode}))?null:(0,i.default)(s.Social,{},void 0,(0,i.default)("nav",{},void 0,a.default.social&&Object.keys(a.default.social).map((function(t,e){const n=a.default.social[t];return n&&(0,i.default)("a",{href:"".concat(u[t],"/").concat(n),rel:"noopener noreferrer",target:"_blank"},e,(0,i.default)(l.default,{name:t}))}))))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b,x,w=r(n(111)),k=r(n(10)),S=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),C=n(29),E=n(50),T=r(n(7)),I=r(n(436)),M=r(n(279)),A=r(n(937)),O=r(n(439)),P=n(69),D=n(38),z=r(n(433)),L=r(n(949));const R=(0,S.lazy)((function(){return(0,P.retry)((function(){return Promise.all([n.e(0),n.e(12)]).then(n.t.bind(null,959,7))}))})),W=(0,S.lazy)((function(){return(0,P.retry)((function(){return Promise.all([n.e(0),n.e(12)]).then(n.t.bind(null,967,7))}))})),B=(0,S.lazy)((function(){return(0,P.retry)((function(){return n.e(4).then(n.t.bind(null,968,7))}))})),j=(0,S.lazy)((function(){return(0,P.retry)((function(){return n.e(9).then(n.t.bind(null,969,7))}))})),N=(0,S.lazy)((function(){return(0,P.retry)((function(){return n.e(32).then(n.t.bind(null,970,7))}))})),F=(0,S.lazy)((function(){return(0,P.retry)((function(){return n.e(27).then(n.t.bind(null,971,7))}))})),U=(0,S.lazy)((function(){return(0,P.retry)((function(){return n.e(31).then(n.t.bind(null,972,7))}))})),V=(0,S.lazy)((function(){return(0,P.retry)((function(){return n.e(10).then(n.t.bind(null,973,7))}))})),q=(0,S.lazy)((function(){return(0,P.retry)((function(){return n.e(8).then(n.t.bind(null,974,7))}))})),H=(0,S.lazy)((function(){return(0,P.retry)((function(){return n.e(21).then(n.t.bind(null,975,7))}))})),G=(0,S.lazy)((function(){return(0,P.retry)((function(){return Promise.all([n.e(45),n.e(24)]).then(n.t.bind(null,976,7))}))})),Z=(0,S.lazy)((function(){return(0,P.retry)((function(){return n.e(18).then(n.t.bind(null,977,7))}))})),K=(0,S.lazy)((function(){return(0,P.retry)((function(){return n.e(23).then(n.t.bind(null,978,7))}))})),Q=(0,S.lazy)((function(){return(0,P.retry)((function(){return n.e(34).then(n.t.bind(null,979,7))}))})),X=(0,S.lazy)((function(){return(0,P.retry)((function(){return n.e(33).then(n.t.bind(null,980,7))}))})),Y=(0,S.lazy)((function(){return(0,P.retry)((function(){return n.e(6).then(n.t.bind(null,960,7))}))})),J=(0,S.lazy)((function(){return(0,P.retry)((function(){return n.e(23).then(n.t.bind(null,981,7))}))})),$=(0,S.lazy)((function(){return(0,P.retry)((function(){return Promise.all([n.e(0),n.e(12)]).then(n.t.bind(null,982,7))}))}));const tt=[{path:"/",exact:!0,render:function(t){let{history:e,location:n}=t;return(0,k.default)(W,{history:e,location:n})}},{path:"/user",private:!0,strict:!0,component:Q},{path:["/login/:step","/login"],render:function(){return i||(i=(0,k.default)(Z,{}))}},{path:["/order/:section","/order"],multiBranch:!1,exact:!0,render:function(t){let{match:{params:{section:e}},location:n,history:r}=t;return(0,k.default)(G,{section:e,location:n,history:r})}},{path:"/order",exact:!0,multiBranch:!0,render:function(t){let{history:e,location:n}=t;return!0!==T.default.hasLanding&&!T.default.multiBrand||localStorage.getItem("kiosk")?a||(a=(0,k.default)(Y,{isPage:!0})):(console.log("1"),o||(o=(0,k.default)(E.Redirect,{to:"/"})))}},{path:"/order/:domain/monitor-menu",exact:!0,strict:!0,multiBranch:!0,render:function(t){let{match:{url:e,params:{domain:n,section:r}},location:i,history:o}=t;return(0,k.default)(R,{url:e,domain:n,section:r,location:i,history:o})}},{path:"/monitor-menu",exact:!0,multiBranch:!1,render:function(t){let{match:{url:e,params:{domain:n,section:r}},location:i,history:o}=t;return(0,k.default)(R,{url:e,domain:n,section:r,location:i,history:o})}},{path:["/order/:domain/board-menu"],exact:!0,strict:!0,render:function(t){return S.default.createElement($,t)}},{path:["/order/:domain/:section","/order/:domain"],multiBranch:!0,exact:!0,render:function(t){let{match:{url:e,params:{domain:n,section:r}},location:i,history:o}=t;return(0,k.default)(G,{url:e,domain:n,section:r,location:i,history:o})}},{path:"/track/:id",strict:!0,render:function(t){return S.default.createElement(X,t)}},{path:["/login/:step","/login"],modal:!0,component:I.default,dialog:{size:null!==T.default&&void 0!==T.default&&T.default.loginImage?"lg":"sm"}},{path:"/order",modal:!0,exact:!0,multiBranch:!0,component:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.default.createElement(M.default,(0,w.default)({},e,{isModal:!0}))},dialog:{title:"لطفا ".concat(null!==T.default&&void 0!==T.default&&T.default.hideBranchTitle?"مجموعه":"شعبه"," مورد نظر خود را انتخاب کنید"),size:"lg"}},{path:["/address/add","/address/edit/:id"],modal:!0,component:A.default,dialog:{size:"lg",title:"آدرس",height:560}}];const et=function(){const t=(0,E.useLocation)(),e=(0,C.useSelector)((function(t){return t.restaurant.multiBranch})),n=(0,C.useSelector)((function(t){return t.app.pages})),r=function(){var t;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(null!==(t=T.default.navigation)&&void 0!==t&&t.list&&T.default.navigation.list.length){const t=T.default.navigation.list;t.find((function(t){return"/glossary"===t.url}))&&tt.push({path:"/glossary",exact:!0,render:function(){return s||(s=(0,k.default)(V,{}))}}),t.find((function(t){return"/contact"===t.url}))&&tt.push({path:"/contact",exact:!0,render:function(){return l||(l=(0,k.default)(q,{}))}}),t.find((function(t){return"/about"===t.url}))&&tt.push({path:"/about",exact:!0,render:function(){return u||(u=(0,k.default)(B,{}))}}),t.find((function(t){return"/faq"===t.url}))&&tt.push({path:"/faq",exact:!0,render:function(){return c||(c=(0,k.default)(j,{}))}}),t.find((function(t){return"/terms"===t.url}))&&tt.push({path:"/terms",exact:!0,render:function(){return p||(p=(0,k.default)(N,{}))}}),t.find((function(t){return"/privacy"===t.url}))&&tt.push({path:"/privacy",exact:!0,render:function(){return d||(d=(0,k.default)(F,{}))}}),t.find((function(t){return"/support"===t.url}))&&tt.push({path:"/support",exact:!0,render:function(){return h||(h=(0,k.default)(U,{}))}}),t.find((function(t){return"/meeting"===t.url}))&&tt.push({path:"/meeting",exact:!0,render:function(){return f||(f=(0,k.default)(H,{}))}}),t.find((function(t){return"/camera"===t.url}))&&tt.push({path:"/camera",exact:!0,render:function(){return m||(m=(0,k.default)(K,{}))}})}else if(T.default.landingTemplate){const{about:t,contact:r,terms:i}=n,o=[];(e||T.default.landingTemplate||null!=t&&t.visible||null!=r&&r.visible||i.visible)&&(o.push({url:"/",title:"صفحه اصلی"}),o.push({url:"/order",title:"سفارش"})),t.visible&&(o.push({url:"/about",title:"درباره"}),tt.push({path:"/about",exact:!0,render:function(){return g||(g=(0,k.default)(B,{}))}})),i.visible&&(o.push({url:"/terms",title:"قوانین سایت"}),tt.push({path:"/terms",exact:!0,render:function(){return y||(y=(0,k.default)(N,{}))}})),r.visible&&(o.push({url:"/contact",title:"تماس با ما"}),tt.push({path:"/contact",exact:!0,render:function(){return v||(v=(0,k.default)(q,{}))}})),T.default.navigation={root:"",list:o}}return tt.map((function(t,n){if(r!==t.modal)return null;if(void 0!==t.multiBranch&&e!==t.multiBranch)return null;const i={};return t.exact&&(i.exact=!0),t.strict&&(i.strict=!0),t.modal?t.render=function(e){return S.default.createElement(L.default,(0,w.default)({component:t.component,dialogAttr:t.dialog},e))}:t.private&&(t.render=function(e){return S.default.createElement(z.default,(0,w.default)({component:t.component},e))}),S.default.createElement(E.Route,(0,w.default)({key:n},i,{path:t.path,render:t.render}))}))},i=t.state&&t.state.background,o=(0,k.default)(D.Main,{className:"main-container clearfix"},void 0,-1!==t.pathname.indexOf("/order")?_||(_=(0,k.default)(O.default,{})):b||(b=(0,k.default)(D.Spinner,{$size:"lg",block:!0,margin:200})));return(0,k.default)(S.Suspense,{fallback:o},void 0,(0,k.default)(E.Switch,{location:i||t},void 0,r(),x||(x=(0,k.default)(E.Route,{path:"*"},void 0,(0,k.default)(J,{})))),i&&r(!0))};e.default=(0,S.memo)(et,(function(){return!0}))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(10)),o=r(n(13)),a=r(n(21)),s=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),l=r(n(903)),u=r(n(48)),c=r(n(155)),p=r(n(45)),d=n(38),h=r(n(7)),f=n(152),m=n(29),g=n(105),y=(r(n(389)),n(84)),v=n(386),_=n(104),b=r(n(905));n(906);var x,w=r(n(157));function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.default=function(t){let{mobile:e,onSuccess:n}=t;const r=(0,m.useSelector)((function(t){var e;return null===(e=t.app)||void 0===e?void 0:e.kiosk})),{submitting:o,input:k,onChange:C,onSubmit:E,setInput:T}=(0,l.default)(r?"09":e),[I,M]=(0,s.useState)(!1),[A,O]=(0,s.useState)(""),P=(0,v.useHistory)(),D=(0,m.useDispatch)(),z=((0,m.useSelector)((function(t){return t.restaurant})),(0,s.useRef)()),L=(0,s.useRef)(),R=(0,s.useCallback)(function(){var t=(0,a.default)((function*(t){if(t.preventDefault(),k.value&&11===k.value.length){if(r)return void W();const t=yield E();t.success&&n(t.data)}else T(S(S({},k),{},{error:"تعداد ارقام شماره موبایل باید 11 رقم باشد"})),z.current.focus()}));return function(e){return t.apply(this,arguments)}}(),[E]),W=function(){var t=(0,a.default)((function*(){w.default.info("login start ".concat(k.value),!0),M(!0);const t=yield(0,g.userKioskLogin)(k.value);w.default.info("login start ".concat(k.value," response: ").concat(JSON.stringify(t)),!0),t?((0,y.setToken)(t.accessToken,t.refreshToken),D((0,_.fetchUserAction)((function(){"#"==r?setTimeout((function(){P.push("/order/checkout")}),100):setTimeout((function(){P.push("/order/".concat(r,"/checkout"))}),100)})))):(M(!1),alert("خطا در سرویس لاگین"))}));return function(){return t.apply(this,arguments)}}();return(0,i.default)(f.Container,{},void 0,(0,i.default)(d.SmallTitle,{style:r?{fontSize:"20px"}:{}},void 0,h.default.formalSpeech?"لطفا شماره موبايل خود را وارد نماييد":"شماره موبایلت رو وارد کن"),(0,i.default)(f.Form,{},void 0,(0,i.default)(c.default,{innerRef:z,type:"tel",name:"mobile",label:"".concat(k.value&&k.value?"":" (09xxxxxxxxx) ","شماره موبایل"),value:k.value,onChange:function(t){const e=t.target.value;e.length<=11?C(e):T(S(S({},k),{},{error:!1}))},error:k.error,align:"center",ltr:!0,kiosk:r,style:r?{fontSize:"32px"}:{}}),r?(0,i.default)(b.default,{keyboardRef:function(t){return L.current=t},layoutName:"default",layout:{default:["1 2 3","4 5 6","7 8 9","0 {backspace}"]},display:{"{backspace}":"حذف"},onChange:function(t){if(t.length<2||!t.startsWith("09"))return C("09"+t),void T({value:"09"+t,error:!1});t.length<=11&&t.startsWith("09")&&(C(t),T({value:t,error:!1}))}}):"",(0,i.default)(u.default,{block:!0,color:"primary",onClick:R,loading:o||I,style:r?{height:"70px",fontSize:"28px",marginTop:"16px"}:{},spanStyle:r?{fontSize:"28px"}:{}},void 0,x||(x=(0,i.default)(p.default,{name:"angle-left",align:"left"})),r?"ثبت":"ادامه")))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(21)),o=r(n(13)),a=n(0),s=n(69),l=n(105);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.default=function(t){const[e,n]=(0,a.useState)(!1),[r,o]=(0,a.useState)({value:t,error:""}),u=(0,a.useCallback)((function(t){o(""===t?{value:t,error:""}:function(e){return c(c({},e),{},{value:t})})}),[]),p=(0,a.useCallback)((0,i.default)((function*(){let t;const e=(0,s.toEnglishDigit)(r.value);if(e?(0,s.mobileValidator)(e)||(t="شماره موبایل معتبر نیست"):t="لطفا شماره موبایل خود را وارد کنید",t)return o((function(e){return c(c({},e),{},{error:t})})),{success:!1};n(!0);try{const{userExist:t}=yield(0,l.userCheckAccount)(e);return{success:!0,data:{mobile:e,userExist:t}}}catch(t){let e="";if(t.response){const{status:n,data:r}=t.response;switch(n){case 400:e="USER_DISABLED"===r.message?"شما مجاز به استفاده از برنامه نیستید ":"ثبت نام شما با مشکل همراه شد. لطفا دوباره تلاش کنید";break;case 403:e="شما بیش از اندازه درخواست فرستادید لطفا چند دقیقه دیگر تلاش نمایید";break;case 406:e="کاربر مورد نظر موجود یا فعال نیست";break;default:e="خطا در ثبت موبایل"}}else e="خطا در ثبت موبایل";return n(!1),o((function(t){return c(c({},t),{},{error:e})})),{success:!1}}})),[r]);return{submitting:e,input:r,onChange:u,onSubmit:p,setInput:o}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Textarea=e.StyledInput=e.StyledIcon=e.SelectWrapper=e.RadioLabel=e.RadioCheckboxWrapper=e.RadioCheckbox=e.LabelText=e.Label=e.Hint=e.FieldGroup=e.CheckboxLabel=void 0;var r=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),i=n(42);e.FieldGroup=r.default.div.withConfig({componentId:"sc-1jmah4i-0"})(["position:relative;margin-bottom:30px;&:after{content:'';clear:both;display:block;}"," .loader{opacity:0;}&.loading{.loader{opacity:1;}.icon{transform:scale(0);}}"],(function(t){return t.align&&(0,r.css)(["text-align:",";"],t.align)}));const o=e.StyledInput=r.default.input.withConfig({componentId:"sc-1jmah4i-1"})(["float:right;width:100%;height:45px;font-size:",";padding:5px;direction:rtl;background-color:",";appearance:none;border-radius:5px;[dir='ltr'] &{direction:ltr;}"," "," "," "," "," &[disabled]{outline:none;user-select:none;color:",";opacity:1;-webkit-text-fill-color:",";~ label{color:"," !important;}}"," &:focus + label,&:not(:placeholder-shown) + label{",";top:",";font-size:",";color:",";",";",";}"],(function(t){return(0,i.rem)(16,t.theme.fontSize.base)}),(function(t){return t.theme.color.fgColor}),(function(t){return t.$outline?(0,r.css)(["border:1px solid ",";"],t.theme.color.grayLight):(0,r.css)(["border:none;border-bottom:1px solid ",";"],t.theme.color.grayLight)}),(function(t){return t.$error&&(0,r.css)(["border-color:",";color:",";"],t.theme.color.danger,t.theme.color.danger)}),(function(t){return t.$done&&(0,r.css)(["border-color:",";color:",";}"],t.theme.color.success,t.theme.color.success)}),(function(t){return t.align?(0,r.css)(["text-align:",";"],t.align):(0,r.css)(["text-align:right;[dir='ltr'] &{text-align:left;}"])}),(function(t){return t.$ltr&&(0,r.css)(["direction:ltr;"])}),(function(t){return t.theme.color.grayMedium}),(function(t){return t.theme.color.grayMedium}),(function(t){return t.theme.color.grayMedium}),(function(t){return!t.showPlaceholder&&(0,r.css)(["&::placeholder{color:transparent;}"])}),(function(t){return t.$outline&&(0,r.css)(["background-color:#fff;padding:0 8px;width:auto;"])}),(function(t){return t.kiosk?"-20px":"-10px"}),(function(t){return(0,i.rem)(11,t.theme.fontSize.base)}),(function(t){return t.theme.color.secondary}),(function(t){return t.$done&&(0,r.css)(["color:",";"],t.theme.color.success)}),(function(t){return t.$error&&(0,r.css)(["color:",";"],t.theme.color.danger)}));e.Textarea=(0,r.default)(o).withConfig({componentId:"sc-1jmah4i-2"})(["min-height:80px;resize:vertical;padding-top:10px;"]),e.Label=r.default.label.withConfig({componentId:"sc-1jmah4i-3"})(["position:absolute;top:6px;pointer-events:none;user-select:none;display:block;height:19px;white-space:nowrap;transition:",";right:",";z-index:2;[dir='ltr'] &{left:",";right:auto;}"," color:",";",";",";"," &:before{position:absolute;left:0;height:2px;bottom:0;width:100%;content:'';transform:scaleX(0);transition:",";background:",";",";",";}"],(function(t){return t.theme.transition.all}),(function(t){return t.icon?"35px":"5px"}),(function(t){return t.icon?"35px":"5px"}),(function(t){return t.$outline&&(0,r.css)(["margin:0 5px;"])}),(function(t){return(0,i.rgba)(t.theme.color.textColor,.4)}),(function(t){return t.$done&&(0,r.css)(["color:",";"],t.theme.color.success)}),(function(t){return t.$error&&(0,r.css)(["color:",";"],t.theme.color.danger)}),(function(t){return"center"===t.align?(0,r.css)(["text-align:center;left:50%;transform:translateX(-50%);right:auto;"]):(0,r.css)(["text-align:right;"])}),(function(t){return t.theme.transition.all}),(function(t){return t.theme.color.secondary}),(function(t){return t.$done&&(0,r.css)(["background-color:",";"],t.theme.color.success)}),(function(t){return t.$error&&(0,r.css)(["background-color:",";"],t.theme.color.danger)})),e.Hint=r.default.span.withConfig({componentId:"sc-1jmah4i-4"})(["font-size:",";position:absolute;top:100%;right:0;left:0;padding:5px 5px 0;color:",";direction:rtl;[dir='ltr'] &{direction:ltr;}",""],(function(t){return(0,i.rem)(12,t.theme.fontSize.base)}),(function(t){return t.theme.color["error"===t.type?"danger":"grayMedium"]}),(function(t){return"center"===t.align?(0,r.css)(["text-align:center;"]):(0,r.css)(["text-align:",";"],t.align)})),e.StyledIcon=r.default.div.withConfig({componentId:"sc-1jmah4i-5"})([".icon{position:absolute;left:5px;padding:2px;top:50%;font-size:",";margin-top:-14px;transition:transform 400ms ",";background-color:",";transform:scale(",");"," "," ","}"],(function(t){return(0,i.rem)(18,t.theme.fontSize.base)}),(function(t){return t.theme.transition.custom}),(function(t){return t.theme.color.fgColor}),(function(t){return t.$done||t.$error||t.$icon?1:0}),(function(t){return t.disabled&&(0,r.css)(["color:",";"],t.theme.color.grayMedium)}),(function(t){return t.$done&&(0,r.css)(["color:",";"],t.theme.color.success)}),(function(t){return t.$error&&(0,r.css)(["color:",";"],t.theme.color.danger)})),e.RadioCheckboxWrapper=r.default.div.withConfig({componentId:"sc-1jmah4i-6"})(["position:relative;display:flex;&:hover{label{span{border-color:",";}}}"],(function(t){return t.theme.color.primary})),e.RadioCheckbox=r.default.input.withConfig({componentId:"sc-1jmah4i-7"})(["position:absolute;opacity:0;&:checked{& + label{span{border-color:",";&:after{transform:scale(1);opacity:1;background-color:",";}}}}"],(function(t){return t.theme.color.primary}),(function(t){return t.theme.color.primary})),e.RadioLabel=r.default.label.withConfig({componentId:"sc-1jmah4i-8"})(["cursor:pointer;display:flex;align-items:center;user-select:none;span{margin-left:10px;position:relative;width:18px;height:18px;border-radius:50%;border:2px solid ",";transition:border 400ms ",";&:after{position:absolute;top:50%;left:50%;margin-top:-4px;margin-left:-4px;width:8px;height:8px;content:'';opacity:0;transform:scale(0);border-radius:50%;transition:",";}}"],(function(t){return t.theme.color.grayLight}),(function(t){return t.theme.transition.custom}),(function(t){return t.theme.transition.all})),e.CheckboxLabel=r.default.label.withConfig({componentId:"sc-1jmah4i-9"})(["cursor:pointer;user-select:none;span{float:right;margin-left:10px;position:relative;width:18px;height:18px;border-radius:",";border:2px solid ",";&:after{content:'';position:absolute;top:-2px;left:-2px;width:18px;height:18px;opacity:0;transform:scale(0);background-image:url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmVyc2lvbj0iMS4xIgogICB2aWV3Qm94PSIwIDAgMSAxIgogICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWluWU1pbiBtZWV0Ij4KICA8cGF0aAogICAgIGQ9Ik0gMC4wNDAzODA1OSwwLjYyNjc3NjcgMC4xNDY0NDY2MSwwLjUyMDcxMDY4IDAuNDI5Mjg5MzIsMC44MDM1NTMzOSAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IE0gMC4yMTcxNTcyOSwwLjgwMzU1MzM5IDAuODUzNTUzMzksMC4xNjcxNTcyOSAwLjk1OTYxOTQxLDAuMjczMjIzMyAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IgogICAgIGlkPSJyZWN0Mzc4MCIKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K');background-position:50%;background-repeat:no-repeat;background-size:12px;transition:",";border-radius:",";}}"],(function(t){return"radio"===t.type?"50%":"5px"}),(function(t){return t.theme.color.grayLight}),(function(t){return t.theme.transition.all}),(function(t){return"radio"===t.type?"50%":"5px"})),e.LabelText=r.default.div.withConfig({componentId:"sc-1jmah4i-10"})(["overflow:hidden;flex:1;small{font-weight:bold;}div{font-size:90%;font-weight:bold;}"]),e.SelectWrapper=r.default.div.withConfig({componentId:"sc-1jmah4i-11"})(["position:relative;min-width:80px;min-height:45px;select{padding-left:25px;}.icon{position:absolute;font-size:",";left:5px;top:50%;transform:translateY(-50%);}"],(function(t){return(0,i.rem)(8,t.theme.fontSize.base)}))},function(t,e,n){var r;t.exports=(r=n(0),function(){var t={442:function(t){"use strict";t.exports=r},548:function(t){t.exports=function(){"use strict";var t={34:function(t,e,n){var r=n(4901);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},81:function(t,e,n){var r=n(9565),i=n(9306),o=n(8551),a=n(6823),s=n(851),l=TypeError;t.exports=function(t,e){var n=arguments.length<2?s(t):e;if(i(n))return o(r(n,t));throw new l(a(t)+" is not iterable")}},235:function(t,e,n){var r=n(9213).forEach,i=n(4598)("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},283:function(t,e,n){var r=n(9504),i=n(9039),o=n(4901),a=n(9297),s=n(3724),l=n(350).CONFIGURABLE,u=n(3706),c=n(1181),p=c.enforce,d=c.get,h=String,f=Object.defineProperty,m=r("".slice),g=r("".replace),y=r([].join),v=s&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),_=String(String).split("String"),b=t.exports=function(t,e,n){"Symbol("===m(h(e),0,7)&&(e="["+g(h(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||l&&t.name!==e)&&(s?f(t,"name",{value:e,configurable:!0}):t.name=e),v&&n&&a(n,"arity")&&t.length!==n.arity&&f(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=p(t);return a(r,"source")||(r.source=y(_,"string"==typeof e?e:"")),t};Function.prototype.toString=b((function(){return o(this)&&d(this).source||u(this)}),"toString")},298:function(t,e,n){var r=n(2195),i=n(5397),o=n(8480).f,a=n(7680),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"===r(t)?function(t){try{return o(t)}catch(t){return a(s)}}(t):o(i(t))}},350:function(t,e,n){var r=n(3724),i=n(9297),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,u=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},397:function(t,e,n){var r=n(7751);t.exports=r("document","documentElement")},421:function(t){t.exports={}},511:function(t,e,n){var r=n(9167),i=n(9297),o=n(1951),a=n(4913).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},566:function(t,e,n){var r=n(9504),i=n(9306),o=n(34),a=n(9297),s=n(7680),l=n(616),u=Function,c=r([].concat),p=r([].join),d={};t.exports=l?u.bind:function(t){var e=i(this),n=e.prototype,r=s(arguments,1),l=function(){var n=c(r,s(arguments));return this instanceof l?function(t,e,n){if(!a(d,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";d[e]=u("C,a","return new C("+p(r,",")+")")}return d[e](t,n)}(e,n.length,n):e.apply(t,n)};return o(n)&&(l.prototype=n),l}},597:function(t,e,n){var r=n(9039),i=n(8227),o=n(9519),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},616:function(t,e,n){var r=n(9039);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},655:function(t,e,n){var r=n(6955),i=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},687:function(t,e,n){var r=n(4913).f,i=n(9297),o=n(8227)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!i(t,o)&&r(t,o,{configurable:!0,value:e})}},706:function(t,e,n){var r=n(350).PROPER,i=n(9039),o=n(7452);t.exports=function(t){return i((function(){return!!o[t]()||"​᠎"!=="​᠎"[t]()||r&&o[t].name!==t}))}},739:function(t,e,n){var r=n(6518),i=n(9039),o=n(8981),a=n(2777);r({target:"Date",proto:!0,arity:1,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=o(this),n=a(e,"number");return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},741:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},744:function(t,e,n){var r=n(9565),i=n(9504),o=n(9228),a=n(8551),s=n(34),l=n(7750),u=n(2293),c=n(7829),p=n(8014),d=n(655),h=n(5966),f=n(6682),m=n(8429),g=n(9039),y=m.UNSUPPORTED_Y,v=Math.min,_=i([].push),b=i("".slice),x=!g((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),w="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;o("split",(function(t,e,n){var i="0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:r(e,this,t,n)}:e;return[function(e,n){var o=l(this),a=s(e)?h(e,t):void 0;return a?r(a,e,o,n):r(i,d(o),e,n)},function(t,r){var o=a(this),s=d(t);if(!w){var l=n(i,o,s,r,i!==e);if(l.done)return l.value}var h=u(o,RegExp),m=o.unicode,g=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(y?"g":"y"),x=new h(y?"^(?:"+o.source+")":o,g),k=void 0===r?4294967295:r>>>0;if(0===k)return[];if(0===s.length)return null===f(x,s)?[s]:[];for(var S=0,C=0,E=[];C<s.length;){x.lastIndex=y?0:C;var T,I=f(x,y?b(s,C):s);if(null===I||(T=v(p(x.lastIndex+(y?C:0)),s.length))===S)C=c(s,C,m);else{if(_(E,b(s,S,C)),E.length===k)return E;for(var M=1;M<=I.length-1;M++)if(_(E,I[M]),E.length===k)return E;C=S=T}}return _(E,b(s,S)),E}]}),w||!x,y)},757:function(t,e,n){var r=n(7751),i=n(4901),o=n(1625),a=n(7040),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,s(t))}},788:function(t,e,n){var r=n(34),i=n(2195),o=n(8227)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"===i(t))}},825:function(t,e,n){var r=n(6518),i=n(7751),o=n(8745),a=n(566),s=n(5548),l=n(8551),u=n(34),c=n(2360),p=n(9039),d=i("Reflect","construct"),h=Object.prototype,f=[].push,m=p((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),g=!p((function(){d((function(){}))})),y=m||g;r({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(t,e){s(t),l(e);var n=arguments.length<3?t:s(arguments[2]);if(g&&!m)return d(t,e,n);if(t===n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return o(f,r,e),new(o(a,t,r))}var i=n.prototype,p=c(u(i)?i:h),y=o(t,p,e);return u(y)?y:p}})},851:function(t,e,n){var r=n(6955),i=n(5966),o=n(4117),a=n(6269),s=n(8227)("iterator");t.exports=function(t){if(!o(t))return i(t,s)||i(t,"@@iterator")||a[r(t)]}},926:function(t,e,n){var r=n(9306),i=n(8981),o=n(7055),a=n(6198),s=TypeError,l="Reduce of empty array with no initial value",u=function(t){return function(e,n,u,c){var p=i(e),d=o(p),h=a(p);if(r(n),0===h&&u<2)throw new s(l);var f=t?h-1:0,m=t?-1:1;if(u<2)for(;;){if(f in d){c=d[f],f+=m;break}if(f+=m,t?f<0:h<=f)throw new s(l)}for(;t?f>=0:h>f;f+=m)f in d&&(c=n(c,d[f],f,p));return c}};t.exports={left:u(!1),right:u(!0)}},1034:function(t,e,n){var r=n(9565),i=n(9297),o=n(1625),a=n(5213),s=n(7979),l=RegExp.prototype;t.exports=a.correct?function(t){return t.flags}:function(t){return a.correct||!o(l,t)||i(t,"flags")?t.flags:r(s,t)}},1056:function(t,e,n){var r=n(4913).f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},1072:function(t,e,n){var r=n(1828),i=n(8727);t.exports=Object.keys||function(t){return r(t,i)}},1088:function(t,e,n){var r=n(6518),i=n(9565),o=n(6395),a=n(350),s=n(4901),l=n(3994),u=n(2787),c=n(2967),p=n(687),d=n(6699),h=n(6840),f=n(8227),m=n(6269),g=n(7657),y=a.PROPER,v=a.CONFIGURABLE,_=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,x=f("iterator"),w="keys",k="values",S="entries",C=function(){return this};t.exports=function(t,e,n,a,f,g,E){l(n,e,a);var T,I,M,A=function(t){if(t===f&&L)return L;if(!b&&t&&t in D)return D[t];switch(t){case w:case k:case S:return function(){return new n(this,t)}}return function(){return new n(this)}},O=e+" Iterator",P=!1,D=t.prototype,z=D[x]||D["@@iterator"]||f&&D[f],L=!b&&z||A(f),R="Array"===e&&D.entries||z;if(R&&(T=u(R.call(new t)))!==Object.prototype&&T.next&&(o||u(T)===_||(c?c(T,_):s(T[x])||h(T,x,C)),p(T,O,!0,!0),o&&(m[O]=C)),y&&f===k&&z&&z.name!==k&&(!o&&v?d(D,"name",k):(P=!0,L=function(){return i(z,this)})),f)if(I={values:A(k),keys:g?L:A(w),entries:A(S)},E)for(M in I)(b||P||!(M in D))&&h(D,M,I[M]);else r({target:e,proto:!0,forced:b||P},I);return o&&!E||D[x]===L||h(D,x,L,{name:f}),m[e]=L,I}},1181:function(t,e,n){var r,i,o,a=n(8622),s=n(4576),l=n(34),u=n(6699),c=n(9297),p=n(7629),d=n(6119),h=n(421),f="Object already initialized",m=s.TypeError,g=s.WeakMap;if(a||p.state){var y=p.state||(p.state=new g);y.get=y.get,y.has=y.has,y.set=y.set,r=function(t,e){if(y.has(t))throw new m(f);return e.facade=t,y.set(t,e),e},i=function(t){return y.get(t)||{}},o=function(t){return y.has(t)}}else{var v=d("state");h[v]=!0,r=function(t,e){if(c(t,v))throw new m(f);return e.facade=t,u(t,v,e),e},i=function(t){return c(t,v)?t[v]:{}},o=function(t){return c(t,v)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=i(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return n}}}},1240:function(t,e,n){var r=n(9504);t.exports=r(1.1.valueOf)},1278:function(t,e,n){var r=n(6518),i=n(3724),o=n(5031),a=n(5397),s=n(7347),l=n(4659);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),i=s.f,u=o(r),c={},p=0;u.length>p;)void 0!==(n=i(r,e=u[p++]))&&l(c,e,n);return c}})},1291:function(t,e,n){var r=n(741);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},1296:function(t,e,n){var r=n(4495);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},1436:function(t,e,n){var r=n(8227)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},1469:function(t,e,n){var r=n(7433);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},1480:function(t,e,n){var r=n(6518),i=n(9039),o=n(298).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},1510:function(t,e,n){var r=n(6518),i=n(7751),o=n(9297),a=n(655),s=n(5745),l=n(1296),u=s("string-to-symbol-registry"),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{for:function(t){var e=a(t);if(o(u,e))return u[e];var n=i("Symbol")(e);return u[e]=n,c[n]=e,n}})},1625:function(t,e,n){var r=n(9504);t.exports=r({}.isPrototypeOf)},1699:function(t,e,n){var r=n(6518),i=n(9504),o=n(5749),a=n(7750),s=n(655),l=n(1436),u=i("".indexOf);r({target:"String",proto:!0,forced:!l("includes")},{includes:function(t){return!!~u(s(a(this)),s(o(t)),arguments.length>1?arguments[1]:void 0)}})},1761:function(t,e,n){var r=n(9565),i=n(9504),o=n(9228),a=n(8551),s=n(34),l=n(8014),u=n(655),c=n(7750),p=n(5966),d=n(7829),h=n(1034),f=n(6682),m=i("".indexOf);o("match",(function(t,e,n){return[function(e){var n=c(this),i=s(e)?p(e,t):void 0;return i?r(i,e,n):new RegExp(e)[t](u(n))},function(t){var r=a(this),i=u(t),o=n(e,r,i);if(o.done)return o.value;var s=u(h(r));if(-1===m(s,"g"))return f(r,i);var c=-1!==m(s,"u");r.lastIndex=0;for(var p,g=[],y=0;null!==(p=f(r,i));){var v=u(p[0]);g[y]=v,""===v&&(r.lastIndex=d(i,l(r.lastIndex),c)),y++}return 0===y?null:g}]}))},1828:function(t,e,n){var r=n(9504),i=n(9297),o=n(5397),a=n(9617).indexOf,s=n(421),l=r([].push);t.exports=function(t,e){var n,r=o(t),u=0,c=[];for(n in r)!i(s,n)&&i(r,n)&&l(c,n);for(;e.length>u;)i(r,n=e[u++])&&(~a(c,n)||l(c,n));return c}},1951:function(t,e,n){var r=n(8227);e.f=r},2008:function(t,e,n){var r=n(6518),i=n(9213).filter;r({target:"Array",proto:!0,forced:!n(597)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},2010:function(t,e,n){var r=n(3724),i=n(350).EXISTS,o=n(9504),a=n(2106),s=Function.prototype,l=o(s.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,c=o(u.exec);r&&!i&&a(s,"name",{configurable:!0,get:function(){try{return c(u,l(this))[1]}catch(t){return""}}})},2062:function(t,e,n){var r=n(6518),i=n(9213).map;r({target:"Array",proto:!0,forced:!n(597)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},2087:function(t,e,n){var r=n(34),i=Math.floor;t.exports=Number.isInteger||function(t){return!r(t)&&isFinite(t)&&i(t)===t}},2106:function(t,e,n){var r=n(283),i=n(4913);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),i.f(t,e,n)}},2140:function(t,e,n){var r={};r[n(8227)("toStringTag")]="z",t.exports="[object z]"===String(r)},2195:function(t,e,n){var r=n(9504),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},2211:function(t,e,n){var r=n(9039);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},2259:function(t,e,n){n(511)("iterator")},2293:function(t,e,n){var r=n(8551),i=n(5548),o=n(4117),a=n(8227)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||o(n=r(s)[a])?e:i(n)}},2360:function(t,e,n){var r,i=n(8551),o=n(6801),a=n(8727),s=n(421),l=n(397),u=n(4055),c=n(6119),p="prototype",d="script",h=c("IE_PROTO"),f=function(){},m=function(t){return"<script>"+t+"</"+d+">"},g=function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e;y="undefined"!=typeof document?document.domain&&r?g(r):((e=u("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(m("document.F=Object")),t.close(),t.F):g(r);for(var n=a.length;n--;)delete y[p][a[n]];return y()};s[h]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f[p]=i(t),n=new f,f[p]=null,n[h]=t):n=y(),void 0===e?n:o.f(n,e)}},2478:function(t,e,n){var r=n(9504),i=n(8981),o=Math.floor,a=r("".charAt),s=r("".replace),l=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,p,d){var h=n+t.length,f=r.length,m=c;return void 0!==p&&(p=i(p),m=u),s(d,m,(function(i,s){var u;switch(a(s,0)){case"$":return"$";case"&":return t;case"`":return l(e,0,n);case"'":return l(e,h);case"<":u=p[l(s,1,-1)];break;default:var c=+s;if(0===c)return i;if(c>f){var d=o(c/10);return 0===d?i:d<=f?void 0===r[d-1]?a(s,1):r[d-1]+a(s,1):i}u=r[c-1]}return void 0===u?"":u}))}},2529:function(t){t.exports=function(t,e){return{value:t,done:e}}},2551:function(t,e,n){var r=n(6395),i=n(4576),o=n(9039),a=n(3607);t.exports=r||!o((function(){if(!(a&&a<535)){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete i[t]}}))},2637:function(t,e,n){n(6518)({target:"Number",stat:!0},{isInteger:n(2087)})},2675:function(t,e,n){n(6761),n(1510),n(7812),n(3110),n(9773)},2712:function(t,e,n){var r=n(6518),i=n(926).left,o=n(4598),a=n(9519);r({target:"Array",proto:!0,forced:!n(6193)&&a>79&&a<83||!o("reduce")},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},2762:function(t,e,n){var r=n(6518),i=n(3802).trim;r({target:"String",proto:!0,forced:n(706)("trim")},{trim:function(){return i(this)}})},2777:function(t,e,n){var r=n(9565),i=n(34),o=n(757),a=n(5966),s=n(4270),l=n(8227),u=TypeError,c=l("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,l=a(t,c);if(l){if(void 0===e&&(e="default"),n=r(l,t,e),!i(n)||o(n))return n;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},2787:function(t,e,n){var r=n(9297),i=n(4901),o=n(8981),a=n(6119),s=n(2211),l=a("IE_PROTO"),u=Object,c=u.prototype;t.exports=s?u.getPrototypeOf:function(t){var e=o(t);if(r(e,l))return e[l];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof u?c:null}},2796:function(t,e,n){var r=n(9039),i=n(4901),o=/#|\.prototype\./,a=function(t,e){var n=l[s(t)];return n===c||n!==u&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";t.exports=a},2839:function(t,e,n){var r=n(4576).navigator,i=r&&r.userAgent;t.exports=i?String(i):""},2892:function(t,e,n){var r=n(6518),i=n(6395),o=n(3724),a=n(4576),s=n(9167),l=n(9504),u=n(2796),c=n(9297),p=n(3167),d=n(1625),h=n(757),f=n(2777),m=n(9039),g=n(8480).f,y=n(7347).f,v=n(4913).f,_=n(1240),b=n(3802).trim,x="Number",w=a[x],k=s[x],S=w.prototype,C=a.TypeError,E=l("".slice),T=l("".charCodeAt),I=function(t){var e,n,r,i,o,a,s,l,u=f(t,"number");if(h(u))throw new C("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=b(u),43===(e=T(u,0))||45===e){if(88===(n=T(u,2))||120===n)return NaN}else if(48===e){switch(T(u,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(a=(o=E(u,2)).length,s=0;s<a;s++)if((l=T(o,s))<48||l>i)return NaN;return parseInt(o,r)}return+u},M=u(x,!w(" 0o1")||!w("0b1")||w("+0x1")),A=function(t){var e,n=arguments.length<1?0:w(function(t){var e=f(t,"number");return"bigint"==typeof e?e:I(e)}(t));return d(S,e=this)&&m((function(){_(e)}))?p(Object(n),this,A):n};A.prototype=S,M&&!i&&(S.constructor=A),r({global:!0,constructor:!0,wrap:!0,forced:M},{Number:A});var O=function(t,e){for(var n,r=o?g(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)c(e,n=r[i])&&!c(t,n)&&v(t,n,y(e,n))};i&&k&&O(s[x],k),(M||i)&&O(s[x],w)},2953:function(t,e,n){var r=n(4576),i=n(7400),o=n(9296),a=n(3792),s=n(6699),l=n(687),u=n(8227)("iterator"),c=a.values,p=function(t,e){if(t){if(t[u]!==c)try{s(t,u,c)}catch(e){t[u]=c}if(l(t,e,!0),i[e])for(var n in a)if(t[n]!==a[n])try{s(t,n,a[n])}catch(e){t[n]=a[n]}}};for(var d in i)p(r[d]&&r[d].prototype,d);p(o,"DOMTokenList")},2967:function(t,e,n){var r=n(6706),i=n(34),o=n(7750),a=n(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return o(n),a(r),i(n)?(e?t(n,r):n.__proto__=r,n):n}}():void 0)},3110:function(t,e,n){var r=n(6518),i=n(7751),o=n(8745),a=n(9565),s=n(9504),l=n(9039),u=n(4901),c=n(757),p=n(7680),d=n(6933),h=n(4495),f=String,m=i("JSON","stringify"),g=s(/./.exec),y=s("".charAt),v=s("".charCodeAt),_=s("".replace),b=s(1.1.toString),x=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,k=/^[\uDC00-\uDFFF]$/,S=!h||l((function(){var t=i("Symbol")("stringify detection");return"[null]"!==m([t])||"{}"!==m({a:t})||"{}"!==m(Object(t))})),C=l((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),E=function(t,e){var n=p(arguments),r=d(e);if(u(r)||void 0!==t&&!c(t))return n[1]=function(t,e){if(u(r)&&(e=a(r,this,f(t),e)),!c(e))return e},o(m,null,n)},T=function(t,e,n){var r=y(n,e-1),i=y(n,e+1);return g(w,t)&&!g(k,i)||g(k,t)&&!g(w,r)?"\\u"+b(v(t,0),16):t};m&&r({target:"JSON",stat:!0,arity:3,forced:S||C},{stringify:function(t,e,n){var r=p(arguments),i=o(S?E:m,null,r);return C&&"string"==typeof i?_(i,x,T):i}})},3167:function(t,e,n){var r=n(4901),i=n(34),o=n(2967);t.exports=function(t,e,n){var a,s;return o&&r(a=e.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(t,s),t}},3179:function(t,e,n){var r=n(2140),i=n(6955);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},3392:function(t,e,n){var r=n(9504),i=0,o=Math.random(),a=r(1.1.toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},3418:function(t,e,n){var r=n(6518),i=n(7916);r({target:"Array",stat:!0,forced:!n(4428)((function(t){Array.from(t)}))},{from:i})},3500:function(t,e,n){var r=n(4576),i=n(7400),o=n(9296),a=n(235),s=n(6699),l=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(e){t.forEach=a}};for(var u in i)i[u]&&l(r[u]&&r[u].prototype);l(o)},3506:function(t,e,n){var r=n(3925),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o("Can't set "+i(t)+" as a prototype")}},3517:function(t,e,n){var r=n(9504),i=n(9039),o=n(4901),a=n(6955),s=n(7751),l=n(3706),u=function(){},c=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=r(p.exec),h=!p.test(u),f=function(t){if(!o(t))return!1;try{return c(u,[],t),!0}catch(t){return!1}},m=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!d(p,l(t))}catch(t){return!0}};m.sham=!0,t.exports=!c||i((function(){var t;return f(f.call)||!f(Object)||!f((function(){t=!0}))||t}))?m:f},3607:function(t,e,n){var r=n(2839).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},3635:function(t,e,n){var r=n(9039),i=n(4576).RegExp;t.exports=r((function(){var t=i(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},3640:function(t,e,n){var r=n(8551),i=n(4270),o=TypeError;t.exports=function(t){if(r(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new o("Incorrect hint");return i(this,t)}},3706:function(t,e,n){var r=n(9504),i=n(4901),o=n(7629),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},3709:function(t,e,n){var r=n(2839).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},3717:function(t,e){e.f=Object.getOwnPropertySymbols},3724:function(t,e,n){var r=n(9039);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3763:function(t,e,n){var r=n(2839);t.exports=/MSIE|Trident/.test(r)},3792:function(t,e,n){var r=n(5397),i=n(6469),o=n(6269),a=n(1181),s=n(4913).f,l=n(1088),u=n(2529),c=n(6395),p=n(3724),d="Array Iterator",h=a.set,f=a.getterFor(d);t.exports=l(Array,"Array",(function(t,e){h(this,{type:d,target:r(t),index:0,kind:e})}),(function(){var t=f(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=null,u(void 0,!0);switch(t.kind){case"keys":return u(n,!1);case"values":return u(e[n],!1)}return u([n,e[n]],!1)}),"values");var m=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!c&&p&&"values"!==m.name)try{s(m,"name",{value:"values"})}catch(t){}},3802:function(t,e,n){var r=n(9504),i=n(7750),o=n(655),a=n(7452),s=r("".replace),l=RegExp("^["+a+"]+"),u=RegExp("(^|[^"+a+"])["+a+"]+$"),c=function(t){return function(e){var n=o(i(e));return 1&t&&(n=s(n,l,"")),2&t&&(n=s(n,u,"$1")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},3851:function(t,e,n){var r=n(6518),i=n(9039),o=n(5397),a=n(7347).f,s=n(3724);r({target:"Object",stat:!0,forced:!s||i((function(){a(1)})),sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},3925:function(t,e,n){var r=n(34);t.exports=function(t){return r(t)||null===t}},3994:function(t,e,n){var r=n(7657).IteratorPrototype,i=n(2360),o=n(6980),a=n(687),s=n(6269),l=function(){return this};t.exports=function(t,e,n,u){var c=e+" Iterator";return t.prototype=i(r,{next:o(+!u,n)}),a(t,c,!1,!0),s[c]=l,t}},4055:function(t,e,n){var r=n(4576),i=n(34),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},4117:function(t){t.exports=function(t){return null==t}},4209:function(t,e,n){var r=n(8227),i=n(6269),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},4213:function(t,e,n){var r=n(3724),i=n(9504),o=n(9565),a=n(9039),s=n(1072),l=n(3717),u=n(8773),c=n(8981),p=n(7055),d=Object.assign,h=Object.defineProperty,f=i([].concat);t.exports=!d||a((function(){if(r&&1!==d({b:1},d(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!==d({},t)[n]||s(d({},e)).join("")!==i}))?function(t,e){for(var n=c(t),i=arguments.length,a=1,d=l.f,h=u.f;i>a;)for(var m,g=p(arguments[a++]),y=d?f(s(g),d(g)):s(g),v=y.length,_=0;v>_;)m=y[_++],r&&!o(h,g,m)||(n[m]=g[m]);return n}:d},4215:function(t,e,n){var r=n(4576),i=n(2839),o=n(2195),a=function(t){return i.slice(0,t.length)===t};t.exports=a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===o(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"},4270:function(t,e,n){var r=n(9565),i=n(4901),o=n(34),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&i(n=t.toString)&&!o(s=r(n,t)))return s;if(i(n=t.valueOf)&&!o(s=r(n,t)))return s;if("string"!==e&&i(n=t.toString)&&!o(s=r(n,t)))return s;throw new a("Can't convert object to primitive value")}},4376:function(t,e,n){var r=n(2195);t.exports=Array.isArray||function(t){return"Array"===r(t)}},4423:function(t,e,n){var r=n(6518),i=n(9617).includes,o=n(9039),a=n(6469);r({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},4428:function(t,e,n){var r=n(8227)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!i)return!1}catch(t){return!1}var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},4488:function(t,e,n){var r=n(7680),i=Math.floor,o=function(t,e){var n=t.length;if(n<8)for(var a,s,l=1;l<n;){for(s=l,a=t[l];s&&e(t[s-1],a)>0;)t[s]=t[--s];s!==l++&&(t[s]=a)}else for(var u=i(n/2),c=o(r(t,0,u),e),p=o(r(t,u),e),d=c.length,h=p.length,f=0,m=0;f<d||m<h;)t[f+m]=f<d&&m<h?e(c[f],p[m])<=0?c[f++]:p[m++]:f<d?c[f++]:p[m++];return t};t.exports=o},4495:function(t,e,n){var r=n(9519),i=n(9039),o=n(4576).String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},4527:function(t,e,n){var r=n(3724),i=n(4376),o=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(i(t)&&!a(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4554:function(t,e,n){var r=n(6518),i=n(8981),o=n(5610),a=n(1291),s=n(6198),l=n(4527),u=n(6837),c=n(1469),p=n(4659),d=n(4606),h=n(597)("splice"),f=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!h},{splice:function(t,e){var n,r,h,g,y,v,_=i(this),b=s(_),x=o(t,b),w=arguments.length;for(0===w?n=r=0:1===w?(n=0,r=b-x):(n=w-2,r=m(f(a(e),0),b-x)),u(b+n-r),h=c(_,r),g=0;g<r;g++)(y=x+g)in _&&p(h,g,_[y]);if(h.length=r,n<r){for(g=x;g<b-r;g++)v=g+n,(y=g+r)in _?_[v]=_[y]:d(_,v);for(g=b;g>b-r+n;g--)d(_,g-1)}else if(n>r)for(g=b-r;g>x;g--)v=g+n-1,(y=g+r-1)in _?_[v]=_[y]:d(_,v);for(g=0;g<n;g++)_[g+x]=arguments[g+2];return l(_,b-r+n),h}})},4576:function(t,e,n){var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4598:function(t,e,n){var r=n(9039);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},4606:function(t,e,n){var r=n(6823),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw new i("Cannot delete property "+r(e)+" of "+r(t))}},4659:function(t,e,n){var r=n(3724),i=n(4913),o=n(6980);t.exports=function(t,e,n){r?i.f(t,e,o(0,n)):t[e]=n}},4782:function(t,e,n){var r=n(6518),i=n(4376),o=n(3517),a=n(34),s=n(5610),l=n(6198),u=n(5397),c=n(4659),p=n(8227),d=n(597),h=n(7680),f=d("slice"),m=p("species"),g=Array,y=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var n,r,p,d=u(this),f=l(d),v=s(t,f),_=s(void 0===e?f:e,f);if(i(d)&&(n=d.constructor,(o(n)&&(n===g||i(n.prototype))||a(n)&&null===(n=n[m]))&&(n=void 0),n===g||void 0===n))return h(d,v,_);for(r=new(void 0===n?g:n)(y(_-v,0)),p=0;v<_;v++,p++)v in d&&c(r,p,d[v]);return r.length=p,r}})},4864:function(t,e,n){var r=n(3724),i=n(4576),o=n(9504),a=n(2796),s=n(3167),l=n(6699),u=n(2360),c=n(8480).f,p=n(1625),d=n(788),h=n(655),f=n(1034),m=n(8429),g=n(1056),y=n(6840),v=n(9039),_=n(9297),b=n(1181).enforce,x=n(7633),w=n(8227),k=n(3635),S=n(8814),C=w("match"),E=i.RegExp,T=E.prototype,I=i.SyntaxError,M=o(T.exec),A=o("".charAt),O=o("".replace),P=o("".indexOf),D=o("".slice),z=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,L=/a/g,R=/a/g,W=new E(L)!==L,B=m.MISSED_STICKY,j=m.UNSUPPORTED_Y;if(a("RegExp",r&&(!W||B||k||S||v((function(){return R[C]=!1,E(L)!==L||E(R)===R||"/a/i"!==String(E(L,"i"))}))))){for(var N=function(t,e){var n,r,i,o,a,c,m=p(T,this),g=d(t),y=void 0===e,v=[],x=t;if(!m&&g&&y&&t.constructor===N)return t;if((g||p(T,t))&&(t=t.source,y&&(e=f(x))),t=void 0===t?"":h(t),e=void 0===e?"":h(e),x=t,k&&"dotAll"in L&&(r=!!e&&P(e,"s")>-1)&&(e=O(e,/s/g,"")),n=e,B&&"sticky"in L&&(i=!!e&&P(e,"y")>-1)&&j&&(e=O(e,/y/g,"")),S&&(t=(o=function(t){for(var e,n=t.length,r=0,i="",o=[],a=u(null),s=!1,l=!1,c=0,p="";r<=n;r++){if("\\"===(e=A(t,r)))e+=A(t,++r);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:if(i+=e,"?:"===D(t,r+1,r+3))continue;M(z,D(t,r+1))&&(r+=2,l=!0),c++;continue;case">"===e&&l:if(""===p||_(a,p))throw new I("Invalid capture group name");a[p]=!0,o[o.length]=[p,c],l=!1,p="";continue}l?p+=e:i+=e}return[i,o]}(t))[0],v=o[1]),a=s(E(t,e),m?this:T,N),(r||i||v.length)&&(c=b(a),r&&(c.dotAll=!0,c.raw=N(function(t){for(var e,n=t.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(e=A(t,r))?o||"."!==e?("["===e?o=!0:"]"===e&&(o=!1),i+=e):i+="[\\s\\S]":i+=e+A(t,++r);return i}(t),n)),i&&(c.sticky=!0),v.length&&(c.groups=v)),t!==x)try{l(a,"source",""===x?"(?:)":x)}catch(t){}return a},F=c(E),U=0;F.length>U;)g(N,E,F[U++]);T.constructor=N,N.prototype=T,y(i,"RegExp",N,{constructor:!0})}x("RegExp")},4901:function(t){var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},4913:function(t,e,n){var r=n(3724),i=n(5917),o=n(8686),a=n(8551),s=n(6969),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,p="enumerable",d="configurable",h="writable";e.f=r?o?function(t,e,n){if(a(t),e=s(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&h in n&&!n[h]){var r=c(t,e);r&&r[h]&&(t[e]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:p in n?n[p]:r[p],writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(a(t),e=s(e),a(n),i)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},5031:function(t,e,n){var r=n(7751),i=n(9504),o=n(8480),a=n(3717),s=n(8551),l=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?l(e,n(t)):e}},5213:function(t,e,n){var r=n(4576),i=n(9039),o=r.RegExp,a=!i((function(){var t=!0;try{o(".","d")}catch(e){t=!1}var e={},n="",r=t?"dgimsy":"gimsy",i=function(t,r){Object.defineProperty(e,t,{get:function(){return n+=r,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in t&&(a.hasIndices="d"),a)i(s,a[s]);return Object.getOwnPropertyDescriptor(o.prototype,"flags").get.call(e)!==r||n!==r}));t.exports={correct:a}},5276:function(t,e,n){var r=n(6518),i=n(7476),o=n(9617).indexOf,a=n(4598),s=i([].indexOf),l=!!s&&1/s([1],1,-0)<0;r({target:"Array",proto:!0,forced:l||!a("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return l?s(this,t,e)||0:o(this,t,e)}})},5397:function(t,e,n){var r=n(7055),i=n(7750);t.exports=function(t){return r(i(t))}},5440:function(t,e,n){var r=n(8745),i=n(9565),o=n(9504),a=n(9228),s=n(9039),l=n(8551),u=n(4901),c=n(34),p=n(1291),d=n(8014),h=n(655),f=n(7750),m=n(7829),g=n(5966),y=n(2478),v=n(1034),_=n(6682),b=n(8227)("replace"),x=Math.max,w=Math.min,k=o([].concat),S=o([].push),C=o("".indexOf),E=o("".slice),T="$0"==="a".replace(/./,"$0"),I=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(t,e,n){var o=I?"$":"$0";return[function(t,n){var r=f(this),o=c(t)?g(t,b):void 0;return o?i(o,t,r,n):i(e,h(r),t,n)},function(t,i){var a=l(this),s=h(t);if("string"==typeof i&&-1===C(i,o)&&-1===C(i,"$<")){var c=n(e,a,s,i);if(c.done)return c.value}var f=u(i);f||(i=h(i));var g,b=h(v(a)),T=-1!==C(b,"g");T&&(g=-1!==C(b,"u"),a.lastIndex=0);for(var I,M=[];null!==(I=_(a,s))&&(S(M,I),T);)""===h(I[0])&&(a.lastIndex=m(s,d(a.lastIndex),g));for(var A,O="",P=0,D=0;D<M.length;D++){for(var z,L=h((I=M[D])[0]),R=x(w(p(I.index),s.length),0),W=[],B=1;B<I.length;B++)S(W,void 0===(A=I[B])?A:String(A));var j=I.groups;if(f){var N=k([L],W,R,s);void 0!==j&&S(N,j),z=h(r(i,void 0,N))}else z=y(L,s,R,W,j,i);R>=P&&(O+=E(s,P,R)+z,P=R+L.length)}return O+E(s,P)}]}),!!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!T||I)},5548:function(t,e,n){var r=n(3517),i=n(6823),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a constructor")}},5610:function(t,e,n){var r=n(1291),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5700:function(t,e,n){var r=n(511),i=n(8242);r("toPrimitive"),i()},5745:function(t,e,n){var r=n(7629);t.exports=function(t,e){return r[t]||(r[t]=e||{})}},5749:function(t,e,n){var r=n(788),i=TypeError;t.exports=function(t){if(r(t))throw new i("The method doesn't accept regular expressions");return t}},5917:function(t,e,n){var r=n(3724),i=n(9039),o=n(4055);t.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},5966:function(t,e,n){var r=n(9306),i=n(4117);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},6080:function(t,e,n){var r=n(7476),i=n(9306),o=n(616),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},6099:function(t,e,n){var r=n(2140),i=n(6840),o=n(3179);r||i(Object.prototype,"toString",o,{unsafe:!0})},6119:function(t,e,n){var r=n(5745),i=n(3392),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},6193:function(t,e,n){var r=n(4215);t.exports="NODE"===r},6198:function(t,e,n){var r=n(8014);t.exports=function(t){return r(t.length)}},6269:function(t){t.exports={}},6319:function(t,e,n){var r=n(8551),i=n(9539);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},6395:function(t){t.exports=!1},6469:function(t,e,n){var r=n(8227),i=n(2360),o=n(4913).f,a=r("unscopables"),s=Array.prototype;void 0===s[a]&&o(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},6518:function(t,e,n){var r=n(4576),i=n(7347).f,o=n(6699),a=n(6840),s=n(9433),l=n(7740),u=n(2796);t.exports=function(t,e){var n,c,p,d,h,f=t.target,m=t.global,g=t.stat;if(n=m?r:g?r[f]||s(f,{}):r[f]&&r[f].prototype)for(c in e){if(d=e[c],p=t.dontCallGetSet?(h=i(n,c))&&h.value:n[c],!u(m?c:f+(g?".":"#")+c,t.forced)&&void 0!==p){if(typeof d==typeof p)continue;l(d,p)}(t.sham||p&&p.sham)&&o(d,"sham",!0),a(n,c,d,t)}}},6682:function(t,e,n){var r=n(9565),i=n(8551),o=n(4901),a=n(2195),s=n(7323),l=TypeError;t.exports=function(t,e){var n=t.exec;if(o(n)){var u=r(n,t,e);return null!==u&&i(u),u}if("RegExp"===a(t))return r(s,t,e);throw new l("RegExp#exec called on incompatible receiver")}},6699:function(t,e,n){var r=n(3724),i=n(4913),o=n(6980);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},6706:function(t,e,n){var r=n(9504),i=n(9306);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},6761:function(t,e,n){var r=n(6518),i=n(4576),o=n(9565),a=n(9504),s=n(6395),l=n(3724),u=n(4495),c=n(9039),p=n(9297),d=n(1625),h=n(8551),f=n(5397),m=n(6969),g=n(655),y=n(6980),v=n(2360),_=n(1072),b=n(8480),x=n(298),w=n(3717),k=n(7347),S=n(4913),C=n(6801),E=n(8773),T=n(6840),I=n(2106),M=n(5745),A=n(6119),O=n(421),P=n(3392),D=n(8227),z=n(1951),L=n(511),R=n(8242),W=n(687),B=n(1181),j=n(9213).forEach,N=A("hidden"),F="Symbol",U="prototype",V=B.set,q=B.getterFor(F),H=Object[U],G=i.Symbol,Z=G&&G[U],K=i.RangeError,Q=i.TypeError,X=i.QObject,Y=k.f,J=S.f,$=x.f,tt=E.f,et=a([].push),nt=M("symbols"),rt=M("op-symbols"),it=M("wks"),ot=!X||!X[U]||!X[U].findChild,at=function(t,e,n){var r=Y(H,e);r&&delete H[e],J(t,e,n),r&&t!==H&&J(H,e,r)},st=l&&c((function(){return 7!==v(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?at:J,lt=function(t,e){var n=nt[t]=v(Z);return V(n,{type:F,tag:t,description:e}),l||(n.description=e),n},ut=function(t,e,n){t===H&&ut(rt,e,n),h(t);var r=m(e);return h(n),p(nt,r)?(n.enumerable?(p(t,N)&&t[N][r]&&(t[N][r]=!1),n=v(n,{enumerable:y(0,!1)})):(p(t,N)||J(t,N,y(1,v(null))),t[N][r]=!0),st(t,r,n)):J(t,r,n)},ct=function(t,e){h(t);var n=f(e),r=_(n).concat(ft(n));return j(r,(function(e){l&&!o(pt,n,e)||ut(t,e,n[e])})),t},pt=function(t){var e=m(t),n=o(tt,this,e);return!(this===H&&p(nt,e)&&!p(rt,e))&&(!(n||!p(this,e)||!p(nt,e)||p(this,N)&&this[N][e])||n)},dt=function(t,e){var n=f(t),r=m(e);if(n!==H||!p(nt,r)||p(rt,r)){var i=Y(n,r);return!i||!p(nt,r)||p(n,N)&&n[N][r]||(i.enumerable=!0),i}},ht=function(t){var e=$(f(t)),n=[];return j(e,(function(t){p(nt,t)||p(O,t)||et(n,t)})),n},ft=function(t){var e=t===H,n=$(e?rt:f(t)),r=[];return j(n,(function(t){!p(nt,t)||e&&!p(H,t)||et(r,nt[t])})),r};u||(T(Z=(G=function(){if(d(Z,this))throw new Q("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,e=P(t),n=function(t){var r=void 0===this?i:this;r===H&&o(n,rt,t),p(r,N)&&p(r[N],e)&&(r[N][e]=!1);var a=y(1,t);try{st(r,e,a)}catch(t){if(!(t instanceof K))throw t;at(r,e,a)}};return l&&ot&&st(H,e,{configurable:!0,set:n}),lt(e,t)})[U],"toString",(function(){return q(this).tag})),T(G,"withoutSetter",(function(t){return lt(P(t),t)})),E.f=pt,S.f=ut,C.f=ct,k.f=dt,b.f=x.f=ht,w.f=ft,z.f=function(t){return lt(D(t),t)},l&&(I(Z,"description",{configurable:!0,get:function(){return q(this).description}}),s||T(H,"propertyIsEnumerable",pt,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:G}),j(_(it),(function(t){L(t)})),r({target:F,stat:!0,forced:!u},{useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(t,e){return void 0===e?v(t):ct(v(t),e)},defineProperty:ut,defineProperties:ct,getOwnPropertyDescriptor:dt}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ht}),R(),W(G,F),O[N]=!0},6801:function(t,e,n){var r=n(3724),i=n(8686),o=n(4913),a=n(8551),s=n(5397),l=n(1072);e.f=r&&!i?Object.defineProperties:function(t,e){a(t);for(var n,r=s(e),i=l(e),u=i.length,c=0;u>c;)o.f(t,n=i[c++],r[n]);return t}},6823:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},6837:function(t){var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},6840:function(t,e,n){var r=n(4901),i=n(4913),o=n(283),a=n(9433);t.exports=function(t,e,n,s){s||(s={});var l=s.enumerable,u=void 0!==s.name?s.name:e;if(r(n)&&o(n,u,s),s.global)l?t[e]=n:a(e,n);else{try{s.unsafe?t[e]&&(l=!0):delete t[e]}catch(t){}l?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},6910:function(t,e,n){var r=n(6518),i=n(9504),o=n(9306),a=n(8981),s=n(6198),l=n(4606),u=n(655),c=n(9039),p=n(4488),d=n(4598),h=n(3709),f=n(3763),m=n(9519),g=n(3607),y=[],v=i(y.sort),_=i(y.push),b=c((function(){y.sort(void 0)})),x=c((function(){y.sort(null)})),w=d("sort"),k=!c((function(){if(m)return m<70;if(!(h&&h>3)){if(f)return!0;if(g)return g<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)y.push({k:e+r,v:n})}for(y.sort((function(t,e){return e.v-t.v})),r=0;r<y.length;r++)e=y[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:b||!x||!w||!k},{sort:function(t){void 0!==t&&o(t);var e=a(this);if(k)return void 0===t?v(e):v(e,t);var n,r,i=[],c=s(e);for(r=0;r<c;r++)r in e&&_(i,e[r]);for(p(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:u(e)>u(n)?1:-1}}(t)),n=s(i),r=0;r<n;)e[r]=i[r++];for(;r<c;)l(e,r++);return e}})},6933:function(t,e,n){var r=n(9504),i=n(4376),o=n(4901),a=n(2195),s=n(655),l=r([].push);t.exports=function(t){if(o(t))return t;if(i(t)){for(var e=t.length,n=[],r=0;r<e;r++){var u=t[r];"string"==typeof u?l(n,u):"number"!=typeof u&&"Number"!==a(u)&&"String"!==a(u)||l(n,s(u))}var c=n.length,p=!0;return function(t,e){if(p)return p=!1,e;if(i(this))return e;for(var r=0;r<c;r++)if(n[r]===t)return e}}}},6955:function(t,e,n){var r=n(2140),i=n(4901),o=n(2195),a=n(8227)("toStringTag"),s=Object,l="Arguments"===o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=s(t),a))?n:l?o(e):"Object"===(r=o(e))&&i(e.callee)?"Arguments":r}},6969:function(t,e,n){var r=n(2777),i=n(757);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},6980:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7040:function(t,e,n){var r=n(4495);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:function(t,e,n){var r=n(9504),i=n(9039),o=n(2195),a=Object,s=r("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?s(t,""):a(t)}:a},7323:function(t,e,n){var r,i,o=n(9565),a=n(9504),s=n(655),l=n(7979),u=n(8429),c=n(5745),p=n(2360),d=n(1181).get,h=n(3635),f=n(8814),m=c("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,y=g,v=a("".charAt),_=a("".indexOf),b=a("".replace),x=a("".slice),w=(i=/b*/g,o(g,r=/a/,"a"),o(g,i,"a"),0!==r.lastIndex||0!==i.lastIndex),k=u.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(w||S||k||h||f)&&(y=function(t){var e,n,r,i,a,u,c,h=this,f=d(h),C=s(t),E=f.raw;if(E)return E.lastIndex=h.lastIndex,e=o(y,E,C),h.lastIndex=E.lastIndex,e;var T=f.groups,I=k&&h.sticky,M=o(l,h),A=h.source,O=0,P=C;if(I&&(M=b(M,"y",""),-1===_(M,"g")&&(M+="g"),P=x(C,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==v(C,h.lastIndex-1))&&(A="(?: "+A+")",P=" "+P,O++),n=new RegExp("^(?:"+A+")",M)),S&&(n=new RegExp("^"+A+"$(?!\\s)",M)),w&&(r=h.lastIndex),i=o(g,I?n:h,P),I?i?(i.input=x(i.input,O),i[0]=x(i[0],O),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:w&&i&&(h.lastIndex=h.global?i.index+i[0].length:r),S&&i&&i.length>1&&o(m,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&T)for(i.groups=u=p(null),a=0;a<T.length;a++)u[(c=T[a])[0]]=i[c[1]];return i}),t.exports=y},7347:function(t,e,n){var r=n(3724),i=n(9565),o=n(8773),a=n(6980),s=n(5397),l=n(6969),u=n(9297),c=n(5917),p=Object.getOwnPropertyDescriptor;e.f=r?p:function(t,e){if(t=s(t),e=l(e),c)try{return p(t,e)}catch(t){}if(u(t,e))return a(!i(o.f,t,e),t[e])}},7400:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7427:function(t,e,n){var r=n(6518),i=n(3724),o=n(2551),a=n(9306),s=n(8981),l=n(4913);i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function(t,e){l.f(s(this),t,{get:a(e),enumerable:!0,configurable:!0})}})},7433:function(t,e,n){var r=n(4376),i=n(3517),o=n(34),a=n(8227)("species"),s=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,(i(e)&&(e===s||r(e.prototype))||o(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?s:e}},7452:function(t){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},7476:function(t,e,n){var r=n(2195),i=n(9504);t.exports=function(t){if("Function"===r(t))return i(t)}},7495:function(t,e,n){var r=n(6518),i=n(7323);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},7629:function(t,e,n){var r=n(6395),i=n(4576),o=n(9433),a="__core-js_shared__",s=t.exports=i[a]||o(a,{});(s.versions||(s.versions=[])).push({version:"3.46.0",mode:r?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.46.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7633:function(t,e,n){var r=n(7751),i=n(2106),o=n(8227),a=n(3724),s=o("species");t.exports=function(t){var e=r(t);a&&e&&!e[s]&&i(e,s,{configurable:!0,get:function(){return this}})}},7657:function(t,e,n){var r,i,o,a=n(9039),s=n(4901),l=n(34),u=n(2360),c=n(2787),p=n(6840),d=n(8227),h=n(6395),f=d("iterator"),m=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(r=i):m=!0),!l(r)||a((function(){var t={};return r[f].call(t)!==t}))?r={}:h&&(r=u(r)),s(r[f])||p(r,f,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},7680:function(t,e,n){var r=n(9504);t.exports=r([].slice)},7740:function(t,e,n){var r=n(9297),i=n(5031),o=n(7347),a=n(4913);t.exports=function(t,e,n){for(var s=i(e),l=a.f,u=o.f,c=0;c<s.length;c++){var p=s[c];r(t,p)||n&&r(n,p)||l(t,p,u(e,p))}}},7750:function(t,e,n){var r=n(4117),i=TypeError;t.exports=function(t){if(r(t))throw new i("Can't call method on "+t);return t}},7751:function(t,e,n){var r=n(4576),i=n(4901);t.exports=function(t,e){return arguments.length<2?(n=r[t],i(n)?n:void 0):r[t]&&r[t][e];var n}},7764:function(t,e,n){var r=n(8183).charAt,i=n(655),o=n(1181),a=n(1088),s=n(2529),l="String Iterator",u=o.set,c=o.getterFor(l);a(String,"String",(function(t){u(this,{type:l,string:i(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?s(void 0,!0):(t=r(n,i),e.index+=t.length,s(t,!1))}))},7812:function(t,e,n){var r=n(6518),i=n(9297),o=n(757),a=n(6823),s=n(5745),l=n(1296),u=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{keyFor:function(t){if(!o(t))throw new TypeError(a(t)+" is not a symbol");if(i(u,t))return u[t]}})},7829:function(t,e,n){var r=n(8183).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},7916:function(t,e,n){var r=n(6080),i=n(9565),o=n(8981),a=n(6319),s=n(4209),l=n(3517),u=n(6198),c=n(4659),p=n(81),d=n(851),h=Array;t.exports=function(t){var e=o(t),n=l(this),f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m;g&&(m=r(m,f>2?arguments[2]:void 0));var y,v,_,b,x,w,k=d(e),S=0;if(!k||this===h&&s(k))for(y=u(e),v=n?new this(y):h(y);y>S;S++)w=g?m(e[S],S):e[S],c(v,S,w);else for(v=n?new this:[],x=(b=p(e,k)).next;!(_=i(x,b)).done;S++)w=g?a(b,m,[_.value,S],!0):_.value,c(v,S,w);return v.length=S,v}},7979:function(t,e,n){var r=n(8551);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},8014:function(t,e,n){var r=n(1291),i=Math.min;t.exports=function(t){var e=r(t);return e>0?i(e,9007199254740991):0}},8183:function(t,e,n){var r=n(9504),i=n(1291),o=n(655),a=n(7750),s=r("".charAt),l=r("".charCodeAt),u=r("".slice),c=function(t){return function(e,n){var r,c,p=o(a(e)),d=i(n),h=p.length;return d<0||d>=h?t?"":void 0:(r=l(p,d))<55296||r>56319||d+1===h||(c=l(p,d+1))<56320||c>57343?t?s(p,d):r:t?u(p,d,d+2):c-56320+(r-55296<<10)+65536}};t.exports={codeAt:c(!1),charAt:c(!0)}},8227:function(t,e,n){var r=n(4576),i=n(5745),o=n(9297),a=n(3392),s=n(4495),l=n(7040),u=r.Symbol,c=i("wks"),p=l?u.for||u:u&&u.withoutSetter||a;t.exports=function(t){return o(c,t)||(c[t]=s&&o(u,t)?u[t]:p("Symbol."+t)),c[t]}},8242:function(t,e,n){var r=n(9565),i=n(7751),o=n(8227),a=n(6840);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,s=o("toPrimitive");e&&!e[s]&&a(e,s,(function(t){return r(n,this)}),{arity:1})}},8344:function(t,e,n){n(8543)},8429:function(t,e,n){var r=n(9039),i=n(4576).RegExp,o=r((function(){var t=i("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),a=o||r((function(){return!i("a","y").sticky})),s=o||r((function(){var t=i("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},8480:function(t,e,n){var r=n(1828),i=n(8727).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},8543:function(t,e,n){var r=n(6518),i=n(9565),o=n(7476),a=n(3994),s=n(2529),l=n(7750),u=n(8014),c=n(655),p=n(8551),d=n(34),h=n(2195),f=n(788),m=n(1034),g=n(5966),y=n(6840),v=n(9039),_=n(8227),b=n(2293),x=n(7829),w=n(6682),k=n(1181),S=n(6395),C=_("matchAll"),E="RegExp String",T=E+" Iterator",I=k.set,M=k.getterFor(T),A=RegExp.prototype,O=TypeError,P=o("".indexOf),D=o("".matchAll),z=!!D&&!v((function(){D("a",/./)})),L=a((function(t,e,n,r){I(this,{type:T,regexp:t,string:e,global:n,unicode:r,done:!1})}),E,(function(){var t=M(this);if(t.done)return s(void 0,!0);var e=t.regexp,n=t.string,r=w(e,n);return null===r?(t.done=!0,s(void 0,!0)):t.global?(""===c(r[0])&&(e.lastIndex=x(n,u(e.lastIndex),t.unicode)),s(r,!1)):(t.done=!0,s(r,!1))})),R=function(t){var e,n,r,i=p(this),o=c(t),a=b(i,RegExp),s=c(m(i));return e=new a(a===RegExp?i.source:i,s),n=!!~P(s,"g"),r=!!~P(s,"u"),e.lastIndex=u(i.lastIndex),new L(e,o,n,r)};r({target:"String",proto:!0,forced:z},{matchAll:function(t){var e,n,r,o,a=l(this);if(d(t)){if(f(t)&&(e=c(l(m(t))),!~P(e,"g")))throw new O("`.matchAll` does not allow non-global regexes");if(z)return D(a,t);if(void 0===(r=g(t,C))&&S&&"RegExp"===h(t)&&(r=R),r)return i(r,t,a)}else if(z)return D(a,t);return n=c(a),o=new RegExp(t,"g"),S?i(R,o,n):o[C](n)}}),S||C in A||y(A,C,R)},8551:function(t,e,n){var r=n(34),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not an object")}},8598:function(t,e,n){var r=n(6518),i=n(9504),o=n(7055),a=n(5397),s=n(4598),l=i([].join);r({target:"Array",proto:!0,forced:o!==Object||!s("join",",")},{join:function(t){return l(a(this),void 0===t?",":t)}})},8622:function(t,e,n){var r=n(4576),i=n(4901),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},8686:function(t,e,n){var r=n(3724),i=n(9039);t.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8706:function(t,e,n){var r=n(6518),i=n(9039),o=n(4376),a=n(34),s=n(8981),l=n(6198),u=n(6837),c=n(4659),p=n(1469),d=n(597),h=n(8227),f=n(9519),m=h("isConcatSpreadable"),g=f>=51||!i((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),y=function(t){if(!a(t))return!1;var e=t[m];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,arity:1,forced:!g||!d("concat")},{concat:function(t){var e,n,r,i,o,a=s(this),d=p(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(y(o=-1===e?a:arguments[e]))for(i=l(o),u(h+i),n=0;n<i;n++,h++)n in o&&c(d,h,o[n]);else u(h+1),c(d,h++,o);return d.length=h,d}})},8727:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8745:function(t,e,n){var r=n(616),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},8773:function(t,e){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},8781:function(t,e,n){var r=n(350).PROPER,i=n(6840),o=n(8551),a=n(655),s=n(9039),l=n(1034),u="toString",c=RegExp.prototype,p=c[u],d=s((function(){return"/a/b"!==p.call({source:"a",flags:"b"})})),h=r&&p.name!==u;(d||h)&&i(c,u,(function(){var t=o(this);return"/"+a(t.source)+"/"+a(l(t))}),{unsafe:!0})},8814:function(t,e,n){var r=n(9039),i=n(4576).RegExp;t.exports=r((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},8981:function(t,e,n){var r=n(7750),i=Object;t.exports=function(t){return i(r(t))}},9039:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},9085:function(t,e,n){var r=n(6518),i=n(4213);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},9167:function(t,e,n){var r=n(4576);t.exports=r},9213:function(t,e,n){var r=n(6080),i=n(9504),o=n(7055),a=n(8981),s=n(6198),l=n(1469),u=i([].push),c=function(t){var e=1===t,n=2===t,i=3===t,c=4===t,p=6===t,d=7===t,h=5===t||p;return function(f,m,g,y){for(var v,_,b=a(f),x=o(b),w=s(x),k=r(m,g),S=0,C=y||l,E=e?C(f,w):n||d?C(f,0):void 0;w>S;S++)if((h||S in x)&&(_=k(v=x[S],S,b),t))if(e)E[S]=_;else if(_)switch(t){case 3:return!0;case 5:return v;case 6:return S;case 2:u(E,v)}else switch(t){case 4:return!1;case 7:u(E,v)}return p?-1:i||c?c:E}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},9228:function(t,e,n){n(7495);var r=n(9565),i=n(6840),o=n(7323),a=n(9039),s=n(8227),l=n(6699),u=s("species"),c=RegExp.prototype;t.exports=function(t,e,n,p){var d=s(t),h=!a((function(){var e={};return e[d]=function(){return 7},7!==""[t](e)})),f=h&&!a((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!h||!f||n){var m=/./[d],g=e(d,""[t],(function(t,e,n,i,a){var s=e.exec;return s===o||s===c.exec?h&&!a?{done:!0,value:r(m,e,n,i)}:{done:!0,value:r(t,n,e,i)}:{done:!1}}));i(String.prototype,t,g[0]),i(c,d,g[1])}p&&l(c[d],"sham",!0)}},9296:function(t,e,n){var r=n(4055)("span").classList,i=r&&r.constructor&&r.constructor.prototype;t.exports=i===Object.prototype?void 0:i},9297:function(t,e,n){var r=n(9504),i=n(8981),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},9306:function(t,e,n){var r=n(4901),i=n(6823),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a function")}},9432:function(t,e,n){var r=n(6518),i=n(8981),o=n(1072);r({target:"Object",stat:!0,forced:n(9039)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},9433:function(t,e,n){var r=n(4576),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},9463:function(t,e,n){var r=n(6518),i=n(3724),o=n(4576),a=n(9504),s=n(9297),l=n(4901),u=n(1625),c=n(655),p=n(2106),d=n(7740),h=o.Symbol,f=h&&h.prototype;if(i&&l(h)&&(!("description"in f)||void 0!==h().description)){var m={},g=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),e=u(f,this)?new h(t):void 0===t?h():h(t);return""===t&&(m[e]=!0),e};d(g,h),g.prototype=f,f.constructor=g;var y="Symbol(description detection)"===String(h("description detection")),v=a(f.valueOf),_=a(f.toString),b=/^Symbol\((.*)\)[^)]+$/,x=a("".replace),w=a("".slice);p(f,"description",{configurable:!0,get:function(){var t=v(this);if(s(m,t))return"";var e=_(t),n=y?w(e,7,-1):x(e,b,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:g})}},9504:function(t,e,n){var r=n(616),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);t.exports=r?a:function(t){return function(){return o.apply(t,arguments)}}},9519:function(t,e,n){var r,i,o=n(4576),a=n(2839),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(i=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},9539:function(t,e,n){var r=n(9565),i=n(8551),o=n(5966);t.exports=function(t,e,n){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw n;if(s)throw a;return i(a),n}},9565:function(t,e,n){var r=n(616),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},9572:function(t,e,n){var r=n(9297),i=n(6840),o=n(3640),a=n(8227)("toPrimitive"),s=Date.prototype;r(s,a)||i(s,a,o)},9617:function(t,e,n){var r=n(5397),i=n(5610),o=n(6198),a=function(t){return function(e,n,a){var s=r(e),l=o(s);if(0===l)return!t&&-1;var u,c=i(a,l);if(t&&n!=n){for(;l>c;)if((u=s[c++])!=u)return!0}else for(;l>c;c++)if((t||c in s)&&s[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},9773:function(t,e,n){var r=n(6518),i=n(4495),o=n(9039),a=n(3717),s=n(8981);r({target:"Object",stat:!0,forced:!i||o((function(){a.f(1)}))},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(s(t)):[]}})}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function l(t,e,n){return(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==a(e)?e:e+""}n.r(r),n.d(r,{SimpleKeyboard:function(){return M},default:function(){return A}}),n(5276),n(8598),n(4782),n(4554),n(2010),n(7427),n(6099),n(7495),n(8781),n(5440),n(744),n(2762),"undefined"==typeof Element||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"undefined"!=typeof self&&"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(t){if("Element"in t){var e="classList",n="prototype",r=t.Element[n],i=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new s("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","The token must not contain space characters.");return a.call(t,e)},u=function(t){for(var e=o.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},c=u[n]=[],p=function(){return new u(this)};if(s[n]=Error[n],c.item=function(t){return this[t]||null},c.contains=function(t){return~l(this,t+"")},c.add=function(){var t,e=arguments,n=0,r=e.length,i=!1;do{~l(this,t=e[n]+"")||(this.push(t),i=!0)}while(++n<r);i&&this._updateClassName()},c.remove=function(){var t,e,n=arguments,r=0,i=n.length,o=!1;do{for(e=l(this,t=n[r]+"");~e;)this.splice(e,1),o=!0,e=l(this,t)}while(++r<i);o&&this._updateClassName()},c.toggle=function(t,e){var n=this.contains(t),r=n?!0!==e&&"remove":!1!==e&&"add";return r&&this[r](t),!0===e||!1===e?e:!n},c.replace=function(t,e){var n=l(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},c.toString=function(){return this.join(" ")},i.defineProperty){var d={get:p,enumerable:!0,configurable:!0};try{i.defineProperty(r,e,d)}catch(t){void 0!==t.number&&-2146823252!==t.number||(d.enumerable=!1,i.defineProperty(r,e,d))}}else i[n].__defineGetter__&&r.__defineGetter__(e,p)}}(self),function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,r=arguments.length;for(n=0;n<r;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),r=n.indexOf(t+"");~r&&(n=n.slice(r),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}()),n(2675),n(9463),n(2259),n(5700),n(8706),n(2008),n(3418),n(4423),n(3792),n(2062),n(6910),n(739),n(9572),n(2892),n(9085),n(3851),n(1278),n(9432),n(4864),n(1699),n(7764),n(8344),n(3500),n(2953),n(2712),n(2637),n(1480),n(825),n(1761);var c=function(){return t=function t(e){var n=e.getOptions,r=e.getCaretPosition,i=e.getCaretPositionEnd,o=e.dispatch;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"getOptions",void 0),l(this,"getCaretPosition",void 0),l(this,"getCaretPositionEnd",void 0),l(this,"dispatch",void 0),l(this,"maxLengthReached",void 0),l(this,"isStandardButton",(function(t){return t&&!("{"===t[0]&&"}"===t[t.length-1])})),this.getOptions=n,this.getCaretPosition=r,this.getCaretPositionEnd=i,this.dispatch=o,t.bindMethods(t,this)},e=[{key:"getButtonType",value:function(t){return t.includes("{")&&t.includes("}")&&"{//}"!==t?"functionBtn":"standardBtn"}},{key:"getButtonClass",value:function(t){var e=this.getButtonType(t),n=t.replace("{","").replace("}",""),r="";return"standardBtn"!==e&&(r=" hg-button-".concat(n)),"hg-".concat(e).concat(r)}},{key:"getDefaultDiplay",value:function(){return{"{bksp}":"backspace","{backspace}":"backspace","{enter}":"< enter","{shift}":"shift","{shiftleft}":"shift","{shiftright}":"shift","{alt}":"alt","{s}":"shift","{tab}":"tab","{lock}":"caps","{capslock}":"caps","{accept}":"Submit","{space}":" ","{//}":" ","{esc}":"esc","{escape}":"esc","{f1}":"f1","{f2}":"f2","{f3}":"f3","{f4}":"f4","{f5}":"f5","{f6}":"f6","{f7}":"f7","{f8}":"f8","{f9}":"f9","{f10}":"f10","{f11}":"f11","{f12}":"f12","{numpaddivide}":"/","{numlock}":"lock","{arrowup}":"↑","{arrowleft}":"←","{arrowdown}":"↓","{arrowright}":"→","{prtscr}":"print","{scrolllock}":"scroll","{pause}":"pause","{insert}":"ins","{home}":"home","{pageup}":"up","{delete}":"del","{forwarddelete}":"del","{end}":"end","{pagedown}":"down","{numpadmultiply}":"*","{numpadsubtract}":"-","{numpadadd}":"+","{numpadenter}":"enter","{period}":".","{numpaddecimal}":".","{numpad0}":"0","{numpad1}":"1","{numpad2}":"2","{numpad3}":"3","{numpad4}":"4","{numpad5}":"5","{numpad6}":"6","{numpad7}":"7","{numpad8}":"8","{numpad9}":"9"}}},{key:"getButtonDisplayName",value:function(t,e){return(e=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?Object.assign({},this.getDefaultDiplay(),e):e||this.getDefaultDiplay())[t]||t}},{key:"getUpdatedInput",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.getOptions(),a=[n,r,i],s=e;return("{bksp}"===t||"{backspace}"===t)&&s.length>0?s=this.removeAt.apply(this,[s].concat(a)):("{delete}"===t||"{forwarddelete}"===t)&&s.length>0?s=this.removeForwardsAt.apply(this,[s].concat(a)):"{space}"===t?s=this.addStringAt.apply(this,[s," "].concat(a)):"{tab}"!==t||"boolean"==typeof o.tabCharOnTab&&!1===o.tabCharOnTab?"{enter}"!==t&&"{numpadenter}"!==t||!o.newLineOnEnter?t.includes("numpad")&&Number.isInteger(Number(t[t.length-2]))?s=this.addStringAt.apply(this,[s,t[t.length-2]].concat(a)):"{numpaddivide}"===t?s=this.addStringAt.apply(this,[s,"/"].concat(a)):"{numpadmultiply}"===t?s=this.addStringAt.apply(this,[s,"*"].concat(a)):"{numpadsubtract}"===t?s=this.addStringAt.apply(this,[s,"-"].concat(a)):"{numpadadd}"===t?s=this.addStringAt.apply(this,[s,"+"].concat(a)):"{numpaddecimal}"===t?s=this.addStringAt.apply(this,[s,"."].concat(a)):"{"===t||"}"===t?s=this.addStringAt.apply(this,[s,t].concat(a)):t.includes("{")||t.includes("}")||(s=this.addStringAt.apply(this,[s,t].concat(a))):s=this.addStringAt.apply(this,[s,"\n"].concat(a)):s=this.addStringAt.apply(this,[s,"\t"].concat(a)),o.debug&&console.log("Input will be: "+s),s}},{key:"updateCaretPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.updateCaretPosAction(t,e);this.dispatch((function(t){t.setCaretPosition(n)}))}},{key:"updateCaretPosAction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getOptions(),r=this.getCaretPosition();return null!=r&&(e?r>0&&(r-=t):r+=t),n.debug&&console.log("Caret at:",r),r}},{key:"addStringAt",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return r||0===r?(n=[t.slice(0,r),e,t.slice(i)].join(""),this.isMaxLengthReached()||o&&this.updateCaretPos(e.length)):n=t+e,n}},{key:"removeAt",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===n&&0===r)return t;if(n===r){var o=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;n&&n>=0?t.substring(n-2,n).match(o)?(e=t.substr(0,n-2)+t.substr(n),i&&this.updateCaretPos(2,!0)):(e=t.substr(0,n-1)+t.substr(n),i&&this.updateCaretPos(1,!0)):t.slice(-2).match(o)?(e=t.slice(0,-2),i&&this.updateCaretPos(2,!0)):(e=t.slice(0,-1),i&&this.updateCaretPos(1,!0))}else e=t.slice(0,n)+t.slice(r),i&&this.dispatch((function(t){t.setCaretPosition(n)}));return e}},{key:"removeForwardsAt",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return null!=t&&t.length&&null!==n?(n===r?e=t.substring(n,n+2).match(/([\uD800-\uDBFF][\uDC00-\uDFFF])/g)?t.substr(0,n)+t.substr(n+2):t.substr(0,n)+t.substr(n+1):(e=t.slice(0,n)+t.slice(r),i&&this.dispatch((function(t){t.setCaretPosition(n)}))),e):t}},{key:"handleMaxLength",value:function(t,e){var n=this.getOptions(),r=n.maxLength,i=t[n.inputName||"default"],o=e.length-1>=r;if(e.length<=i.length)return!1;if(Number.isInteger(r))return n.debug&&console.log("maxLength (num) reached:",o),o?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1);if("object"===a(r)){var s=e.length-1>=r[n.inputName||"default"];return n.debug&&console.log("maxLength (obj) reached:",s),s?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1)}}},{key:"isMaxLengthReached",value:function(){return Boolean(this.maxLengthReached)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},{key:"pointerEventsSupported",value:function(){return!!window.PointerEvent}},{key:"camelCase",value:function(t){return t?t.toLowerCase().trim().split(/[.\-_\s]/g).reduce((function(t,e){return e.length?t+e[0].toUpperCase()+e.slice(1):t})):""}},{key:"chunkArray",value:function(t,e){return function(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Array(Math.ceil(t.length/e))).map((function(n,r){return t.slice(e*r,e+e*r)}))}},{key:"escapeRegex",value:function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}},{key:"getRtlOffset",value:function(t,e){var n=t,r=e.indexOf("‫");return r<t&&-1!=r&&n--,e.indexOf("‬")<t&&-1!=r&&n--,n<0?0:n}},{key:"isConstructor",value:function(t){try{Reflect.construct(String,[],t)}catch(t){return!1}return!0}}],n=[{key:"bindMethods",value:function(t,e){var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=i(t))){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(Object.getOwnPropertyNames(t.prototype));try{for(r.s();!(n=r.n()).done;){var o=n.value;"constructor"===o||"bindMethods"===o||(e[o]=e[o].bind(e))}}catch(t){r.e(t)}finally{r.f()}}}],e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();l(c,"noop",(function(){}));var p=c;function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function f(t,e,n){return(e=m(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==d(e)?e:e+""}var g=function(){return t=function t(e){var n=this,r=e.dispatch,i=e.getOptions;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,"getOptions",void 0),f(this,"dispatch",void 0),f(this,"isModifierKey",(function(t){return t.altKey||t.ctrlKey||t.shiftKey||["Tab","CapsLock","Esc","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t.code||t.key||n.keyCodeToKey(null==t?void 0:t.keyCode))})),this.dispatch=r,this.getOptions=i,p.bindMethods(t,this)},(e=[{key:"handleHighlightKeyDown",value:function(t){var e=this.getOptions();e.physicalKeyboardHighlightPreventDefault&&this.isModifierKey(t)&&(t.preventDefault(),t.stopImmediatePropagation());var n=this.getSimpleKeyboardLayoutKey(t);this.dispatch((function(r){var i,o,a=r.getButtonElement(n),s=r.getButtonElement("{".concat(n,"}"));if(a)i=a,o=n;else{if(!s)return;i=s,o="{".concat(n,"}")}var l,u,c,p,d=function(t){t.style.background=e.physicalKeyboardHighlightBgColor||"#dadce4",t.style.color=e.physicalKeyboardHighlightTextColor||"black"};if(i)if(Array.isArray(i)){if(i.forEach((function(t){return d(t)})),e.physicalKeyboardHighlightPress)if(e.physicalKeyboardHighlightPressUsePointerEvents)null===(l=i[0])||void 0===l||null===(u=l.onpointerdown)||void 0===u||u.call(l,t);else if(e.physicalKeyboardHighlightPressUseClick){var h;null===(h=i[0])||void 0===h||h.click()}else r.handleButtonClicked(o,t)}else d(i),e.physicalKeyboardHighlightPress&&(e.physicalKeyboardHighlightPressUsePointerEvents?null===(c=i)||void 0===c||null===(p=c.onpointerdown)||void 0===p||p.call(c,t):e.physicalKeyboardHighlightPressUseClick?i.click():r.handleButtonClicked(o,t))}))}},{key:"handleHighlightKeyUp",value:function(t){var e=this.getOptions();e.physicalKeyboardHighlightPreventDefault&&this.isModifierKey(t)&&(t.preventDefault(),t.stopImmediatePropagation());var n=this.getSimpleKeyboardLayoutKey(t);this.dispatch((function(r){var i,o,a,s=r.getButtonElement(n)||r.getButtonElement("{".concat(n,"}")),l=function(t){t.removeAttribute&&t.removeAttribute("style")};s&&(Array.isArray(s)?(s.forEach((function(t){return l(t)})),e.physicalKeyboardHighlightPressUsePointerEvents&&(null===(i=s[0])||void 0===i||null===(o=i.onpointerup)||void 0===o||o.call(i,t))):(l(s),e.physicalKeyboardHighlightPressUsePointerEvents&&(null==s||null===(a=s.onpointerup)||void 0===a||a.call(s,t))))}))}},{key:"getSimpleKeyboardLayoutKey",value:function(t){var e,n,r=t.code||t.key||this.keyCodeToKey(null==t?void 0:t.keyCode);return(n=null!=r&&r.includes("Numpad")||null!=r&&r.includes("Shift")||null!=r&&r.includes("Space")||null!=r&&r.includes("Backspace")||null!=r&&r.includes("Control")||null!=r&&r.includes("Alt")||null!=r&&r.includes("Meta")?t.code||"":t.key||this.keyCodeToKey(null==t?void 0:t.keyCode)||"").length>1?null===(e=n)||void 0===e?void 0:e.toLowerCase():n}},{key:"keyCodeToKey",value:function(t){return{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",106:"NumpadMultiply",107:"NumpadAdd",109:"NumpadSubtract",110:"NumpadDecimal",111:"NumpadDivide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}[t]||""}}])&&h(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b(r.key),r)}}function _(t,e,n){return(e=b(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==y(e)?e:e+""}var x=function(){return t=function t(e){var n=e.utilities,r=e.options;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,"utilities",void 0),_(this,"options",void 0),_(this,"candidateBoxElement",void 0),_(this,"pageIndex",0),_(this,"pageSize",void 0),this.utilities=n,this.options=r,p.bindMethods(t,this),this.pageSize=this.utilities.getOptions().layoutCandidatesPageSize||5},(e=[{key:"destroy",value:function(){this.candidateBoxElement&&(this.candidateBoxElement.remove(),this.pageIndex=0)}},{key:"show",value:function(t){var e=this,n=t.candidateValue,r=t.targetElement,i=t.onSelect;if(n&&n.length){var o=this.utilities.chunkArray(n.split(" "),this.pageSize);this.renderPage({candidateListPages:o,targetElement:r,pageIndex:this.pageIndex,nbPages:o.length,onItemSelected:function(t,n){i(t,n),e.destroy()}})}}},{key:"renderPage",value:function(t){var e,n=this,r=t.candidateListPages,i=t.targetElement,o=t.pageIndex,a=t.nbPages,s=t.onItemSelected;null===(e=this.candidateBoxElement)||void 0===e||e.remove(),this.candidateBoxElement=document.createElement("div"),this.candidateBoxElement.className="hg-candidate-box";var l=document.createElement("ul");l.className="hg-candidate-box-list",r[o].forEach((function(t){var e,r=document.createElement("li"),i=function(){var t=new(n.options.useTouchEvents?TouchEvent:MouseEvent)("click");return Object.defineProperty(t,"target",{value:r}),t};r.className="hg-candidate-box-list-item",r.innerHTML=(null===(e=n.options.display)||void 0===e?void 0:e[t])||t,n.options.useTouchEvents?r.ontouchstart=function(e){return s(t,e||i())}:r.onclick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return s(t,e)},l.appendChild(r)}));var u=o>0,c=document.createElement("div");c.classList.add("hg-candidate-box-prev"),u&&c.classList.add("hg-candidate-box-btn-active");var p=function(){u&&n.renderPage({candidateListPages:r,targetElement:i,pageIndex:o-1,nbPages:a,onItemSelected:s})};this.options.useTouchEvents?c.ontouchstart=p:c.onclick=p,this.candidateBoxElement.appendChild(c),this.candidateBoxElement.appendChild(l);var d=o<a-1,h=document.createElement("div");h.classList.add("hg-candidate-box-next"),d&&h.classList.add("hg-candidate-box-btn-active");var f=function(){d&&n.renderPage({candidateListPages:r,targetElement:i,pageIndex:o+1,nbPages:a,onItemSelected:s})};this.options.useTouchEvents?h.ontouchstart=f:h.onclick=f,this.candidateBoxElement.appendChild(h),i.prepend(this.candidateBoxElement)}}])&&v(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function w(t){return function(t){if(Array.isArray(t))return k(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return k(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I(r.key),r)}}function T(t,e,n){return(e=I(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t){var e=function(t,e){if("object"!=S(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==S(e)?e:e+""}var M=function(){return t=function t(e,n){var r=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),T(this,"input",void 0),T(this,"options",void 0),T(this,"utilities",void 0),T(this,"caretPosition",void 0),T(this,"caretPositionEnd",void 0),T(this,"keyboardDOM",void 0),T(this,"keyboardPluginClasses",void 0),T(this,"keyboardDOMClass",void 0),T(this,"buttonElements",void 0),T(this,"currentInstanceName",void 0),T(this,"allKeyboardInstances",void 0),T(this,"keyboardInstanceNames",void 0),T(this,"isFirstKeyboardInstance",void 0),T(this,"physicalKeyboard",void 0),T(this,"modules",void 0),T(this,"activeButtonClass",void 0),T(this,"holdInteractionTimeout",void 0),T(this,"holdTimeout",void 0),T(this,"isMouseHold",void 0),T(this,"initialized",void 0),T(this,"candidateBox",void 0),T(this,"keyboardRowsDOM",void 0),T(this,"defaultName","default"),T(this,"activeInputElement",null),T(this,"handleParams",(function(t,e){var n,r,i;if("string"==typeof t)n=t.split(".").join(""),r=document.querySelector(".".concat(n)),i=e;else if(t instanceof HTMLDivElement){if(!t.className)throw console.warn("Any DOM element passed as parameter must have a class."),new Error("KEYBOARD_DOM_CLASS_ERROR");n=t.className.split(" ")[0],r=t,i=e}else n="simple-keyboard",r=document.querySelector(".".concat(n)),i=t;return{keyboardDOMClass:n,keyboardDOM:r,options:i}})),T(this,"getOptions",(function(){return r.options})),T(this,"getCaretPosition",(function(){return r.caretPosition})),T(this,"getCaretPositionEnd",(function(){return r.caretPositionEnd})),T(this,"registerModule",(function(t,e){r.modules[t]||(r.modules[t]={}),e(r.modules[t])})),T(this,"getKeyboardClassString",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return[r.keyboardDOMClass].concat(e).filter((function(t){return!!t})).join(" ")})),"undefined"!=typeof window){var i=this.handleParams(e,n),o=i.keyboardDOMClass,a=i.keyboardDOM,s=i.options,l=void 0===s?{}:s;this.utilities=new p({getOptions:this.getOptions,getCaretPosition:this.getCaretPosition,getCaretPositionEnd:this.getCaretPositionEnd,dispatch:this.dispatch}),this.caretPosition=null,this.caretPositionEnd=null,this.keyboardDOM=a,this.options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){T(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({layoutName:"default",theme:"hg-theme-default",inputName:"default",preventMouseDownDefault:!1,enableLayoutCandidates:!0,excludeFromLayout:{}},l),this.keyboardPluginClasses="",p.bindMethods(t,this);var u=this.options.inputName,c=void 0===u?this.defaultName:u;if(this.input={},this.input[c]="",this.keyboardDOMClass=o,this.buttonElements={},window.SimpleKeyboardInstances||(window.SimpleKeyboardInstances={}),this.currentInstanceName=this.utilities.camelCase(this.keyboardDOMClass),window.SimpleKeyboardInstances[this.currentInstanceName]=this,this.allKeyboardInstances=window.SimpleKeyboardInstances,this.keyboardInstanceNames=Object.keys(window.SimpleKeyboardInstances),this.isFirstKeyboardInstance=this.keyboardInstanceNames[0]===this.currentInstanceName,this.physicalKeyboard=new g({dispatch:this.dispatch,getOptions:this.getOptions}),this.candidateBox=this.options.enableLayoutCandidates?new x({utilities:this.utilities,options:this.options}):null,!this.keyboardDOM)throw console.warn('".'.concat(o,'" was not found in the DOM.')),new Error("KEYBOARD_DOM_ERROR");this.render(),this.modules={},this.loadModules()}},(e=[{key:"setCaretPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;this.caretPosition=t,this.caretPositionEnd=e}},{key:"getInputCandidates",value:function(t){var e=this,n=this.options,r=n.layoutCandidates,i=n.layoutCandidatesCaseSensitiveMatch;if(!r||"object"!==S(r))return{};var o=Object.keys(r).filter((function(n){var r=t.substring(0,e.getCaretPositionEnd()||0)||t,o=new RegExp("".concat(e.utilities.escapeRegex(n),"$"),i?"g":"gi");return!!w(r.matchAll(o)).length}));if(o.length>1){var a=o.sort((function(t,e){return e.length-t.length}))[0];return{candidateKey:a,candidateValue:r[a]}}if(o.length){var s=o[0];return{candidateKey:s,candidateValue:r[s]}}return{}}},{key:"showCandidatesBox",value:function(t,e,n){var r=this;this.candidateBox&&this.candidateBox.show({candidateValue:e,targetElement:n,onSelect:function(e,n){var i=r.options,o=i.layoutCandidatesCaseSensitiveMatch,a=i.disableCandidateNormalization,s=i.enableLayoutCandidatesKeyPress,l=e;a||(l=e.normalize("NFD")),"function"==typeof r.options.beforeInputUpdate&&r.options.beforeInputUpdate(r);var u=r.getInput(r.options.inputName,!0),c=r.getCaretPositionEnd()||0,p=u.substring(0,c||0)||u,d=new RegExp("".concat(r.utilities.escapeRegex(t),"$"),o?"g":"gi"),h=p.replace(d,l),f=u.replace(p,h),m=h.length-p.length,g=(c||u.length)+m;g<0&&(g=0),r.setInput(f,r.options.inputName,!0),r.setCaretPosition(g),s&&"function"==typeof r.options.onKeyPress&&r.options.onKeyPress(e,n),"function"==typeof r.options.onChange&&r.options.onChange(r.getInput(r.options.inputName,!0),n),"function"==typeof r.options.onChangeAll&&r.options.onChangeAll(r.getAllInputs(),n)}})}},{key:"handleButtonClicked",value:function(t,e){var n=this.options,r=n.inputName,i=void 0===r?this.defaultName:r,o=n.debug;if("{//}"!==t){this.input[i]||(this.input[i]=""),"function"==typeof this.options.beforeInputUpdate&&this.options.beforeInputUpdate(this);var a=this.utilities.getUpdatedInput(t,this.input[i],this.caretPosition,this.caretPositionEnd);if(this.utilities.isStandardButton(t)&&this.activeInputElement&&this.input[i]&&this.input[i]===a&&0===this.caretPosition&&this.caretPositionEnd===a.length)return this.setInput("",this.options.inputName,!0),this.setCaretPosition(0),this.activeInputElement.value="",this.activeInputElement.setSelectionRange(0,0),void this.handleButtonClicked(t,e);if("function"==typeof this.options.onKeyPress&&this.options.onKeyPress(t,e),this.input[i]!==a&&(!this.options.inputPattern||this.options.inputPattern&&this.inputPatternIsValid(a))){if(this.options.maxLength&&this.utilities.handleMaxLength(this.input,a))return;var s=this.utilities.getUpdatedInput(t,this.input[i],this.caretPosition,this.caretPositionEnd,!0);if(this.setInput(s,this.options.inputName,!0),o&&console.log("Input changed:",this.getAllInputs()),this.options.debug&&console.log("Caret at: ",this.getCaretPosition(),this.getCaretPositionEnd(),"(".concat(this.keyboardDOMClass,")"),null==e?void 0:e.type),this.options.syncInstanceInputs&&this.syncInstanceInputs(),"function"==typeof this.options.onChange&&this.options.onChange(this.getInput(this.options.inputName,!0),e),"function"==typeof this.options.onChangeAll&&this.options.onChangeAll(this.getAllInputs(),e),null!=e&&e.target&&this.options.enableLayoutCandidates){var l,u=this.getInputCandidates(a),c=u.candidateKey,p=u.candidateValue;c&&p?this.showCandidatesBox(c,p,this.keyboardDOM):null===(l=this.candidateBox)||void 0===l||l.destroy()}}this.caretPositionEnd&&this.caretPosition!==this.caretPositionEnd&&(this.setCaretPosition(this.caretPositionEnd,this.caretPositionEnd),this.activeInputElement&&this.activeInputElement.setSelectionRange(this.caretPositionEnd,this.caretPositionEnd),this.options.debug&&console.log("Caret position aligned",this.caretPosition)),o&&console.log("Key pressed:",t)}}},{key:"getMouseHold",value:function(){return this.isMouseHold}},{key:"setMouseHold",value:function(t){this.options.syncInstanceInputs?this.dispatch((function(e){e.isMouseHold=t})):this.isMouseHold=t}},{key:"handleButtonMouseDown",value:function(t,e){var n=this;e&&(this.options.preventMouseDownDefault&&e.preventDefault(),this.options.stopMouseDownPropagation&&e.stopPropagation(),e.target.classList.add(this.activeButtonClass)),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),this.setMouseHold(!0),this.options.disableButtonHold||(this.holdTimeout=window.setTimeout((function(){(n.getMouseHold()&&(!t.includes("{")&&!t.includes("}")||"{delete}"===t||"{backspace}"===t||"{bksp}"===t||"{space}"===t||"{tab}"===t)||"{arrowright}"===t||"{arrowleft}"===t||"{arrowup}"===t||"{arrowdown}"===t)&&(n.options.debug&&console.log("Button held:",t),n.handleButtonHold(t)),clearTimeout(n.holdTimeout)}),500))}},{key:"handleButtonMouseUp",value:function(t,e){var n=this;e&&(this.options.preventMouseUpDefault&&e.preventDefault&&e.preventDefault(),this.options.stopMouseUpPropagation&&e.stopPropagation&&e.stopPropagation(),!(e.target===this.keyboardDOM||e.target&&this.keyboardDOM.contains(e.target)||this.candidateBox&&this.candidateBox.candidateBoxElement&&(e.target===this.candidateBox.candidateBoxElement||e.target&&this.candidateBox.candidateBoxElement.contains(e.target)))&&this.candidateBox&&this.candidateBox.destroy()),this.recurseButtons((function(t){t.classList.remove(n.activeButtonClass)})),this.setMouseHold(!1),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),t&&"function"==typeof this.options.onKeyReleased&&this.options.onKeyReleased(t,e)}},{key:"handleKeyboardContainerMouseDown",value:function(t){this.options.preventMouseDownDefault&&t.preventDefault()}},{key:"handleButtonHold",value:function(t){var e=this;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdInteractionTimeout=window.setTimeout((function(){e.getMouseHold()?(e.handleButtonClicked(t),e.handleButtonHold(t)):clearTimeout(e.holdInteractionTimeout)}),100)}},{key:"syncInstanceInputs",value:function(){var t=this;this.dispatch((function(e){e.replaceInput(t.input),e.setCaretPosition(t.caretPosition,t.caretPositionEnd)}))}},{key:"clearInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.inputName||this.defaultName;this.input[t]="",this.setCaretPosition(0),this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"getInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.inputName||this.defaultName,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.options.syncInstanceInputs&&!e&&this.syncInstanceInputs(),this.options.rtl?"‫"+this.input[t].replace("‫","").replace("‬","")+"‬":this.input[t]}},{key:"getAllInputs",value:function(){var t=this,e={};return Object.keys(this.input).forEach((function(n){e[n]=t.getInput(n,!0)})),e}},{key:"setInput",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.inputName||this.defaultName,n=arguments.length>2?arguments[2]:void 0;this.input[e]=t,!n&&this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"replaceInput",value:function(t){this.input=t}},{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.changedOptions(t);this.options=Object.assign(this.options,t),e.length&&(this.options.debug&&console.log("changedOptions",e),this.onSetOptions(e),this.render())}},{key:"changedOptions",value:function(t){var e=this;return Object.keys(t).filter((function(n){return JSON.stringify(t[n])!==JSON.stringify(e.options[n])}))}},{key:"onSetOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.includes("layoutName")&&this.candidateBox&&this.candidateBox.destroy(),(t.includes("layoutCandidatesPageSize")||t.includes("layoutCandidates"))&&this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=new x({utilities:this.utilities,options:this.options}))}},{key:"resetRows",value:function(){this.keyboardRowsDOM&&this.keyboardRowsDOM.remove(),this.keyboardDOM.className=this.keyboardDOMClass,this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),this.buttonElements={}}},{key:"dispatch",value:function(t){if(!window.SimpleKeyboardInstances)throw console.warn("SimpleKeyboardInstances is not defined. Dispatch cannot be called."),new Error("INSTANCES_VAR_ERROR");return Object.keys(window.SimpleKeyboardInstances).forEach((function(e){t(window.SimpleKeyboardInstances[e],e)}))}},{key:"addButtonTheme",value:function(t,e){var n=this;e&&t&&(t.split(" ").forEach((function(r){e.split(" ").forEach((function(e){n.options.buttonTheme||(n.options.buttonTheme=[]);var i=!1;n.options.buttonTheme.map((function(t){if(null!=t&&t.class.split(" ").includes(e)){i=!0;var n=t.buttons.split(" ");n.includes(r)||(i=!0,n.push(r),t.buttons=n.join(" "))}return t})),i||n.options.buttonTheme.push({class:e,buttons:t})}))})),this.render())}},{key:"removeButtonTheme",value:function(t,e){var n=this;if(!t&&!e)return this.options.buttonTheme=[],void this.render();t&&Array.isArray(this.options.buttonTheme)&&this.options.buttonTheme.length&&(t.split(" ").forEach((function(t){var r;null===(r=n.options)||void 0===r||null===(r=r.buttonTheme)||void 0===r||r.map((function(r,i){if(r&&e&&e.includes(r.class)||!e){var o,a,s=null===(o=r)||void 0===o?void 0:o.buttons.split(" ").filter((function(e){return e!==t}));r&&null!=s&&s.length?r.buttons=s.join(" "):(null===(a=n.options.buttonTheme)||void 0===a||a.splice(i,1),r=null)}return r}))})),this.render())}},{key:"getButtonElement",value:function(t){var e,n=this.buttonElements[t];return n&&(e=n.length>1?n:n[0]),e}},{key:"inputPatternIsValid",value:function(t){var e,n=this.options.inputPattern;if((e=n instanceof RegExp?n:n[this.options.inputName||this.defaultName])&&t){var r=e.test(t);return this.options.debug&&console.log('inputPattern ("'.concat(e,'"): ').concat(r?"passed":"did not pass!")),r}return!0}},{key:"setEventListeners",value:function(){if(this.isFirstKeyboardInstance||!this.allKeyboardInstances){this.options.debug&&console.log("Caret handling started (".concat(this.keyboardDOMClass,")"));var t=this.options.physicalKeyboardHighlightPreventDefault,e=void 0!==t&&t;document.addEventListener("keyup",this.handleKeyUp,e),document.addEventListener("keydown",this.handleKeyDown,e),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchend",this.handleTouchEnd),this.options.updateCaretOnSelectionChange&&document.addEventListener("selectionchange",this.handleSelectionChange),document.addEventListener("select",this.handleSelect)}}},{key:"handleKeyUp",value:function(t){this.caretEventHandler(t),this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyUp(t)}},{key:"handleKeyDown",value:function(t){this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyDown(t)}},{key:"handleMouseUp",value:function(t){this.caretEventHandler(t)}},{key:"handleTouchEnd",value:function(t){this.caretEventHandler(t)}},{key:"handleSelect",value:function(t){this.caretEventHandler(t)}},{key:"handleSelectionChange",value:function(t){navigator.userAgent.includes("Firefox")||this.caretEventHandler(t)}},{key:"caretEventHandler",value:function(t){var e,n=this;t.target.tagName&&(e=t.target.tagName.toLowerCase()),this.dispatch((function(r){var i=t.target===r.keyboardDOM||t.target&&r.keyboardDOM.contains(t.target);if(n.options.syncInstanceInputs&&Array.isArray(t.path)&&(i=t.path.some((function(t){var e;return null==t||null===(e=t.hasAttribute)||void 0===e?void 0:e.call(t,"data-skInstance")}))),("textarea"===e||"input"===e&&["text","search","url","tel","password"].includes(t.target.type))&&!r.options.disableCaretPositioning){var o=t.target.selectionStart,a=t.target.selectionEnd;r.options.rtl&&(o=r.utilities.getRtlOffset(o,r.getInput()),a=r.utilities.getRtlOffset(a,r.getInput())),r.setCaretPosition(o,a),r.activeInputElement=t.target,r.options.debug&&console.log("Caret at: ",r.getCaretPosition(),r.getCaretPositionEnd(),t&&t.target.tagName.toLowerCase(),"(".concat(r.keyboardDOMClass,")"),null==t?void 0:t.type)}else!r.options.disableCaretPositioning&&i||"selectionchange"===(null==t?void 0:t.type)||(r.setCaretPosition(null),r.activeInputElement=null,r.options.debug&&console.log('Caret position reset due to "'.concat(null==t?void 0:t.type,'" event'),t))}))}},{key:"recurseButtons",value:function(t){var e=this;t&&Object.keys(this.buttonElements).forEach((function(n){return e.buttonElements[n].forEach(t)}))}},{key:"destroy",value:function(){this.options.debug&&console.log("Destroying simple-keyboard instance: ".concat(this.currentInstanceName));var t=this.options.physicalKeyboardHighlightPreventDefault,e=void 0!==t&&t;document.removeEventListener("keyup",this.handleKeyUp,e),document.removeEventListener("keydown",this.handleKeyDown,e),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchend",this.handleTouchEnd),document.removeEventListener("select",this.handleSelect),this.options.updateCaretOnSelectionChange&&document.removeEventListener("selectionchange",this.handleSelectionChange),document.onpointerup=null,document.ontouchend=null,document.ontouchcancel=null,document.onmouseup=null,this.recurseButtons((function(t){t&&(t.onpointerdown=null,t.onpointerup=null,t.onpointercancel=null,t.ontouchstart=null,t.ontouchend=null,t.ontouchcancel=null,t.onclick=null,t.onmousedown=null,t.onmouseup=null,t.remove(),t=null)})),this.keyboardDOM.onpointerdown=null,this.keyboardDOM.ontouchstart=null,this.keyboardDOM.onmousedown=null,this.resetRows(),this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=null),this.activeInputElement=null,this.keyboardDOM.removeAttribute("data-skInstance"),this.keyboardDOM.innerHTML="",window.SimpleKeyboardInstances[this.currentInstanceName]=null,delete window.SimpleKeyboardInstances[this.currentInstanceName],this.initialized=!1}},{key:"getButtonThemeClasses",value:function(t){var e=this.options.buttonTheme,n=[];return Array.isArray(e)&&e.forEach((function(e){if(e&&e.class&&"string"==typeof e.class&&e.buttons&&"string"==typeof e.buttons){var r=e.class.split(" ");e.buttons.split(" ").includes(t)&&(n=[].concat(w(n),w(r)))}else console.warn('Incorrect "buttonTheme". Please check the documentation.',e)})),n}},{key:"setDOMButtonAttributes",value:function(t,e){var n=this.options.buttonAttributes;Array.isArray(n)&&n.forEach((function(n){n.attribute&&"string"==typeof n.attribute&&n.value&&"string"==typeof n.value?n.buttons&&"string"==typeof n.buttons?n.buttons.split(" ").includes(t)&&e(n.attribute,n.value):e(n.attribute,n.value):console.warn('Incorrect "buttonAttributes". Please check the documentation.',n)}))}},{key:"onTouchDeviceDetected",value:function(){this.processAutoTouchEvents(),this.disableContextualWindow()}},{key:"disableContextualWindow",value:function(){window.oncontextmenu=function(t){var e;if(null!==(e=t.target.classList)&&void 0!==e&&e.contains("hg-button"))return t.preventDefault(),t.stopPropagation(),!1}}},{key:"processAutoTouchEvents",value:function(){this.options.autoUseTouchEvents&&(this.options.useTouchEvents=!0,this.options.debug&&console.log("autoUseTouchEvents: Touch device detected, useTouchEvents enabled."))}},{key:"onInit",value:function(){this.options.debug&&console.log("".concat(this.keyboardDOMClass," Initialized")),this.setEventListeners(),"function"==typeof this.options.onInit&&this.options.onInit(this)}},{key:"beforeFirstRender",value:function(){this.utilities.isTouchDevice()&&this.onTouchDeviceDetected(),"function"==typeof this.options.beforeFirstRender&&this.options.beforeFirstRender(this),this.isFirstKeyboardInstance&&this.utilities.pointerEventsSupported()&&!this.options.useTouchEvents&&!this.options.useMouseEvents&&this.options.debug&&console.log("Using PointerEvents as it is supported by this browser"),this.options.useTouchEvents&&this.options.debug&&console.log("useTouchEvents has been enabled. Only touch events will be used.")}},{key:"beforeRender",value:function(){"function"==typeof this.options.beforeRender&&this.options.beforeRender(this)}},{key:"onRender",value:function(){"function"==typeof this.options.onRender&&this.options.onRender(this)}},{key:"onModulesLoaded",value:function(){"function"==typeof this.options.onModulesLoaded&&this.options.onModulesLoaded(this)}},{key:"loadModules",value:function(){var t=this;Array.isArray(this.options.modules)&&(this.options.modules.forEach((function(e){var n=t.utilities.isConstructor(e)?new e(t):e(t);n.init&&n.init(t)})),this.keyboardPluginClasses="modules-loaded",this.render(),this.onModulesLoaded())}},{key:"getModuleProp",value:function(t,e){return!!this.modules[t]&&this.modules[t][e]}},{key:"getModulesList",value:function(){return Object.keys(this.modules)}},{key:"parseRowDOMContainers",value:function(t,e,n,r){var i=this,o=Array.from(t.children),a=0;return o.length&&n.forEach((function(n,s){var l=r[s];if(!(l&&l>n))return!1;var u=n-a,c=l-a,p=document.createElement("div");p.className+="hg-button-container";var d="".concat(i.options.layoutName,"-r").concat(e,"c").concat(s);p.setAttribute("data-skUID",d);var h=o.splice(u,c-u+1);a+=c-u,h.forEach((function(t){return p.appendChild(t)})),o.splice(u,0,p),t.innerHTML="",o.forEach((function(e){return t.appendChild(e)})),i.options.debug&&console.log("rowDOMContainer",h,u,c,a+1)})),t}},{key:"render",value:function(){var t=this;this.resetRows(),this.initialized||this.beforeFirstRender(),this.beforeRender();var e="hg-layout-".concat(this.options.layoutName),n=this.options.layout||{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]},r=this.options.useTouchEvents||!1,i=r?"hg-touch-events":"",o=this.options.useMouseEvents||!1,a=this.options.disableRowButtonContainers;this.keyboardDOM.className=this.getKeyboardClassString(this.options.theme,e,this.keyboardPluginClasses,i),this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),this.keyboardRowsDOM=document.createElement("div"),this.keyboardRowsDOM.className="hg-rows",n[this.options.layoutName||this.defaultName].forEach((function(e,n){var i=e.split(" ");t.options.excludeFromLayout&&t.options.excludeFromLayout[t.options.layoutName||t.defaultName]&&(i=i.filter((function(e){return t.options.excludeFromLayout&&!t.options.excludeFromLayout[t.options.layoutName||t.defaultName].includes(e)})));var s=document.createElement("div");s.className+="hg-row";var l=[],u=[];i.forEach((function(e,i){var c,p=!a&&"string"==typeof e&&e.length>1&&0===e.indexOf("["),d=!a&&"string"==typeof e&&e.length>1&&e.indexOf("]")===e.length-1;p&&(l.push(i),e=e.replace(/\[/g,"")),d&&(u.push(i),e=e.replace(/\]/g,""));var h=t.utilities.getButtonClass(e),f=t.utilities.getButtonDisplayName(e,t.options.display,t.options.mergeDisplay),m=t.options.useButtonTag?"button":"div",g=document.createElement(m);g.className+="hg-button ".concat(h),(c=g.classList).add.apply(c,w(t.getButtonThemeClasses(e))),t.setDOMButtonAttributes(e,(function(t,e){g.setAttribute(t,e)})),t.activeButtonClass="hg-activeButton",!t.utilities.pointerEventsSupported()||r||o?r?(g.ontouchstart=function(n){t.handleButtonClicked(e,n),t.handleButtonMouseDown(e,n)},g.ontouchend=function(n){t.handleButtonMouseUp(e,n)},g.ontouchcancel=function(n){t.handleButtonMouseUp(e,n)}):(g.onclick=function(n){t.setMouseHold(!1),"function"==typeof t.options.onKeyReleased||t.options.useMouseEvents&&t.options.clickOnMouseDown||t.handleButtonClicked(e,n)},g.onmousedown=function(n){("function"==typeof t.options.onKeyReleased||t.options.useMouseEvents&&t.options.clickOnMouseDown)&&!t.isMouseHold&&t.handleButtonClicked(e,n),t.handleButtonMouseDown(e,n)},g.onmouseup=function(n){t.handleButtonMouseUp(e,n)}):(g.onpointerdown=function(n){t.handleButtonClicked(e,n),t.handleButtonMouseDown(e,n)},g.onpointerup=function(n){t.handleButtonMouseUp(e,n)},g.onpointercancel=function(n){t.handleButtonMouseUp(e,n)}),g.setAttribute("data-skBtn",e);var y="".concat(t.options.layoutName,"-r").concat(n,"b").concat(i);g.setAttribute("data-skBtnUID",y);var v=document.createElement("span");v.innerHTML=f,g.appendChild(v),t.buttonElements[e]||(t.buttonElements[e]=[]),t.buttonElements[e].push(g),s.appendChild(g)})),s=t.parseRowDOMContainers(s,n,l,u),t.keyboardRowsDOM.appendChild(s)})),this.keyboardDOM.appendChild(this.keyboardRowsDOM),this.onRender(),this.initialized||(this.initialized=!0,!this.utilities.pointerEventsSupported()||r||o?r?(document.ontouchend=function(e){return t.handleButtonMouseUp(void 0,e)},document.ontouchcancel=function(e){return t.handleButtonMouseUp(void 0,e)},this.keyboardDOM.ontouchstart=function(e){return t.handleKeyboardContainerMouseDown(e)}):r||(document.onmouseup=function(e){return t.handleButtonMouseUp(void 0,e)},this.keyboardDOM.onmousedown=function(e){return t.handleKeyboardContainerMouseDown(e)}):(document.onpointerup=function(e){return t.handleButtonMouseUp(void 0,e)},this.keyboardDOM.onpointerdown=function(e){return t.handleKeyboardContainerMouseDown(e)}),this.onInit())}}])&&E(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),A=M;return r}()},981:function(){"undefined"==typeof Element||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"undefined"!=typeof self&&"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(t){"use strict";if("Element"in t){var e="classList",n="prototype",r=t.Element[n],i=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new s("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","The token must not contain space characters.");return a.call(t,e)},u=function(t){for(var e=o.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},c=u[n]=[],p=function(){return new u(this)};if(s[n]=Error[n],c.item=function(t){return this[t]||null},c.contains=function(t){return~l(this,t+"")},c.add=function(){var t,e=arguments,n=0,r=e.length,i=!1;do{~l(this,t=e[n]+"")||(this.push(t),i=!0)}while(++n<r);i&&this._updateClassName()},c.remove=function(){var t,e,n=arguments,r=0,i=n.length,o=!1;do{for(e=l(this,t=n[r]+"");~e;)this.splice(e,1),o=!0,e=l(this,t)}while(++r<i);o&&this._updateClassName()},c.toggle=function(t,e){var n=this.contains(t),r=n?!0!==e&&"remove":!1!==e&&"add";return r&&this[r](t),!0===e||!1===e?e:!n},c.replace=function(t,e){var n=l(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},c.toString=function(){return this.join(" ")},i.defineProperty){var d={get:p,enumerable:!0,configurable:!0};try{i.defineProperty(r,e,d)}catch(t){void 0!==t.number&&-2146823252!==t.number||(d.enumerable=!1,i.defineProperty(r,e,d))}}else i[n].__defineGetter__&&r.__defineGetter__(e,p)}}(self),function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,r=arguments.length;for(n=0;n<r;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),r=n.indexOf(t+"");~r&&(n=n.slice(r),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}())}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return function(){"use strict";n.r(i),n.d(i,{KeyboardReact:function(){return c},default:function(){return p}}),n(981);var t=n(442),e=n(548),r=n.n(e);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=function(t){return s(s({},t),{},{keyboardRef:null})},c=function(e){var n=e.baseClass||"react-simple-keyboard",i=t.useRef(null),o=t.useRef(null),a=t.useRef(null),l=t.useRef(e);return t.useEffect((function(){return function(){a.current&&a.current.destroy(),i.current=!1}}),[]),t.useEffect((function(){var t=function(t){return s(s({},t),{},{theme:"simple-keyboard ".concat(t.theme||"hg-theme-default")})}(e);if(!i.current){i.current=!0,t.debug&&console.log("ReactSimpleKeyboard: Init");var c=o.current,p=".".concat(n);a.current=new(r())(c||p,t),t.keyboardRef&&t.keyboardRef(a.current)}var d=function(t,e){var n=u(e),r=u(t);return Object.keys(n).filter((function(t){return n[t]!==r[t]}))}(l.current,t);if(d.length){var h=a.current;l.current=t,null==h||h.setOptions(t),t.debug&&console.log("ReactSimpleKeyboard - setOptions called due to updated props:",d)}}),[i,n,l,e]),t.createElement("div",{className:n,ref:o})},p=c}(),i}())},function(t,e,n){var r=n(276),i=n(907);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){"use strict";n.r(e);var r=n(181),i=n.n(r)()(!1);i.push([t.i,'/*!\n * \n *   react-simple-keyboard v3.8.132\n *   https://github.com/hodgef/react-simple-keyboard\n *\n *   Copyright (c) Francisco Hodge (https://github.com/hodgef) and project contributors.\n *\n *   This source code is licensed under the MIT license found in the\n *   LICENSE file in the root directory of this source tree.\n *\n */\n/*!\n * \n *   simple-keyboard v3.8.88\n *   https://github.com/hodgef/simple-keyboard\n *\n *   Copyright (c) Francisco Hodge (https://github.com/hodgef) and project contributors.\n *\n *   This source code is licensed under the MIT license found in the\n *   LICENSE file in the root directory of this source tree.\n *\n */.hg-theme-default{background-color:#ececec;border-radius:5px;box-sizing:border-box;font-family:HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;overflow:hidden;padding:5px;touch-action:manipulation;-webkit-user-select:none;user-select:none;width:100%}.hg-theme-default .hg-button span,.hg-theme-default .hg-button span svg{pointer-events:none}.hg-theme-default button.hg-button{border-width:0;font-size:inherit}.hg-theme-default .hg-button{display:inline-block;flex-grow:1}.hg-theme-default .hg-row{display:flex}.hg-theme-default .hg-row:not(:last-child){margin-bottom:5px}.hg-theme-default .hg-row .hg-button-container,.hg-theme-default .hg-row .hg-button:not(:last-child){margin-right:5px}.hg-theme-default .hg-row>div:last-child{margin-right:0}.hg-theme-default .hg-row .hg-button-container{display:flex}.hg-theme-default .hg-button{align-items:center;background:#fff;border-bottom:1px solid #b5b5b5;border-radius:5px;box-shadow:0 0 3px -1px rgba(0,0,0,.3);box-sizing:border-box;cursor:pointer;display:flex;height:40px;justify-content:center;padding:5px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.hg-theme-default .hg-button.hg-standardBtn{width:20px}.hg-theme-default .hg-button.hg-activeButton{background:#efefef}.hg-theme-default.hg-layout-numeric .hg-button{align-items:center;display:flex;height:60px;justify-content:center;width:33.3%}.hg-theme-default .hg-button.hg-button-numpadadd,.hg-theme-default .hg-button.hg-button-numpadenter{height:85px}.hg-theme-default .hg-button.hg-button-numpad0{width:105px}.hg-theme-default .hg-button.hg-button-com{max-width:85px}.hg-theme-default .hg-button.hg-standardBtn.hg-button-at{max-width:45px}.hg-theme-default .hg-button.hg-selectedButton{background:rgba(5,25,70,.53);color:#fff}.hg-theme-default .hg-button.hg-standardBtn[data-skbtn=".com"]{max-width:82px}.hg-theme-default .hg-button.hg-standardBtn[data-skbtn="@"]{max-width:60px}.hg-candidate-box{background:#ececec;border-bottom:2px solid #b5b5b5;border-radius:5px;display:inline-flex;margin-top:-10px;position:absolute;transform:translateY(-100%);-webkit-user-select:none;user-select:none}ul.hg-candidate-box-list{display:flex;flex:1;list-style:none;margin:0;padding:0}li.hg-candidate-box-list-item{align-items:center;display:flex;height:40px;justify-content:center;width:40px}li.hg-candidate-box-list-item:hover{background:rgba(0,0,0,.03);cursor:pointer}li.hg-candidate-box-list-item:active{background:rgba(0,0,0,.1)}.hg-candidate-box-prev:before{content:"◄"}.hg-candidate-box-next:before{content:"►"}.hg-candidate-box-next,.hg-candidate-box-prev{align-items:center;color:#969696;cursor:pointer;display:flex;padding:0 10px}.hg-candidate-box-next{border-bottom-right-radius:5px;border-top-right-radius:5px}.hg-candidate-box-prev{border-bottom-left-radius:5px;border-top-left-radius:5px}.hg-candidate-box-btn-active{color:#444}',""]),e.default=i},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a=r(n(10)),s=r(n(21)),l=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),u=r(n(48)),c=r(n(155)),p=r(n(45)),d=r(n(7)),h=r(n(389)),f=n(38),m=n(152);e.default=function(t){let{onSuccess:e,mobile:n}=t;const{loginSubmitting:r,resetSubmitting:g,input:y,onChange:v,onSubmit:_,onResetPassword:b}=(0,h.default)(n),x=(0,l.useRef)(),w=(0,l.useCallback)(function(){var t=(0,s.default)((function*(t){t.preventDefault();(yield _()).success&&e()}));return function(e){return t.apply(this,arguments)}}(),[_]);(0,l.useEffect)((function(){function t(t){var e;"Enter"===t.key&&(null===(e=x.current)||void 0===e||e.click())}return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[]);const k=(0,l.useCallback)((0,s.default)((function*(){const t=yield b();t.success&&e(t.data)})),[b]);return(0,a.default)(m.Container,{},void 0,(0,a.default)(f.SmallTitle,{},void 0,d.default.formalSpeech?"لطفا رمز ورود خود را وارد نمایید":"رمز ورودت رو وارد کن"),(0,a.default)(m.Form,{},void 0,(0,a.default)(c.default,{type:"password",name:"password",label:"رمز ورود",value:y.value,onChange:function(t){return v(t.target.value)},error:y.error,align:"center",ltr:!0}),(0,a.default)(u.default,{innerRef:x,block:!0,color:"primary",onClick:w,loading:r,type:"submit"},void 0,i||(i=(0,a.default)(p.default,{name:"angle-left",align:"left"})),"ورود")),(0,a.default)(m.ResetHolder,{},void 0,g?o||(o=(0,a.default)("small",{},void 0,(0,a.default)(f.Spinner,{})," در حال ارسال کد به موبایل شما ...")):(0,a.default)(u.default,{link:!0,color:"primary",onClick:k},void 0,(0,a.default)("small",{},void 0,d.default.formalSpeech?"رمز عبور خود را فراموش کرده‌اید؟":"رمز عبورت رو فراموش کردی؟"))))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s=r(n(10)),l=r(n(21)),u=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),c=r(n(911)),p=r(n(48)),d=r(n(7)),h=n(38),f=r(n(912)),m=n(152);e.default=function(t){let{onSuccess:e,mobile:n}=t;const{submitting:r,input:g,smsCountdown:y,callCountdown:v,onCall:_,onChange:b}=(0,f.default)(n),x=(0,u.useCallback)(function(){var t=(0,l.default)((function*(t){const n=yield b(t);n.success&&e(n.data)}));return function(e){return t.apply(this,arguments)}}(),[b]);return(0,s.default)(m.Container,{},void 0,(0,s.default)(h.SmallTitle,{},void 0,d.default.formalSpeech?"لطفا كد ارسالی را اينجا وارد نماييد":"کد ارسال شده به موبایلت رو وارد کن"),(0,s.default)(m.HeaderText,{},void 0,"شماره شما: ",(0,s.default)("span",{},void 0,n)),(0,s.default)(m.Form,{},void 0,(0,s.default)(m.VerificationHolder,{},void 0,(0,s.default)(c.default,{className:"verify-code".concat(g.error?" has-error":""),type:"text",name:"code",fields:4,value:g.value,inputmode:"numeric",pattern:"[0-9]*",onChange:x,autocomplete:"one-time-code"}),!r&&g.error&&(0,s.default)(m.Hint,{$color:"danger"},void 0,g.error),r&&(i||(i=(0,s.default)(m.Hint,{$color:"grayDark"},void 0,(0,s.default)(h.Spinner,{})," در حال بررسی کد تایید")))),y>0?(0,s.default)(m.Text,{},void 0,d.default.formalSpeech?"هنوز كد ارسالی به دست شما نرسيده؟ لطفا":"اگه پیامک دریافت نکردی",(0,s.default)("strong",{},void 0,"00:","0".concat(y).slice(-2)),d.default.formalSpeech?"ثانیه منتظر بمانید":"ثانیه منتظر بمون"):(0,s.default)(m.SendByPhone,{},void 0,v>0?o||(o=(0,s.default)("small",{},void 0,"تا لحظاتی دیگر با شما تماس میگیریم ...")):(0,s.default)("small",{},void 0,d.default.formalSpeech?"اگر کد ارسالی نرسیده است":"اگه پیامک دریافت نکردی"),(0,s.default)(p.default,{size:"sm",block:!0,icon:"mobile",disabled:v>0,onClick:_},void 0,"دریافت از طریق تماس"),a||(a=(0,s.default)(m.Text,{},void 0,"شماره پشتیبانی:"," ",(0,s.default)("a",{href:"tel:021-91003636"},void 0,"91003636"))))))}},function(t,e,n){var r;"undefined"!=typeof self&&self,t.exports=(r=n(0),function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=c(o),s=c(n(2)),l=c(n(5)),u=n(6);function c(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=t.fields,i=t.type,o=t.isValid,a=t.disabled,s=t.filterKeyCodes,l=t.forceUppercase,c=t.value;l&&(c=c.toUpperCase()),n.state={value:c,fields:r,type:i,input:[],isValid:o,disabled:a,filterKeyCodes:s,defaultInputStyle:{fontFamily:"monospace",MozAppearance:"textfield",borderRadius:"6px",border:"1px solid",boxShadow:"0px 0px 10px 0px rgba(0,0,0,.10)",margin:"4px",paddingLeft:"8px",width:"36px",height:"42px",fontSize:"32px",boxSizing:"border-box"}};for(var p=0;p<Number(n.state.fields);p+=1)if(p<32){var d=n.state.value[p]||"";n.state.input.push(d)}return n.textInput=[],n.uuid=(0,u.uuidv4)(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Component),i(e,[{key:"UNSAFE_componentWillReceiveProps",value:function(t){this.setState({isValid:t.isValid,value:t.value,disabled:t.disabled})}},{key:"handleBlur",value:function(t){this.handleTouch(t.target.value)}},{key:"handleTouch",value:function(t){var e=this.props,n=e.touch,r=e.untouch,i=e.name;"function"==typeof n&&"function"==typeof r&&(""===t?n(i):r(i))}},{key:"handleChange",value:function(t){var e=this,n=this.props.filterChars,r=String(t.target.value);this.props.forceUppercase&&(r=r.toUpperCase()),"number"===this.state.type&&(r=r.replace(/[^\d]/g,""));var i=r=r.split("").filter((function(t){return!n.includes(t)})).join("");if(""!==r){var o=this.state.input.slice();r.length>1?r.split("").map((function(n,r){return Number(t.target.dataset.id)+r<e.props.fields&&(o[Number(t.target.dataset.id)+r]=n),!1})):o[Number(t.target.dataset.id)]=r,o.map((function(t,n){return e.textInput[n]&&(e.textInput[n].value=t),!1}));var a=this.textInput[t.target.dataset.id<o.length?Number(t.target.dataset.id)+1:t.target.dataset.id];a&&(a.focus(),a.select()),i=o.join(""),this.setState({value:o.join(""),input:o})}this.props.onChange&&i&&this.props.onChange(i),this.handleTouch(i)}},{key:"handleKeyDown",value:function(t){var e=Number(t.target.dataset.id),n=this.textInput[e+1],r=this.textInput[e-1],i=void 0,o=void 0;switch(this.state.filterKeyCodes.length>0&&this.state.filterKeyCodes.map((function(e){if(e===t.keyCode)return t.preventDefault(),!0})),t.keyCode){case 8:t.preventDefault(),this.textInput[e].value="",(i=this.state.input.slice())[e]="",o=i.join(""),this.setState({value:o,input:i}),""===this.textInput[e].value&&r&&(r.focus(),r.select()),this.props.onChange&&this.props.onChange(o);break;case 37:t.preventDefault(),r&&(r.focus(),r.select());break;case 39:t.preventDefault(),n&&(n.focus(),n.select());break;case 38:case 40:t.preventDefault();break;case 69:if("number"===t.target.type){t.preventDefault();break}}this.handleTouch(o)}},{key:"render",value:function(){var t=this,e=this.props,n=e.className,i=e.style,o=void 0===i?{}:i,s=e.inputStyle,u=void 0===s?{}:s,c=e.inputStyleInvalid,p=void 0===c?{}:c,d=e.type,h=e.autoFocus,f=e.pattern,m=e.inputMode,g=this.state,y=g.disabled,v=g.input,_=g.isValid,b=g.defaultInputStyle,x={container:o,input:_?u:p};return Object.assign(x.container,{display:"inline-block"}),n||0!==Object.keys(u).length||Object.assign(u,r({},b,{color:"black",backgroundColor:"white",borderColor:"lightgrey"})),n||0!==Object.keys(p).length||Object.assign(p,r({},b,{color:"#b94a48",backgroundColor:"#f2dede",borderColor:"#eed3d7"})),y&&Object.assign(x.input,{cursor:"not-allowed",color:"lightgrey",borderColor:"lightgrey",backgroundColor:"#efeff1"}),a.default.createElement("div",{className:(0,l.default)(n,"react-code-input"),style:x.container},v.map((function(e,n){return a.default.createElement("input",{ref:function(e){t.textInput[n]=e},id:t.uuid+"-"+n,"data-id":n,autoFocus:h&&0===n?"autoFocus":"",value:e,key:"input_"+n,type:d,min:0,max:9,maxLength:v.length===n+1?1:v.length,style:x.input,autoComplete:"off",onFocus:function(t){return t.target.select(t)},onBlur:function(e){return t.handleBlur(e)},onChange:function(e){return t.handleChange(e)},onKeyDown:function(e){return t.handleKeyDown(e)},disabled:y,"data-valid":_,pattern:f,inputMode:m})})))}}]),e}();p.defaultProps={autoFocus:!0,isValid:!0,disabled:!1,forceUppercase:!1,fields:4,value:"",type:"text",filterKeyCodes:[189,190],filterChars:["-","."]},p.propTypes={type:s.default.oneOf(["text","number","password","tel"]),fields:s.default.number,value:s.default.string,onChange:s.default.func,name:s.default.string,touch:s.default.func,untouch:s.default.func,className:s.default.string,isValid:s.default.bool,disabled:s.default.bool,style:s.default.object,inputStyle:s.default.object,inputStyleInvalid:s.default.object,autoFocus:s.default.bool,forceUppercase:s.default.bool,filterKeyCodes:s.default.array,filterChars:s.default.array,pattern:s.default.string,inputMode:s.default.oneOf(["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"])},e.default=p},function(t,e){t.exports=r},function(t,e,n){t.exports=n(3)()},function(t,e,n){"use strict";var r=n(4);function i(){}t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=i,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&t.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}void 0!==t&&t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}}]))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13)),o=r(n(21)),a=n(0),s=n(913),l=n(105),u=n(69);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.default=function(t){const[e,n]=(0,a.useState)(!1),[r,i]=(0,a.useState)(59),[c,d]=(0,a.useState)(0),[h,f]=(0,a.useState)({value:"",error:""}),m=(0,a.useCallback)(function(){var t=(0,o.default)((function*(t){if(t.length<4)return f({value:t,error:""}),{success:!1};if(f((function(e){return p(p({},e),{},{value:t})})),4===t.length){return yield g(t)}return{success:!1}}));return function(e){return t.apply(this,arguments)}}(),[]),g=(0,a.useCallback)(function(){var e=(0,o.default)((function*(e){try{n(!0);const r=(0,u.toEnglishDigit)(e);return{success:!0,data:{token:yield(0,l.userVerifyMobile)(t,r)}}}catch(t){return n(!1),f((function(t){return p(p({},t),{},{error:"کد دسترسی اشتباه است!"})})),{success:!1}}}));return function(t){return e.apply(this,arguments)}}(),[t]),y=(0,a.useCallback)((0,o.default)((function*(){try{d(29),yield(0,l.userVerifyCall)(t)}catch(t){d(0)}})),[t]);return(0,s.useInterval)((function(){return i(r-1)}),r>0?1e3:null),(0,s.useInterval)((function(){return d(c-1)}),c>0?1e3:null),{submitting:e,input:h,smsCountdown:r,callCountdown:c,onChange:m,onCall:y}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useInterval=void 0;var r=n(0);e.useInterval=function(t,e){const n=(0,r.useRef)();(0,r.useEffect)((function(){n.current=t}),[t]),(0,r.useEffect)((function(){let t=null;return null!==e?(t=setInterval((function(){n.current()}),e),function(){return clearInterval(t)}):function(){return clearInterval(t)}}),[e])}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n(10)),a=r(n(21)),s=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),l=r(n(48)),u=r(n(45)),c=r(n(155)),p=r(n(427)),d=r(n(7)),h=n(38),f=r(n(916)),m=n(152);e.default=function(t){let{onSuccess:e,mobile:n,token:r}=t;const{submitting:g,values:y,errors:v,onChange:_,onSubmit:b}=(0,f.default)(n,r),x=(0,s.useCallback)(function(){var t=(0,a.default)((function*(t){t.preventDefault();(yield b()).success&&e()}));return function(e){return t.apply(this,arguments)}}(),[b]);return(0,o.default)(m.Container,{},void 0,(0,o.default)(h.SmallTitle,{},void 0,d.default.formalSpeech?"اطلاعات خود را وارد کنید":"اطلاعات خودت رو وارد کن"),(0,o.default)(m.Form,{className:"login-form"},void 0,(0,o.default)(c.default,{type:"text",name:"fullname",label:"نام و نام خانوادگی",value:y.fullname,error:v.fullname,onChange:function(t){return _(t.target.value,"fullname")}}),(0,o.default)(c.default,{type:"password",name:"password",label:"رمز عبور",value:y.password,error:v.password,onChange:function(t){return _(t.target.value,"password")},ltr:!0}),!1!==d.default.needEmail?(0,o.default)(c.default,{type:"text",name:"email",label:"ایمیل (اختیاری)",value:y.email,error:v.email,onChange:function(t){return _(t.target.value,"email")},ltr:!0}):null,!1!==d.default.needGender?(0,o.default)(m.GenderInput,{},void 0,(0,o.default)(p.default,{label:"جنسیت (اختیاری)",inline:!0},void 0,(0,o.default)(c.default,{type:"radio",name:"gender",value:"male",label:"آقا",checked:"male"===y.gender,onChange:function(t){return _(t,"gender")}}),(0,o.default)(c.default,{type:"radio",name:"gender",value:"female",label:"خانم",checked:"female"===y.gender,onChange:function(t){return _(t,"gender")}}))):null,(0,o.default)(l.default,{block:!0,loading:g,onClick:x},void 0,i||(i=(0,o.default)(u.default,{name:"angle-left",align:"left"})),"ذخیره")))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StyledGroup=e.Label=e.InputGroup=void 0;var r=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),i=n(42);e.StyledGroup=r.default.div.withConfig({componentId:"sc-8641q-0"})([""]),e.InputGroup=r.default.div.withConfig({componentId:"sc-8641q-1"})(["",""],(function(t){return t.$inline&&(0,r.css)(["display:flex;> div{margin-left:10px;&:last-child{margin-left:0;}}"])})),e.Label=r.default.label.withConfig({componentId:"sc-8641q-2"})(["margin-bottom:10px;display:block;font-size:",";"],(function(t){return(0,i.rem)(14,t.theme.fontSize.base)}))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(21)),o=r(n(13)),a=n(0),s=n(105),l=n(69);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const p={fullname:"",password:"",email:"",gender:""},d={male:!0,female:!1};e.default=function(t,e){const[n,r]=(0,a.useState)(!1),[o,u]=(0,a.useState)(p),[h,f]=(0,a.useState)(p),m=(0,a.useCallback)((function(t,e){""===t&&f((function(n){return c(c({},n),{},{[e]:t})})),u((function(n){return c(c({},n),{},{[e]:t})}))}),[]),g=(0,a.useCallback)((0,i.default)((function*(){const n={};if(o.fullname?o.fullname.length<3&&(n.fullname="نام شما بایستی حداقل 3 کاراکتر باشد"):n.fullname="لطفا نام خودت رو وارد کن",o.password?o.password.length<6&&(n.password="رمز عبور شما بایستی حداقل 6 کاراکتر باشد"):n.password="لطفا رمز عبور خودت رو وارد کن",o.email&&!(0,l.validateEmail)(o.email)&&(n.email="ایمیل خودت رو صحیح وارد کن"),Object.keys(n).length)return f((function(t){return c(c({},t),n)})),{success:!1};r(!0);try{return yield(0,s.userRegister)(t,c(c({},o),{},{gender:o.gender?d[o.gender]:null}),e),{success:!0}}catch(t){return r(!1),f((function(t){return c(c({},t),{},{newPasswordRepeat:"خطایی رخ داده است، دوباره تلاش کنید."})})),{success:!1}}})),[o]);return{submitting:n,values:o,errors:h,onChange:m,onSubmit:g}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(10)),o=r(n(21)),a=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),s=r(n(48)),l=r(n(155)),u=r(n(918)),c=r(n(7)),p=n(38),d=n(152);e.default=function(t){let{onSuccess:e,token:n,mobile:r}=t;const{submitting:h,values:f,errors:m,onChange:g,onSubmit:y}=(0,u.default)(r,n),v=(0,a.useCallback)(function(){var t=(0,o.default)((function*(t){t.preventDefault();(yield y()).success&&e()}));return function(e){return t.apply(this,arguments)}}(),[y]);return(0,i.default)(d.Container,{},void 0,(0,i.default)(p.SmallTitle,{},void 0,c.default.formalSpeech?"لطفا رمز ورود جديد خود را وارد نماييد":"رمز عبور جدیدت رو وارد کن"),(0,i.default)(d.Form,{},void 0,(0,i.default)(l.default,{type:"password",name:"newPassword",label:"رمز ورود جدید",value:f.newPassword,error:m.newPassword,onChange:function(t){return g(t.target.value,"newPassword")},align:"center",ltr:!0}),(0,i.default)(l.default,{type:"password",name:"newPasswordRepeat",label:"تکرار رمز جدید",value:f.newPasswordRepeat,error:m.newPasswordRepeat,onChange:function(t){return g(t.target.value,"newPasswordRepeat")},align:"center",ltr:!0}),(0,i.default)(s.default,{block:!0,color:"primary",loading:h,onClick:v},void 0,"تغییر رمز ورود")))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(21)),o=r(n(13)),a=n(0),s=n(105);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const c={newPassword:"",newPasswordRepeat:""};e.default=function(t,e){const[n,r]=(0,a.useState)(!1),[o,l]=(0,a.useState)(c),[p,d]=(0,a.useState)(c),h=(0,a.useCallback)((function(t,e){""===t&&d((function(n){return u(u({},n),{},{[e]:t})})),l((function(n){return u(u({},n),{},{[e]:t})}))}),[]),f=(0,a.useCallback)((0,i.default)((function*(){const n={};if(o.newPassword?o.newPassword.length<6&&(n.newPassword="کلمه عبور جدید شما بایستی حداقل 6 کاراکتر باشد"):n.newPassword="لطفا کلمه عبور جدید خود را وارد کنید",o.newPasswordRepeat?o.newPassword&&o.newPassword!==o.newPasswordRepeat&&(n.newPasswordRepeat="کلمه عبور جدید شما با تکرار آن برابر نیست"):n.newPasswordRepeat="لطفا تکرار کلمه عبور جدید خود را وارد کنید",Object.keys(n).length)return d((function(t){return u(u({},t),n)})),{success:!1};r(!0);try{return yield(0,s.userChangePassword)(o.newPassword,e),yield(0,s.userLogin)(t,o.newPassword),{success:!0}}catch(t){return r(!1),d((function(t){return u(u({},t),{},{newPasswordRepeat:"خطایی رخ داده است، دوباره تلاش کنید."})})),{success:!1}}})),[o]);return{submitting:n,values:o,errors:p,onChange:h,onSubmit:f}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.StyledBranchList=e.MapWrapper=e.City=e.BranchItem=e.BranchHolder=void 0;var i,o,a,s=r(n(35)),l=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),u=n(33);e.MapWrapper=l.default.div.withConfig({componentId:"sc-f8oojh-0"})([".select-branch-from-map{padding:16px;}.mapboxgl-canvas{width:666px !important;}.neshan-wrapper{width:666px !important;max-height:fit-content}"]),e.BranchHolder=l.default.div.withConfig({componentId:"sc-f8oojh-1"})(["text-align:center;margin:20px auto;overflow-y:auto;direction:ltr;"," ",""],(function(t){return!t.isHome&&(0,l.css)(["width:90%;"])}),(function(t){return t.isPage&&(0,l.css)(["max-width:600px;background-color:",";border:1px solid ",";padding:50px 20px;"],t.theme.color.white,t.theme.color.border)})),e.StyledBranchList=l.default.ul.withConfig({componentId:"sc-f8oojh-2"})(["width:100%;list-style:none;text-align:right;direction:rtl;display:flex;flex-direction:column;justify-content:center;align-items:center;display:grid;grid-template-columns:",";gap:10px;"," display:grid;grid-template-columns:",";gap:10px;"," ",""],(function(t){return t.isModal?"repeat(3, 1fr)":t.isHome?"repeat(4, 1fr)":"repeat(2, 1fr)"}),u.breakpoint.lessThan("tablet")(i||(i=(0,s.default)(["\n\n\t\t  grid-template-columns: repeat(2, 1fr);\n\n\t"]))),(function(t){return t.branchLength<4?"repeat(".concat(t.branchLength,", 1fr)"):t.isModal?"repeat(3, 1fr)":"repeat(4, 1fr)"}),u.breakpoint.lessThan("tablet")(o||(o=(0,s.default)(["\n\n\t\t  grid-template-columns: repeat(2, 1fr);\n\n\t"]))),(function(t){return t.isPage?(0,l.css)(["padding:50px 0 20px;"]):(0,l.css)([""])})),e.BranchItem=l.default.li.withConfig({componentId:"sc-f8oojh-3"})(["width:100%;text-align:center;transition:none;display:inline-block;white-space:nowrap;border-radius:8px;overflow:hidden;position:relative;height:46px;"," .branch-title{color:#000;display:inline-block;position:absolute;bottom:11px;left:50%;transform:translate(-50%,0);}.animate{right:-11%;transform:none;animation:backAndForth 4s linear infinite;}"," a{padding:8px 24px;display:block;font-size:16px;font-style:normal;font-weight:400;line-height:24px;}@keyframes backAndForth{0%{transform:translateX(0);}25%{transform:translateX(30%);}50%{transform:translateX(0);}75%{transform:translateX(-30%);}100%{transform:translateX(0);}}"],(function(t){return t.isHome?(0,l.css)(["padding:10px;background-color:",";"],t.theme.color.white):(0,l.css)(["color:",";"],t.theme.color.textColor)}),u.breakpoint.greaterThan("tablet")(a||(a=(0,s.default)(["\n\n\t\t","\n\t"])),(function(t){return t.isPage&&(0,l.css)(["width:33%;"])}))),e.City=l.default.small.withConfig({componentId:"sc-f8oojh-4"})(["color:",";"],(function(t){return t.theme.color.grayMedium}))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(10)),o=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),a=r(n(921));n(925);r(n(229));var s=n(390),l=r(n(927)),u=r(n(928)),c=n(931),p=r(n(932)),d=n(933),h=r(n(7));const f=(0,d.getRestaurantMarkerUrl)(),m=(0,o.memo)((function(t){let{id:e,mapOptions:n,onInit:r,className:d,initialCenter:m,centerMarker:g=!1,marker:y,withSearchBar:v=!1,withGetLocationButton:_=!1,withZoomControl:b=!1,autoLocationRequest:x=!1,hasCustomMarkers:w=!1,clickToMark:k=!1,customMarkersList:S=[],onCustomMarkerClick:C,functionAfterFindLocation:E,onDropMarker:T,token:I,customMarkerAddress:M,centerMarkerClassName:A}=t;const O=(0,o.useRef)(null),P=(0,o.useRef)(null),D=(0,o.useRef)(!1);console.log({initialCenter:m});const z={mapType:a.default.Map.mapTypes.neshanVector,container:e,zoom:h.default.defaultZoomLevel||13,pitch:0,center:m||[51.389,35.6892],minZoom:h.default.defaultZoomLevel&&h.default.defaultZoomLevel<10?h.default.defaultZoomLevel:10,maxZoom:21,trackResize:!0,mapKey:I,poi:!1,traffic:!1,mapTypeControllerOptions:{show:!1}};(0,o.useEffect)((function(){return D.current||(P.current=new a.default.Map((0,c.deepMerge)(z,n||{})),y&&new a.default.Marker({}).setLngLat({lat:y.lat,lng:y.lng}).addTo(P.current),w&&L(),k&&P.current.on("click",(function(t){!function(t){t&&T&&T(t),O.current&&O.current.remove();const e=document.createElement("img");e.className="custom-marker",e.src="https://static.delino.com/exclusive/img/map/User-Pin.png",e.style.width="46px",e.style.height="46px";const n=new a.default.Marker(e).setLngLat([t.lng,t.lat]).addTo(P.current);O.current=n}(t.lngLat)})),"function"==typeof r&&r(P.current),D.current=!0),function(){D.current&&P.current&&(P.current.remove(),D.current=!1)}}),[]),(0,o.useEffect)((function(){if(P.current&&w&&D.current){document.querySelectorAll(".custom-marker").forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)})),L()}}),[S]);const L=function(){S.forEach((function(t){const e=document.createElement("img");e.className="custom-marker",e.src=f,e.style.width="40px",e.style.height="44px",e.style.zIndex="999px",e.style.cursor="pointer",e.alt="customMarker",C&&e.addEventListener("click",(function(){null==C||C(t)})),new a.default.Marker(e).setLngLat([Number(t.lng),Number(t.lat)]).addTo(P.current)}))};return(0,i.default)(s.NeNeshanContainer,{className:"relative w-full overflow-hidden"},void 0,(0,i.default)("div",{className:"h-full w-full",id:e,style:{borderRadius:"4px"}}),g&&(0,i.default)("div",{className:"marker"},void 0,(0,i.default)("img",{src:M||"https://static.delino.com/exclusive/img/map/rest-marker-icon-2x.png",alt:"marker",style:{top:"calc(50% - 25px)",left:"calc(50% - 25px)"},draggable:!1,className:"center-marker"})),v&&(0,i.default)("div",{className:"branch-selector-search"},void 0,(0,i.default)(u.default,{functionAfterFindLocation:E})),_&&(0,i.default)(l.default,{autoRequest:x,functionAfterFindLocation:E,mapRef:P}),b&&(0,i.default)(p.default,{mapRef:P}))}));e.default=m},function(t,e,n){(function(e){var n;n=()=>(()=>{var t={261:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(601),i=n.n(r),o=n(314),a=n.n(o)()(i());a.push([t.id,".mapboxgl-map{direction:rtl;font-family:vazir}.control{pointer-events:auto;background-color:hsla(0,0%,100%,.8);margin:1.8em}.traffic-control{width:15em}.traffic-control img{width:100%}.poi-control{width:15em}.poi-control img{width:100%}.map-type-control{background:none;line-height:calc(1em + 3px);padding-bottom:3px}.map-type-control .toggle-button{border-radius:1.25em;border:.25em solid #fff;width:7.5em;height:7.5em}.map-type-control .toggle-button img{width:100%;height:100%}.map-type-control .toggle-button .gradient{bottom:0;background:linear-gradient(0deg, #000000 0%, rgba(0, 0, 0, 0) 94%);opacity:.6;width:100%;height:50%;z-index:1;pointer-events:none}.map-type-control .toggle-button .button-text{bottom:0;left:0;width:100%;padding-bottom:.5em;padding-left:.35em;padding-right:.35em;box-sizing:border-box;color:#fff;z-index:2;pointer-events:none}.map-type-control .toggle-button .button-text img.layer-img{width:1em;filter:invert(1)}.map-type-control .toggle-button .button-text .default-text{display:flex}.map-type-control .toggle-button .button-text .style-name-text{display:none}.map-type-control .toggle-button:hover .button-text .default-text{display:none}.map-type-control .toggle-button:hover .button-text .style-name-text{display:block}.overlay{background-color:#fff;width:25em;padding:0 .8em;box-sizing:border-box;border-radius:1.5em;box-shadow:.3em .6em .9em rgba(0,0,0,.15);transition:visibility 0s,opacity .1s linear;font-weight:500;padding-bottom:1em}.overlay .header{margin-top:1em}.overlay .header .close-img{left:0;top:50%;transform:translateY(-50%);width:1.5em}.overlay hr{display:block;height:1px;border:0;border-top:1px solid rgba(0,0,0,.08);margin:1em 0;padding:0}.overlay .tile{text-align:center;width:5.25em}.overlay .tile img{border-radius:1em;height:5.25em;width:100%;border:.22em solid #ebebeb;box-sizing:border-box}.overlay .tile.selected{color:var(--primary)}.overlay .tile.selected img{border-color:var(--primary)}.overlay .layers-wrapper .tile:first-of-type{margin-left:.8em}.touch .map-type-control{margin-bottom:2em;margin-top:2em}.touch .map-type-control .toggle-button{background-color:#fff;border-radius:50%;width:4em;height:4em;padding:.65em;box-sizing:border-box;box-shadow:.4em .4em 1em .2em rgba(0,0,0,.292)}.touch .overlay-background{top:0;bottom:0;left:0;right:0;z-index:2;background-color:rgba(0,0,0,.4549019608)}.touch .overlay-background .overlay{width:100%;bottom:0;border-bottom-left-radius:0;border-bottom-right-radius:0;z-index:3;transition:max-height .2s;max-height:0}.touch .closed{display:none}.touch .open .overlay{overflow:auto;max-height:70%}",""]);const s=a},314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);r&&a[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},601:t=>{"use strict";t.exports=function(t){return t[1]}},72:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},a=[],s=0;s<t.length;s++){var l=t[s],u=r.base?l[0]+r.base:l[0],c=o[u]||0,p="".concat(u," ").concat(c);o[u]=c+1;var d=n(p),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)e[d].references++,e[d].updater(h);else{var f=i(h,r);r.byIndex=s,e.splice(s,0,{identifier:p,updater:f,references:1})}a.push(p)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=n(o[a]);e[s].references--}for(var l=r(t,i),u=0;u<o.length;u++){var c=n(o[u]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}o=l}}},659:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},775:function(t){t.exports=function(){"use strict";var t,n,r;function i(e,i){if(t)if(n){var o="var sharedChunk = {}; ("+t+")(sharedChunk); ("+n+")(sharedChunk);",a={};t(a),r=i(a),"undefined"!=typeof window&&(r.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else n=i;else t=i}return i(0,(function(t){function n(t,e){return t(e={exports:{}},e.exports),e.exports}var r=i;function i(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}i.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},i.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},i.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},i.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},i.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var o=a;function a(t,e){this.x=t,this.y=e}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=n*this.x+e*this.y;return this.x=e*this.x-n*this.y,this.y=r,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=e.x+n*(this.x-e.x)-r*(this.y-e.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(t){return t instanceof a?t:Array.isArray(t)?new a(t[0],t[1]):t};var s="undefined"!=typeof self?self:{},l=Math.pow(2,53)-1;function u(t,e,n,i){var o=new r(t,e,n,i);return function(t){return o.solve(t)}}var c=u(.25,.1,.25,1);function p(t,e,n){return Math.min(n,Math.max(e,t))}function d(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i}function h(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}var f=1;function m(){return f++}function g(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function y(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function v(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}function _(t,e){return-1!==t.indexOf(e,t.length-e.length)}function b(t,e,n){var r={};for(var i in t)r[i]=e.call(n||this,t[i],i,t);return r}function x(t,e,n){var r={};for(var i in t)e.call(n||this,t[i],i,t)&&(r[i]=t[i]);return r}function w(t){return Array.isArray(t)?t.map(w):"object"==typeof t&&t?b(t,w):t}var k={};function S(t){k[t]||("undefined"!=typeof console&&console.warn(t),k[t]=!0)}function C(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function E(t){for(var e=0,n=0,r=t.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)e+=((a=t[i]).x-(o=t[n]).x)*(o.y+a.y);return e}function T(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function I(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(t,n,r,i){var o=r||i;return e[n]=!o||o.toLowerCase(),""})),e["max-age"]){var n=parseInt(e["max-age"],10);isNaN(n)?delete e["max-age"]:e["max-age"]=n}return e}var M=null;function A(t){if(null==M){var e=t.navigator?t.navigator.userAgent:null;M=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return M}function O(t){try{var e=s[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}var P,D,z=s.performance&&s.performance.now?s.performance.now.bind(s.performance):Date.now.bind(Date),L=s.requestAnimationFrame||s.mozRequestAnimationFrame||s.webkitRequestAnimationFrame||s.msRequestAnimationFrame,R=s.cancelAnimationFrame||s.mozCancelAnimationFrame||s.webkitCancelAnimationFrame||s.msCancelAnimationFrame,W={now:z,frame:function(t){var e=L(t);return{cancel:function(){return R(e)}}},getImageData:function(t,e){void 0===e&&(e=0);var n=s.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=t.width,n.height=t.height,r.drawImage(t,0,0,t.width,t.height),r.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:function(t){return P||(P=s.document.createElement("a")),P.href=t,P.href},hardwareConcurrency:s.navigator&&s.navigator.hardwareConcurrency||4,get devicePixelRatio(){return s.devicePixelRatio},get prefersReducedMotion(){return!!s.matchMedia&&(null==D&&(D=s.matchMedia("(prefers-reduced-motion: reduce)")),D.matches)}},B={create:function(t,e,n){var r=s.document.createElement(t);return void 0!==e&&(r.className=e),n&&n.appendChild(r),r},createNS:function(t,e){return s.document.createElementNS(t,e)}},j=s.document&&s.document.documentElement.style;function N(t){if(!j)return t[0];for(var e=0;e<t.length;e++)if(t[e]in j)return t[e];return t[0]}var F,U=N(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);B.disableDrag=function(){j&&U&&(F=j[U],j[U]="none")},B.enableDrag=function(){j&&U&&(j[U]=F)};var V=N(["transform","WebkitTransform"]);B.setTransform=function(t,e){t.style[V]=e};var q=!1;try{var H=Object.defineProperty({},"passive",{get:function(){q=!0}});s.addEventListener("test",H,H),s.removeEventListener("test",H,H)}catch(t){q=!1}B.addEventListener=function(t,e,n,r){void 0===r&&(r={}),t.addEventListener(e,n,"passive"in r&&q?r:r.capture)},B.removeEventListener=function(t,e,n,r){void 0===r&&(r={}),t.removeEventListener(e,n,"passive"in r&&q?r:r.capture)};var G=function(t){t.preventDefault(),t.stopPropagation(),s.removeEventListener("click",G,!0)};B.suppressClick=function(){s.addEventListener("click",G,!0),s.setTimeout((function(){s.removeEventListener("click",G,!0)}),0)},B.mousePos=function(t,e){var n=t.getBoundingClientRect();return new o(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)},B.touchPos=function(t,e){for(var n=t.getBoundingClientRect(),r=[],i=0;i<e.length;i++)r.push(new o(e[i].clientX-n.left-t.clientLeft,e[i].clientY-n.top-t.clientTop));return r},B.mouseButton=function(t){return void 0!==s.InstallTrigger&&2===t.button&&t.ctrlKey&&s.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},B.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var Z,K,Q={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},X={supported:!1,testSupport:function(t){!Y&&K&&(J?$(t):Z=t)}},Y=!1,J=!1;function $(t){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,K),t.isContextLost())return;X.supported=!0}catch(t){}t.deleteTexture(e),Y=!0}s.document&&((K=s.document.createElement("img")).onload=function(){Z&&$(Z),Z=null,J=!0},K.onerror=function(){Y=!0,Z=null},K.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var tt="01",et=function(t,e){this._transformRequestFn=t,this._customAccessToken=e,this._createSkuToken()};function nt(t){return 0===t.indexOf("mapbox:")}et.prototype._createSkuToken=function(){var t=function(){for(var t="",e=0;e<10;e++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",tt,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},et.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},et.prototype.transformRequest=function(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}},et.prototype.normalizeStyleURL=function(t,e){if(!nt(t))return t;var n=at(t);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},et.prototype.normalizeGlyphsURL=function(t,e){if(!nt(t))return t;var n=at(t);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},et.prototype.normalizeSourceURL=function(t,e){if(!nt(t))return t;var n=at(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||e)},et.prototype.normalizeSpriteURL=function(t,e,n,r){var i=at(t);return nt(t)?(i.path="/styles/v1"+i.path+"/sprite"+e+n,this._makeAPIURL(i,this._customAccessToken||r)):(i.path+=""+e+n,st(i))},et.prototype.normalizeTileURL=function(t,e){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!nt(t))return t;var n=at(t);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,(W.devicePixelRatio>=2||512===e?"@2x":"")+(X.supported?".webp":"$1")),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path;var r=this._customAccessToken||function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e].match(/^access_token=(.*)$/);if(r)return r[1]}return null}(n.params)||Q.ACCESS_TOKEN;return Q.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,r)},et.prototype.canonicalizeTileURL=function(t,e){var n=at(t);if(!n.path.match(/(^\/v4\/)/)||!n.path.match(/\.[\w]+$/))return t;var r="mapbox://tiles/";r+=n.path.replace("/v4/","");var i=n.params;return e&&(i=i.filter((function(t){return!t.match(/^access_token=/)}))),i.length&&(r+="?"+i.join("&")),r},et.prototype.canonicalizeTileset=function(t,e){for(var n=!!e&&nt(e),r=[],i=0,o=t.tiles||[];i<o.length;i+=1){var a=o[i];it(a)?r.push(this.canonicalizeTileURL(a,n)):r.push(a)}return r},et.prototype._makeAPIURL=function(t,e){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=at(Q.API_URL);if(t.protocol=r.protocol,t.authority=r.authority,"http"===t.protocol){var i=t.params.indexOf("secure");i>=0&&t.params.splice(i,1)}if("/"!==r.path&&(t.path=""+r.path+t.path),!Q.REQUIRE_ACCESS_TOKEN)return st(t);if(!(e=e||Q.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return t.params=t.params.filter((function(t){return-1===t.indexOf("access_token")})),t.params.push("access_token="+e),st(t)};var rt=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function it(t){return rt.test(t)}var ot=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function at(t){var e=t.match(ot);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function st(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function lt(t){if(!t)return null;var e=t.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(s.atob(e[1]).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(t){return null}}var ut=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};ut.prototype.getStorageKey=function(t){var e,n=lt(Q.ACCESS_TOKEN);return e=n&&n.u?s.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(Number("0x"+e))}))):Q.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+e:"mapbox.eventData:"+e},ut.prototype.fetchEventData=function(){var t=O("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{var r=s.localStorage.getItem(e);r&&(this.eventData=JSON.parse(r));var i=s.localStorage.getItem(n);i&&(this.anonId=i)}catch(t){S("Unable to read from LocalStorage")}},ut.prototype.saveEventData=function(){var t=O("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{s.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&s.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){S("Unable to write to LocalStorage")}},ut.prototype.processRequests=function(t){},ut.prototype.postEvent=function(t,e,n,r){var i=this;if(Q.EVENTS_URL){var o=at(Q.EVENTS_URL);o.params.push("access_token="+(r||Q.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.2",skuId:tt,userId:this.anonId},s=e?h(a,e):a,l={url:st(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=Ot(l,(function(t){i.pendingRequest=null,n(t),i.saveEventData(),i.processRequests(r)}))}},ut.prototype.queueRequest=function(t,e){this.queue.push(t),this.processRequests(e)};var ct,pt,dt=function(t){function e(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postMapLoadEvent=function(t,e,n,r){this.skuToken=n,(Q.EVENTS_URL&&r||Q.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return nt(t)||it(t)})))&&this.queueRequest({id:e,timestamp:Date.now()},r)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),y(this.anonId)||(this.anonId=g()),this.postEvent(i,{skuToken:this.skuToken},(function(t){t||r&&(e.success[r]=!0)}),t))}},e}(ut),ht=new(function(t){function e(e){t.call(this,"appUserTurnstile"),this._customAccessToken=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postTurnstileEvent=function(t,e){Q.EVENTS_URL&&Q.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return nt(t)||it(t)}))&&this.queueRequest(Date.now(),e)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=lt(Q.ACCESS_TOKEN),r=n?n.u:Q.ACCESS_TOKEN,i=r!==this.eventData.tokenU;y(this.anonId)||(this.anonId=g(),i=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),l=(o-this.eventData.lastSuccess)/864e5;i=i||l>=1||l<-1||a.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},(function(t){t||(e.eventData.lastSuccess=o,e.eventData.tokenU=r)}),t)}},e}(ut)),ft=ht.postTurnstileEvent.bind(ht),mt=new dt,gt=mt.postMapLoadEvent.bind(mt),yt=500,vt=50;function _t(){s.caches&&!ct&&(ct=s.caches.open("mapbox-tiles"))}function bt(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}var xt,wt=1/0;function kt(){return null==xt&&(xt=s.OffscreenCanvas&&new s.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof s.createImageBitmap),xt}var St={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(St);var Ct,Et,Tt=function(t){function e(e,n,r){401===n&&it(r)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,e),this.status=n,this.url=r,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error),It=T()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===s.location.protocol?s.parent:s).location.href},Mt=function(t,e){if(!(/^file:/.test(n=t.url)||/^file:/.test(It())&&!/^\w+:/.test(n))){if(s.fetch&&s.Request&&s.AbortController&&s.Request.prototype.hasOwnProperty("signal"))return function(t,e){var n,r=new s.AbortController,i=new s.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:It(),signal:r.signal}),o=!1,a=!1,l=(n=i.url).indexOf("sku=")>0&&it(n);"json"===t.type&&i.headers.set("Accept","application/json");var u=function(n,r,o){if(!a){if(n&&"SecurityError"!==n.message&&S(n),r&&o)return c(r);var u=Date.now();s.fetch(i).then((function(n){if(n.ok){var r=l?n.clone():null;return c(n,r,u)}return e(new Tt(n.statusText,n.status,t.url))})).catch((function(t){20!==t.code&&e(new Error(t.message))}))}},c=function(n,r,l){("arrayBuffer"===t.type?n.arrayBuffer():"json"===t.type?n.json():n.text()).then((function(t){a||(r&&l&&function(t,e,n){if(_t(),ct){var r={status:e.status,statusText:e.statusText,headers:new s.Headers};e.headers.forEach((function(t,e){return r.headers.set(e,t)}));var i=I(e.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-n<42e4||function(t,e){if(void 0===pt)try{new Response(new ReadableStream),pt=!0}catch(t){pt=!1}pt?e(t.body):t.blob().then(e)}(e,(function(e){var n=new s.Response(e,r);_t(),ct&&ct.then((function(e){return e.put(bt(t.url),n)})).catch((function(t){return S(t.message)}))})))}}(i,r,l),o=!0,e(null,t,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(t){a||e(new Error(t.message))}))};return l?function(t,e){if(_t(),!ct)return e(null);var n=bt(t.url);ct.then((function(t){t.match(n).then((function(r){var i=function(t){if(!t)return!1;var e=new Date(t.headers.get("Expires")||0),n=I(t.headers.get("Cache-Control")||"");return e>Date.now()&&!n["no-cache"]}(r);t.delete(n),i&&t.put(n,r.clone()),e(null,r,i)})).catch(e)})).catch(e)}(i,u):u(null,null),{cancel:function(){a=!0,o||r.abort()}}}(t,e);if(T()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var n;return function(t,e){var n=new s.XMLHttpRequest;for(var r in n.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(n.responseType="arraybuffer"),t.headers)n.setRequestHeader(r,t.headers[r]);return"json"===t.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===t.credentials,n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===t.type)try{r=JSON.parse(n.response)}catch(t){return e(t)}e(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else e(new Tt(n.statusText,n.status,t.url))},n.send(t.body),{cancel:function(){return n.abort()}}}(t,e)},At=function(t,e){return Mt(h(t,{type:"arrayBuffer"}),e)},Ot=function(t,e){return Mt(h(t,{method:"POST"}),e)},Pt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Ct=[],Et=0;var Dt=function(t,e){if(X.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),Et>=Q.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:t,callback:e,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ct.push(n),n}Et++;var r=!1,i=function(){if(!r)for(r=!0,Et--;Ct.length&&Et<Q.MAX_PARALLEL_IMAGE_REQUESTS;){var t=Ct.shift();t.cancelled||(t.cancel=Dt(t.requestParameters,t.callback).cancel)}},o=At(t,(function(t,n,r,o){i(),t?e(t):n&&(kt()?function(t,e){var n=new s.Blob([new Uint8Array(t)],{type:"image/png"});s.createImageBitmap(n).then((function(t){e(null,t)})).catch((function(t){e(new Error("Could not load image because of "+t.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(n,e):function(t,e,n,r){var i=new s.Image,o=s.URL;i.onload=function(){e(null,i),o.revokeObjectURL(i.src),i.onload=null,s.requestAnimationFrame((function(){i.src=Pt}))},i.onerror=function(){return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var a=new s.Blob([new Uint8Array(t)],{type:"image/png"});i.cacheControl=n,i.expires=r,i.src=t.byteLength?o.createObjectURL(a):Pt}(n,e,r,o))}));return{cancel:function(){o.cancel(),i()}}};function zt(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function Lt(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}var Rt=function(t,e){void 0===e&&(e={}),h(this,e),this.type=t},Wt=function(t){function e(e,n){void 0===n&&(n={}),t.call(this,"error",h({error:e},n))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Rt),Bt=function(){};Bt.prototype.on=function(t,e){return this._listeners=this._listeners||{},zt(t,e,this._listeners),this},Bt.prototype.off=function(t,e){return Lt(t,e,this._listeners),Lt(t,e,this._oneTimeListeners),this},Bt.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},zt(t,e,this._oneTimeListeners),this},Bt.prototype.fire=function(t,e){"string"==typeof t&&(t=new Rt(t,e||{}));var n=t.type;if(this.listens(n)){t.target=this;for(var r=0,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];r<i.length;r+=1)i[r].call(this,t);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];o<a.length;o+=1){var s=a[o];Lt(n,s,this._oneTimeListeners),s.call(this,t)}var l=this._eventedParent;l&&(h(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),l.fire(t))}else t instanceof Wt&&console.error(t.error);return this},Bt.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},Bt.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var jt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Nt=function(t,e,n,r){this.message=(t?t+": ":"")+n,r&&(this.identifier=r),null!=e&&e.__line__&&(this.line=e.__line__)};function Ft(t){var e=t.value;return e?[new Nt(t.key,e,"constants have been deprecated as of v8")]:[]}function Ut(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}function Vt(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function qt(t){if(Array.isArray(t))return t.map(qt);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var e={};for(var n in t)e[n]=qt(t[n]);return e}return Vt(t)}var Ht=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),Gt=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,r=e;n<r.length;n+=1){var i=r[n];this.bindings[i[0]]=i[1]}};Gt.prototype.concat=function(t){return new Gt(this,t)},Gt.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Gt.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var Zt={kind:"null"},Kt={kind:"number"},Qt={kind:"string"},Xt={kind:"boolean"},Yt={kind:"color"},Jt={kind:"object"},$t={kind:"value"},te={kind:"collator"},ee={kind:"formatted"},ne={kind:"resolvedImage"};function re(t,e){return{kind:"array",itemType:t,N:e}}function ie(t){if("array"===t.kind){var e=ie(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var oe=[Zt,Kt,Qt,Xt,Yt,ee,Jt,re($t),ne];function ae(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!ae(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,r=oe;n<r.length;n+=1)if(!ae(r[n],e))return null}return"Expected "+ie(t)+" but found "+ie(e)+" instead."}function se(t,e){return e.some((function(e){return e.kind===t.kind}))}function le(t,e){return e.some((function(e){return"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"==typeof t:e===typeof t}))}var ue=n((function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return r("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function o(t){return(e="%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e}function a(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,s=t.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(e=parseInt(s.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===s.length&&(e=parseInt(s.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var l=s.indexOf("("),u=s.indexOf(")");if(-1!==l&&u+1===s.length){var c=s.substr(0,l),p=s.substr(l+1,u-(l+1)).split(","),d=1;switch(c){case"rgba":if(4!==p.length)return null;d=o(p.pop());case"rgb":return 3!==p.length?null:[i(p[0]),i(p[1]),i(p[2]),d];case"hsla":if(4!==p.length)return null;d=o(p.pop());case"hsl":if(3!==p.length)return null;var h=(parseFloat(p[0])%360+360)%360/360,f=o(p[1]),m=o(p[2]),g=m<=.5?m*(f+1):m+f-m*f,y=2*m-g;return[r(255*a(y,g,h+1/3)),r(255*a(y,g,h)),r(255*a(y,g,h-1/3)),d];default:return null}}return null}}catch(t){}})).parseCSSColor,ce=function(t,e,n,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=n,this.a=r};ce.parse=function(t){if(t){if(t instanceof ce)return t;if("string"==typeof t){var e=ue(t);if(e)return new ce(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},ce.prototype.toString=function(){var t=this.toArray(),e=t[1],n=t[2],r=t[3];return"rgba("+Math.round(t[0])+","+Math.round(e)+","+Math.round(n)+","+r+")"},ce.prototype.toArray=function(){var t=this.a;return 0===t?[0,0,0,0]:[255*this.r/t,255*this.g/t,255*this.b/t,t]},ce.black=new ce(0,0,0,1),ce.white=new ce(1,1,1,1),ce.transparent=new ce(0,0,0,0),ce.red=new ce(1,0,0,1);var pe=function(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};pe.prototype.compare=function(t,e){return this.collator.compare(t,e)},pe.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var de=function(t,e,n,r,i){this.text=t,this.image=e,this.scale=n,this.fontStack=r,this.textColor=i},he=function(t){this.sections=t};he.fromString=function(t){return new he([new de(t,null,null,null,null)])},he.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(t){return 0!==t.text.length||t.image&&0!==t.image.name.length}))},he.factory=function(t){return t instanceof he?t:he.fromString(t)},he.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(t){return t.text})).join("")},he.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];if(r.image)t.push(["image",r.image.name]);else{t.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),t.push(i)}}return t};var fe=function(t){this.name=t.name,this.available=t.available};function me(t,e,n,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[t,e,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ge(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof ce)return!0;if(t instanceof pe)return!0;if(t instanceof he)return!0;if(t instanceof fe)return!0;if(Array.isArray(t)){for(var e=0,n=t;e<n.length;e+=1)if(!ge(n[e]))return!1;return!0}if("object"==typeof t){for(var r in t)if(!ge(t[r]))return!1;return!0}return!1}function ye(t){if(null===t)return Zt;if("string"==typeof t)return Qt;if("boolean"==typeof t)return Xt;if("number"==typeof t)return Kt;if(t instanceof ce)return Yt;if(t instanceof pe)return te;if(t instanceof he)return ee;if(t instanceof fe)return ne;if(Array.isArray(t)){for(var e,n=t.length,r=0,i=t;r<i.length;r+=1){var o=ye(i[r]);if(e){if(e===o)continue;e=$t;break}e=o}return re(e||$t,n)}return Jt}function ve(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof ce||t instanceof he||t instanceof fe?t.toString():JSON.stringify(t)}fe.prototype.toString=function(){return this.name},fe.fromString=function(t){return t?new fe({name:t,available:!1}):null},fe.prototype.serialize=function(){return["image",this.name]};var _e=function(t,e){this.type=t,this.value=e};_e.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!ge(t[1]))return e.error("invalid value");var n=t[1],r=ye(n),i=e.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new _e(r,n)},_e.prototype.evaluate=function(){return this.value},_e.prototype.eachChild=function(){},_e.prototype.outputDefined=function(){return!0},_e.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof ce?["rgba"].concat(this.value.toArray()):this.value instanceof he?this.value.serialize():this.value};var be=function(t){this.name="ExpressionEvaluationError",this.message=t};be.prototype.toJSON=function(){return this.message};var xe={string:Qt,number:Kt,boolean:Xt,object:Jt},we=function(t,e){this.type=t,this.args=e};we.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n,r=1,i=t[0];if("array"===i){var o,a;if(t.length>2){var s=t[1];if("string"!=typeof s||!(s in xe)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);o=xe[s],r++}else o=$t;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],r++}n=re(o,a)}else n=xe[i];for(var l=[];r<t.length;r++){var u=e.parse(t[r],r,$t);if(!u)return null;l.push(u)}return new we(n,l)},we.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!ae(this.type,ye(n)))return n;if(e===this.args.length-1)throw new be("Expected value to be of type "+ie(this.type)+", but found "+ie(ye(n))+" instead.")}return null},we.prototype.eachChild=function(t){this.args.forEach(t)},we.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},we.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);var r=t.N;("number"==typeof r||this.args.length>1)&&e.push(r)}}return e.concat(this.args.map((function(t){return t.serialize()})))};var ke=function(t){this.type=ee,this.sections=t};ke.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[1];if(!Array.isArray(n)&&"object"==typeof n)return e.error("First argument must be an image or text section.");for(var r=[],i=!1,o=1;o<=t.length-1;++o){var a=t[o];if(i&&"object"==typeof a&&!Array.isArray(a)){i=!1;var s=null;if(a["font-scale"]&&!(s=e.parse(a["font-scale"],1,Kt)))return null;var l=null;if(a["text-font"]&&!(l=e.parse(a["text-font"],1,re(Qt))))return null;var u=null;if(a["text-color"]&&!(u=e.parse(a["text-color"],1,Yt)))return null;var c=r[r.length-1];c.scale=s,c.font=l,c.textColor=u}else{var p=e.parse(t[o],1,$t);if(!p)return null;var d=p.type.kind;if("string"!==d&&"value"!==d&&"null"!==d&&"resolvedImage"!==d)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:p,scale:null,font:null,textColor:null})}}return new ke(r)},ke.prototype.evaluate=function(t){return new he(this.sections.map((function(e){var n=e.content.evaluate(t);return ye(n)===ne?new de("",n,null,null,null):new de(ve(n),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))},ke.prototype.eachChild=function(t){for(var e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t(r.content),r.scale&&t(r.scale),r.font&&t(r.font),r.textColor&&t(r.textColor)}},ke.prototype.outputDefined=function(){return!1},ke.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),t.push(i)}return t};var Se=function(t){this.type=ne,this.input=t};Se.parse=function(t,e){if(2!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,Qt);return n?new Se(n):e.error("No image name provided.")},Se.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=fe.fromString(e);return n&&t.availableImages&&(n.available=t.availableImages.indexOf(e)>-1),n},Se.prototype.eachChild=function(t){t(this.input)},Se.prototype.outputDefined=function(){return!1},Se.prototype.serialize=function(){return["image",this.input.serialize()]};var Ce={"to-boolean":Xt,"to-color":Yt,"to-number":Kt,"to-string":Qt},Ee=function(t,e){this.type=t,this.args=e};Ee.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");for(var r=Ce[n],i=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,$t);if(!a)return null;i.push(a)}return new Ee(r,i)},Ee.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(e=i[r].evaluate(t))instanceof ce)return e;if("string"==typeof e){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(n=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":me(e[0],e[1],e[2],e[3])))return new ce(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new be(n||"Could not parse color from value '"+("string"==typeof e?e:String(JSON.stringify(e)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,l=this.args;s<l.length;s+=1){if(null===(a=l[s].evaluate(t)))return 0;var u=Number(a);if(!isNaN(u))return u}throw new be("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?he.fromString(ve(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?fe.fromString(ve(this.args[0].evaluate(t))):ve(this.args[0].evaluate(t))},Ee.prototype.eachChild=function(t){this.args.forEach(t)},Ee.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},Ee.prototype.serialize=function(){if("formatted"===this.type.kind)return new ke([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Se(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var Te=["Unknown","Point","LineString","Polygon"],Ie=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Ie.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Ie.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Te[this.feature.type]:this.feature.type:null},Ie.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Ie.prototype.canonicalID=function(){return this.canonical},Ie.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Ie.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=ce.parse(t)),e};var Me=function(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r};Me.prototype.evaluate=function(t){return this._evaluate(t,this.args)},Me.prototype.eachChild=function(t){this.args.forEach(t)},Me.prototype.outputDefined=function(){return!1},Me.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},Me.parse=function(t,e){var n,r=t[0],i=Me.definitions[r];if(!i)return e.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter((function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1})),l=null,u=0,c=s;u<c.length;u+=1){var p=c[u],d=p[0],h=p[1];l=new Ye(e.registry,e.path,null,e.scope);for(var f=[],m=!1,g=1;g<t.length;g++){var y=t[g],v=Array.isArray(d)?d[g-1]:d.type,_=l.parse(y,1+f.length,v);if(!_){m=!0;break}f.push(_)}if(!m)if(Array.isArray(d)&&d.length!==f.length)l.error("Expected "+d.length+" arguments, but found "+f.length+" instead.");else{for(var b=0;b<f.length;b++){var x=Array.isArray(d)?d[b]:d.type,w=f[b];l.concat(b+1).checkSubtype(x,w.type)}if(0===l.errors.length)return new Me(r,o,h,f)}}if(1===s.length)(n=e.errors).push.apply(n,l.errors);else{for(var k=(s.length?s:a).map((function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(ie).join(", ")+")":"("+ie(e.type)+"...)"})).join(" | "),S=[],C=1;C<t.length;C++){var E=e.parse(t[C],1+S.length);if(!E)return null;S.push(ie(E.type))}e.error("Expected arguments of type "+k+", but found ("+S.join(", ")+") instead.")}return null},Me.register=function(t,e){for(var n in Me.definitions=e,e)t[n]=Me};var Ae=function(t,e,n){this.type=te,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e};function Oe(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function Pe(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function De(t,e){var n=(180+t[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,i=Math.pow(2,e.z);return[Math.round(n*i*8192),Math.round(r*i*8192)]}function ze(t,e,n){return e[1]>t[1]!=n[1]>t[1]&&t[0]<(n[0]-e[0])*(t[1]-e[1])/(n[1]-e[1])+e[0]}function Le(t,e){for(var n,r,i,o,a,s,l,u=!1,c=0,p=e.length;c<p;c++)for(var d=e[c],h=0,f=d.length;h<f-1;h++){if((o=(n=t)[0]-(r=d[h])[0])*(l=n[1]-(i=d[h+1])[1])-(s=n[0]-i[0])*(a=n[1]-r[1])==0&&o*s<=0&&a*l<=0)return!1;ze(t,d[h],d[h+1])&&(u=!u)}return u}function Re(t,e){for(var n=0;n<e.length;n++)if(Le(t,e[n]))return!0;return!1}function We(t,e,n,r){var i=r[0]-n[0],o=r[1]-n[1],a=(t[0]-n[0])*o-i*(t[1]-n[1]),s=(e[0]-n[0])*o-i*(e[1]-n[1]);return a>0&&s<0||a<0&&s>0}function Be(t,e,n){for(var r=0,i=n;r<i.length;r+=1)for(var o=i[r],a=0;a<o.length-1;++a)if(0!==function(t,e){return t[0]*e[1]-t[1]*e[0]}([(c=o[a+1])[0]-(u=o[a])[0],c[1]-u[1]],[(l=e)[0]-(s=t)[0],l[1]-s[1]])&&We(s,l,u,c)&&We(u,c,s,l))return!0;var s,l,u,c;return!1}function je(t,e){for(var n=0;n<t.length;++n)if(!Le(t[n],e))return!1;for(var r=0;r<t.length-1;++r)if(Be(t[r],t[r+1],e))return!1;return!0}function Ne(t,e){for(var n=0;n<e.length;n++)if(je(t,e[n]))return!0;return!1}function Fe(t,e,n){for(var r=[],i=0;i<t.length;i++){for(var o=[],a=0;a<t[i].length;a++){var s=De(t[i][a],n);Oe(e,s),o.push(s)}r.push(o)}return r}function Ue(t,e,n){for(var r=[],i=0;i<t.length;i++){var o=Fe(t[i],e,n);r.push(o)}return r}function Ve(t,e,n,r){if(t[0]<n[0]||t[0]>n[2]){var i=.5*r,o=t[0]-n[0]>i?-r:n[0]-t[0]>i?r:0;0===o&&(o=t[0]-n[2]>i?-r:n[2]-t[0]>i?r:0),t[0]+=o}Oe(e,t)}function qe(t,e,n,r){for(var i=8192*Math.pow(2,r.z),o=[8192*r.x,8192*r.y],a=[],s=0,l=t;s<l.length;s+=1)for(var u=0,c=l[s];u<c.length;u+=1){var p=c[u],d=[p.x+o[0],p.y+o[1]];Ve(d,e,n,i),a.push(d)}return a}function He(t,e,n,r){for(var i,o=8192*Math.pow(2,r.z),a=[8192*r.x,8192*r.y],s=[],l=0,u=t;l<u.length;l+=1){for(var c=[],p=0,d=u[l];p<d.length;p+=1){var h=d[p],f=[h.x+a[0],h.y+a[1]];Oe(e,f),c.push(f)}s.push(c)}if(e[2]-e[0]<=o/2){(i=e)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var m=0,g=s;m<g.length;m+=1)for(var y=0,v=g[m];y<v.length;y+=1)Ve(v[y],e,n,o)}return s}Ae.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");var r=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Xt);if(!r)return null;var i=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Xt);if(!i)return null;var o=null;return n.locale&&!(o=e.parse(n.locale,1,Qt))?null:new Ae(r,i,o)},Ae.prototype.evaluate=function(t){return new pe(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},Ae.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},Ae.prototype.outputDefined=function(){return!1},Ae.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var Ge=function(t,e){this.type=Xt,this.geojson=t,this.geometries=e};function Ze(t){if(t instanceof Me){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof Ge)return!1;var e=!0;return t.eachChild((function(t){e&&!Ze(t)&&(e=!1)})),e}function Ke(t){if(t instanceof Me&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild((function(t){e&&!Ke(t)&&(e=!1)})),e}function Qe(t,e){if(t instanceof Me&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild((function(t){n&&!Qe(t,e)&&(n=!1)})),n}Ge.parse=function(t,e){if(2!==t.length)return e.error("'within' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(ge(t[1])){var n=t[1];if("FeatureCollection"===n.type)for(var r=0;r<n.features.length;++r){var i=n.features[r].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new Ge(n,n.features[r].geometry)}else if("Feature"===n.type){var o=n.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new Ge(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new Ge(n,n)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ge.prototype.evaluate=function(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){var o=Fe(e.coordinates,r,i),a=qe(t.geometry(),n,r,i);if(!Pe(n,r))return!1;for(var s=0,l=a;s<l.length;s+=1)if(!Le(l[s],o))return!1}if("MultiPolygon"===e.type){var u=Ue(e.coordinates,r,i),c=qe(t.geometry(),n,r,i);if(!Pe(n,r))return!1;for(var p=0,d=c;p<d.length;p+=1)if(!Re(d[p],u))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){var o=Fe(e.coordinates,r,i),a=He(t.geometry(),n,r,i);if(!Pe(n,r))return!1;for(var s=0,l=a;s<l.length;s+=1)if(!je(l[s],o))return!1}if("MultiPolygon"===e.type){var u=Ue(e.coordinates,r,i),c=He(t.geometry(),n,r,i);if(!Pe(n,r))return!1;for(var p=0,d=c;p<d.length;p+=1)if(!Ne(d[p],u))return!1}return!0}(t,this.geometries)}return!1},Ge.prototype.eachChild=function(){},Ge.prototype.outputDefined=function(){return!0},Ge.prototype.serialize=function(){return["within",this.geojson]};var Xe=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};Xe.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new Xe(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},Xe.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Xe.prototype.eachChild=function(){},Xe.prototype.outputDefined=function(){return!1},Xe.prototype.serialize=function(){return["var",this.name]};var Ye=function(t,e,n,r,i){void 0===e&&(e=[]),void 0===r&&(r=new Gt),void 0===i&&(i=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return"["+t+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function Je(t,e){for(var n,r=t.length-1,i=0,o=r,a=0;i<=o;)if((n=t[a=Math.floor((i+o)/2)])<=e){if(a===r||e<t[a+1])return a;i=a+1}else{if(!(n>e))throw new be("Input is not a number.");o=a-1}return 0}Ye.prototype.parse=function(t,e,n,r,i){return void 0===i&&(i={}),e?this.concat(e,n,r)._parse(t,i):this._parse(t,i)},Ye.prototype._parse=function(t,e){function n(t,e,n){return"assert"===n?new we(e,[t]):"coerce"===n?new Ee(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=t[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[r];if(i){var o=i.parse(t,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=n(o,a,e.typeAnnotation||"coerce");else o=n(o,a,e.typeAnnotation||"assert")}if(!(o instanceof _e)&&"resolvedImage"!==o.type.kind&&function t(e){if(e instanceof Xe)return t(e.boundExpression);if(e instanceof Me&&"error"===e.name)return!1;if(e instanceof Ae)return!1;if(e instanceof Ge)return!1;var n=e instanceof Ee||e instanceof we,r=!0;return e.eachChild((function(e){r=n?r&&t(e):r&&e instanceof _e})),!!r&&Ze(e)&&Qe(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var l=new Ie;try{o=new _e(o.type,o.evaluate(l))}catch(t){return this.error(t.message),null}}return o}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof t+" instead.")},Ye.prototype.concat=function(t,e,n){var r="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new Ye(this.registry,r,e||null,i,this.errors)},Ye.prototype.error=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=""+this.key+e.map((function(t){return"["+t+"]"})).join("");this.errors.push(new Ht(r,t))},Ye.prototype.checkSubtype=function(t,e){var n=ae(t,e);return n&&this.error(n),n};var $e=function(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[1];this.labels.push(o[0]),this.outputs.push(a)}};function tn(t,e,n){return t*(1-n)+e*n}$e.parse=function(t,e){if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");var n=e.parse(t[1],1,Kt);if(!n)return null;var r=[],i=null;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var o=1;o<t.length;o+=2){var a=1===o?-1/0:t[o],s=t[o+1],l=o,u=o+1;if("number"!=typeof a)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(r.length&&r[r.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var c=e.parse(s,u,i);if(!c)return null;i=i||c.type,r.push([a,c])}return new $e(i,n,r)},$e.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[Je(e,r)].evaluate(t)},$e.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},$e.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))},$e.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var en=Object.freeze({__proto__:null,number:tn,color:function(t,e,n){return new ce(tn(t.r,e.r,n),tn(t.g,e.g,n),tn(t.b,e.b,n),tn(t.a,e.a,n))},array:function(t,e,n){return t.map((function(t,r){return tn(t,e[r],n)}))}}),nn=6/29*3*(6/29),rn=Math.PI/180,on=180/Math.PI;function an(t){return t>.008856451679035631?Math.pow(t,1/3):t/nn+4/29}function sn(t){return t>6/29?t*t*t:nn*(t-4/29)}function ln(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function un(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function cn(t){var e=un(t.r),n=un(t.g),r=un(t.b),i=an((.4124564*e+.3575761*n+.1804375*r)/.95047),o=an((.2126729*e+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-an((.0193339*e+.119192*n+.9503041*r)/1.08883)),alpha:t.a}}function pn(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=1*sn(e),n=.95047*sn(n),r=1.08883*sn(r),new ce(ln(3.2404542*n-1.5371385*e-.4985314*r),ln(-.969266*n+1.8760108*e+.041556*r),ln(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}function dn(t,e,n){var r=e-t;return t+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var hn={forward:cn,reverse:pn,interpolate:function(t,e,n){return{l:tn(t.l,e.l,n),a:tn(t.a,e.a,n),b:tn(t.b,e.b,n),alpha:tn(t.alpha,e.alpha,n)}}},fn={forward:function(t){var e=cn(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*on;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}},reverse:function(t){var e=t.h*rn,n=t.c;return pn({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:dn(t.h,e.h,n),c:tn(t.c,e.c,n),l:tn(t.l,e.l,n),alpha:tn(t.alpha,e.alpha,n)}}},mn=Object.freeze({__proto__:null,lab:hn,hcl:fn}),gn=function(t,e,n,r,i){this.type=t,this.operator=e,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],l=s[1];this.labels.push(s[0]),this.outputs.push(l)}};function yn(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}gn.interpolationFactor=function(t,e,n,i){var o=0;if("exponential"===t.name)o=yn(e,t.base,n,i);else if("linear"===t.name)o=yn(e,1,n,i);else if("cubic-bezier"===t.name){var a=t.controlPoints;o=new r(a[0],a[1],a[2],a[3]).solve(yn(e,1,n,i))}return o},gn.parse=function(t,e){var n=t[0],r=t[1],i=t[2],o=t.slice(3);if(!Array.isArray(r)||0===r.length)return e.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var a=r[1];if("number"!=typeof a)return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:a}}else{if("cubic-bezier"!==r[0])return e.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some((function(t){return"number"!=typeof t||t<0||t>1})))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(i=e.parse(i,2,Kt)))return null;var l=[],u=null;"interpolate-hcl"===n||"interpolate-lab"===n?u=Yt:e.expectedType&&"value"!==e.expectedType.kind&&(u=e.expectedType);for(var c=0;c<o.length;c+=2){var p=o[c],d=o[c+1],h=c+3,f=c+4;if("number"!=typeof p)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(l.length&&l[l.length-1][0]>=p)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);var m=e.parse(d,f,u);if(!m)return null;u=u||m.type,l.push([p,m])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new gn(u,n,r,i,l):e.error("Type "+ie(u)+" is not interpolatable.")},gn.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);var o=Je(e,r),a=gn.interpolationFactor(this.interpolation,r,e[o],e[o+1]),s=n[o].evaluate(t),l=n[o+1].evaluate(t);return"interpolate"===this.operator?en[this.type.kind.toLowerCase()](s,l,a):"interpolate-hcl"===this.operator?fn.reverse(fn.interpolate(fn.forward(s),fn.forward(l),a)):hn.reverse(hn.interpolate(hn.forward(s),hn.forward(l),a))},gn.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},gn.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))},gn.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e};var vn=function(t,e){this.type=t,this.args=e};vn.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,r=e.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=t.slice(1);o<a.length;o+=1){var s=e.parse(a[o],1+i.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,i.push(s)}var l=r&&i.some((function(t){return ae(r,t.type)}));return new vn(l?$t:n,i)},vn.prototype.evaluate=function(t){for(var e,n=null,r=0,i=0,o=this.args;i<o.length&&(r++,(n=o[i].evaluate(t))&&n instanceof fe&&!n.available&&(e||(e=n.name),n=null,r===this.args.length&&(n=e)),null===n);i+=1);return n},vn.prototype.eachChild=function(t){this.args.forEach(t)},vn.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},vn.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t};var _n=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};_n.prototype.evaluate=function(t){return this.result.evaluate(t)},_n.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1)t(n[e][1]);t(this.result)},_n.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],r=1;r<t.length-1;r+=2){var i=t[r];if("string"!=typeof i)return e.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=e.parse(t[r+1],r+1);if(!o)return null;n.push([i,o])}var a=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return a?new _n(n,a):null},_n.prototype.outputDefined=function(){return this.result.outputDefined()},_n.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var r=n[e];t.push(r[0],r[1].serialize())}return t.push(this.result.serialize()),t};var bn=function(t,e,n){this.type=t,this.index=e,this.input=n};bn.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Kt),r=e.parse(t[2],2,re(e.expectedType||$t));return n&&r?new bn(r.type.itemType,n,r):null},bn.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new be("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new be("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new be("Array index must be an integer, but found "+e+" instead.");return n[e]},bn.prototype.eachChild=function(t){t(this.index),t(this.input)},bn.prototype.outputDefined=function(){return!1},bn.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var xn=function(t,e){this.type=Xt,this.needle=t,this.haystack=e};xn.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,$t),r=e.parse(t[2],2,$t);return n&&r?se(n.type,[Xt,Qt,Kt,Zt,$t])?new xn(n,r):e.error("Expected first argument to be of type boolean, string, number or null, but found "+ie(n.type)+" instead"):null},xn.prototype.evaluate=function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!n)return!1;if(!le(e,["boolean","string","number","null"]))throw new be("Expected first argument to be of type boolean, string, number or null, but found "+ie(ye(e))+" instead.");if(!le(n,["string","array"]))throw new be("Expected second argument to be of type array or string, but found "+ie(ye(n))+" instead.");return n.indexOf(e)>=0},xn.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},xn.prototype.outputDefined=function(){return!0},xn.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var wn=function(t,e,n){this.type=Kt,this.needle=t,this.haystack=e,this.fromIndex=n};wn.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,$t),r=e.parse(t[2],2,$t);if(!n||!r)return null;if(!se(n.type,[Xt,Qt,Kt,Zt,$t]))return e.error("Expected first argument to be of type boolean, string, number or null, but found "+ie(n.type)+" instead");if(4===t.length){var i=e.parse(t[3],3,Kt);return i?new wn(n,r,i):null}return new wn(n,r)},wn.prototype.evaluate=function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!le(e,["boolean","string","number","null"]))throw new be("Expected first argument to be of type boolean, string, number or null, but found "+ie(ye(e))+" instead.");if(!le(n,["string","array"]))throw new be("Expected second argument to be of type array or string, but found "+ie(ye(n))+" instead.");if(this.fromIndex){var r=this.fromIndex.evaluate(t);return n.indexOf(e,r)}return n.indexOf(e)},wn.prototype.eachChild=function(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)},wn.prototype.outputDefined=function(){return!1},wn.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var kn=function(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};kn.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var i={},o=[],a=2;a<t.length-1;a+=2){var s=t[a],l=t[a+1];Array.isArray(s)||(s=[s]);var u=e.concat(a);if(0===s.length)return u.error("Expected at least one branch label.");for(var c=0,p=s;c<p.length;c+=1){var d=p[c];if("number"!=typeof d&&"string"!=typeof d)return u.error("Branch labels must be numbers or strings.");if("number"==typeof d&&Math.abs(d)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof d&&Math.floor(d)!==d)return u.error("Numeric branch labels must be integer values.");if(n){if(u.checkSubtype(n,ye(d)))return null}else n=ye(d);if(void 0!==i[String(d)])return u.error("Branch labels must be unique.");i[String(d)]=o.length}var h=e.parse(l,a,r);if(!h)return null;r=r||h.type,o.push(h)}var f=e.parse(t[1],1,$t);if(!f)return null;var m=e.parse(t[t.length-1],t.length-1,r);return m?"value"!==f.type.kind&&e.concat(1).checkSubtype(n,f.type)?null:new kn(n,r,f,i,o,m):null},kn.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(ye(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},kn.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},kn.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))&&this.otherwise.outputDefined()},kn.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i];void 0===(p=r[this.cases[a]])?(r[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[p][1].push(a)}for(var s=function(e){return"number"===t.inputType.kind?Number(e):e},l=0,u=n;l<u.length;l+=1){var c=u[l],p=c[0],d=c[1];e.push(1===d.length?s(d[0]):d.map(s)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var Sn=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};Sn.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var r=[],i=1;i<t.length-1;i+=2){var o=e.parse(t[i],i,Xt);if(!o)return null;var a=e.parse(t[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var s=e.parse(t[t.length-1],t.length-1,n);return s?new Sn(n,r,s):null},Sn.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[1];if(r[0].evaluate(t))return i.evaluate(t)}return this.otherwise.evaluate(t)},Sn.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[1];t(r[0]),t(i)}t(this.otherwise)},Sn.prototype.outputDefined=function(){return this.branches.every((function(t){return t[1].outputDefined()}))&&this.otherwise.outputDefined()},Sn.prototype.serialize=function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Cn=function(t,e,n,r){this.type=t,this.input=e,this.beginIndex=n,this.endIndex=r};function En(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function Tn(t,e,n,r){return 0===r.compare(e,n)}function In(t,e,n){var r="=="!==t&&"!="!==t;return function(){function i(t,e,n){this.type=Xt,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return i.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=t[0],o=e.parse(t[1],1,$t);if(!o)return null;if(!En(n,o.type))return e.concat(1).error('"'+n+"\" comparisons are not supported for type '"+ie(o.type)+"'.");var a=e.parse(t[2],2,$t);if(!a)return null;if(!En(n,a.type))return e.concat(2).error('"'+n+"\" comparisons are not supported for type '"+ie(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot compare types '"+ie(o.type)+"' and '"+ie(a.type)+"'.");r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new we(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new we(o.type,[a])));var s=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,te)))return null}return new i(o,a,s)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=ye(o),l=ye(a);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new be('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+s.kind+", "+l.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var u=ye(o),c=ye(a);if("string"!==u.kind||"string"!==c.kind)return e(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):e(i,o,a)},i.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},i}()}Cn.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,$t),r=e.parse(t[2],2,Kt);if(!n||!r)return null;if(!se(n.type,[re($t),Qt,$t]))return e.error("Expected first argument to be of type array or string, but found "+ie(n.type)+" instead");if(4===t.length){var i=e.parse(t[3],3,Kt);return i?new Cn(n.type,n,r,i):null}return new Cn(n.type,n,r)},Cn.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=this.beginIndex.evaluate(t);if(!le(e,["string","array"]))throw new be("Expected first argument to be of type array or string, but found "+ie(ye(e))+" instead.");if(this.endIndex){var r=this.endIndex.evaluate(t);return e.slice(n,r)}return e.slice(n)},Cn.prototype.eachChild=function(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)},Cn.prototype.outputDefined=function(){return!1},Cn.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Mn=In("==",(function(t,e,n){return e===n}),Tn),An=In("!=",(function(t,e,n){return e!==n}),(function(t,e,n,r){return!Tn(0,e,n,r)})),On=In("<",(function(t,e,n){return e<n}),(function(t,e,n,r){return r.compare(e,n)<0})),Pn=In(">",(function(t,e,n){return e>n}),(function(t,e,n,r){return r.compare(e,n)>0})),Dn=In("<=",(function(t,e,n){return e<=n}),(function(t,e,n,r){return r.compare(e,n)<=0})),zn=In(">=",(function(t,e,n){return e>=n}),(function(t,e,n,r){return r.compare(e,n)>=0})),Ln=function(t,e,n,r,i){this.type=Qt,this.number=t,this.locale=e,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};Ln.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,Kt);if(!n)return null;var r=t[2];if("object"!=typeof r||Array.isArray(r))return e.error("NumberFormat options argument must be an object.");var i=null;if(r.locale&&!(i=e.parse(r.locale,1,Qt)))return null;var o=null;if(r.currency&&!(o=e.parse(r.currency,1,Qt)))return null;var a=null;if(r["min-fraction-digits"]&&!(a=e.parse(r["min-fraction-digits"],1,Kt)))return null;var s=null;return r["max-fraction-digits"]&&!(s=e.parse(r["max-fraction-digits"],1,Kt))?null:new Ln(n,i,o,a,s)},Ln.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},Ln.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},Ln.prototype.outputDefined=function(){return!1},Ln.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var Rn=function(t){this.type=Kt,this.input=t};Rn.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+ie(n.type)+" instead."):new Rn(n):null},Rn.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new be("Expected value to be of type string or array, but found "+ie(ye(e))+" instead.")},Rn.prototype.eachChild=function(t){t(this.input)},Rn.prototype.outputDefined=function(){return!1},Rn.prototype.serialize=function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Wn={"==":Mn,"!=":An,">":Pn,"<":On,">=":zn,"<=":Dn,array:we,at:bn,boolean:we,case:Sn,coalesce:vn,collator:Ae,format:ke,image:Se,in:xn,"index-of":wn,interpolate:gn,"interpolate-hcl":gn,"interpolate-lab":gn,length:Rn,let:_n,literal:_e,match:kn,number:we,"number-format":Ln,object:we,slice:Cn,step:$e,string:we,"to-boolean":Ee,"to-color":Ee,"to-number":Ee,"to-string":Ee,var:Xe,within:Ge};function Bn(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t);var a=o?o.evaluate(t):1,s=me(n,r,i,a);if(s)throw new be(s);return new ce(n/255*a,r/255*a,i/255*a,a)}function jn(t,e){return t in e}function Nn(t,e){var n=e[t];return void 0===n?null:n}function Fn(t){return{type:t}}function Un(t){return{result:"success",value:t}}function Vn(t){return{result:"error",value:t}}function qn(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Hn(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Gn(t){return!!t.expression&&t.expression.interpolated}function Zn(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function Kn(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function Qn(t){return t}function Xn(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function Yn(t,e,n,r,i){return Xn(typeof n===i?r[n]:void 0,t.default,e.default)}function Jn(t,e,n){if("number"!==Zn(n))return Xn(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=Je(t.stops.map((function(t){return t[0]})),n);return t.stops[i][1]}function $n(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==Zn(n))return Xn(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var o=Je(t.stops.map((function(t){return t[0]})),n),a=function(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}(n,r,t.stops[o][0],t.stops[o+1][0]),s=t.stops[o][1],l=t.stops[o+1][1],u=en[e.type]||Qn;if(t.colorSpace&&"rgb"!==t.colorSpace){var c=mn[t.colorSpace];u=function(t,e){return c.reverse(c.interpolate(c.forward(t),c.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=s.evaluate.apply(void 0,t),r=l.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return u(n,r,a)}}:u(s,l,a)}function tr(t,e,n){return"color"===e.type?n=ce.parse(n):"formatted"===e.type?n=he.fromString(n.toString()):"resolvedImage"===e.type?n=fe.fromString(n.toString()):Zn(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),Xn(n,t.default,e.default)}Me.register(Wn,{error:[{kind:"error"},[Qt],function(t,e){throw new be(e[0].evaluate(t))}],typeof:[Qt,[$t],function(t,e){return ie(ye(e[0].evaluate(t)))}],"to-rgba":[re(Kt,4),[Yt],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[Yt,[Kt,Kt,Kt],Bn],rgba:[Yt,[Kt,Kt,Kt,Kt],Bn],has:{type:Xt,overloads:[[[Qt],function(t,e){return jn(e[0].evaluate(t),t.properties())}],[[Qt,Jt],function(t,e){var n=e[1];return jn(e[0].evaluate(t),n.evaluate(t))}]]},get:{type:$t,overloads:[[[Qt],function(t,e){return Nn(e[0].evaluate(t),t.properties())}],[[Qt,Jt],function(t,e){var n=e[1];return Nn(e[0].evaluate(t),n.evaluate(t))}]]},"feature-state":[$t,[Qt],function(t,e){return Nn(e[0].evaluate(t),t.featureState||{})}],properties:[Jt,[],function(t){return t.properties()}],"geometry-type":[Qt,[],function(t){return t.geometryType()}],id:[$t,[],function(t){return t.id()}],zoom:[Kt,[],function(t){return t.globals.zoom}],"heatmap-density":[Kt,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Kt,[],function(t){return t.globals.lineProgress||0}],accumulated:[$t,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[Kt,Fn(Kt),function(t,e){for(var n=0,r=0,i=e;r<i.length;r+=1)n+=i[r].evaluate(t);return n}],"*":[Kt,Fn(Kt),function(t,e){for(var n=1,r=0,i=e;r<i.length;r+=1)n*=i[r].evaluate(t);return n}],"-":{type:Kt,overloads:[[[Kt,Kt],function(t,e){var n=e[1];return e[0].evaluate(t)-n.evaluate(t)}],[[Kt],function(t,e){return-e[0].evaluate(t)}]]},"/":[Kt,[Kt,Kt],function(t,e){var n=e[1];return e[0].evaluate(t)/n.evaluate(t)}],"%":[Kt,[Kt,Kt],function(t,e){var n=e[1];return e[0].evaluate(t)%n.evaluate(t)}],ln2:[Kt,[],function(){return Math.LN2}],pi:[Kt,[],function(){return Math.PI}],e:[Kt,[],function(){return Math.E}],"^":[Kt,[Kt,Kt],function(t,e){var n=e[1];return Math.pow(e[0].evaluate(t),n.evaluate(t))}],sqrt:[Kt,[Kt],function(t,e){return Math.sqrt(e[0].evaluate(t))}],log10:[Kt,[Kt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN10}],ln:[Kt,[Kt],function(t,e){return Math.log(e[0].evaluate(t))}],log2:[Kt,[Kt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN2}],sin:[Kt,[Kt],function(t,e){return Math.sin(e[0].evaluate(t))}],cos:[Kt,[Kt],function(t,e){return Math.cos(e[0].evaluate(t))}],tan:[Kt,[Kt],function(t,e){return Math.tan(e[0].evaluate(t))}],asin:[Kt,[Kt],function(t,e){return Math.asin(e[0].evaluate(t))}],acos:[Kt,[Kt],function(t,e){return Math.acos(e[0].evaluate(t))}],atan:[Kt,[Kt],function(t,e){return Math.atan(e[0].evaluate(t))}],min:[Kt,Fn(Kt),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[Kt,Fn(Kt),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[Kt,[Kt],function(t,e){return Math.abs(e[0].evaluate(t))}],round:[Kt,[Kt],function(t,e){var n=e[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[Kt,[Kt],function(t,e){return Math.floor(e[0].evaluate(t))}],ceil:[Kt,[Kt],function(t,e){return Math.ceil(e[0].evaluate(t))}],"filter-==":[Xt,[Qt,$t],function(t,e){var n=e[0],r=e[1];return t.properties()[n.value]===r.value}],"filter-id-==":[Xt,[$t],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[Xt,[Qt],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[Xt,[Qt,$t],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[Xt,[$t],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[Xt,[Qt,$t],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>o}],"filter-id->":[Xt,[$t],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[Xt,[Qt,$t],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[Xt,[$t],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[Xt,[Qt,$t],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[Xt,[$t],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[Xt,[$t],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[Xt,[],function(t){return null!==t.id()&&void 0!==t.id()}],"filter-type-in":[Xt,[re(Qt)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[Xt,[re($t)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[Xt,[Qt,re($t)],function(t,e){var n=e[0];return e[1].value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[Xt,[Qt,re($t)],function(t,e){var n=e[0],r=e[1];return function(t,e,n,r){for(;n<=r;){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}(t.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:Xt,overloads:[[[Xt,Xt],function(t,e){var n=e[1];return e[0].evaluate(t)&&n.evaluate(t)}],[Fn(Xt),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(!r[n].evaluate(t))return!1;return!0}]]},any:{type:Xt,overloads:[[[Xt,Xt],function(t,e){var n=e[1];return e[0].evaluate(t)||n.evaluate(t)}],[Fn(Xt),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(r[n].evaluate(t))return!0;return!1}]]},"!":[Xt,[Xt],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[Xt,[Qt],function(t,e){var n=t.globals&&t.globals.isSupportedScript;return!n||n(e[0].evaluate(t))}],upcase:[Qt,[Qt],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[Qt,[Qt],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[Qt,Fn($t),function(t,e){return e.map((function(e){return ve(e.evaluate(t))})).join("")}],"resolved-locale":[Qt,[te],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var er=function(t,e){this.expression=t,this._warningHistory={},this._evaluator=new Ie,this._defaultValue=e?function(t){return"color"===t.type&&Kn(t.default)?new ce(0,0,0,0):"color"===t.type?ce.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null};function nr(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Wn}function rr(t,e){var n=new Ye(Wn,[],e?function(t){var e={color:Yt,string:Qt,number:Kt,enum:Qt,boolean:Xt,formatted:ee,resolvedImage:ne};return"array"===t.type?re(e[t.value]||$t,t.length):e[t.type]}(e):void 0),r=n.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return r?Un(new er(r,e)):Vn(n.errors)}er.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)},er.prototype.evaluate=function(t,e,n,r,i,o){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new be("Expected value to be one of "+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var ir=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!Ke(e.expression)};ir.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)},ir.prototype.evaluate=function(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)};var or=function(t,e,n,r){this.kind=t,this.zoomStops=n,this._styleExpression=e,this.isStateDependent="camera"!==t&&!Ke(e.expression),this.interpolationType=r};function ar(t,e){if("error"===(t=rr(t,e)).result)return t;var n=t.value.expression,r=Ze(n);if(!r&&!qn(e))return Vn([new Ht("","data expressions not supported")]);var i=Qe(n,["zoom"]);if(!i&&!Hn(e))return Vn([new Ht("","zoom expressions not supported")]);var o=function t(e){var n=null;if(e instanceof _n)n=t(e.result);else if(e instanceof vn)for(var r=0,i=e.args;r<i.length&&!(n=t(i[r]));r+=1);else(e instanceof $e||e instanceof gn)&&e.input instanceof Me&&"zoom"===e.input.name&&(n=e);return n instanceof Ht||e.eachChild((function(e){var r=t(e);r instanceof Ht?n=r:!n&&r?n=new Ht("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new Ht("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}(n);return o||i?o instanceof Ht?Vn([o]):o instanceof gn&&!Gn(e)?Vn([new Ht("",'"interpolate" expressions cannot be used with this property')]):Un(o?new or(r?"camera":"composite",t.value,o.labels,o instanceof gn?o.interpolation:void 0):new ir(r?"constant":"source",t.value)):Vn([new Ht("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}or.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)},or.prototype.evaluate=function(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)},or.prototype.interpolationFactor=function(t,e,n){return this.interpolationType?gn.interpolationFactor(this.interpolationType,t,e,n):0};var sr=function(t,e){this._parameters=t,this._specification=e,Ut(this,function t(e,n){var r,i,o,a="color"===n.type,s=e.stops&&"object"==typeof e.stops[0][0],l=s||!(s||void 0!==e.property),u=e.type||(Gn(n)?"exponential":"interval");if(a&&((e=Ut({},e)).stops&&(e.stops=e.stops.map((function(t){return[t[0],ce.parse(t[1])]}))),e.default=ce.parse(e.default?e.default:n.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!mn[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===u)r=$n;else if("interval"===u)r=Jn;else if("categorical"===u){r=Yn,i=Object.create(null);for(var c=0,p=e.stops;c<p.length;c+=1){var d=p[c];i[d[0]]=d[1]}o=typeof e.stops[0][0]}else{if("identity"!==u)throw new Error('Unknown function type "'+u+'"');r=tr}if(s){for(var h={},f=[],m=0;m<e.stops.length;m++){var g=e.stops[m],y=g[0].zoom;void 0===h[y]&&(h[y]={zoom:y,type:e.type,property:e.property,default:e.default,stops:[]},f.push(y)),h[y].stops.push([g[0].value,g[1]])}for(var v=[],_=0,b=f;_<b.length;_+=1){var x=b[_];v.push([h[x].zoom,t(h[x],n)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:gn.interpolationFactor.bind(void 0,w),zoomStops:v.map((function(t){return t[0]})),evaluate:function(t,r){var i=t.zoom;return $n({stops:v,base:e.base},n,i).evaluate(i,r)}}}if(l){var k="exponential"===u?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:k,interpolationFactor:gn.interpolationFactor.bind(void 0,k),zoomStops:e.stops.map((function(t){return t[0]})),evaluate:function(t){return r(e,n,t.zoom,i,o)}}}return{kind:"source",evaluate:function(t,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?Xn(e.default,n.default):r(e,n,s,i,o)}}}(this._parameters,this._specification))};function lr(t){var e=t.key,n=t.value,r=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=[],l=Zn(n);if("object"!==l)return[new Nt(e,n,"object expected, "+l+" found")];for(var u in n){var c=u.split(".")[0],p=r[c]||r["*"],d=void 0;if(i[c])d=i[c];else if(r[c])d=Dr;else if(i["*"])d=i["*"];else{if(!r["*"]){s.push(new Nt(e,n[u],'unknown property "'+u+'"'));continue}d=Dr}s=s.concat(d({key:(e?e+".":e)+u,value:n[u],valueSpec:p,style:o,styleSpec:a,object:n,objectKey:u},n))}for(var h in r)i[h]||r[h].required&&void 0===r[h].default&&void 0===n[h]&&s.push(new Nt(e,n,'missing required property "'+h+'"'));return s}function ur(t){var e=t.value,n=t.valueSpec,r=t.style,i=t.styleSpec,o=t.key,a=t.arrayElementValidator||Dr;if("array"!==Zn(e))return[new Nt(o,e,"array expected, "+Zn(e)+" found")];if(n.length&&e.length!==n.length)return[new Nt(o,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new Nt(o,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===Zn(n.value)&&(s=n.value);for(var l=[],u=0;u<e.length;u++)l=l.concat(a({array:e,arrayIndex:u,value:e[u],valueSpec:s,style:r,styleSpec:i,key:o+"["+u+"]"}));return l}function cr(t){var e=t.key,n=t.value,r=t.valueSpec,i=Zn(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new Nt(e,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new Nt(e,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new Nt(e,n,n+" is greater than the maximum value "+r.maximum)]:[]}function pr(t){var e,n,r,i=t.valueSpec,o=Vt(t.value.type),a={},s="categorical"!==o&&void 0===t.value.property,l=!s,u="array"===Zn(t.value.stops)&&"array"===Zn(t.value.stops[0])&&"object"===Zn(t.value.stops[0][0]),c=lr({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===o)return[new Nt(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(ur({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:p})),"array"===Zn(n)&&0===n.length&&e.push(new Nt(t.key,n,"array must have at least one stop")),e},default:function(t){return Dr({key:t.key,value:t.value,valueSpec:i,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===o&&s&&c.push(new Nt(t.key,t.value,'missing required property "property"')),"identity"===o||t.value.stops||c.push(new Nt(t.key,t.value,'missing required property "stops"')),"exponential"===o&&t.valueSpec.expression&&!Gn(t.valueSpec)&&c.push(new Nt(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(l&&!qn(t.valueSpec)?c.push(new Nt(t.key,t.value,"property functions not supported")):s&&!Hn(t.valueSpec)&&c.push(new Nt(t.key,t.value,"zoom functions not supported"))),"categorical"!==o&&!u||void 0!==t.value.property||c.push(new Nt(t.key,t.value,'"property" property is required')),c;function p(t){var e=[],o=t.value,s=t.key;if("array"!==Zn(o))return[new Nt(s,o,"array expected, "+Zn(o)+" found")];if(2!==o.length)return[new Nt(s,o,"array length 2 expected, length "+o.length+" found")];if(u){if("object"!==Zn(o[0]))return[new Nt(s,o,"object expected, "+Zn(o[0])+" found")];if(void 0===o[0].zoom)return[new Nt(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new Nt(s,o,"object stop key must have value")];if(r&&r>Vt(o[0].zoom))return[new Nt(s,o[0].zoom,"stop zoom values must appear in ascending order")];Vt(o[0].zoom)!==r&&(r=Vt(o[0].zoom),n=void 0,a={}),e=e.concat(lr({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:cr,value:d}}))}else e=e.concat(d({key:s+"[0]",value:o[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},o));return nr(qt(o[1]))?e.concat([new Nt(s+"[1]",o[1],"expressions are not allowed in function stops.")]):e.concat(Dr({key:s+"[1]",value:o[1],valueSpec:i,style:t.style,styleSpec:t.styleSpec}))}function d(t,r){var s=Zn(t.value),l=Vt(t.value),u=null!==t.value?t.value:r;if(e){if(s!==e)return[new Nt(t.key,u,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Nt(t.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, "+s+" found";return qn(i)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Nt(t.key,u,c)]}return"categorical"!==o||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==o&&"number"===s&&void 0!==n&&l<n?[new Nt(t.key,u,"stop domain values must appear in ascending order")]:(n=l,"categorical"===o&&l in a?[new Nt(t.key,u,"stop domain values must be unique")]:(a[l]=!0,[])):[new Nt(t.key,u,"integer expected, found "+l)]}}function dr(t){var e=("property"===t.expressionContext?ar:rr)(qt(t.value),t.valueSpec);if("error"===e.result)return e.value.map((function(e){return new Nt(""+t.key+e.key,t.value,e.message)}));var n=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!n.outputDefined())return[new Nt(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!Ke(n))return[new Nt(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!Ke(n))return[new Nt(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!Qe(n,["zoom","feature-state"]))return[new Nt(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!Ze(n))return[new Nt(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function hr(t){var e=t.key,n=t.value,r=t.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Vt(n))&&i.push(new Nt(e,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(Vt(n))&&i.push(new Nt(e,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function fr(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var r=n[e];if(!fr(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}sr.deserialize=function(t){return new sr(t._parameters,t._specification)},sr.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var mr={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function gr(t){if(null==t)return{filter:function(){return!0},needGeometry:!1};fr(t)||(t=vr(t));var e=rr(t,mr);if("error"===e.result)throw new Error(e.value.map((function(t){return t.key+": "+t.message})).join(", "));return{filter:function(t,n,r){return e.value.evaluate(t,n,{},r)},needGeometry:function t(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var n=1;n<e.length;n++)if(t(e[n]))return!0;return!1}(t)}}function yr(t,e){return t<e?-1:t>e?1:0}function vr(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?_r(t[1],t[2],"=="):"!="===n?wr(_r(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?_r(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map(vr))):"all"===n?["all"].concat(t.slice(1).map(vr)):"none"===n?["all"].concat(t.slice(1).map(vr).map(wr)):"in"===n?br(t[1],t.slice(2)):"!in"===n?wr(br(t[1],t.slice(2))):"has"===n?xr(t[1]):"!has"===n?wr(xr(t[1])):"within"!==n||t}function _r(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function br(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((function(t){return typeof t!=typeof e[0]}))?["filter-in-large",t,["literal",e.sort(yr)]]:["filter-in-small",t,["literal",e]]}}function xr(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function wr(t){return["!",t]}function kr(t){return fr(qt(t.value))?dr(Ut({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,r=e.key;if("array"!==Zn(n))return[new Nt(r,n,"array expected, "+Zn(n)+" found")];var i,o=e.styleSpec,a=[];if(n.length<1)return[new Nt(r,n,"filter array must have at least 1 element")];switch(a=a.concat(hr({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),Vt(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Vt(n[1])&&a.push(new Nt(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new Nt(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=Zn(n[1]))&&a.push(new Nt(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=Zn(n[s]),"$type"===Vt(n[1])?a=a.concat(hr({key:r+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new Nt(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var l=1;l<n.length;l++)a=a.concat(t({key:r+"["+l+"]",value:n[l],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=Zn(n[1]),2!==n.length?a.push(new Nt(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new Nt(r+"[1]",n[1],"string expected, "+i+" found"));break;case"within":i=Zn(n[1]),2!==n.length?a.push(new Nt(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"object"!==i&&a.push(new Nt(r+"[1]",n[1],"object expected, "+i+" found"))}return a}(t)}function Sr(t,e){var n=t.key,r=t.style,i=t.styleSpec,o=t.value,a=t.objectKey,s=i[e+"_"+t.layerType];if(!s)return[];var l=a.match(/^(.*)-transition$/);if("paint"===e&&l&&s[l[1]]&&s[l[1]].transition)return Dr({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var u,c=t.valueSpec||s[a];if(!c)return[new Nt(n,o,'unknown property "'+a+'"')];if("string"===Zn(o)&&qn(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new Nt(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(u[1])+" }`.")];var p=[];return"symbol"===t.layerType&&("text-field"===a&&r&&!r.glyphs&&p.push(new Nt(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Kn(qt(o))&&"identity"===Vt(o.type)&&p.push(new Nt(n,o,'"text-font" does not support identity functions'))),p.concat(Dr({key:t.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:e,propertyKey:a}))}function Cr(t){return Sr(t,"paint")}function Er(t){return Sr(t,"layout")}function Tr(t){var e=[],n=t.value,r=t.key,i=t.style,o=t.styleSpec;n.type||n.ref||e.push(new Nt(r,n,'either "type" or "ref" is required'));var a,s=Vt(n.type),l=Vt(n.ref);if(n.id)for(var u=Vt(n.id),c=0;c<t.arrayIndex;c++){var p=i.layers[c];Vt(p.id)===u&&e.push(new Nt(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+p.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(t){t in n&&e.push(new Nt(r,n[t],'"'+t+'" is prohibited for ref layers'))})),i.layers.forEach((function(t){Vt(t.id)===l&&(a=t)})),a?a.ref?e.push(new Nt(r,n.ref,"ref cannot reference another ref layer")):s=Vt(a.type):e.push(new Nt(r,n.ref,'ref layer "'+l+'" not found'));else if("background"!==s)if(n.source){var d=i.sources&&i.sources[n.source],h=d&&Vt(d.type);d?"vector"===h&&"raster"===s?e.push(new Nt(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===h&&"raster"!==s?e.push(new Nt(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==h||n["source-layer"]?"raster-dem"===h&&"hillshade"!==s?e.push(new Nt(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===h&&d.lineMetrics||e.push(new Nt(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new Nt(r,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new Nt(r,n.source,'source "'+n.source+'" not found'))}else e.push(new Nt(r,n,'missing required property "source"'));return e=e.concat(lr({key:r,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Dr({key:r+".type",value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:kr,layout:function(t){return lr({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return Er(Ut({layerType:s},t))}}})},paint:function(t){return lr({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return Cr(Ut({layerType:s},t))}}})}}}))}function Ir(t){var e=t.value,n=t.key,r=Zn(e);return"string"!==r?[new Nt(n,e,"string expected, "+r+" found")]:[]}var Mr={promoteId:function(t){var e=t.key,n=t.value;if("string"===Zn(n))return Ir({key:e,value:n});var r=[];for(var i in n)r.push.apply(r,Ir({key:e+"."+i,value:n[i]}));return r}};function Ar(t){var e=t.value,n=t.key,r=t.styleSpec,i=t.style;if(!e.type)return[new Nt(n,e,'"type" is required')];var o,a=Vt(e.type);switch(a){case"vector":case"raster":case"raster-dem":return lr({key:n,value:e,valueSpec:r["source_"+a.replace("-","_")],style:t.style,styleSpec:r,objectElementValidators:Mr});case"geojson":if(o=lr({key:n,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:Mr}),e.cluster)for(var s in e.clusterProperties){var l=e.clusterProperties[s],u=l[0],c="string"==typeof u?[u,["accumulated"],["get",s]]:u;o.push.apply(o,dr({key:n+"."+s+".map",value:l[1],expressionContext:"cluster-map"})),o.push.apply(o,dr({key:n+"."+s+".reduce",value:c,expressionContext:"cluster-reduce"}))}return o;case"video":return lr({key:n,value:e,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return lr({key:n,value:e,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new Nt(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return hr({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function Or(t){var e=t.value,n=t.styleSpec,r=n.light,i=t.style,o=[],a=Zn(e);if(void 0===e)return o;if("object"!==a)return o.concat([new Nt("light",e,"object expected, "+a+" found")]);for(var s in e){var l=s.match(/^(.*)-transition$/);o=o.concat(l&&r[l[1]]&&r[l[1]].transition?Dr({key:s,value:e[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?Dr({key:s,value:e[s],valueSpec:r[s],style:i,styleSpec:n}):[new Nt(s,e[s],'unknown property "'+s+'"')])}return o}var Pr={"*":function(){return[]},array:ur,boolean:function(t){var e=t.value,n=t.key,r=Zn(e);return"boolean"!==r?[new Nt(n,e,"boolean expected, "+r+" found")]:[]},number:cr,color:function(t){var e=t.key,n=t.value,r=Zn(n);return"string"!==r?[new Nt(e,n,"color expected, "+r+" found")]:null===ue(n)?[new Nt(e,n,'color expected, "'+n+'" found')]:[]},constants:Ft,enum:hr,filter:kr,function:pr,layer:Tr,object:lr,source:Ar,light:Or,string:Ir,formatted:function(t){return 0===Ir(t).length?[]:dr(t)},resolvedImage:function(t){return 0===Ir(t).length?[]:dr(t)}};function Dr(t){var e=t.value,n=t.valueSpec,r=t.styleSpec;return n.expression&&Kn(Vt(e))?pr(t):n.expression&&nr(qt(e))?dr(t):n.type&&Pr[n.type]?Pr[n.type](t):lr(Ut({},t,{valueSpec:n.type?r[n.type]:n}))}function zr(t){var e=t.value,n=t.key,r=Ir(t);return r.length||(-1===e.indexOf("{fontstack}")&&r.push(new Nt(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new Nt(n,e,'"glyphs" url must include a "{range}" token'))),r}function Lr(t,e){void 0===e&&(e=jt);var n=[];return n=n.concat(Dr({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:zr,"*":function(){return[]}}})),t.constants&&(n=n.concat(Ft({key:"constants",value:t.constants,style:t,styleSpec:e}))),Rr(n)}function Rr(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function Wr(t){return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return Rr(t.apply(this,e))}}Lr.source=Wr(Ar),Lr.light=Wr(Or),Lr.layer=Wr(Tr),Lr.filter=Wr(kr),Lr.paintProperty=Wr(Cr),Lr.layoutProperty=Wr(Er);var Br=Lr,jr=Br.light,Nr=Br.paintProperty,Fr=Br.layoutProperty;function Ur(t,e){var n=!1;if(e&&e.length)for(var r=0,i=e;r<i.length;r+=1)t.fire(new Wt(new Error(i[r].message))),n=!0;return n}var Vr=qr;function qr(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],this.d=(e=i[1])+2*(n=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[3+o],s=i[3+o+1];r.push(a===s?null:i.subarray(a,s))}var l=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var u=0;u<this.d*this.d;u++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var c=n/e*t;this.min=-c,this.max=t+c}qr.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},qr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},qr.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},qr.prototype.query=function(t,e,n,r,i){var o=this.min,a=this.max;if(t<=o&&e<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,n,r,this._queryCell,s,{},i),s},qr.prototype._queryCell=function(t,e,n,r,i,o,a,s){var l=this.cells[i];if(null!==l)for(var u=this.keys,c=this.bboxes,p=0;p<l.length;p++){var d=l[p];if(void 0===a[d]){var h=4*d;(s?s(c[h+0],c[h+1],c[h+2],c[h+3]):t<=c[h+2]&&e<=c[h+3]&&n>=c[h+0]&&r>=c[h+1])?(a[d]=!0,o.push(u[d])):a[d]=!1}}},qr.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var l=this._convertToCellCoord(t),u=this._convertToCellCoord(e),c=this._convertToCellCoord(n),p=this._convertToCellCoord(r),d=l;d<=c;d++)for(var h=u;h<=p;h++){var f=this.d*h+d;if((!s||s(this._convertFromCellCoord(d),this._convertFromCellCoord(h),this._convertFromCellCoord(d+1),this._convertFromCellCoord(h+1)))&&i.call(this,t,e,n,r,f,o,a,s))return}},qr.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},qr.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},qr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(e+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=e,a=0;a<t.length;a++){var s=t[a];i[3+a]=o,i.set(s,o),o+=s.length}return i[3+t.length]=o,i.set(this.keys,o),i[3+t.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var Hr=s.ImageData,Gr=s.ImageBitmap,Zr={};function Kr(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Zr[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var Qr in Kr("Object",Object),Vr.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),{buffer:n}},Vr.deserialize=function(t){return new Vr(t.buffer)},Kr("Grid",Vr),Kr("Color",ce),Kr("Error",Error),Kr("ResolvedImage",fe),Kr("StylePropertyFunction",sr),Kr("StyleExpression",er,{omit:["_evaluator"]}),Kr("ZoomDependentExpression",or),Kr("ZoomConstantExpression",ir),Kr("CompoundExpression",Me,{omit:["_evaluate"]}),Wn)Wn[Qr]._classRegistryKey||Kr("Expression_"+Qr,Wn[Qr]);function Xr(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function Yr(t){return Gr&&t instanceof Gr}function Jr(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(Xr(t)||Yr(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof Hr)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var r=[],i=0,o=t;i<o.length;i+=1)r.push(Jr(o[i],e));return r}if("object"==typeof t){var a=t.constructor,s=a._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var l=a.serialize?a.serialize(t,e):{};if(!a.serialize){for(var u in t)if(t.hasOwnProperty(u)&&!(Zr[s].omit.indexOf(u)>=0)){var c=t[u];l[u]=Zr[s].shallow.indexOf(u)>=0?c:Jr(c,e)}t instanceof Error&&(l.message=t.message)}if(l.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(l.$name=s),l}throw new Error("can't serialize object of type "+typeof t)}function $r(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||Xr(t)||Yr(t)||ArrayBuffer.isView(t)||t instanceof Hr)return t;if(Array.isArray(t))return t.map($r);if("object"==typeof t){var e=t.$name||"Object",n=Zr[e].klass;if(!n)throw new Error("can't deserialize unregistered class "+e);if(n.deserialize)return n.deserialize(t);for(var r=Object.create(n.prototype),i=0,o=Object.keys(t);i<o.length;i+=1){var a=o[i];if("$name"!==a){var s=t[a];r[a]=Zr[e].shallow.indexOf(a)>=0?s:$r(s)}}return r}throw new Error("can't deserialize object of type "+typeof t)}var ti=function(){this.first=!0};ti.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))};var ei={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function ni(t){for(var e=0,n=t;e<n.length;e+=1)if(ri(n[e].charCodeAt(0)))return!0;return!1}function ri(t){return!(746!==t&&747!==t&&(t<4352||!(ei["Bopomofo Extended"](t)||ei.Bopomofo(t)||ei["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||ei["CJK Compatibility Ideographs"](t)||ei["CJK Compatibility"](t)||ei["CJK Radicals Supplement"](t)||ei["CJK Strokes"](t)||!(!ei["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||ei["CJK Unified Ideographs Extension A"](t)||ei["CJK Unified Ideographs"](t)||ei["Enclosed CJK Letters and Months"](t)||ei["Hangul Compatibility Jamo"](t)||ei["Hangul Jamo Extended-A"](t)||ei["Hangul Jamo Extended-B"](t)||ei["Hangul Jamo"](t)||ei["Hangul Syllables"](t)||ei.Hiragana(t)||ei["Ideographic Description Characters"](t)||ei.Kanbun(t)||ei["Kangxi Radicals"](t)||ei["Katakana Phonetic Extensions"](t)||ei.Katakana(t)&&12540!==t||!(!ei["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!ei["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||ei["Unified Canadian Aboriginal Syllabics"](t)||ei["Unified Canadian Aboriginal Syllabics Extended"](t)||ei["Vertical Forms"](t)||ei["Yijing Hexagram Symbols"](t)||ei["Yi Syllables"](t)||ei["Yi Radicals"](t))))}function ii(t){return!(ri(t)||function(t){return!!(ei["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||ei["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||ei["Letterlike Symbols"](t)||ei["Number Forms"](t)||ei["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||ei["Control Pictures"](t)&&9251!==t||ei["Optical Character Recognition"](t)||ei["Enclosed Alphanumerics"](t)||ei["Geometric Shapes"](t)||ei["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||ei["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||ei["CJK Symbols and Punctuation"](t)||ei.Katakana(t)||ei["Private Use Area"](t)||ei["CJK Compatibility Forms"](t)||ei["Small Form Variants"](t)||ei["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function oi(t){return t>=1424&&t<=2303||ei["Arabic Presentation Forms-A"](t)||ei["Arabic Presentation Forms-B"](t)}function ai(t,e){return!(!e&&oi(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||ei.Khmer(t))}function si(t){for(var e=0,n=t;e<n.length;e+=1)if(oi(n[e].charCodeAt(0)))return!0;return!1}var li=null,ui="unavailable",ci=null,pi=function(t){t&&"string"==typeof t&&t.indexOf("NetworkError")>-1&&(ui="error"),li&&li(t)};function di(){hi.fire(new Rt("pluginStateChange",{pluginStatus:ui,pluginURL:ci}))}var hi=new Bt,fi=function(){return ui},mi=function(){if("deferred"!==ui||!ci)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ui="loading",di(),ci&&At({url:ci},(function(t){t?pi(t):(ui="loaded",di())}))},gi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===ui||null!=gi.applyArabicShaping},isLoading:function(){return"loading"===ui},setState:function(t){ui=t.pluginStatus,ci=t.pluginURL},isParsed:function(){return null!=gi.applyArabicShaping&&null!=gi.processBidirectionalText&&null!=gi.processStyledBidirectionalText},getPluginURL:function(){return ci}},yi=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ti,this.transition={})};yi.prototype.isSupportedScript=function(t){return function(t,e){for(var n=0,r=t;n<r.length;n+=1)if(!ai(r[n].charCodeAt(0),e))return!1;return!0}(t,gi.isLoaded())},yi.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},yi.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),n=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*e}};var vi=function(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(Kn(t))return new sr(t,e);if(nr(t)){var n=ar(t,e);if("error"===n.result)throw new Error(n.value.map((function(t){return t.key+": "+t.message})).join(", "));return n.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=ce.parse(t)),{kind:"constant",evaluate:function(){return r}}}(void 0===e?t.specification.default:e,t.specification)};vi.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},vi.prototype.possiblyEvaluate=function(t,e,n){return this.property.possiblyEvaluate(this,t,e,n)};var _i=function(t){this.property=t,this.value=new vi(t,void 0)};_i.prototype.transitioned=function(t,e){return new xi(this.property,this.value,e,h({},t.transition,this.transition),t.now)},_i.prototype.untransitioned=function(){return new xi(this.property,this.value,null,{},0)};var bi=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};bi.prototype.getValue=function(t){return w(this._values[t].value.value)},bi.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new _i(this._values[t].property)),this._values[t].value=new vi(this._values[t].property,null===e?void 0:w(e))},bi.prototype.getTransition=function(t){return w(this._values[t].transition)},bi.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new _i(this._values[t].property)),this._values[t].transition=w(e)||void 0},bi.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i);var o=this.getTransition(r);void 0!==o&&(t[r+"-transition"]=o)}return t},bi.prototype.transitioned=function(t,e){for(var n=new wi(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(t,e._values[o])}return n},bi.prototype.untransitioned=function(){for(var t=new wi(this._properties),e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e];t._values[r]=this._values[r].untransitioned()}return t};var xi=function(t,e,n,r,i){this.property=t,this.value=e,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,t.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};xi.prototype.possiblyEvaluate=function(t,e,n){var r=t.now||0,i=this.value.possiblyEvaluate(t,e,n),o=this.prior;if(o){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return o.possiblyEvaluate(t,e,n);var a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(t,e,n),i,function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}(a))}return i};var wi=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};wi.prototype.possiblyEvaluate=function(t,e,n){for(var r=new Ci(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(t,e,n)}return r},wi.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1)if(this._values[e[t]].prior)return!0;return!1};var ki=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};ki.prototype.getValue=function(t){return w(this._values[t].value)},ki.prototype.setValue=function(t,e){this._values[t]=new vi(this._values[t].property,null===e?void 0:w(e))},ki.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i)}return t},ki.prototype.possiblyEvaluate=function(t,e,n){for(var r=new Ci(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(t,e,n)}return r};var Si=function(t,e,n){this.property=t,this.value=e,this.parameters=n};Si.prototype.isConstant=function(){return"constant"===this.value.kind},Si.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},Si.prototype.evaluate=function(t,e,n,r){return this.property.evaluate(this.value,this.parameters,t,e,n,r)};var Ci=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};Ci.prototype.get=function(t){return this._values[t]};var Ei=function(t){this.specification=t};Ei.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},Ei.prototype.interpolate=function(t,e,n){var r=en[this.specification.type];return r?r(t,e,n):t};var Ti=function(t,e){this.specification=t,this.overrides=e};Ti.prototype.possiblyEvaluate=function(t,e,n,r){return new Si(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},n,r)}:t.expression,e)},Ti.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new Si(this,{kind:"constant",value:void 0},t.parameters);var r=en[this.specification.type];return r?new Si(this,{kind:"constant",value:r(t.value.value,e.value.value,n)},t.parameters):t},Ti.prototype.evaluate=function(t,e,n,r,i,o){return"constant"===t.kind?t.value:t.evaluate(e,n,r,i,o)};var Ii=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(t,e,n,r){if(void 0===t.value)return new Si(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var i=t.expression.evaluate(e,null,{},n,r),o="resolvedImage"===t.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,e);return new Si(this,{kind:"constant",value:a},e)}if("camera"===t.expression.kind){var s=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new Si(this,{kind:"constant",value:s},e)}return new Si(this,t.expression,e)},e.prototype.evaluate=function(t,e,n,r,i,o){if("source"===t.kind){var a=t.evaluate(e,n,r,i,o);return this._calculate(a,a,a,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},n,r),t.evaluate({zoom:Math.floor(e.zoom)},n,r),t.evaluate({zoom:Math.floor(e.zoom)+1},n,r),e):t.value},e.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},e.prototype.interpolate=function(t){return t},e}(Ti),Mi=function(t){this.specification=t};Mi.prototype.possiblyEvaluate=function(t,e,n,r){if(void 0!==t.value){if("constant"===t.expression.kind){var i=t.expression.evaluate(e,null,{},n,r);return this._calculate(i,i,i,e)}return this._calculate(t.expression.evaluate(new yi(Math.floor(e.zoom-1),e)),t.expression.evaluate(new yi(Math.floor(e.zoom),e)),t.expression.evaluate(new yi(Math.floor(e.zoom+1),e)),e)}},Mi.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},Mi.prototype.interpolate=function(t){return t};var Ai=function(t){this.specification=t};Ai.prototype.possiblyEvaluate=function(t,e,n,r){return!!t.expression.evaluate(e,null,{},n,r)},Ai.prototype.interpolate=function(){return!1};var Oi=function(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var n=t[e];n.specification.overridable&&this.overridableProperties.push(e);var r=this.defaultPropertyValues[e]=new vi(n,void 0),i=this.defaultTransitionablePropertyValues[e]=new _i(n);this.defaultTransitioningPropertyValues[e]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=r.possiblyEvaluate({})}};Kr("DataDrivenProperty",Ti),Kr("DataConstantProperty",Ei),Kr("CrossFadedDataDrivenProperty",Ii),Kr("CrossFadedProperty",Mi),Kr("ColorRampProperty",Ai);var Pi=function(t){function e(e,n){if(t.call(this),this.id=e.id,this.type=e.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),n.layout&&(this._unevaluatedLayout=new ki(n.layout)),n.paint)){for(var r in this._transitionablePaint=new bi(n.paint),e.paint)this.setPaintProperty(r,e.paint[r],{validate:!1});for(var i in e.layout)this.setLayoutProperty(i,e.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ci(n.paint)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,n){void 0===n&&(n={}),null!=e&&this._validate(Fr,"layers."+this.id+".layout."+t,t,e,n)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e)},e.prototype.getPaintProperty=function(t){return _(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-11)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,n){if(void 0===n&&(n={}),null!=e&&this._validate(Nr,"layers."+this.id+".paint."+t,t,e,n))return!1;if(_(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-11),e||void 0),!1;var r=this._transitionablePaint._values[t],i="cross-faded-data-driven"===r.property.specification["property-type"],o=r.value.isDataDriven(),a=r.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);var s=this._transitionablePaint._values[t].value;return s.isDataDriven()||o||i||this._handleOverridablePaintPropertyUpdate(t,a,s)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){},e.prototype._handleOverridablePaintPropertyUpdate=function(t,e,n){return!1},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),x(t,(function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)}))},e.prototype._validate=function(t,e,n,r,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&Ur(this,t.call(Br,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:jt,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof Si&&qn(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},e}(Bt),Di={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},zi=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Li=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Ri(t,e){void 0===e&&(e=1);var n=0,r=0;return{members:t.map((function(t){var i=Di[t.type].BYTES_PER_ELEMENT,o=n=Wi(n,Math.max(e,i)),a=t.components||1;return r=Math.max(r,i),n+=i*a,{name:t.name,type:t.type,components:a,offset:o}})),size:Wi(n,Math.max(r,e)),alignment:e}}function Wi(t,e){return Math.ceil(t/e)*e}Li.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},Li.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},Li.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Li.prototype.clear=function(){this.length=0},Li.prototype.resize=function(t){this.reserve(t),this.length=t},Li.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},Li.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Bi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.int16[r+0]=e,this.int16[r+1]=n,t},e}(Li);Bi.prototype.bytesPerElement=4,Kr("StructArrayLayout2i4",Bi);var ji=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.int16[o+0]=e,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,t},e}(Li);ji.prototype.bytesPerElement=8,Kr("StructArrayLayout4i8",ji);var Ni=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Li);Ni.prototype.bytesPerElement=12,Kr("StructArrayLayout2i4i12",Ni);var Fi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=4*t,l=8*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.uint8[l+4]=r,this.uint8[l+5]=i,this.uint8[l+6]=o,this.uint8[l+7]=a,t},e}(Li);Fi.prototype.bytesPerElement=8,Kr("StructArrayLayout2i4ub8",Fi);var Ui=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.float32[r+0]=e,this.float32[r+1]=n,t},e}(Li);Ui.prototype.bytesPerElement=8,Kr("StructArrayLayout2f8",Ui);var Vi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u){var c=this.length;return this.resize(c+1),this.emplace(c,t,e,n,r,i,o,a,s,l,u)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c){var p=10*t;return this.uint16[p+0]=e,this.uint16[p+1]=n,this.uint16[p+2]=r,this.uint16[p+3]=i,this.uint16[p+4]=o,this.uint16[p+5]=a,this.uint16[p+6]=s,this.uint16[p+7]=l,this.uint16[p+8]=u,this.uint16[p+9]=c,t},e}(Li);Vi.prototype.bytesPerElement=20,Kr("StructArrayLayout10ui20",Vi);var qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c,p){var d=this.length;return this.resize(d+1),this.emplace(d,t,e,n,r,i,o,a,s,l,u,c,p)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,p,d){var h=12*t;return this.int16[h+0]=e,this.int16[h+1]=n,this.int16[h+2]=r,this.int16[h+3]=i,this.uint16[h+4]=o,this.uint16[h+5]=a,this.uint16[h+6]=s,this.uint16[h+7]=l,this.int16[h+8]=u,this.int16[h+9]=c,this.int16[h+10]=p,this.int16[h+11]=d,t},e}(Li);qi.prototype.bytesPerElement=24,Kr("StructArrayLayout4i4ui4i24",qi);var Hi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.float32[i+0]=e,this.float32[i+1]=n,this.float32[i+2]=r,t},e}(Li);Hi.prototype.bytesPerElement=12,Kr("StructArrayLayout3f12",Hi);var Gi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint32[1*t+0]=e,t},e}(Li);Gi.prototype.bytesPerElement=4,Kr("StructArrayLayout1ul4",Gi);var Zi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l){var u=this.length;return this.resize(u+1),this.emplace(u,t,e,n,r,i,o,a,s,l)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u){var c=10*t,p=5*t;return this.int16[c+0]=e,this.int16[c+1]=n,this.int16[c+2]=r,this.int16[c+3]=i,this.int16[c+4]=o,this.int16[c+5]=a,this.uint32[p+3]=s,this.uint16[c+8]=l,this.uint16[c+9]=u,t},e}(Li);Zi.prototype.bytesPerElement=20,Kr("StructArrayLayout6i1ul2ui20",Zi);var Ki=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Li);Ki.prototype.bytesPerElement=12,Kr("StructArrayLayout2i2i2i12",Ki);var Qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,n,r,i)},e.prototype.emplace=function(t,e,n,r,i,o){var a=4*t,s=8*t;return this.float32[a+0]=e,this.float32[a+1]=n,this.float32[a+2]=r,this.int16[s+6]=i,this.int16[s+7]=o,t},e}(Li);Qi.prototype.bytesPerElement=16,Kr("StructArrayLayout2f1f2i16",Qi);var Xi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=12*t,a=3*t;return this.uint8[o+0]=e,this.uint8[o+1]=n,this.float32[a+1]=r,this.float32[a+2]=i,t},e}(Li);Xi.prototype.bytesPerElement=12,Kr("StructArrayLayout2ub2f12",Xi);var Yi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=n,this.uint16[i+2]=r,t},e}(Li);Yi.prototype.bytesPerElement=6,Kr("StructArrayLayout3ui6",Yi);var Ji=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m,g){var y=this.length;return this.resize(y+1),this.emplace(y,t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m,g)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m,g,y){var v=24*t,_=12*t,b=48*t;return this.int16[v+0]=e,this.int16[v+1]=n,this.uint16[v+2]=r,this.uint16[v+3]=i,this.uint32[_+2]=o,this.uint32[_+3]=a,this.uint32[_+4]=s,this.uint16[v+10]=l,this.uint16[v+11]=u,this.uint16[v+12]=c,this.float32[_+7]=p,this.float32[_+8]=d,this.uint8[b+36]=h,this.uint8[b+37]=f,this.uint8[b+38]=m,this.uint32[_+10]=g,this.int16[v+22]=y,t},e}(Li);Ji.prototype.bytesPerElement=48,Kr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ji);var $i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b,x,w,k,S,C,E,T){var I=this.length;return this.resize(I+1),this.emplace(I,t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b,x,w,k,S,C,E,T)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b,x,w,k,S,C,E,T,I){var M=34*t,A=17*t;return this.int16[M+0]=e,this.int16[M+1]=n,this.int16[M+2]=r,this.int16[M+3]=i,this.int16[M+4]=o,this.int16[M+5]=a,this.int16[M+6]=s,this.int16[M+7]=l,this.uint16[M+8]=u,this.uint16[M+9]=c,this.uint16[M+10]=p,this.uint16[M+11]=d,this.uint16[M+12]=h,this.uint16[M+13]=f,this.uint16[M+14]=m,this.uint16[M+15]=g,this.uint16[M+16]=y,this.uint16[M+17]=v,this.uint16[M+18]=_,this.uint16[M+19]=b,this.uint16[M+20]=x,this.uint16[M+21]=w,this.uint16[M+22]=k,this.uint32[A+12]=S,this.float32[A+13]=C,this.float32[A+14]=E,this.float32[A+15]=T,this.float32[A+16]=I,t},e}(Li);$i.prototype.bytesPerElement=68,Kr("StructArrayLayout8i15ui1ul4f68",$i);var to=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.float32[1*t+0]=e,t},e}(Li);to.prototype.bytesPerElement=4,Kr("StructArrayLayout1f4",to);var eo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.int16[i+0]=e,this.int16[i+1]=n,this.int16[i+2]=r,t},e}(Li);eo.prototype.bytesPerElement=6,Kr("StructArrayLayout3i6",eo);var no=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=4*t;return this.uint32[2*t+0]=e,this.uint16[i+2]=n,this.uint16[i+3]=r,t},e}(Li);no.prototype.bytesPerElement=8,Kr("StructArrayLayout1ul2ui8",no);var ro=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.uint16[r+0]=e,this.uint16[r+1]=n,t},e}(Li);ro.prototype.bytesPerElement=4,Kr("StructArrayLayout2ui4",ro);var io=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint16[1*t+0]=e,t},e}(Li);io.prototype.bytesPerElement=2,Kr("StructArrayLayout1ui2",io);var oo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.float32[o+0]=e,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,t},e}(Li);oo.prototype.bytesPerElement=16,Kr("StructArrayLayout4f16",oo);var ao=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.anchorPoint.get=function(){return new o(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(zi);ao.prototype.size=20;var so=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new ao(this,t)},e}(Zi);Kr("CollisionBoxArray",so);var lo=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(t){this._structArray.uint8[this._pos1+37]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+38]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+10]=t},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(e.prototype,n),e}(zi);lo.prototype.size=48;var uo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new lo(this,t)},e}(Ji);Kr("PlacedSymbolArray",uo);var co=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+12]=t},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},n.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(e.prototype,n),e}(zi);co.prototype.size=68;var po=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new co(this,t)},e}($i);Kr("SymbolInstanceArray",po);var ho=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e}(to);Kr("GlyphOffsetArray",ho);var fo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e}(eo);Kr("SymbolLineVertexArray",fo);var mo=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(e.prototype,n),e}(zi);mo.prototype.size=8;var go=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new mo(this,t)},e}(no);Kr("FeatureIndexArray",go);var yo=Ri([{name:"a_pos",components:2,type:"Int16"}],4).members,vo=function(t){void 0===t&&(t=[]),this.segments=t};function _o(t,e){return 256*(t=p(Math.floor(t),0,255))+p(Math.floor(e),0,255)}vo.prototype.prepareSegment=function(t,e,n,r){var i=this.segments[this.segments.length-1];return t>vo.MAX_VERTEX_ARRAY_LENGTH&&S("Max vertices per segment is "+vo.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!i||i.vertexLength+t>vo.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i},vo.prototype.get=function(){return this.segments},vo.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var n=e[t];for(var r in n.vaos)n.vaos[r].destroy()}},vo.simpleSegment=function(t,e,n,r){return new vo([{vertexOffset:t,primitiveOffset:e,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},vo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Kr("SegmentVector",vo);var bo=Ri([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),xo=n((function(t){t.exports=function(t,e){var n,r,i,o,a,s,l,u;for(r=t.length-(n=3&t.length),i=e,a=3432918353,s=461845907,u=0;u<r;)l=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24,++u,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&t.charCodeAt(u+2))<<16;case 2:l^=(255&t.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&t.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),wo=n((function(t){t.exports=function(t,e){for(var n,r=t.length,i=e^r,o=0;r>=4;)n=1540483477*(65535&(n=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&t.charCodeAt(o+2))<<16;case 2:i^=(255&t.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),ko=xo,So=wo;ko.murmur3=xo,ko.murmur2=So;var Co=function(){this.ids=[],this.positions=[],this.indexed=!1};Co.prototype.add=function(t,e,n,r){this.ids.push(To(t)),this.positions.push(e,n,r)},Co.prototype.getPositions=function(t){for(var e=To(t),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=e?r=i:n=i+1}for(var o=[];this.ids[n]===e;)o.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return o},Co.serialize=function(t,e){var n=new Float64Array(t.ids),r=new Uint32Array(t.positions);return function t(e,n,r,i){for(;r<i;){for(var o=e[r+i>>1],a=r-1,s=i+1;;){do{a++}while(e[a]<o);do{s--}while(e[s]>o);if(a>=s)break;Io(e,a,s),Io(n,3*a,3*s),Io(n,3*a+1,3*s+1),Io(n,3*a+2,3*s+2)}s-r<i-s?(t(e,n,r,s),r=s+1):(t(e,n,s+1,i),i=s)}}(n,r,0,n.length-1),e&&e.push(n.buffer,r.buffer),{ids:n,positions:r}},Co.deserialize=function(t){var e=new Co;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e};var Eo=Math.pow(2,53)-1;function To(t){var e=+t;return!isNaN(e)&&e<=Eo?e:ko(String(t))}function Io(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}Kr("FeaturePositionMap",Co);var Mo=function(t,e){this.gl=t.gl,this.location=e},Ao=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},e}(Mo),Oo=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))},e}(Mo),Po=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},e}(Mo),Do=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},e}(Mo),zo=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},e}(Mo),Lo=function(t){function e(e,n){t.call(this,e,n),this.current=ce.transparent}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},e}(Mo),Ro=new Float32Array(16),Wo=function(t){function e(e,n){t.call(this,e,n),this.current=Ro}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},e}(Mo);function Bo(t){return[_o(255*t.r,255*t.g),_o(255*t.b,255*t.a)]}var jo=function(t,e,n){this.value=t,this.uniformNames=e.map((function(t){return"u_"+t})),this.type=n};jo.prototype.setUniform=function(t,e,n){t.set(n.constantOr(this.value))},jo.prototype.getBinding=function(t,e,n){return"color"===this.type?new Lo(t,e):new Oo(t,e)};var No=function(t,e){this.uniformNames=e.map((function(t){return"u_"+t})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};No.prototype.setConstantPatternPositions=function(t,e){this.pixelRatioFrom=e.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=e.tlbr,this.patternTo=t.tlbr},No.prototype.setUniform=function(t,e,n,r){var i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&t.set(i)},No.prototype.getBinding=function(t,e,n){return"u_pattern"===n.substr(0,9)?new zo(t,e):new Oo(t,e)};var Fo=function(t,e,n,r){this.expression=t,this.type=n,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new r};Fo.prototype.populatePaintArray=function(t,e,n,r,i){var o=this.paintVertexArray.length,a=this.expression.evaluate(new yi(0),e,{},r,[],i);this.paintVertexArray.resize(t),this._setPaintValue(o,t,a)},Fo.prototype.updatePaintArray=function(t,e,n,r){var i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(t,e,i)},Fo.prototype._setPaintValue=function(t,e,n){if("color"===this.type)for(var r=Bo(n),i=t;i<e;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var o=t;o<e;o++)this.paintVertexArray.emplace(o,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},Fo.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Fo.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Uo=function(t,e,n,r,i,o){this.expression=t,this.uniformNames=e.map((function(t){return"u_"+t+"_t"})),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new o};Uo.prototype.populatePaintArray=function(t,e,n,r,i){var o=this.expression.evaluate(new yi(this.zoom),e,{},r,[],i),a=this.expression.evaluate(new yi(this.zoom+1),e,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(s,t,o,a)},Uo.prototype.updatePaintArray=function(t,e,n,r){var i=this.expression.evaluate({zoom:this.zoom},n,r),o=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(t,e,i,o)},Uo.prototype._setPaintValue=function(t,e,n,r){if("color"===this.type)for(var i=Bo(n),o=Bo(r),a=t;a<e;a++)this.paintVertexArray.emplace(a,i[0],i[1],o[0],o[1]);else{for(var s=t;s<e;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}},Uo.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Uo.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Uo.prototype.setUniform=function(t,e){var n=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,r=p(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);t.set(r)},Uo.prototype.getBinding=function(t,e,n){return new Oo(t,e)};var Vo=function(t,e,n,r,i,o){this.expression=t,this.type=e,this.useIntegerZoom=n,this.zoom=r,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Vo.prototype.populatePaintArray=function(t,e,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(r,t,e.patterns&&e.patterns[this.layerId],n)},Vo.prototype.updatePaintArray=function(t,e,n,r,i){this._setPaintValues(t,e,n.patterns&&n.patterns[this.layerId],i)},Vo.prototype._setPaintValues=function(t,e,n,r){if(r&&n){var i=r[n.min],o=r[n.mid],a=r[n.max];if(i&&o&&a)for(var s=t;s<e;s++)this.zoomInPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],o.pixelRatio,i.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],a.tl[0],a.tl[1],a.br[0],a.br[1],o.pixelRatio,a.pixelRatio)}},Vo.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,bo.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,bo.members,this.expression.isStateDependent))},Vo.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var qo=function(t,e,n){this.binders={},this._buffers=[];var r=[];for(var i in t.paint._values)if(n(i)){var o=t.paint.get(i);if(o instanceof Si&&qn(o.property.specification)){var a=Go(i,t.type),s=o.value,l=o.property.specification.type,u=o.property.useIntegerZoom,c=o.property.specification["property-type"],p="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===s.kind)this.binders[i]=p?new No(s.value,a):new jo(s.value,a,l),r.push("/u_"+i);else if("source"===s.kind||p){var d=Zo(i,l,"source");this.binders[i]=p?new Vo(s,l,u,e,d,t.id):new Fo(s,a,l,d),r.push("/a_"+i)}else{var h=Zo(i,l,"composite");this.binders[i]=new Uo(s,a,l,u,e,h),r.push("/z_"+i)}}}this.cacheKey=r.sort().join("")};qo.prototype.getMaxValue=function(t){var e=this.binders[t];return e instanceof Fo||e instanceof Uo?e.maxValue:0},qo.prototype.populatePaintArrays=function(t,e,n,r,i){for(var o in this.binders){var a=this.binders[o];(a instanceof Fo||a instanceof Uo||a instanceof Vo)&&a.populatePaintArray(t,e,n,r,i)}},qo.prototype.setConstantPatternPositions=function(t,e){for(var n in this.binders){var r=this.binders[n];r instanceof No&&r.setConstantPatternPositions(t,e)}},qo.prototype.updatePaintArrays=function(t,e,n,r,i){var o=!1;for(var a in t)for(var s=0,l=e.getPositions(a);s<l.length;s+=1){var u=l[s],c=n.feature(u.index);for(var p in this.binders){var d=this.binders[p];if((d instanceof Fo||d instanceof Uo||d instanceof Vo)&&!0===d.expression.isStateDependent){var h=r.paint.get(p);d.expression=h.value,d.updatePaintArray(u.start,u.end,c,t[a],i),o=!0}}}return o},qo.prototype.defines=function(){var t=[];for(var e in this.binders){var n=this.binders[e];(n instanceof jo||n instanceof No)&&t.push.apply(t,n.uniformNames.map((function(t){return"#define HAS_UNIFORM_"+t})))}return t},qo.prototype.getBinderAttributes=function(){var t=[];for(var e in this.binders){var n=this.binders[e];if(n instanceof Fo||n instanceof Uo)for(var r=0;r<n.paintVertexAttributes.length;r++)t.push(n.paintVertexAttributes[r].name);else if(n instanceof Vo)for(var i=0;i<bo.members.length;i++)t.push(bo.members[i].name)}return t},qo.prototype.getBinderUniforms=function(){var t=[];for(var e in this.binders){var n=this.binders[e];if(n instanceof jo||n instanceof No||n instanceof Uo)for(var r=0,i=n.uniformNames;r<i.length;r+=1)t.push(i[r])}return t},qo.prototype.getPaintVertexBuffers=function(){return this._buffers},qo.prototype.getUniforms=function(t,e){var n=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof jo||i instanceof No||i instanceof Uo)for(var o=0,a=i.uniformNames;o<a.length;o+=1){var s=a[o];if(e[s]){var l=i.getBinding(t,e[s],s);n.push({name:s,property:r,binding:l})}}}return n},qo.prototype.setUniforms=function(t,e,n,r){for(var i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.name,l=a.property;this.binders[l].setUniform(a.binding,r,n.get(l),s)}},qo.prototype.updatePaintBuffers=function(t){for(var e in this._buffers=[],this.binders){var n=this.binders[e];if(t&&n instanceof Vo){var r=2===t.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(n instanceof Fo||n instanceof Uo)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},qo.prototype.upload=function(t){for(var e in this.binders){var n=this.binders[e];(n instanceof Fo||n instanceof Uo||n instanceof Vo)&&n.upload(t)}this.updatePaintBuffers()},qo.prototype.destroy=function(){for(var t in this.binders){var e=this.binders[t];(e instanceof Fo||e instanceof Uo||e instanceof Vo)&&e.destroy()}};var Ho=function(t,e,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var r=0,i=t;r<i.length;r+=1){var o=i[r];this.programConfigurations[o.id]=new qo(o,e,n)}this.needsUpload=!1,this._featureMap=new Co,this._bufferOffset=0};function Go(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t]||[t.replace(e+"-","").replace(/-/g,"_")]}function Zo(t,e,n){var r={color:{source:Ui,composite:oo},number:{source:to,composite:Ui}},i=function(t){return{"line-pattern":{source:Vi,composite:Vi},"fill-pattern":{source:Vi,composite:Vi},"fill-extrusion-pattern":{source:Vi,composite:Vi}}[t]}(t);return i&&i[n]||r[e][n]}Ho.prototype.populatePaintArrays=function(t,e,n,r,i,o){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(t,e,r,i,o);void 0!==e.id&&this._featureMap.add(e.id,n,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},Ho.prototype.updatePaintArrays=function(t,e,n,r){for(var i=0,o=n;i<o.length;i+=1){var a=o[i];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(t,this._featureMap,e,a,r)||this.needsUpload}},Ho.prototype.get=function(t){return this.programConfigurations[t]},Ho.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},Ho.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},Kr("ConstantBinder",jo),Kr("CrossFadedConstantBinder",No),Kr("SourceExpressionBinder",Fo),Kr("CrossFadedCompositeBinder",Vo),Kr("CompositeExpressionBinder",Uo),Kr("ProgramConfiguration",qo,{omit:["_buffers"]}),Kr("ProgramConfigurationSet",Ho);var Ko=Math.pow(2,14)-1,Qo=-Ko-1;function Xo(t){for(var e=8192/t.extent,n=t.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o],s=Math.round(a.x*e),l=Math.round(a.y*e);a.x=p(s,Qo,Ko),a.y=p(l,Qo,Ko),(s<a.x||s>a.x+1||l<a.y||l>a.y+1)&&S("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function Yo(t,e){return{type:t.type,id:t.id,properties:t.properties,geometry:e?Xo(t):[]}}function Jo(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}var $o=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Bi,this.indexArray=new Yi,this.segments=new vo,this.programConfigurations=new Ho(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function ta(t,e){for(var n=0;n<t.length;n++)if(ua(e,t[n]))return!0;for(var r=0;r<e.length;r++)if(ua(t,e[r]))return!0;return!!ia(t,e)}function ea(t,e,n){return!!ua(t,e)||!!aa(e,t,n)}function na(t,e){if(1===t.length)return la(e,t[0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if(ua(t,r[i]))return!0;for(var o=0;o<t.length;o++)if(la(e,t[o]))return!0;for(var a=0;a<e.length;a++)if(ia(t,e[a]))return!0;return!1}function ra(t,e,n){if(t.length>1){if(ia(t,e))return!0;for(var r=0;r<e.length;r++)if(aa(e[r],t,n))return!0}for(var i=0;i<t.length;i++)if(aa(t[i],e,n))return!0;return!1}function ia(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],i=t[n+1],o=0;o<e.length-1;o++)if(oa(r,i,e[o],e[o+1]))return!0;return!1}function oa(t,e,n,r){return C(t,n,r)!==C(e,n,r)&&C(t,e,n)!==C(t,e,r)}function aa(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++)if(sa(t,e[i-1],e[i])<r)return!0;return!1}function sa(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return t.distSqr(i<0?e:i>1?n:n.sub(e)._mult(i)._add(e))}function la(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++)for(var s=0,l=(n=t[a]).length-1;s<n.length;l=s++)(r=n[s]).y>e.y!=(i=n[l]).y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function ua(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function ca(t,e,n){var r=n[0],i=n[2];if(t.x<r.x&&e.x<r.x||t.x>i.x&&e.x>i.x||t.y<r.y&&e.y<r.y||t.y>i.y&&e.y>i.y)return!1;var o=C(t,e,n[0]);return o!==C(t,e,n[1])||o!==C(t,e,n[2])||o!==C(t,e,n[3])}function pa(t,e,n){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:n.programConfigurations.get(e.id).getMaxValue(t)}function da(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ha(t,e,n,r,i){if(!e[0]&&!e[1])return t;var a=o.convert(e)._mult(i);"viewport"===n&&a._rotate(-r);for(var s=[],l=0;l<t.length;l++)s.push(t[l].sub(a));return s}$o.prototype.populate=function(t,e,n){var r=this.layers[0],i=[],o=null;"circle"===r.type&&(o=r.layout.get("circle-sort-key"));for(var a=0,s=t;a<s.length;a+=1){var l=s[a],u=l.feature,c=l.id,p=l.index,d=l.sourceLayerIndex,h=this.layers[0]._featureFilter.needGeometry,f=Yo(u,h);if(this.layers[0]._featureFilter.filter(new yi(this.zoom),f,n)){var m=o?o.evaluate(f,{},n):void 0,g={id:c,properties:u.properties,type:u.type,sourceLayerIndex:d,index:p,geometry:h?f.geometry:Xo(u),patterns:{},sortKey:m};i.push(g)}}o&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var y=0,v=i;y<v.length;y+=1){var _=v[y],b=_.geometry,x=_.index,w=_.sourceLayerIndex,k=t[x].feature;this.addFeature(_,b,x,n),e.featureIndex.insert(k,b,x,w,this.index)}},$o.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},$o.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},$o.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},$o.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,yo),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},$o.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},$o.prototype.addFeature=function(t,e,n,r){for(var i=0,o=e;i<o.length;i+=1)for(var a=0,s=o[i];a<s.length;a+=1){var l=s[a],u=l.x,c=l.y;if(!(u<0||u>=8192||c<0||c>=8192)){var p=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),d=p.vertexLength;Jo(this.layoutVertexArray,u,c,-1,-1),Jo(this.layoutVertexArray,u,c,1,-1),Jo(this.layoutVertexArray,u,c,1,1),Jo(this.layoutVertexArray,u,c,-1,1),this.indexArray.emplaceBack(d,d+1,d+2),this.indexArray.emplaceBack(d,d+3,d+2),p.vertexLength+=4,p.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,{},r)},Kr("CircleBucket",$o,{omit:["layers"]});var fa=new Oi({"circle-sort-key":new Ti(jt.layout_circle["circle-sort-key"])}),ma={paint:new Oi({"circle-radius":new Ti(jt.paint_circle["circle-radius"]),"circle-color":new Ti(jt.paint_circle["circle-color"]),"circle-blur":new Ti(jt.paint_circle["circle-blur"]),"circle-opacity":new Ti(jt.paint_circle["circle-opacity"]),"circle-translate":new Ei(jt.paint_circle["circle-translate"]),"circle-translate-anchor":new Ei(jt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ei(jt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ei(jt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ti(jt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ti(jt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ti(jt.paint_circle["circle-stroke-opacity"])}),layout:fa},ga="undefined"!=typeof Float32Array?Float32Array:Array;function ya(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function va(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],d=e[9],h=e[10],f=e[11],m=e[12],g=e[13],y=e[14],v=e[15],_=n[0],b=n[1],x=n[2],w=n[3];return t[0]=_*r+b*s+x*p+w*m,t[1]=_*i+b*l+x*d+w*g,t[2]=_*o+b*u+x*h+w*y,t[3]=_*a+b*c+x*f+w*v,t[4]=(_=n[4])*r+(b=n[5])*s+(x=n[6])*p+(w=n[7])*m,t[5]=_*i+b*l+x*d+w*g,t[6]=_*o+b*u+x*h+w*y,t[7]=_*a+b*c+x*f+w*v,t[8]=(_=n[8])*r+(b=n[9])*s+(x=n[10])*p+(w=n[11])*m,t[9]=_*i+b*l+x*d+w*g,t[10]=_*o+b*u+x*h+w*y,t[11]=_*a+b*c+x*f+w*v,t[12]=(_=n[12])*r+(b=n[13])*s+(x=n[14])*p+(w=n[15])*m,t[13]=_*i+b*l+x*d+w*g,t[14]=_*o+b*u+x*h+w*y,t[15]=_*a+b*c+x*f+w*v,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,e=0,n=arguments.length;n--;)e+=t[n]*t[n];return Math.sqrt(e)});var _a,ba=va;function xa(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}_a=new ga(3),ga!=Float32Array&&(_a[0]=0,_a[1]=0,_a[2]=0),function(){var t=new ga(4);ga!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();var wa=(function(){var t=new ga(2);ga!=Float32Array&&(t[0]=0,t[1]=0)}(),function(t){function e(e){t.call(this,e,ma)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new $o(t)},e.prototype.queryRadius=function(t){var e=t;return pa("circle-radius",this,e)+pa("circle-stroke-width",this,e)+da(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a,s){for(var l=ha(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),u=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),c="map"===this.paint.get("circle-pitch-alignment"),p=c?l:function(t,e){return t.map((function(t){return ka(t,e)}))}(l,s),d=c?u*a:u,h=0,f=r;h<f.length;h+=1)for(var m=0,g=f[h];m<g.length;m+=1){var y=g[m],v=c?y:ka(y,s),_=d,b=xa([],[y.x,y.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=b[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=o.cameraToCenterDistance/b[3]),ea(p,v,_))return!0}return!1},e}(Pi));function ka(t,e){var n=xa([],[t.x,t.y,0,1],e);return new o(n[0]/n[3],n[1]/n[3])}var Sa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}($o);function Ca(t,e,n,r){var i=e.width,o=e.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return t.width=i,t.height=o,t.data=r,t}function Ea(t,e,n){var r=e.width,i=e.height;if(r!==t.width||i!==t.height){var o=Ca({},{width:r,height:i},n);Ta(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,i)},n),t.width=r,t.height=i,t.data=o.data}}function Ta(t,e,n,r,i,o){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,l=0;l<i.height;l++)for(var u=((n.y+l)*t.width+n.x)*o,c=((r.y+l)*e.width+r.x)*o,p=0;p<i.width*o;p++)s[c+p]=a[u+p];return e}Kr("HeatmapBucket",Sa,{omit:["layers"]});var Ia=function(t,e){Ca(this,t,1,e)};Ia.prototype.resize=function(t){Ea(this,t,1)},Ia.prototype.clone=function(){return new Ia({width:this.width,height:this.height},new Uint8Array(this.data))},Ia.copy=function(t,e,n,r,i){Ta(t,e,n,r,i,1)};var Ma=function(t,e){Ca(this,t,4,e)};Ma.prototype.resize=function(t){Ea(this,t,4)},Ma.prototype.replace=function(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t},Ma.prototype.clone=function(){return new Ma({width:this.width,height:this.height},new Uint8Array(this.data))},Ma.copy=function(t,e,n,r,i){Ta(t,e,n,r,i,4)},Kr("AlphaImage",Ia),Kr("RGBAImage",Ma);var Aa={paint:new Oi({"heatmap-radius":new Ti(jt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ti(jt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ei(jt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ai(jt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ei(jt.paint_heatmap["heatmap-opacity"])})};function Oa(t){var e={},n=t.resolution||256,r=t.clips?t.clips.length:1,i=t.image||new Ma({width:n,height:r}),o=function(n,r,o){e[t.evaluationKey]=o;var a=t.expression.evaluate(e);i.data[n+r+0]=Math.floor(255*a.r/a.a),i.data[n+r+1]=Math.floor(255*a.g/a.a),i.data[n+r+2]=Math.floor(255*a.b/a.a),i.data[n+r+3]=Math.floor(255*a.a)};if(t.clips)for(var a=0,s=0;a<r;++a,s+=4*n)for(var l=0,u=0;l<n;l++,u+=4){var c=l/(n-1),p=t.clips[a];o(s,u,p.start*(1-c)+p.end*c)}else for(var d=0,h=0;d<n;d++,h+=4)o(0,h,d/(n-1));return i}var Pa=function(t){function e(e){t.call(this,e,Aa),this._updateColorRamp()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new Sa(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){this.colorRamp=Oa({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(Pi),Da={paint:new Oi({"hillshade-illumination-direction":new Ei(jt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ei(jt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ei(jt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ei(jt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ei(jt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ei(jt.paint_hillshade["hillshade-accent-color"])})},za=function(t){function e(e){t.call(this,e,Da)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(Pi),La=Ri([{name:"a_pos",components:2,type:"Int16"}],4).members,Ra=Ba,Wa=Ba;function Ba(t,e,n){n=n||2;var r,i,o,a,s,l,u,c=e&&e.length,p=c?e[0]*n:t.length,d=ja(t,0,p,n,!0),h=[];if(!d||d.next===d.prev)return h;if(c&&(d=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=ja(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(Xa(a));for(s.sort(Ga),i=0;i<s.length;i++)n=Za(s[i],n);return n}(t,e,d,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var f=n;f<p;f+=n)(s=t[f])<r&&(r=s),(l=t[f+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);u=0!==(u=Math.max(o-r,a-i))?32767/u:0}return Fa(d,h,n,r,i,u,0),h}function ja(t,e,n,r,i){var o,a;if(i===us(t,e,n,r)>0)for(o=e;o<n;o+=r)a=as(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=as(o,t[o],t[o+1],a);return a&&ts(a,a.next)&&(ss(a),a=a.next),a}function Na(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!ts(r,r.next)&&0!==$a(r.prev,r,r.next))r=r.next;else{if(ss(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function Fa(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){var i=t;do{0===i.z&&(i.z=Qa(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ);e++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(t,r,i,o);for(var s,l,u=t;t.prev!==t.next;)if(s=t.prev,l=t.next,o?Va(t,r,i,o):Ua(t))e.push(s.i/n|0),e.push(t.i/n|0),e.push(l.i/n|0),ss(t),t=l.next,u=l.next;else if((t=l)===u){a?1===a?Fa(t=qa(Na(t),e,n),e,n,r,i,o,2):2===a&&Ha(t,e,n,r,i,o):Fa(Na(t),e,n,r,i,o,1);break}}}function Ua(t){var e=t.prev,n=t,r=t.next;if($a(e,n,r)>=0)return!1;for(var i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,u=r.y,c=i<o?i<a?i:a:o<a?o:a,p=s<l?s<u?s:u:l<u?l:u,d=i>o?i>a?i:a:o>a?o:a,h=s>l?s>u?s:u:l>u?l:u,f=r.next;f!==e;){if(f.x>=c&&f.x<=d&&f.y>=p&&f.y<=h&&Ya(i,s,o,l,a,u,f.x,f.y)&&$a(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function Va(t,e,n,r){var i=t.prev,o=t,a=t.next;if($a(i,o,a)>=0)return!1;for(var s=i.x,l=o.x,u=a.x,c=i.y,p=o.y,d=a.y,h=s<l?s<u?s:u:l<u?l:u,f=c<p?c<d?c:d:p<d?p:d,m=s>l?s>u?s:u:l>u?l:u,g=c>p?c>d?c:d:p>d?p:d,y=Qa(h,f,e,n,r),v=Qa(m,g,e,n,r),_=t.prevZ,b=t.nextZ;_&&_.z>=y&&b&&b.z<=v;){if(_.x>=h&&_.x<=m&&_.y>=f&&_.y<=g&&_!==i&&_!==a&&Ya(s,c,l,p,u,d,_.x,_.y)&&$a(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,b.x>=h&&b.x<=m&&b.y>=f&&b.y<=g&&b!==i&&b!==a&&Ya(s,c,l,p,u,d,b.x,b.y)&&$a(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;_&&_.z>=y;){if(_.x>=h&&_.x<=m&&_.y>=f&&_.y<=g&&_!==i&&_!==a&&Ya(s,c,l,p,u,d,_.x,_.y)&&$a(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=v;){if(b.x>=h&&b.x<=m&&b.y>=f&&b.y<=g&&b!==i&&b!==a&&Ya(s,c,l,p,u,d,b.x,b.y)&&$a(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function qa(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!ts(i,o)&&es(i,r,r.next,o)&&is(i,o)&&is(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),ss(r),ss(r.next),r=t=o),r=r.next}while(r!==t);return Na(r)}function Ha(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Ja(a,s)){var l=os(a,s);return a=Na(a,a.next),l=Na(l,l.next),Fa(a,e,n,r,i,o,0),void Fa(l,e,n,r,i,o,0)}s=s.next}a=a.next}while(a!==t)}function Ga(t,e){return t.x-e.x}function Za(t,e){var n=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a&&(a=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==e);if(!n)return null;var l,u=n,c=n.x,p=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Ya(o<p?i:a,o,c,p,o<p?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),is(r,t)&&(l<d||l===d&&(r.x>n.x||r.x===n.x&&Ka(n,r)))&&(n=r,d=l)),r=r.next}while(r!==u);return n}(t,e);if(!n)return e;var r=os(n,t);return Na(r,r.next),Na(n,n.next)}function Ka(t,e){return $a(t.prev,t,e.prev)<0&&$a(e.next,t,t.next)<0}function Qa(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Xa(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function Ya(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function Ja(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&es(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(is(t,e)&&is(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&($a(t.prev,t,e.prev)||$a(t,e.prev,e))||ts(t,e)&&$a(t.prev,t,t.next)>0&&$a(e.prev,e,e.next)>0)}function $a(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function ts(t,e){return t.x===e.x&&t.y===e.y}function es(t,e,n,r){var i=rs($a(t,e,n)),o=rs($a(t,e,r)),a=rs($a(n,r,t)),s=rs($a(n,r,e));return i!==o&&a!==s||!(0!==i||!ns(t,n,e))||!(0!==o||!ns(t,r,e))||!(0!==a||!ns(n,t,r))||!(0!==s||!ns(n,e,r))}function ns(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function rs(t){return t>0?1:t<0?-1:0}function is(t,e){return $a(t.prev,t,t.next)<0?$a(t,e,t.next)>=0&&$a(t,t.prev,e)>=0:$a(t,e,t.prev)<0||$a(t,t.next,e)<0}function os(t,e){var n=new ls(t.i,t.x,t.y),r=new ls(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function as(t,e,n,r){var i=new ls(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ss(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ls(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function us(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function cs(t,e,n,r,i){!function t(e,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*u/a+c)),Math.min(i,Math.floor(n+(a-s)*u/a+c)),o)}var p=e[n],d=r,h=i;for(ps(e,r,n),o(e[i],p)>0&&ps(e,r,i);d<h;){for(ps(e,d,h),d++,h--;o(e[d],p)<0;)d++;for(;o(e[h],p)>0;)h--}0===o(e[r],p)?ps(e,r,h):ps(e,++h,i),h<=n&&(r=h+1),n<=h&&(i=h-1)}}(t,e,n||0,r||t.length-1,i||ds)}function ps(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ds(t,e){return t<e?-1:t>e?1:0}function hs(t,e){var n=t.length;if(n<=1)return[t];for(var r,i,o=[],a=0;a<n;a++){var s=E(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&o.push(r),r=[t[a]]):r.push(t[a]))}if(r&&o.push(r),e>1)for(var l=0;l<o.length;l++)o[l].length<=e||(cs(o[l],e,1,o[l].length-1,fs),o[l]=o[l].slice(0,e));return o}function fs(t,e){return e.area-t.area}function ms(t,e,n){for(var r=n.patternDependencies,i=!1,o=0,a=e;o<a.length;o+=1){var s=a[o].paint.get(t+"-pattern");s.isConstant()||(i=!0);var l=s.constantOr(null);l&&(i=!0,r[l.to]=!0,r[l.from]=!0)}return i}function gs(t,e,n,r,i){for(var o=i.patternDependencies,a=0,s=e;a<s.length;a+=1){var l=s[a],u=l.paint.get(t+"-pattern").value;if("constant"!==u.kind){var c=u.evaluate({zoom:r-1},n,{},i.availableImages),p=u.evaluate({zoom:r},n,{},i.availableImages),d=u.evaluate({zoom:r+1},n,{},i.availableImages);p=p&&p.name?p.name:p,d=d&&d.name?d.name:d,o[c=c&&c.name?c.name:c]=!0,o[p]=!0,o[d]=!0,n.patterns[l.id]={min:c,mid:p,max:d}}}return n}Ba.deviation=function(t,e,n,r){var i=e&&e.length,o=Math.abs(us(t,0,i?e[0]*n:t.length,n));if(i)for(var a=0,s=e.length;a<s;a++)o-=Math.abs(us(t,e[a]*n,a<s-1?e[a+1]*n:t.length,n));var l=0;for(a=0;a<r.length;a+=3){var u=r[a]*n,c=r[a+1]*n,p=r[a+2]*n;l+=Math.abs((t[u]-t[p])*(t[c+1]-t[u+1])-(t[u]-t[c])*(t[p+1]-t[u+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},Ba.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&n.holes.push(r+=t[i-1].length)}return n},Ra.default=Wa;var ys=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Bi,this.indexArray=new Yi,this.indexArray2=new ro,this.programConfigurations=new Ho(t.layers,t.zoom),this.segments=new vo,this.segments2=new vo,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};ys.prototype.populate=function(t,e,n){this.hasPattern=ms("fill",this.layers,e);for(var r=this.layers[0].layout.get("fill-sort-key"),i=[],o=0,a=t;o<a.length;o+=1){var s=a[o],l=s.feature,u=s.id,c=s.index,p=s.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,h=Yo(l,d);if(this.layers[0]._featureFilter.filter(new yi(this.zoom),h,n)){var f=r?r.evaluate(h,{},n,e.availableImages):void 0,m={id:u,properties:l.properties,type:l.type,sourceLayerIndex:p,index:c,geometry:d?h.geometry:Xo(l),patterns:{},sortKey:f};i.push(m)}}r&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var g=0,y=i;g<y.length;g+=1){var v=y[g],_=v.geometry,b=v.index,x=v.sourceLayerIndex;if(this.hasPattern){var w=gs("fill",this.layers,v,this.zoom,e);this.patternFeatures.push(w)}else this.addFeature(v,_,b,n,{});e.featureIndex.insert(t[b].feature,_,b,x,this.index)}},ys.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},ys.prototype.addFeatures=function(t,e,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,e,n)}},ys.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ys.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ys.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,La),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},ys.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ys.prototype.addFeature=function(t,e,n,r,i){for(var o=0,a=hs(e,500);o<a.length;o+=1){for(var s=a[o],l=0,u=0,c=s;u<c.length;u+=1)l+=c[u].length;for(var p=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray),d=p.vertexLength,h=[],f=[],m=0,g=s;m<g.length;m+=1){var y=g[m];if(0!==y.length){y!==s[0]&&f.push(h.length/2);var v=this.segments2.prepareSegment(y.length,this.layoutVertexArray,this.indexArray2),_=v.vertexLength;this.layoutVertexArray.emplaceBack(y[0].x,y[0].y),this.indexArray2.emplaceBack(_+y.length-1,_),h.push(y[0].x),h.push(y[0].y);for(var b=1;b<y.length;b++)this.layoutVertexArray.emplaceBack(y[b].x,y[b].y),this.indexArray2.emplaceBack(_+b-1,_+b),h.push(y[b].x),h.push(y[b].y);v.vertexLength+=y.length,v.primitiveLength+=y.length}}for(var x=Ra(h,f),w=0;w<x.length;w+=3)this.indexArray.emplaceBack(d+x[w],d+x[w+1],d+x[w+2]);p.vertexLength+=l,p.primitiveLength+=x.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)},Kr("FillBucket",ys,{omit:["layers","patternFeatures"]});var vs=new Oi({"fill-sort-key":new Ti(jt.layout_fill["fill-sort-key"])}),_s={paint:new Oi({"fill-antialias":new Ei(jt.paint_fill["fill-antialias"]),"fill-opacity":new Ti(jt.paint_fill["fill-opacity"]),"fill-color":new Ti(jt.paint_fill["fill-color"]),"fill-outline-color":new Ti(jt.paint_fill["fill-outline-color"]),"fill-translate":new Ei(jt.paint_fill["fill-translate"]),"fill-translate-anchor":new Ei(jt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ii(jt.paint_fill["fill-pattern"])}),layout:vs},bs=function(t){function e(e){t.call(this,e,_s)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new ys(t)},e.prototype.queryRadius=function(){return da(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){return na(ha(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)},e.prototype.isTileClipped=function(){return!0},e}(Pi),xs=Ri([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,ws=ks;function ks(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(Ss,this,e)}function Ss(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function Cs(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)r+=((n=t[a]).x-(e=t[i]).x)*(e.y+n.y);return r}ks.types=["Unknown","Point","LineString","Polygon"],ks.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,i=0,a=0,s=0,l=[];t.pos<n;){if(i<=0){var u=t.readVarint();r=7&u,i=u>>3}if(i--,1===r||2===r)a+=t.readSVarint(),s+=t.readSVarint(),1===r&&(e&&l.push(e),e=[]),e.push(new o(a,s));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&l.push(e),l},ks.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;t.pos<e;){if(r<=0){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=t.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=t.readSVarint())<l&&(l=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},ks.prototype.toGeoJSON=function(t,e,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*t,s=this.extent*e,l=this.loadGeometry(),u=ks.types[this.type];function c(t){for(var e=0;e<t.length;e++){var n=t[e];t[e]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var p=[];for(r=0;r<l.length;r++)p[r]=l[r][0];c(l=p);break;case 2:for(r=0;r<l.length;r++)c(l[r]);break;case 3:for(l=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=Cs(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}(l),r=0;r<l.length;r++)for(i=0;i<l[r].length;i++)c(l[r][i])}1===l.length?l=l[0]:u="Multi"+u;var d={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(d.id=this.id),d};var Es=Ts;function Ts(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Is,this,e),this.length=this._features.length}function Is(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(n))}function Ms(t,e,n){if(3===t){var r=new Es(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}Ts.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new ws(this._pbf,e,this.extent,this._keys,this._values)};var As={VectorTile:function(t,e){this.layers=t.readFields(Ms,{},e)},VectorTileFeature:ws,VectorTileLayer:Es},Os=As.VectorTileFeature.types,Ps=Math.pow(2,13);function Ds(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,2*Math.floor(r*Ps)+a,i*Ps*2,o*Ps*2,Math.round(s))}var zs=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ni,this.indexArray=new Yi,this.programConfigurations=new Ho(t.layers,t.zoom),this.segments=new vo,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function Ls(t,e){return t.x===e.x&&(t.x<0||t.x>8192)||t.y===e.y&&(t.y<0||t.y>8192)}zs.prototype.populate=function(t,e,n){this.features=[],this.hasPattern=ms("fill-extrusion",this.layers,e);for(var r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.id,l=o.index,u=o.sourceLayerIndex,c=this.layers[0]._featureFilter.needGeometry,p=Yo(a,c);if(this.layers[0]._featureFilter.filter(new yi(this.zoom),p,n)){var d={id:s,sourceLayerIndex:u,index:l,geometry:c?p.geometry:Xo(a),properties:a.properties,type:a.type,patterns:{}};this.hasPattern?this.features.push(gs("fill-extrusion",this.layers,d,this.zoom,e)):this.addFeature(d,d.geometry,l,n,{}),e.featureIndex.insert(a,d.geometry,l,u,this.index,!0)}}},zs.prototype.addFeatures=function(t,e,n){for(var r=0,i=this.features;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,e,n)}},zs.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},zs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},zs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},zs.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,xs),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},zs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},zs.prototype.addFeature=function(t,e,n,r,i){for(var o=0,a=hs(e,500);o<a.length;o+=1){for(var s=a[o],l=0,u=0,c=s;u<c.length;u+=1)l+=c[u].length;for(var p=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),d=0,h=s;d<h.length;d+=1){var f=h[d];if(0!==f.length&&!((P=f).every((function(t){return t.x<0}))||P.every((function(t){return t.x>8192}))||P.every((function(t){return t.y<0}))||P.every((function(t){return t.y>8192}))))for(var m=0,g=0;g<f.length;g++){var y=f[g];if(g>=1){var v=f[g-1];if(!Ls(y,v)){p.vertexLength+4>vo.MAX_VERTEX_ARRAY_LENGTH&&(p=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var _=y.sub(v)._perp()._unit(),b=v.dist(y);m+b>32768&&(m=0),Ds(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,0,m),Ds(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,1,m),Ds(this.layoutVertexArray,v.x,v.y,_.x,_.y,0,0,m+=b),Ds(this.layoutVertexArray,v.x,v.y,_.x,_.y,0,1,m);var x=p.vertexLength;this.indexArray.emplaceBack(x,x+2,x+1),this.indexArray.emplaceBack(x+1,x+2,x+3),p.vertexLength+=4,p.primitiveLength+=2}}}}if(p.vertexLength+l>vo.MAX_VERTEX_ARRAY_LENGTH&&(p=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray)),"Polygon"===Os[t.type]){for(var w=[],k=[],S=p.vertexLength,C=0,E=s;C<E.length;C+=1){var T=E[C];if(0!==T.length){T!==s[0]&&k.push(w.length/2);for(var I=0;I<T.length;I++){var M=T[I];Ds(this.layoutVertexArray,M.x,M.y,0,0,1,1,0),w.push(M.x),w.push(M.y)}}}for(var A=Ra(w,k),O=0;O<A.length;O+=3)this.indexArray.emplaceBack(S+A[O],S+A[O+2],S+A[O+1]);p.primitiveLength+=A.length/3,p.vertexLength+=l}}var P;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)},Kr("FillExtrusionBucket",zs,{omit:["layers","features"]});var Rs={paint:new Oi({"fill-extrusion-opacity":new Ei(jt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ti(jt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ei(jt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ei(jt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ii(jt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ti(jt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ti(jt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ei(jt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Ws=function(t){function e(e){t.call(this,e,Rs)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new zs(t)},e.prototype.queryRadius=function(){return da(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,a,s,l){var u=ha(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(e,n),p=this.paint.get("fill-extrusion-base").evaluate(e,n),d=function(t,e){for(var n=[],r=0,i=t;r<i.length;r+=1){var a=i[r],s=[a.x,a.y,0,1];xa(s,s,e),n.push(new o(s[0]/s[3],s[1]/s[3]))}return n}(u,l),h=function(t,e,n,r){for(var i=[],a=[],s=r[8]*e,l=r[9]*e,u=r[10]*e,c=r[11]*e,p=r[8]*n,d=r[9]*n,h=r[10]*n,f=r[11]*n,m=0,g=t;m<g.length;m+=1){for(var y=[],v=[],_=0,b=g[m];_<b.length;_+=1){var x=b[_],w=x.x,k=x.y,S=r[0]*w+r[4]*k+r[12],C=r[1]*w+r[5]*k+r[13],E=r[2]*w+r[6]*k+r[14],T=r[3]*w+r[7]*k+r[15],I=E+u,M=T+c,A=S+p,O=C+d,P=E+h,D=T+f,z=new o((S+s)/M,(C+l)/M);z.z=I/M,y.push(z);var L=new o(A/D,O/D);L.z=P/D,v.push(L)}i.push(y),a.push(v)}return[i,a]}(r,p,c,l);return function(t,e,n){var r=1/0;na(n,e)&&(r=js(n,e[0]));for(var i=0;i<e.length;i++)for(var o=e[i],a=t[i],s=0;s<o.length-1;s++){var l=o[s],u=[l,o[s+1],a[s+1],a[s],l];ta(n,u)&&(r=Math.min(r,js(n,u)))}return r!==1/0&&r}(h[0],h[1],d)},e}(Pi);function Bs(t,e){return t.x*e.x+t.y*e.y}function js(t,e){if(1===t.length){for(var n,r=0,i=e[r++];!n||i.equals(n);)if(!(n=e[r++]))return 1/0;for(;r<e.length;r++){var o=e[r],a=t[0],s=n.sub(i),l=o.sub(i),u=a.sub(i),c=Bs(s,s),p=Bs(s,l),d=Bs(l,l),h=Bs(u,s),f=Bs(u,l),m=c*d-p*p,g=(d*h-p*f)/m,y=(c*f-p*h)/m,v=i.z*(1-g-y)+n.z*g+o.z*y;if(isFinite(v))return v}return 1/0}for(var _=1/0,b=0,x=e;b<x.length;b+=1)_=Math.min(_,x[b].z);return _}var Ns=Ri([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Fs=Ri([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Us=As.VectorTileFeature.types,Vs=Math.cos(Math.PI/180*37.5),qs=Math.pow(2,14)/.5,Hs=function(t){var e=this;this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(t){e.gradients[t.id]={}})),this.layoutVertexArray=new Fi,this.layoutVertexArray2=new Ui,this.indexArray=new Yi,this.programConfigurations=new Ho(t.layers,t.zoom),this.segments=new vo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};Hs.prototype.populate=function(t,e,n){this.hasPattern=ms("line",this.layers,e);for(var r=this.layers[0].layout.get("line-sort-key"),i=[],o=0,a=t;o<a.length;o+=1){var s=a[o],l=s.feature,u=s.id,c=s.index,p=s.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,h=Yo(l,d);if(this.layers[0]._featureFilter.filter(new yi(this.zoom),h,n)){var f=r?r.evaluate(h,{},n):void 0,m={id:u,properties:l.properties,type:l.type,sourceLayerIndex:p,index:c,geometry:d?h.geometry:Xo(l),patterns:{},sortKey:f};i.push(m)}}r&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var g=0,y=i;g<y.length;g+=1){var v=y[g],_=v.geometry,b=v.index,x=v.sourceLayerIndex;if(this.hasPattern){var w=gs("line",this.layers,v,this.zoom,e);this.patternFeatures.push(w)}else this.addFeature(v,_,b,n,{});e.featureIndex.insert(t[b].feature,_,b,x,this.index)}},Hs.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Hs.prototype.addFeatures=function(t,e,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,e,n)}},Hs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Hs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Hs.prototype.upload=function(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Fs)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ns),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Hs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Hs.prototype.lineFeatureClips=function(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}},Hs.prototype.addFeature=function(t,e,n,r,i){var o=this.layers[0].layout,a=o.get("line-join").evaluate(t,{}),s=o.get("line-cap"),l=o.get("line-miter-limit"),u=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(var c=0,p=e;c<p.length;c+=1)this.addLine(p[c],t,a,s,l,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)},Hs.prototype.addLine=function(t,e,n,r,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var a=0;a<t.length-1;a++)this.totalDistance+=t[a].dist(t[a+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===Us[e.type],l=t.length;l>=2&&t[l-1].equals(t[l-2]);)l--;for(var u=0;u<l-1&&t[u].equals(t[u+1]);)u++;if(!(l<(s?3:2))){"bevel"===n&&(i=1.05);var c,p=this.overscaling<=16?122880/(512*this.overscaling):0,d=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray),h=void 0,f=void 0,m=void 0,g=void 0;this.e1=this.e2=-1,s&&(g=t[u].sub(c=t[l-2])._unit()._perp());for(var y=u;y<l;y++)if(!(f=y===l-1?s?t[u+1]:void 0:t[y+1])||!t[y].equals(f)){g&&(m=g),c&&(h=c),c=t[y],g=f?f.sub(c)._unit()._perp():m;var v=(m=m||g).add(g);0===v.x&&0===v.y||v._unit();var _=m.x*g.x+m.y*g.y,b=v.x*g.x+v.y*g.y,x=0!==b?1/b:1/0,w=2*Math.sqrt(2-2*b),k=b<Vs&&h&&f,S=m.x*g.y-m.y*g.x>0;if(k&&y>u){var C=c.dist(h);if(C>2*p){var E=c.sub(c.sub(h)._mult(p/C)._round());this.updateDistance(h,E),this.addCurrentVertex(E,m,0,0,d),h=E}}var T=h&&f,I=T?n:s?"butt":r;if(T&&"round"===I&&(x<o?I="miter":x<=2&&(I="fakeround")),"miter"===I&&x>i&&(I="bevel"),"bevel"===I&&(x>2&&(I="flipbevel"),x<i&&(I="miter")),h&&this.updateDistance(h,c),"miter"===I)v._mult(x),this.addCurrentVertex(c,v,0,0,d);else if("flipbevel"===I){if(x>100)v=g.mult(-1);else{var M=x*m.add(g).mag()/m.sub(g).mag();v._perp()._mult(M*(S?-1:1))}this.addCurrentVertex(c,v,0,0,d),this.addCurrentVertex(c,v.mult(-1),0,0,d)}else if("bevel"===I||"fakeround"===I){var A=-Math.sqrt(x*x-1),O=S?A:0,P=S?0:A;if(h&&this.addCurrentVertex(c,m,O,P,d),"fakeround"===I)for(var D=Math.round(180*w/Math.PI/20),z=1;z<D;z++){var L=z/D;if(.5!==L){var R=L-.5;L+=L*R*(L-1)*((1.0904+_*(_*(3.55645-1.43519*_)-3.2452))*R*R+(.848013+_*(.215638*_-1.06021)))}var W=g.sub(m)._mult(L)._add(m)._unit()._mult(S?-1:1);this.addHalfVertex(c,W.x,W.y,!1,S,0,d)}f&&this.addCurrentVertex(c,g,-O,-P,d)}else if("butt"===I)this.addCurrentVertex(c,v,0,0,d);else if("square"===I){var B=h?1:-1;this.addCurrentVertex(c,v,B,B,d)}else"round"===I&&(h&&(this.addCurrentVertex(c,m,0,0,d),this.addCurrentVertex(c,m,1,1,d,!0)),f&&(this.addCurrentVertex(c,g,-1,-1,d,!0),this.addCurrentVertex(c,g,0,0,d)));if(k&&y<l-1){var j=c.dist(f);if(j>2*p){var N=c.add(f.sub(c)._mult(p/j)._round());this.updateDistance(c,N),this.addCurrentVertex(N,g,0,0,d),c=N}}}}},Hs.prototype.addCurrentVertex=function(t,e,n,r,i,o){void 0===o&&(o=!1);var a=e.y*r-e.x,s=-e.y-e.x*r;this.addHalfVertex(t,e.x+e.y*n,e.y-e.x*n,o,!1,n,i),this.addHalfVertex(t,a,s,o,!0,-r,i),this.distance>qs/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(t,e,n,r,i,o))},Hs.prototype.addHalfVertex=function(t,e,n,r,i,o,a){var s=.5*(this.lineClips?this.scaledDistance*(qs-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t.x<<1)+(r?1:0),(t.y<<1)+(i?1:0),Math.round(63*e)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1)|(63&s)<<2,s>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var l=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),a.primitiveLength++),i?this.e2=l:this.e1=l},Hs.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Hs.prototype.updateDistance=function(t,e){this.distance+=t.dist(e),this.updateScaledDistance()},Kr("LineBucket",Hs,{omit:["layers","patternFeatures"]});var Gs=new Oi({"line-cap":new Ei(jt.layout_line["line-cap"]),"line-join":new Ti(jt.layout_line["line-join"]),"line-miter-limit":new Ei(jt.layout_line["line-miter-limit"]),"line-round-limit":new Ei(jt.layout_line["line-round-limit"]),"line-sort-key":new Ti(jt.layout_line["line-sort-key"])}),Zs={paint:new Oi({"line-opacity":new Ti(jt.paint_line["line-opacity"]),"line-color":new Ti(jt.paint_line["line-color"]),"line-translate":new Ei(jt.paint_line["line-translate"]),"line-translate-anchor":new Ei(jt.paint_line["line-translate-anchor"]),"line-width":new Ti(jt.paint_line["line-width"]),"line-gap-width":new Ti(jt.paint_line["line-gap-width"]),"line-offset":new Ti(jt.paint_line["line-offset"]),"line-blur":new Ti(jt.paint_line["line-blur"]),"line-dasharray":new Mi(jt.paint_line["line-dasharray"]),"line-pattern":new Ii(jt.paint_line["line-pattern"]),"line-gradient":new Ai(jt.paint_line["line-gradient"])}),layout:Gs},Ks=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(e,n){return n=new yi(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),t.prototype.possiblyEvaluate.call(this,e,n)},e.prototype.evaluate=function(e,n,r,i){return n=h({},n,{zoom:Math.floor(n.zoom)}),t.prototype.evaluate.call(this,e,n,r,i)},e}(Ti))(Zs.paint.properties["line-width"].specification);Ks.useIntegerZoom=!0;var Qs=function(t){function e(e){t.call(this,e,Zs),this.gradientVersion=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof $e,this.gradientVersion=(this.gradientVersion+1)%l)},e.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n),this.paint._values["line-floorwidth"]=Ks.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new Hs(t)},e.prototype.queryRadius=function(t){var e=t,n=Xs(pa("line-width",this,e),pa("line-gap-width",this,e)),r=pa("line-offset",this,e);return n/2+Math.abs(r)+da(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,a,s){var l=ha(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),u=s/2*Xs(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),c=this.paint.get("line-offset").evaluate(e,n);return c&&(r=function(t,e){for(var n=[],r=new o(0,0),i=0;i<t.length;i++){for(var a=t[i],s=[],l=0;l<a.length;l++){var u=a[l],c=a[l+1],p=0===l?r:u.sub(a[l-1])._unit()._perp(),d=l===a.length-1?r:c.sub(u)._unit()._perp(),h=p._add(d)._unit();h._mult(1/(h.x*d.x+h.y*d.y)),s.push(h._mult(e)._add(u))}n.push(s)}return n}(r,c*s)),function(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];if(t.length>=3)for(var o=0;o<i.length;o++)if(ua(t,i[o]))return!0;if(ra(t,i,n))return!0}return!1}(l,r,u)},e.prototype.isTileClipped=function(){return!0},e}(Pi);function Xs(t,e){return e>0?e+2*t:t}var Ys=Ri([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Js=Ri([{name:"a_projected_pos",components:3,type:"Float32"}],4),$s=(Ri([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Ri([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),tl=(Ri([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Ri([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),el=Ri([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function nl(t,e,n){return t.sections.forEach((function(t){t.text=function(t,e,n){var r=e.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?t=t.toLocaleUpperCase():"lowercase"===r&&(t=t.toLocaleLowerCase()),gi.applyArabicShaping&&(t=gi.applyArabicShaping(t)),t}(t.text,e,n)})),t}Ri([{name:"triangle",components:3,type:"Uint16"}]),Ri([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ri([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ri([{type:"Float32",name:"offsetX"}]),Ri([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var rl={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},il=function(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,p=n?i-1:0,d=n?-1:1,h=t[e+p];for(p+=d,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+t[e+p],p+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+p],p+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},ol=function(t,e,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,p=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+p>=1?d/l:d*Math.pow(2,1-p))*l>=2&&(a++,l/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(e*l-1)*Math.pow(2,i),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;t[n+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[n+h]=255&a,h+=f,a/=256,u-=8);t[n+h-f]|=128*m},al=sl;function sl(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}sl.Varint=0,sl.Fixed64=1,sl.Bytes=2,sl.Fixed32=5;var ll="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function ul(t){return t.type===sl.Bytes?t.readVarint()+t.pos:t.pos+1}function cl(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function pl(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function dl(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function hl(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function fl(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function ml(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function gl(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function yl(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function vl(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function _l(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function bl(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function xl(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function wl(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function kl(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function Sl(t,e,n){1===t&&n.readMessage(Cl,e)}function Cl(t,e,n){if(3===t){var r=n.readMessage(El,{}),i=r.width,o=r.height,a=r.left,s=r.top,l=r.advance;e.push({id:r.id,bitmap:new Ia({width:i+6,height:o+6},r.bitmap),metrics:{width:i,height:o,left:a,top:s,advance:l}})}}function El(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}function Tl(t){for(var e=0,n=0,r=0,i=t;r<i.length;r+=1){var o=i[r];e+=o.w*o.h,n=Math.max(n,o.w)}t.sort((function(t,e){return e.h-t.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),n),h:1/0}],s=0,l=0,u=0,c=t;u<c.length;u+=1)for(var p=c[u],d=a.length-1;d>=0;d--){var h=a[d];if(!(p.w>h.w||p.h>h.h)){if(p.x=h.x,p.y=h.y,l=Math.max(l,p.y+p.h),s=Math.max(s,p.x+p.w),p.w===h.w&&p.h===h.h){var f=a.pop();d<a.length&&(a[d]=f)}else p.h===h.h?(h.x+=p.w,h.w-=p.w):p.w===h.w?(h.y+=p.h,h.h-=p.h):(a.push({x:h.x+p.w,y:h.y,w:h.w-p.w,h:p.h}),h.y+=p.h,h.h-=p.h);break}}return{w:s,h:l,fill:e/(s*l)||0}}sl.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=xl(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=kl(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=xl(this.buf,this.pos)+4294967296*xl(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=xl(this.buf,this.pos)+4294967296*kl(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=il(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=il(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return cl(t,r,e);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return cl(t,r,e);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return cl(t,r,e);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return cl(t,r,e);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return cl(t,r,e);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return cl(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&ll?function(t,e,n){return ll.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){for(var r="",i=e;i<n;){var o,a,s,l=t[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>n)break;1===c?l<128&&(u=l):2===c?128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(a=t[i+2],128==(192&(o=t[i+1]))&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(a=t[i+2],s=t[i+3],128==(192&(o=t[i+1]))&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),i+=c}return r}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==sl.Bytes)return t.push(this.readVarint(e));var n=ul(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==sl.Bytes)return t.push(this.readSVarint());var e=ul(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==sl.Bytes)return t.push(this.readBoolean());var e=ul(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==sl.Bytes)return t.push(this.readFloat());var e=ul(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==sl.Bytes)return t.push(this.readDouble());var e=ul(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==sl.Bytes)return t.push(this.readFixed32());var e=ul(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==sl.Bytes)return t.push(this.readSFixed32());var e=ul(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==sl.Bytes)return t.push(this.readFixed64());var e=ul(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==sl.Bytes)return t.push(this.readSFixed64());var e=ul(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===sl.Varint)for(;this.buf[this.pos++]>127;);else if(e===sl.Bytes)this.pos=this.readVarint()+this.pos;else if(e===sl.Fixed32)this.pos+=4;else{if(e!==sl.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),wl(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),wl(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),wl(this.buf,-1&t,this.pos),wl(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),wl(this.buf,-1&t,this.pos),wl(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,n.buf[n.pos]=127&(t>>>=7)}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&pl(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),ol(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),ol(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&pl(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,sl.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,dl,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,hl,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,gl,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,fl,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,ml,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,yl,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,vl,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,_l,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,bl,e)},writeBytesField:function(t,e){this.writeTag(t,sl.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,sl.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,sl.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,sl.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,sl.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,sl.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,sl.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,sl.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,sl.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,sl.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var Il=function(t,e){var n=e.pixelRatio,r=e.version,i=e.stretchX,o=e.stretchY,a=e.content;this.paddedRect=t,this.pixelRatio=n,this.stretchX=i,this.stretchY=o,this.content=a,this.version=r},Ml={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Ml.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Ml.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Ml.tlbr.get=function(){return this.tl.concat(this.br)},Ml.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Il.prototype,Ml);var Al=function(t,e){var n={},r={};this.haveRenderCallbacks=[];var i=[];this.addImages(t,n,i),this.addImages(e,r,i);var o=Tl(i),a=new Ma({width:o.w||1,height:o.h||1});for(var s in t){var l=t[s],u=n[s].paddedRect;Ma.copy(l.data,a,{x:0,y:0},{x:u.x+1,y:u.y+1},l.data)}for(var c in e){var p=e[c],d=r[c].paddedRect,h=d.x+1,f=d.y+1,m=p.data.width,g=p.data.height;Ma.copy(p.data,a,{x:0,y:0},{x:h,y:f},p.data),Ma.copy(p.data,a,{x:0,y:g-1},{x:h,y:f-1},{width:m,height:1}),Ma.copy(p.data,a,{x:0,y:0},{x:h,y:f+g},{width:m,height:1}),Ma.copy(p.data,a,{x:m-1,y:0},{x:h-1,y:f},{width:1,height:g}),Ma.copy(p.data,a,{x:0,y:0},{x:h+m,y:f},{width:1,height:g})}this.image=a,this.iconPositions=n,this.patternPositions=r};Al.prototype.addImages=function(t,e,n){for(var r in t){var i=t[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),e[r]=new Il(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},Al.prototype.patchUpdatedImages=function(t,e){for(var n in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[n],t.getImage(n),e),this.patchUpdatedImage(this.patternPositions[n],t.getImage(n),e)},Al.prototype.patchUpdatedImage=function(t,e,n){if(t&&e&&t.version!==e.version){t.version=e.version;var r=t.tl;n.update(e.data,void 0,{x:r[0],y:r[1]})}},Kr("ImagePosition",Il),Kr("ImageAtlas",Al);var Ol={horizontal:1,vertical:2,horizontalOnly:3},Pl=function(){this.scale=1,this.fontStack="",this.imageName=null};Pl.forText=function(t,e){var n=new Pl;return n.scale=t||1,n.fontStack=e,n},Pl.forImage=function(t){var e=new Pl;return e.imageName=t,e};var Dl=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function zl(t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m){var g,y=Dl.fromFeature(t,i);p===Ol.vertical&&y.verticalizePunctuation();var v=gi.processBidirectionalText,_=gi.processStyledBidirectionalText;if(v&&1===y.sections.length){g=[];for(var b=0,x=v(y.toString(),Fl(y,u,o,e,r,h,f));b<x.length;b+=1){var w=x[b],k=new Dl;k.text=w,k.sections=y.sections;for(var S=0;S<w.length;S++)k.sectionIndex.push(0);g.push(k)}}else if(_){g=[];for(var C=0,E=_(y.text,y.sectionIndex,Fl(y,u,o,e,r,h,f));C<E.length;C+=1){var T=E[C],I=new Dl;I.text=T[0],I.sectionIndex=T[1],I.sections=y.sections,g.push(I)}}else g=function(t,e){for(var n=[],r=t.text,i=0,o=0,a=e;o<a.length;o+=1){var s=a[o];n.push(t.substring(i,s)),i=s}return i<r.length&&n.push(t.substring(i,r.length)),n}(y,Fl(y,u,o,e,r,h,f));var M=[],A={positionedLines:M,text:y.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:p,iconsInText:!1,verticalizable:!1};return function(t,e,n,r,i,o,a,s,l,u,c,p){for(var d=0,h=-17,f=0,m=0,g="right"===s?1:"left"===s?0:.5,y=0,v=0,_=i;v<_.length;v+=1){var b=_[v];b.trim();var x=b.getMaxScale(),w=24*(x-1),k={positionedGlyphs:[],lineOffset:0};t.positionedLines[y]=k;var S=k.positionedGlyphs,C=0;if(b.length()){for(var E=0;E<b.length();E++){var T=b.getSection(E),I=b.getSectionIndex(E),M=b.getCharCode(E),A=0,O=null,P=null,D=null,z=24,L=!(l===Ol.horizontal||!c&&!ri(M)||c&&(Ll[M]||(q=M,ei.Arabic(q)||ei["Arabic Supplement"](q)||ei["Arabic Extended-A"](q)||ei["Arabic Presentation Forms-A"](q)||ei["Arabic Presentation Forms-B"](q))));if(T.imageName){var R=r[T.imageName];if(!R)continue;D=T.imageName,t.iconsInText=t.iconsInText||!0,P=R.paddedRect;var W=R.displaySize;T.scale=24*T.scale/p,A=w+(24-W[1]*T.scale),z=(O={width:W[0],height:W[1],left:1,top:-3,advance:L?W[1]:W[0]}).advance;var B=L?W[0]*T.scale-24*x:W[1]*T.scale-24*x;B>0&&B>C&&(C=B)}else{var j=n[T.fontStack],N=j&&j[M];if(N&&N.rect)P=N.rect,O=N.metrics;else{var F=e[T.fontStack],U=F&&F[M];if(!U)continue;O=U.metrics}A=24*(x-T.scale)}L?(t.verticalizable=!0,S.push({glyph:M,imageName:D,x:d,y:h+A,vertical:L,scale:T.scale,fontStack:T.fontStack,sectionIndex:I,metrics:O,rect:P}),d+=z*T.scale+u):(S.push({glyph:M,imageName:D,x:d,y:h+A,vertical:L,scale:T.scale,fontStack:T.fontStack,sectionIndex:I,metrics:O,rect:P}),d+=O.advance*T.scale+u)}0!==S.length&&(f=Math.max(d-u,f),Vl(S,0,S.length-1,g,C)),d=0;var V=o*x+C;k.lineOffset=Math.max(C,w),h+=V,m=Math.max(V,m),++y}else h+=o,++y}var q,H=h- -17,G=Ul(a),Z=G.horizontalAlign,K=G.verticalAlign;(function(t,e,n,r,i,o,a,s,l){var u,c=(e-n)*i;u=o!==a?-s*r- -17:(-r*l+.5)*a;for(var p=0,d=t;p<d.length;p+=1)for(var h=0,f=d[p].positionedGlyphs;h<f.length;h+=1){var m=f[h];m.x+=c,m.y+=u}})(t.positionedLines,g,Z,K,f,m,o,H,i.length),t.top+=-K*H,t.bottom=t.top+H,t.left+=-Z*f,t.right=t.left+f}(A,e,n,r,g,a,s,l,p,u,d,m),!function(t){for(var e=0,n=t;e<n.length;e+=1)if(0!==n[e].positionedGlyphs.length)return!1;return!0}(M)&&A}Dl.fromFeature=function(t,e){for(var n=new Dl,r=0;r<t.sections.length;r++){var i=t.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,e)}return n},Dl.prototype.length=function(){return this.text.length},Dl.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},Dl.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},Dl.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},Dl.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n+1)||null,i=t.charCodeAt(n-1)||null;e+=r&&ii(r)&&!rl[t[n+1]]||i&&ii(i)&&!rl[t[n-1]]||!rl[t[n]]?t[n]:rl[t[n]]}return e}(this.text)},Dl.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&Ll[this.text.charCodeAt(e)];e++)t++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=t&&Ll[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)},Dl.prototype.substring=function(t,e){var n=new Dl;return n.text=this.text.substring(t,e),n.sectionIndex=this.sectionIndex.slice(t,e),n.sections=this.sections,n},Dl.prototype.toString=function(){return this.text},Dl.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce((function(e,n){return Math.max(e,t.sections[n].scale)}),0)},Dl.prototype.addTextSection=function(t,e){this.text+=t.text,this.sections.push(Pl.forText(t.scale,t.fontStack||e));for(var n=this.sections.length-1,r=0;r<t.text.length;++r)this.sectionIndex.push(n)},Dl.prototype.addImageSection=function(t){var e=t.image?t.image.name:"";if(0!==e.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(Pl.forImage(e)),this.sectionIndex.push(this.sections.length-1)):S("Reached maximum number of images 6401")}else S("Can't add FormattedSection with an empty image.")},Dl.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Ll={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Rl={};function Wl(t,e,n,r,i,o){if(e.imageName){var a=r[e.imageName];return a?a.displaySize[0]*e.scale*24/o+i:0}var s=n[e.fontStack],l=s&&s[t];return l?l.metrics.advance*e.scale+i:0}function Bl(t,e,n,r){var i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function jl(t,e,n){var r=0;return 10===t&&(r-=1e4),n&&(r+=150),40!==t&&65288!==t||(r+=50),41!==e&&65289!==e||(r+=50),r}function Nl(t,e,n,r,i,o){for(var a=null,s=Bl(e,n,i,o),l=0,u=r;l<u.length;l+=1){var c=u[l],p=Bl(e-c.x,n,i,o)+c.badness;p<=s&&(a=c,s=p)}return{index:t,x:e,priorBreak:a,badness:s}}function Fl(t,e,n,r,i,o,a){if("point"!==o)return[];if(!t)return[];for(var s,l=[],u=function(t,e,n,r,i,o){for(var a=0,s=0;s<t.length();s++){var l=t.getSection(s);a+=Wl(t.getCharCode(s),l,r,i,e,o)}return a/Math.max(1,Math.ceil(a/n))}(t,e,n,r,i,a),c=t.text.indexOf("​")>=0,p=0,d=0;d<t.length();d++){var h=t.getSection(d),f=t.getCharCode(d);if(Ll[f]||(p+=Wl(f,h,r,i,e,a)),d<t.length()-1){var m=!((s=f)<11904||!(ei["Bopomofo Extended"](s)||ei.Bopomofo(s)||ei["CJK Compatibility Forms"](s)||ei["CJK Compatibility Ideographs"](s)||ei["CJK Compatibility"](s)||ei["CJK Radicals Supplement"](s)||ei["CJK Strokes"](s)||ei["CJK Symbols and Punctuation"](s)||ei["CJK Unified Ideographs Extension A"](s)||ei["CJK Unified Ideographs"](s)||ei["Enclosed CJK Letters and Months"](s)||ei["Halfwidth and Fullwidth Forms"](s)||ei.Hiragana(s)||ei["Ideographic Description Characters"](s)||ei["Kangxi Radicals"](s)||ei["Katakana Phonetic Extensions"](s)||ei.Katakana(s)||ei["Vertical Forms"](s)||ei["Yi Radicals"](s)||ei["Yi Syllables"](s)));(Rl[f]||m||h.imageName)&&l.push(Nl(d+1,p,u,l,jl(f,t.getCharCode(d+1),m&&c),!1))}}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(Nl(t.length(),p,u,l,0,!0))}function Ul(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function Vl(t,e,n,r,i){if(r||i)for(var o=t[n],a=(t[n].x+o.metrics.advance*o.scale)*r,s=e;s<=n;s++)t[s].x-=a,t[s].y+=i}function ql(t,e,n,r,i,o){var a,s=t.image;if(s.content){var l=s.content,u=s.pixelRatio||1;a=[l[0]/u,l[1]/u,s.displaySize[0]-l[2]/u,s.displaySize[1]-l[3]/u]}var c,p,d,h,f=e.left*o,m=e.right*o;"width"===n||"both"===n?(h=i[0]+f-r[3],p=i[0]+m+r[1]):p=(h=i[0]+(f+m-s.displaySize[0])/2)+s.displaySize[0];var g=e.top*o,y=e.bottom*o;return"height"===n||"both"===n?(c=i[1]+g-r[0],d=i[1]+y+r[2]):d=(c=i[1]+(g+y-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:p,bottom:d,left:h,collisionPadding:a}}Rl[10]=!0,Rl[32]=!0,Rl[38]=!0,Rl[40]=!0,Rl[41]=!0,Rl[43]=!0,Rl[45]=!0,Rl[47]=!0,Rl[173]=!0,Rl[183]=!0,Rl[8203]=!0,Rl[8208]=!0,Rl[8211]=!0,Rl[8231]=!0;var Hl=function(t){function e(e,n,r,i){t.call(this,e,n),this.angle=r,void 0!==i&&(this.segment=i)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(o);function Gl(t,e){var n=e.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new yi(t+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,o=0;o<r.length&&r[o]<=t;)o++;for(var a=o=Math.max(0,o-1);a<r.length&&r[a]<t+1;)a++;a=Math.min(r.length-1,a);var s=r[o],l=r[a];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:l,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:l,minSize:n.evaluate(new yi(s)),maxSize:n.evaluate(new yi(l)),interpolationType:i}}function Zl(t,e,n){var r=e.uSize,i=n.lowerSize;return"source"===t.kind?i/128:"composite"===t.kind?tn(i/128,n.upperSize/128,e.uSizeT):r}function Kl(t,e){var n=0,r=0;if("constant"===t.kind)r=t.layoutSize;else if("source"!==t.kind){var i=t.interpolationType,o=i?p(gn.interpolationFactor(i,e,t.minZoom,t.maxZoom),0,1):0;"camera"===t.kind?r=tn(t.minSize,t.maxSize,o):n=o}return{uSizeT:n,uSize:r}}Kr("Anchor",Hl);var Ql=Object.freeze({__proto__:null,getSizeData:Gl,evaluateSizeForFeature:Zl,evaluateSizeForZoom:Kl,SIZE_PACK_FACTOR:128});function Xl(t,e,n,r,i){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var l=[],u=0;s<n/2;){var c=t[a],p=t[a+1];if(!p)return!1;var d=t[a-1].angleTo(c)-c.angleTo(p);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:d}),u+=d;s-l[0].distance>r;)u-=l.shift().angleDelta;if(u>i)return!1;a++,s+=c.dist(p)}return!0}function Yl(t){for(var e=0,n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function Jl(t,e,n){return t?.6*e*n:0}function $l(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function tu(t,e,n,r,i,o){for(var a=Jl(n,i,o),s=$l(n,r)*o,l=0,u=Yl(t)/2,c=0;c<t.length-1;c++){var p=t[c],d=t[c+1],h=p.dist(d);if(l+h>u){var f=(u-l)/h,m=tn(p.x,d.x,f),g=tn(p.y,d.y,f),y=new Hl(m,g,d.angleTo(p),c);return y._round(),!a||Xl(t,y,s,a,e)?y:void 0}l+=h}}function eu(t,e,n,r,i,o,a,s,l){var u=Jl(r,o,a),c=$l(r,i),p=c*a,d=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;return e-p<e/4&&(e=p+e/4),function t(e,n,r,i,o,a,s,l,u){for(var c=a/2,p=Yl(e),d=0,h=n-r,f=[],m=0;m<e.length-1;m++){for(var g=e[m],y=e[m+1],v=g.dist(y),_=y.angleTo(g);h+r<d+v;){var b=((h+=r)-d)/v,x=tn(g.x,y.x,b),w=tn(g.y,y.y,b);if(x>=0&&x<u&&w>=0&&w<u&&h-c>=0&&h+c<=p){var k=new Hl(x,w,_,m);k._round(),i&&!Xl(e,k,a,i,o)||f.push(k)}}d+=v}return l||f.length||s||(f=t(e,d/2,r,i,o,a,s,!0,u)),f}(t,d?e/2*s%e:(c/2+2*o)*a*s%e,e,u,n,p,d,!1,l)}function nu(t,e,n,r,i){for(var a=[],s=0;s<t.length;s++)for(var l=t[s],u=void 0,c=0;c<l.length-1;c++){var p=l[c],d=l[c+1];p.x<e&&d.x<e||(p.x<e?p=new o(e,p.y+(e-p.x)/(d.x-p.x)*(d.y-p.y))._round():d.x<e&&(d=new o(e,p.y+(e-p.x)/(d.x-p.x)*(d.y-p.y))._round()),p.y<n&&d.y<n||(p.y<n?p=new o(p.x+(n-p.y)/(d.y-p.y)*(d.x-p.x),n)._round():d.y<n&&(d=new o(p.x+(n-p.y)/(d.y-p.y)*(d.x-p.x),n)._round()),p.x>=r&&d.x>=r||(p.x>=r?p=new o(r,p.y+(r-p.x)/(d.x-p.x)*(d.y-p.y))._round():d.x>=r&&(d=new o(r,p.y+(r-p.x)/(d.x-p.x)*(d.y-p.y))._round()),p.y>=i&&d.y>=i||(p.y>=i?p=new o(p.x+(i-p.y)/(d.y-p.y)*(d.x-p.x),i)._round():d.y>=i&&(d=new o(p.x+(i-p.y)/(d.y-p.y)*(d.x-p.x),i)._round()),u&&p.equals(u[u.length-1])||a.push(u=[p]),u.push(d)))))}return a}function ru(t,e,n,r){var i=[],a=t.image,s=a.pixelRatio,l=a.paddedRect.w-2,u=a.paddedRect.h-2,c=t.right-t.left,p=t.bottom-t.top,d=a.stretchX||[[0,l]],h=a.stretchY||[[0,u]],f=function(t,e){return t+e[1]-e[0]},m=d.reduce(f,0),g=h.reduce(f,0),y=l-m,v=u-g,_=0,b=m,x=0,w=g,k=0,S=y,C=0,E=v;if(a.content&&r){var T=a.content;_=iu(d,0,T[0]),x=iu(h,0,T[1]),b=iu(d,T[0],T[2]),w=iu(h,T[1],T[3]),k=T[0]-_,C=T[1]-x,S=T[2]-T[0]-b,E=T[3]-T[1]-w}var I=function(r,i,l,u){var d=au(r.stretch-_,b,c,t.left),h=su(r.fixed-k,S,r.stretch,m),f=au(i.stretch-x,w,p,t.top),y=su(i.fixed-C,E,i.stretch,g),v=au(l.stretch-_,b,c,t.left),T=su(l.fixed-k,S,l.stretch,m),I=au(u.stretch-x,w,p,t.top),M=su(u.fixed-C,E,u.stretch,g),A=new o(d,f),O=new o(v,f),P=new o(v,I),D=new o(d,I),z=new o(h/s,y/s),L=new o(T/s,M/s),R=e*Math.PI/180;if(R){var W=Math.sin(R),B=Math.cos(R),j=[B,-W,W,B];A._matMult(j),O._matMult(j),D._matMult(j),P._matMult(j)}var N=r.stretch+r.fixed,F=i.stretch+i.fixed;return{tl:A,tr:O,bl:D,br:P,tex:{x:a.paddedRect.x+1+N,y:a.paddedRect.y+1+F,w:l.stretch+l.fixed-N,h:u.stretch+u.fixed-F},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:z,pixelOffsetBR:L,minFontScaleX:S/s/c,minFontScaleY:E/s/p,isSDF:n}};if(r&&(a.stretchX||a.stretchY))for(var M=ou(d,y,m),A=ou(h,v,g),O=0;O<M.length-1;O++)for(var P=M[O],D=M[O+1],z=0;z<A.length-1;z++)i.push(I(P,A[z],D,A[z+1]));else i.push(I({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:u+1}));return i}function iu(t,e,n){for(var r=0,i=0,o=t;i<o.length;i+=1){var a=o[i];r+=Math.max(e,Math.min(n,a[1]))-Math.max(e,Math.min(n,a[0]))}return r}function ou(t,e,n){for(var r=[{fixed:-1,stretch:0}],i=0,o=t;i<o.length;i+=1){var a=o[i],s=a[0],l=a[1],u=r[r.length-1];r.push({fixed:s-u.stretch,stretch:u.stretch}),r.push({fixed:s-u.stretch,stretch:u.stretch+(l-s)})}return r.push({fixed:e+1,stretch:n}),r}function au(t,e,n,r){return t/e*n+r}function su(t,e,n,r){return t-e*n/r}var lu=function(t,e,n,r,i,a,s,l,u,c){if(this.boxStartIndex=t.length,u){var p=a.top,d=a.bottom,h=a.collisionPadding;h&&(p-=h[1],d+=h[3]);var f=d-p;f>0&&(f=Math.max(10,f),this.circleDiameter=f)}else{var m=a.top*s-l,g=a.bottom*s+l,y=a.left*s-l,v=a.right*s+l,_=a.collisionPadding;if(_&&(y-=_[0]*s,m-=_[1]*s,v+=_[2]*s,g+=_[3]*s),c){var b=new o(y,m),x=new o(v,m),w=new o(y,g),k=new o(v,g),S=c*Math.PI/180;b._rotate(S),x._rotate(S),w._rotate(S),k._rotate(S),y=Math.min(b.x,x.x,w.x,k.x),v=Math.max(b.x,x.x,w.x,k.x),m=Math.min(b.y,x.y,w.y,k.y),g=Math.max(b.y,x.y,w.y,k.y)}t.emplaceBack(e.x,e.y,y,m,v,g,n,r,i)}this.boxEndIndex=t.length},uu=function(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=cu),this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function cu(t,e){return t<e?-1:t>e?1:0}function pu(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var r=1/0,i=1/0,a=-1/0,s=-1/0,l=t[0],u=0;u<l.length;u++){var c=l[u];(!u||c.x<r)&&(r=c.x),(!u||c.y<i)&&(i=c.y),(!u||c.x>a)&&(a=c.x),(!u||c.y>s)&&(s=c.y)}var p=Math.min(a-r,s-i),d=p/2,h=new uu([],du);if(0===p)return new o(r,i);for(var f=r;f<a;f+=p)for(var m=i;m<s;m+=p)h.push(new hu(f+d,m+d,d,t));for(var g=function(t){for(var e=0,n=0,r=0,i=t[0],o=0,a=i.length,s=a-1;o<a;s=o++){var l=i[o],u=i[s],c=l.x*u.y-u.x*l.y;n+=(l.x+u.x)*c,r+=(l.y+u.y)*c,e+=3*c}return new hu(n/e,r/e,0,t)}(t),y=h.length;h.length;){var v=h.pop();(v.d>g.d||!g.d)&&(g=v,n&&console.log("found best %d after %d probes",Math.round(1e4*v.d)/1e4,y)),v.max-g.d<=e||(h.push(new hu(v.p.x-(d=v.h/2),v.p.y-d,d,t)),h.push(new hu(v.p.x+d,v.p.y-d,d,t)),h.push(new hu(v.p.x-d,v.p.y+d,d,t)),h.push(new hu(v.p.x+d,v.p.y+d,d,t)),y+=4)}return n&&(console.log("num probes: "+y),console.log("best distance: "+g.d)),g.p}function du(t,e){return e.max-t.max}function hu(t,e,n,r){this.p=new o(t,e),this.h=n,this.d=function(t,e){for(var n=!1,r=1/0,i=0;i<e.length;i++)for(var o=e[i],a=0,s=o.length,l=s-1;a<s;l=a++){var u=o[a],c=o[l];u.y>t.y!=c.y>t.y&&t.x<(c.x-u.x)*(t.y-u.y)/(c.y-u.y)+u.x&&(n=!n),r=Math.min(r,sa(t,u,c))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}uu.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},uu.prototype.pop=function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}},uu.prototype.peek=function(){return this.data[0]},uu.prototype._up=function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},uu.prototype._down=function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=e[o],s=o+1;if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i};var fu=Number.POSITIVE_INFINITY;function mu(t,e){return e[1]!==fu?function(t,e,n){var r=0,i=0;switch(e=Math.abs(e),n=Math.abs(n),t){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(t){case"top-right":case"bottom-right":case"right":r=-e;break;case"top-left":case"bottom-left":case"left":r=e}return[r,i]}(t,e[0],e[1]):function(t,e){var n=0,r=0;e<0&&(e=0);var i=e/Math.sqrt(2);switch(t){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-e;break;case"top":r=e-7}switch(t){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=e;break;case"right":n=-e}return[n,r]}(t,e[0])}function gu(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function yu(t,e,n,r,i,a,s,l,u,c,p,d,h,f,m){var g=function(t,e,n,r,i,a,s,l){for(var u=r.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,c=[],p=0,d=e.positionedLines;p<d.length;p+=1)for(var h=d[p],f=0,m=h.positionedGlyphs;f<m.length;f+=1){var g=m[f];if(g.rect){var y=g.rect||{},v=4,_=!0,b=1,x=0,w=(i||l)&&g.vertical,k=g.metrics.advance*g.scale/2;if(l&&e.verticalizable&&(x=h.lineOffset/2-(g.imageName?-(24-g.metrics.width*g.scale)/2:24*(g.scale-1))),g.imageName){var S=s[g.imageName];_=S.sdf,v=1/(b=S.pixelRatio)}var C=i?[g.x+k,g.y]:[0,0],E=i?[0,0]:[g.x+k+n[0],g.y+n[1]-x],T=[0,0];w&&(T=E,E=[0,0]);var I=(g.metrics.left-v)*g.scale-k+E[0],M=(-g.metrics.top-v)*g.scale+E[1],A=I+y.w*g.scale/b,O=M+y.h*g.scale/b,P=new o(I,M),D=new o(A,M),z=new o(I,O),L=new o(A,O);if(w){var R=new o(-k,k- -17),W=-Math.PI/2,B=12-k,j=new o(22-B,-(g.imageName?B:0)),N=new(Function.prototype.bind.apply(o,[null].concat(T)));P._rotateAround(W,R)._add(j)._add(N),D._rotateAround(W,R)._add(j)._add(N),z._rotateAround(W,R)._add(j)._add(N),L._rotateAround(W,R)._add(j)._add(N)}if(u){var F=Math.sin(u),U=Math.cos(u),V=[U,-F,F,U];P._matMult(V),D._matMult(V),z._matMult(V),L._matMult(V)}var q=new o(0,0),H=new o(0,0);c.push({tl:P,tr:D,bl:z,br:L,tex:y,writingMode:e.writingMode,glyphOffset:C,sectionIndex:g.sectionIndex,isSDF:_,pixelOffsetTL:q,pixelOffsetBR:H,minFontScaleX:0,minFontScaleY:0})}}return c}(0,n,l,i,a,s,r,t.allowVerticalPlacement),y=t.textSizeData,v=null;"source"===y.kind?(v=[128*i.layout.get("text-size").evaluate(s,{})])[0]>32640&&S(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===y.kind&&((v=[128*f.compositeTextSizes[0].evaluate(s,{},m),128*f.compositeTextSizes[1].evaluate(s,{},m)])[0]>32640||v[1]>32640)&&S(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),t.addSymbols(t.text,g,v,l,a,s,c,e,u.lineStartIndex,u.lineLength,h,m);for(var _=0,b=p;_<b.length;_+=1)d[b[_]]=t.text.placedSymbolArray.length-1;return 4*g.length}function vu(t){for(var e in t)return t[e];return null}function _u(t,e,n,r){var i=t.compareText;if(e in i){for(var o=i[e],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[e]=[];return i[e].push(r),!1}var bu=As.VectorTileFeature.types,xu=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function wu(t,e,n,r,i,o,a,s,l,u,c,p,d){var h=s?Math.min(32640,Math.round(s[0])):0,f=s?Math.min(32640,Math.round(s[1])):0;t.emplaceBack(e,n,Math.round(32*r),Math.round(32*i),o,a,(h<<1)+(l?1:0),f,16*u,16*c,256*p,256*d)}function ku(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}function Su(t){for(var e=0,n=t.sections;e<n.length;e+=1)if(si(n[e].text))return!0;return!1}var Cu=function(t){this.layoutVertexArray=new qi,this.indexArray=new Yi,this.programConfigurations=t,this.segments=new vo,this.dynamicLayoutVertexArray=new Hi,this.opacityVertexArray=new Gi,this.placedSymbolArray=new uo};Cu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},Cu.prototype.upload=function(t,e,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ys.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Js.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,xu,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(t))},Cu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Kr("SymbolBuffers",Cu);var Eu=function(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new vo,this.collisionVertexArray=new Xi};Eu.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,$s.members,!0)},Eu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Kr("CollisionBuffers",Eu);var Tu=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=ya([]),this.placementViewportMatrix=ya([]);var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Gl(this.zoom,e["text-size"]),this.iconSizeData=Gl(this.zoom,e["icon-size"]);var n=this.layers[0].layout,r=n.get("symbol-sort-key"),i=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==r.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((function(t){return Ol[t]}))),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id})),this.sourceID=t.sourceID};Tu.prototype.createArrays=function(){this.text=new Cu(new Ho(this.layers,this.zoom,(function(t){return/^text/.test(t)}))),this.icon=new Cu(new Ho(this.layers,this.zoom,(function(t){return/^icon/.test(t)}))),this.glyphOffsetArray=new ho,this.lineVertexArray=new fo,this.symbolInstances=new po},Tu.prototype.calculateGlyphDependencies=function(t,e,n,r,i){for(var o=0;o<t.length;o++)if(e[t.charCodeAt(o)]=!0,(n||r)&&i){var a=rl[t.charAt(o)];a&&(e[a.charCodeAt(0)]=!0)}},Tu.prototype.populate=function(t,e,n){var r=this.layers[0],i=r.layout,o=i.get("text-font"),a=i.get("text-field"),s=i.get("icon-image"),l=("constant"!==a.value.kind||a.value.value instanceof he&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),u="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,c=i.get("symbol-sort-key");if(this.features=[],l||u){for(var p=e.iconDependencies,d=e.glyphDependencies,h=e.availableImages,f=new yi(this.zoom),m=0,g=t;m<g.length;m+=1){var y=g[m],v=y.feature,_=y.id,b=y.index,x=y.sourceLayerIndex,w=r._featureFilter.needGeometry,k=Yo(v,w);if(r._featureFilter.filter(f,k,n)){w||(k.geometry=Xo(v));var S=void 0;if(l){var C=r.getValueAndResolveTokens("text-field",k,n,h),E=he.factory(C);Su(E)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===fi()||this.hasRTLText&&gi.isParsed())&&(S=nl(E,r,k))}var T=void 0;if(u){var I=r.getValueAndResolveTokens("icon-image",k,n,h);T=I instanceof fe?I:fe.fromString(I)}if(S||T){var M=this.sortFeaturesByKey?c.evaluate(k,{},n):void 0;if(this.features.push({id:_,text:S,icon:T,index:b,sourceLayerIndex:x,geometry:k.geometry,properties:v.properties,type:bu[v.type],sortKey:M}),T&&(p[T.name]=!0),S){var A=o.evaluate(k,{},n).join(","),O="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Ol.vertical)>=0;for(var P=0,D=S.sections;P<D.length;P+=1){var z=D[P];if(z.image)p[z.image.name]=!0;else{var L=ni(S.toString()),R=z.fontStack||A,W=d[R]=d[R]||{};this.calculateGlyphDependencies(z.text,W,O,this.allowVerticalPlacement,L)}}}}}}"line"===i.get("symbol-placement")&&(this.features=function(t){var e={},n={},r=[],i=0;function o(e){r.push(t[e]),i++}function a(t,e,i){var o=n[t];return delete n[t],n[e]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(t,n,i){var o=e[n];return delete e[n],e[t]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function l(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var u=0;u<t.length;u++){var c=t[u],p=c.geometry,d=c.text?c.text.toString():null;if(d){var h=l(d,p),f=l(d,p,!0);if(h in n&&f in e&&n[h]!==e[f]){var m=s(h,f,p),g=a(h,f,r[m].geometry);delete e[h],delete n[f],n[l(d,r[g].geometry,!0)]=g,r[m].geometry=null}else h in n?a(h,f,p):f in e?s(h,f,p):(o(u),e[h]=i-1,n[f]=i-1)}else o(u)}return r.filter((function(t){return t.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(t,e){return t.sortKey-e.sortKey}))}},Tu.prototype.update=function(t,e,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,n))},Tu.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},Tu.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Tu.prototype.upload=function(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Tu.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Tu.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Tu.prototype.addToLineVertexArray=function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),i=t.dist(e[t.segment]),o={},a=t.segment+1;a<e.length;a++)o[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:r},a<e.length-1&&(r+=e[a+1].dist(e[a]));for(var s=t.segment||0;s>=0;s--)o[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=e[s-1].dist(e[s]));for(var l=0;l<e.length;l++){var u=o[l];this.lineVertexArray.emplaceBack(u.x,u.y,u.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},Tu.prototype.addSymbols=function(t,e,n,r,i,o,a,s,l,u,c,p){for(var d=t.indexArray,h=t.layoutVertexArray,f=t.segments.prepareSegment(4*e.length,h,d,this.canOverlap?o.sortKey:void 0),m=this.glyphOffsetArray.length,g=f.vertexLength,y=this.allowVerticalPlacement&&a===Ol.vertical?Math.PI/2:0,v=o.text&&o.text.sections,_=0;_<e.length;_++){var b=e[_],x=b.tl,w=b.tr,k=b.bl,S=b.br,C=b.tex,E=b.pixelOffsetTL,T=b.pixelOffsetBR,I=b.minFontScaleX,M=b.minFontScaleY,A=b.glyphOffset,O=b.isSDF,P=b.sectionIndex,D=f.vertexLength,z=A[1];wu(h,s.x,s.y,x.x,z+x.y,C.x,C.y,n,O,E.x,E.y,I,M),wu(h,s.x,s.y,w.x,z+w.y,C.x+C.w,C.y,n,O,T.x,E.y,I,M),wu(h,s.x,s.y,k.x,z+k.y,C.x,C.y+C.h,n,O,E.x,T.y,I,M),wu(h,s.x,s.y,S.x,z+S.y,C.x+C.w,C.y+C.h,n,O,T.x,T.y,I,M),ku(t.dynamicLayoutVertexArray,s,y),d.emplaceBack(D,D+1,D+2),d.emplaceBack(D+1,D+2,D+3),f.vertexLength+=4,f.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(A[0]),_!==e.length-1&&P===e[_+1].sectionIndex||t.programConfigurations.populatePaintArrays(h.length,o,o.index,{},p,v&&v[P])}t.placedSymbolArray.emplaceBack(s.x,s.y,m,this.glyphOffsetArray.length-m,g,l,u,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,0,!1,0,c)},Tu.prototype._addCollisionDebugVertex=function(t,e,n,r,i,o){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))},Tu.prototype.addCollisionDebugVertices=function(t,e,n,r,i,a,s){var l=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),u=l.vertexLength,c=i.layoutVertexArray,p=i.collisionVertexArray,d=s.anchorX,h=s.anchorY;this._addCollisionDebugVertex(c,p,a,d,h,new o(t,e)),this._addCollisionDebugVertex(c,p,a,d,h,new o(n,e)),this._addCollisionDebugVertex(c,p,a,d,h,new o(n,r)),this._addCollisionDebugVertex(c,p,a,d,h,new o(t,r)),l.vertexLength+=4;var f=i.indexArray;f.emplaceBack(u,u+1),f.emplaceBack(u+1,u+2),f.emplaceBack(u+2,u+3),f.emplaceBack(u+3,u),l.primitiveLength+=4},Tu.prototype.addDebugCollisionBoxes=function(t,e,n,r){for(var i=t;i<e;i++){var o=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(o.x1,o.y1,o.x2,o.y2,r?this.textCollisionBox:this.iconCollisionBox,o.anchorPoint,n)}},Tu.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Eu(Ki,tl.members,ro),this.iconCollisionBox=new Eu(Ki,tl.members,ro);for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1),this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex,e.verticalIconBoxEndIndex,e,!1)}},Tu.prototype._deserializeCollisionBoxesForSymbol=function(t,e,n,r,i,o,a,s,l){for(var u={},c=e;c<n;c++){var p=t.get(c);u.textBox={x1:p.x1,y1:p.y1,x2:p.x2,y2:p.y2,anchorPointX:p.anchorPointX,anchorPointY:p.anchorPointY},u.textFeatureIndex=p.featureIndex;break}for(var d=r;d<i;d++){var h=t.get(d);u.verticalTextBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,anchorPointX:h.anchorPointX,anchorPointY:h.anchorPointY},u.verticalTextFeatureIndex=h.featureIndex;break}for(var f=o;f<a;f++){var m=t.get(f);u.iconBox={x1:m.x1,y1:m.y1,x2:m.x2,y2:m.y2,anchorPointX:m.anchorPointX,anchorPointY:m.anchorPointY},u.iconFeatureIndex=m.featureIndex;break}for(var g=s;g<l;g++){var y=t.get(g);u.verticalIconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,anchorPointX:y.anchorPointX,anchorPointY:y.anchorPointY},u.verticalIconFeatureIndex=y.featureIndex;break}return u},Tu.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var n=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},Tu.prototype.hasTextData=function(){return this.text.segments.get().length>0},Tu.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Tu.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Tu.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Tu.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Tu.prototype.addIndicesForPlacedSymbol=function(t,e){for(var n=t.placedSymbolArray.get(e),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)t.indexArray.emplaceBack(i,i+1,i+2),t.indexArray.emplaceBack(i+1,i+2,i+3)},Tu.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var e=Math.sin(t),n=Math.cos(t),r=[],i=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var s=this.symbolInstances.get(a);r.push(0|Math.round(e*s.anchorX+n*s.anchorY)),i.push(s.featureIndex)}return o.sort((function(t,e){return r[t]-r[e]||i[e]-i[t]})),o},Tu.prototype.addToSortKeyRanges=function(t,e){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===e?n.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})},Tu.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,r=this.symbolInstanceIndexes;n<r.length;n+=1){var i=this.symbolInstances.get(r[n]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(t,n,r){t>=0&&r.indexOf(t)===n&&e.addIndicesForPlacedSymbol(e.text,t)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Kr("SymbolBucket",Tu,{omit:["layers","collisionBoxArray","features","compareText"]}),Tu.MAX_GLYPHS=65535,Tu.addDynamicAttributes=ku;var Iu=new Oi({"symbol-placement":new Ei(jt.layout_symbol["symbol-placement"]),"symbol-spacing":new Ei(jt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ei(jt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ti(jt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ei(jt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ei(jt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Ei(jt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ei(jt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ei(jt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ti(jt.layout_symbol["icon-size"]),"icon-text-fit":new Ei(jt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ei(jt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ti(jt.layout_symbol["icon-image"]),"icon-rotate":new Ti(jt.layout_symbol["icon-rotate"]),"icon-padding":new Ei(jt.layout_symbol["icon-padding"]),"icon-keep-upright":new Ei(jt.layout_symbol["icon-keep-upright"]),"icon-offset":new Ti(jt.layout_symbol["icon-offset"]),"icon-anchor":new Ti(jt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ei(jt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ei(jt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ei(jt.layout_symbol["text-rotation-alignment"]),"text-field":new Ti(jt.layout_symbol["text-field"]),"text-font":new Ti(jt.layout_symbol["text-font"]),"text-size":new Ti(jt.layout_symbol["text-size"]),"text-max-width":new Ti(jt.layout_symbol["text-max-width"]),"text-line-height":new Ei(jt.layout_symbol["text-line-height"]),"text-letter-spacing":new Ti(jt.layout_symbol["text-letter-spacing"]),"text-justify":new Ti(jt.layout_symbol["text-justify"]),"text-radial-offset":new Ti(jt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ei(jt.layout_symbol["text-variable-anchor"]),"text-anchor":new Ti(jt.layout_symbol["text-anchor"]),"text-max-angle":new Ei(jt.layout_symbol["text-max-angle"]),"text-writing-mode":new Ei(jt.layout_symbol["text-writing-mode"]),"text-rotate":new Ti(jt.layout_symbol["text-rotate"]),"text-padding":new Ei(jt.layout_symbol["text-padding"]),"text-keep-upright":new Ei(jt.layout_symbol["text-keep-upright"]),"text-transform":new Ti(jt.layout_symbol["text-transform"]),"text-offset":new Ti(jt.layout_symbol["text-offset"]),"text-allow-overlap":new Ei(jt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Ei(jt.layout_symbol["text-ignore-placement"]),"text-optional":new Ei(jt.layout_symbol["text-optional"])}),Mu={paint:new Oi({"icon-opacity":new Ti(jt.paint_symbol["icon-opacity"]),"icon-color":new Ti(jt.paint_symbol["icon-color"]),"icon-halo-color":new Ti(jt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ti(jt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ti(jt.paint_symbol["icon-halo-blur"]),"icon-translate":new Ei(jt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ei(jt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ti(jt.paint_symbol["text-opacity"]),"text-color":new Ti(jt.paint_symbol["text-color"],{runtimeType:Yt,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new Ti(jt.paint_symbol["text-halo-color"]),"text-halo-width":new Ti(jt.paint_symbol["text-halo-width"]),"text-halo-blur":new Ti(jt.paint_symbol["text-halo-blur"]),"text-translate":new Ei(jt.paint_symbol["text-translate"]),"text-translate-anchor":new Ei(jt.paint_symbol["text-translate-anchor"])}),layout:Iu},Au=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Zt,this.defaultValue=t};Au.prototype.evaluate=function(t){if(t.formattedSection){var e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},Au.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},Au.prototype.outputDefined=function(){return!1},Au.prototype.serialize=function(){return null},Kr("FormatSectionOverride",Au,{omit:["defaultValue"]});var Ou=function(t){function e(e){t.call(this,e,Mu)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){if(t.prototype.recalculate.call(this,e,n),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){for(var i=[],o=0,a=r;o<a.length;o+=1){var s=a[o];i.indexOf(s)<0&&i.push(s)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(t,e,n,r){var i=this.layout.get(t).evaluate(e,{},n,r),o=this._unevaluatedLayout._values[t];return o.isDataDriven()||nr(o.value)||!i?i:function(t,e){return e.replace(/{([^{}]+)}/g,(function(e,n){return n in t?String(t[n]):""}))}(e.properties,i)},e.prototype.createBucket=function(t){return new Tu(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var t=0,n=Mu.paint.overridableProperties;t<n.length;t+=1){var r=n[t];if(e.hasPaintOverride(this.layout,r)){var i,o=this.paint.get(r),a=new Au(o),s=new er(a,o.property.specification);i="constant"===o.value.kind||"source"===o.value.kind?new ir("source",s):new or("composite",s,o.value.zoomStops,o.value._interpolationType),this.paint._values[r]=new Si(o.property,i,o.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(t,n,r){return!(!this.layout||n.isDataDriven()||r.isDataDriven())&&e.hasPaintOverride(this.layout,t)},e.hasPaintOverride=function(t,e){var n=t.get("text-field"),r=Mu.paint.properties[e],i=!1,o=function(t){for(var e=0,n=t;e<n.length;e+=1)if(r.overrides&&r.overrides.hasOverride(n[e]))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof he)o(n.value.value.sections);else if("source"===n.value.kind){var a=function(t){i||(t instanceof _e&&ye(t.value)===ee?o(t.value.sections):t instanceof ke?o(t.sections):t.eachChild(a))},s=n.value;s._styleExpression&&a(s._styleExpression.expression)}return i},e}(Pi),Pu={paint:new Oi({"background-color":new Ei(jt.paint_background["background-color"]),"background-pattern":new Mi(jt.paint_background["background-pattern"]),"background-opacity":new Ei(jt.paint_background["background-opacity"])})},Du=function(t){function e(e){t.call(this,e,Pu)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Pi),zu={paint:new Oi({"raster-opacity":new Ei(jt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ei(jt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ei(jt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ei(jt.paint_raster["raster-brightness-max"]),"raster-saturation":new Ei(jt.paint_raster["raster-saturation"]),"raster-contrast":new Ei(jt.paint_raster["raster-contrast"]),"raster-resampling":new Ei(jt.paint_raster["raster-resampling"]),"raster-fade-duration":new Ei(jt.paint_raster["raster-fade-duration"])})},Lu=function(t){function e(e){t.call(this,e,zu)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Pi),Ru=function(t){function e(e){t.call(this,e,{}),this.implementation=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},e.prototype.onRemove=function(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)},e}(Pi),Wu={circle:wa,heatmap:Pa,hillshade:za,fill:bs,"fill-extrusion":Ws,line:Qs,symbol:Ou,background:Du,raster:Lu},Bu=s.HTMLImageElement,ju=s.HTMLCanvasElement,Nu=s.HTMLVideoElement,Fu=s.ImageData,Uu=s.ImageBitmap,Vu=function(t,e,n,r){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,r)};Vu.prototype.update=function(t,e,n){var r=t.width,i=t.height,o=!(this.size&&this.size[0]===r&&this.size[1]===i||n),a=this.context,s=a.gl;if(this.useMipmap=Boolean(e&&e.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!e||!1!==e.premultiply)),o)this.size=[r,i],t instanceof Bu||t instanceof ju||t instanceof Nu||t instanceof Fu||Uu&&t instanceof Uu?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,t.data);else{var l=n||{x:0,y:0},u=l.x,c=l.y;t instanceof Bu||t instanceof ju||t instanceof Nu||t instanceof Fu||Uu&&t instanceof Uu?s.texSubImage2D(s.TEXTURE_2D,0,u,c,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,u,c,r,i,s.RGBA,s.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Vu.prototype.bind=function(t,e,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)},Vu.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Vu.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var qu=function(t){var e=this;this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){e._triggered=!1,e._callback()})};qu.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){t._triggered=!1,t._callback()}),0))},qu.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Hu=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},v(["receive","process"],this),this.invoker=new qu(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=T()?t:s};function Gu(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}Hu.prototype.send=function(t,e,n,r,i){var o=this;void 0===i&&(i=!1);var a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[a]=n);var s=A(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:t,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:Jr(e,s)},s),{cancel:function(){n&&delete o.callbacks[a],o.target.postMessage({id:a,type:"<cancel>",targetMapId:r,sourceMapId:o.mapId})}}},Hu.prototype.receive=function(t){var e=t.data,n=e.id;if(n&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){delete this.tasks[n];var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r()}else T()||e.mustQueue?(this.tasks[n]=e,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,e)},Hu.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),e=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),e&&this.processTask(t,e)}},Hu.prototype.processTask=function(t,e){var n=this;if("<response>"===e.type){var r=this.callbacks[t];delete this.callbacks[t],r&&(e.error?r($r(e.error)):r(null,$r(e.data)))}else{var i=!1,o=A(this.globalScope)?void 0:[],a=e.hasCallback?function(e,r){i=!0,delete n.cancelCallbacks[t],n.target.postMessage({id:t,type:"<response>",sourceMapId:n.mapId,error:e?Jr(e):null,data:Jr(r,o)},o)}:function(t){i=!0},s=null,l=$r(e.data);if(this.parent[e.type])s=this.parent[e.type](e.sourceMapId,l,a);else if(this.parent.getWorkerSource){var u=e.type.split(".");s=this.parent.getWorkerSource(e.sourceMapId,u[0],l.source)[u[1]](l,a)}else a(new Error("Could not find function "+e.type));!i&&s&&s.cancel&&(this.cancelCallbacks[t]=s.cancel)}},Hu.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Zu=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Zu.prototype.setNorthEast=function(t){return this._ne=t instanceof Ku?new Ku(t.lng,t.lat):Ku.convert(t),this},Zu.prototype.setSouthWest=function(t){return this._sw=t instanceof Ku?new Ku(t.lng,t.lat):Ku.convert(t),this},Zu.prototype.extend=function(t){var e,n,r=this._sw,i=this._ne;if(t instanceof Ku)e=t,n=t;else{if(!(t instanceof Zu))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(Zu.convert(t)):this.extend(Ku.convert(t)):this;if(n=t._ne,!(e=t._sw)||!n)return this}return r||i?(r.lng=Math.min(e.lng,r.lng),r.lat=Math.min(e.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new Ku(e.lng,e.lat),this._ne=new Ku(n.lng,n.lat)),this},Zu.prototype.getCenter=function(){return new Ku((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Zu.prototype.getSouthWest=function(){return this._sw},Zu.prototype.getNorthEast=function(){return this._ne},Zu.prototype.getNorthWest=function(){return new Ku(this.getWest(),this.getNorth())},Zu.prototype.getSouthEast=function(){return new Ku(this.getEast(),this.getSouth())},Zu.prototype.getWest=function(){return this._sw.lng},Zu.prototype.getSouth=function(){return this._sw.lat},Zu.prototype.getEast=function(){return this._ne.lng},Zu.prototype.getNorth=function(){return this._ne.lat},Zu.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Zu.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Zu.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Zu.prototype.contains=function(t){var e=Ku.convert(t),n=e.lng,r=e.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i},Zu.convert=function(t){return!t||t instanceof Zu?t:new Zu(t)};var Ku=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ku.prototype.wrap=function(){return new Ku(d(this.lng,-180,180),this.lat)},Ku.prototype.toArray=function(){return[this.lng,this.lat]},Ku.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ku.prototype.distanceTo=function(t){var e=Math.PI/180,n=this.lat*e,r=t.lat*e,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((t.lng-this.lng)*e);return 6371008.8*Math.acos(Math.min(i,1))},Ku.prototype.toBounds=function(t){void 0===t&&(t=0);var e=360*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new Zu(new Ku(this.lng-n,this.lat-e),new Ku(this.lng+n,this.lat+e))},Ku.convert=function(t){if(t instanceof Ku)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new Ku(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new Ku(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Qu=2*Math.PI*6371008.8;function Xu(t){return Qu*Math.cos(t*Math.PI/180)}function Yu(t){return(180+t)/360}function Ju(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function $u(t,e){return t/Xu(e)}function tc(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}var ec=function(t,e,n){void 0===n&&(n=0),this.x=+t,this.y=+e,this.z=+n};ec.fromLngLat=function(t,e){void 0===e&&(e=0);var n=Ku.convert(t);return new ec(Yu(n.lng),Ju(n.lat),$u(e,n.lat))},ec.prototype.toLngLat=function(){return new Ku(360*this.x-180,tc(this.y))},ec.prototype.toAltitude=function(){return this.z*Xu(tc(this.y))},ec.prototype.meterInMercatorCoordinateUnits=function(){return 1/Qu*(t=tc(this.y),1/Math.cos(t*Math.PI/180));var t};var nc,rc=n((function(t){var e=function(){var t=1e7,n=9007199254740992,r=c(n),i="function"==typeof BigInt;function o(t,e,n,r){return void 0===t?o[0]:void 0===e||10==+e&&!n?q(t):j(t,e,n,r)}function a(t,e){this.value=t,this.sign=e,this.isSmall=!1}function s(t){this.value=t,this.sign=t<0,this.isSmall=!0}function l(t){this.value=t}function u(t){return-n<t&&t<n}function c(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function p(e){d(e);var n=e.length;if(n<4&&T(e,r)<0)switch(n){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*t;default:return e[0]+(e[1]+e[2]*t)*t}return e}function d(t){for(var e=t.length;0===t[--e];);t.length=e+1}function h(t){for(var e=new Array(t),n=-1;++n<t;)e[n]=0;return e}function f(t){return t>0?Math.floor(t):Math.ceil(t)}function m(e,n){var r,i,o=e.length,a=n.length,s=new Array(o),l=0,u=t;for(i=0;i<a;i++)s[i]=(r=e[i]+n[i]+l)-(l=r>=u?1:0)*u;for(;i<o;)r=e[i]+l,s[i++]=r-(l=r===u?1:0)*u;return l>0&&s.push(l),s}function g(t,e){return t.length>=e.length?m(t,e):m(e,t)}function y(e,n){var r,i,o=e.length,a=new Array(o),s=t;for(i=0;i<o;i++)r=e[i]-s+n,n=Math.floor(r/s),a[i]=r-n*s,n+=1;for(;n>0;)a[i++]=n%s,n=Math.floor(n/s);return a}function v(t,e){var n,r,i=t.length,o=e.length,a=new Array(i),s=0;for(n=0;n<o;n++)(r=t[n]-s-e[n])<0?(r+=1e7,s=1):s=0,a[n]=r;for(n=o;n<i;n++){if(!((r=t[n]-s)<0)){a[n++]=r;break}a[n]=r+=1e7}for(;n<i;n++)a[n]=t[n];return d(a),a}function _(t,e,n){var r,i,o=t.length,l=new Array(o),u=-e;for(r=0;r<o;r++)i=t[r]+u,u=Math.floor(i/1e7),l[r]=(i%=1e7)<0?i+1e7:i;return"number"==typeof(l=p(l))?(n&&(l=-l),new s(l)):new a(l,n)}function b(t,e){var n,r,i,o,a=t.length,s=e.length,l=h(a+s);for(i=0;i<a;++i){o=t[i];for(var u=0;u<s;++u)n=o*e[u]+l[i+u],r=Math.floor(n/1e7),l[i+u]=n-1e7*r,l[i+u+1]+=r}return d(l),l}function x(e,n){var r,i,o=e.length,a=new Array(o),s=t,l=0;for(i=0;i<o;i++)r=e[i]*n+l,l=Math.floor(r/s),a[i]=r-l*s;for(;l>0;)a[i++]=l%s,l=Math.floor(l/s);return a}function w(t,e){for(var n=[];e-- >0;)n.push(0);return n.concat(t)}function k(e,n,r){return new a(e<t?x(n,e):b(n,c(e)),r)}function S(t){var e,n,r,i,o=t.length,a=h(o+o);for(r=0;r<o;r++){n=0-(i=t[r])*i;for(var s=r;s<o;s++)e=i*t[s]*2+a[r+s]+n,n=Math.floor(e/1e7),a[r+s]=e-1e7*n;a[r+o]=n}return d(a),a}function C(t,e){var n,r,i,o,a=t.length,s=h(a);for(i=0,n=a-1;n>=0;--n)i=(o=1e7*i+t[n])-(r=f(o/e))*e,s[n]=0|r;return[s,0|i]}function E(e,n){var r,u=q(n);if(i)return[new l(e.value/u.value),new l(e.value%u.value)];var m,g=e.value,y=u.value;if(0===y)throw new Error("Cannot divide by zero");if(e.isSmall)return u.isSmall?[new s(f(g/y)),new s(g%y)]:[o[0],e];if(u.isSmall){if(1===y)return[e,o[0]];if(-1==y)return[e.negate(),o[0]];var _=Math.abs(y);if(_<t){m=p((r=C(g,_))[0]);var b=r[1];return e.sign&&(b=-b),"number"==typeof m?(e.sign!==u.sign&&(m=-m),[new s(m),new s(b)]):[new a(m,e.sign!==u.sign),new s(b)]}y=c(_)}var w=T(g,y);if(-1===w)return[o[0],e];if(0===w)return[o[e.sign===u.sign?1:-1],o[0]];r=g.length+y.length<=200?function(e,n){var r,i,o,a,s,l,u,c=e.length,d=n.length,f=t,m=h(n.length),g=n[d-1],y=Math.ceil(f/(2*g)),v=x(e,y),_=x(n,y);for(v.length<=c&&v.push(0),_.push(0),g=_[d-1],i=c-d;i>=0;i--){for(r=f-1,v[i+d]!==g&&(r=Math.floor((v[i+d]*f+v[i+d-1])/g)),o=0,a=0,l=_.length,s=0;s<l;s++)o+=r*_[s],u=Math.floor(o/f),a+=v[i+s]-(o-u*f),o=u,a<0?(v[i+s]=a+f,a=-1):(v[i+s]=a,a=0);for(;0!==a;){for(r-=1,o=0,s=0;s<l;s++)(o+=v[i+s]-f+_[s])<0?(v[i+s]=o+f,o=0):(v[i+s]=o,o=1);a+=o}m[i]=r}return v=C(v,y)[0],[p(m),p(v)]}(g,y):function(t,e){for(var n,r,i,o,a=t.length,s=e.length,l=[],u=[];a;)if(u.unshift(t[--a]),d(u),T(u,e)<0)l.push(0);else{i=1e7*u[(r=u.length)-1]+u[r-2],r>s&&(i=1e7*(i+1)),n=Math.ceil(i/(1e7*e[s-1]+e[s-2]));do{if(T(o=x(e,n),u)<=0)break;n--}while(n);l.push(n),u=v(u,o)}return l.reverse(),[p(l),p(u)]}(g,y);var k=e.sign!==u.sign,S=r[1],E=e.sign;return"number"==typeof(m=r[0])?(k&&(m=-m),m=new s(m)):m=new a(m,k),"number"==typeof S?(E&&(S=-S),S=new s(S)):S=new a(S,E),[m,S]}function T(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var n=t.length-1;n>=0;n--)if(t[n]!==e[n])return t[n]>e[n]?1:-1;return 0}function I(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(49)||void 0))}function M(t,n){for(var r,i,o,a=t.prev(),s=a,l=0;s.isEven();)s=s.divide(2),l++;t:for(i=0;i<n.length;i++)if(!t.lesser(n[i])&&!(o=e(n[i]).modPow(s,t)).isUnit()&&!o.equals(a)){for(r=l-1;0!=r;r--){if((o=o.square().mod(t)).isUnit())return!1;if(o.equals(a))continue t}return!1}return!0}a.prototype=Object.create(o.prototype),s.prototype=Object.create(o.prototype),l.prototype=Object.create(o.prototype),a.prototype.add=function(t){var e=q(t);if(this.sign!==e.sign)return this.subtract(e.negate());var n=this.value,r=e.value;return new a(e.isSmall?y(n,Math.abs(r)):g(n,r),this.sign)},a.prototype.plus=a.prototype.add,s.prototype.add=function(t){var e=q(t),n=this.value;if(n<0!==e.sign)return this.subtract(e.negate());var r=e.value;if(e.isSmall){if(u(n+r))return new s(n+r);r=c(Math.abs(r))}return new a(y(r,Math.abs(n)),n<0)},s.prototype.plus=s.prototype.add,l.prototype.add=function(t){return new l(this.value+q(t).value)},l.prototype.plus=l.prototype.add,a.prototype.subtract=function(t){var e=q(t);if(this.sign!==e.sign)return this.add(e.negate());var n=this.value,r=e.value;return e.isSmall?_(n,Math.abs(r),this.sign):function(t,e,n){var r;return T(t,e)>=0?r=v(t,e):(r=v(e,t),n=!n),"number"==typeof(r=p(r))?(n&&(r=-r),new s(r)):new a(r,n)}(n,r,this.sign)},a.prototype.minus=a.prototype.subtract,s.prototype.subtract=function(t){var e=q(t),n=this.value;if(n<0!==e.sign)return this.add(e.negate());var r=e.value;return e.isSmall?new s(n-r):_(r,Math.abs(n),n>=0)},s.prototype.minus=s.prototype.subtract,l.prototype.subtract=function(t){return new l(this.value-q(t).value)},l.prototype.minus=l.prototype.subtract,a.prototype.negate=function(){return new a(this.value,!this.sign)},s.prototype.negate=function(){var t=this.sign,e=new s(-this.value);return e.sign=!t,e},l.prototype.negate=function(){return new l(-this.value)},a.prototype.abs=function(){return new a(this.value,!1)},s.prototype.abs=function(){return new s(Math.abs(this.value))},l.prototype.abs=function(){return new l(this.value>=0?this.value:-this.value)},a.prototype.multiply=function(e){var n,r,i,s=q(e),l=this.value,u=s.value,p=this.sign!==s.sign;if(s.isSmall){if(0===u)return o[0];if(1===u)return this;if(-1===u)return this.negate();if((n=Math.abs(u))<t)return new a(x(l,n),p);u=c(n)}return-.012*(r=l.length)-.012*(i=u.length)+15e-6*r*i>0?new a(function t(e,n){var r=Math.max(e.length,n.length);if(r<=30)return b(e,n);r=Math.ceil(r/2);var i=e.slice(r),o=e.slice(0,r),a=n.slice(r),s=n.slice(0,r),l=t(o,s),u=t(i,a),c=t(g(o,i),g(s,a)),p=g(g(l,w(v(v(c,l),u),r)),w(u,2*r));return d(p),p}(l,u),p):new a(b(l,u),p)},a.prototype.times=a.prototype.multiply,s.prototype._multiplyBySmall=function(t){return u(t.value*this.value)?new s(t.value*this.value):k(Math.abs(t.value),c(Math.abs(this.value)),this.sign!==t.sign)},a.prototype._multiplyBySmall=function(t){return 0===t.value?o[0]:1===t.value?this:-1===t.value?this.negate():k(Math.abs(t.value),this.value,this.sign!==t.sign)},s.prototype.times=s.prototype.multiply=function(t){return q(t)._multiplyBySmall(this)},l.prototype.multiply=function(t){return new l(this.value*q(t).value)},l.prototype.times=l.prototype.multiply,a.prototype.square=function(){return new a(S(this.value),!1)},s.prototype.square=function(){var t=this.value*this.value;return u(t)?new s(t):new a(S(c(Math.abs(this.value))),!1)},l.prototype.square=function(t){return new l(this.value*this.value)},l.prototype.divmod=s.prototype.divmod=a.prototype.divmod=function(t){var e=E(this,t);return{quotient:e[0],remainder:e[1]}},a.prototype.divide=function(t){return E(this,t)[0]},l.prototype.over=l.prototype.divide=function(t){return new l(this.value/q(t).value)},s.prototype.over=s.prototype.divide=a.prototype.over=a.prototype.divide,a.prototype.mod=function(t){return E(this,t)[1]},l.prototype.mod=l.prototype.remainder=function(t){return new l(this.value%q(t).value)},s.prototype.remainder=s.prototype.mod=a.prototype.remainder=a.prototype.mod,a.prototype.pow=function(t){var e,n,r,i=q(t),a=this.value,l=i.value;if(0===l)return o[1];if(0===a)return o[0];if(1===a)return o[1];if(-1===a)return i.isEven()?o[1]:o[-1];if(i.sign)return o[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&u(e=Math.pow(a,l)))return new s(f(e));for(n=this,r=o[1];!0&l&&(r=r.times(n),--l),0!==l;)l/=2,n=n.square();return r},s.prototype.pow=a.prototype.pow,l.prototype.pow=function(t){var e=q(t),n=this.value,r=e.value,i=BigInt(0),a=BigInt(1),s=BigInt(2);if(r===i)return o[1];if(n===i)return o[0];if(n===a)return o[1];if(n===BigInt(-1))return e.isEven()?o[1]:o[-1];if(e.isNegative())return new l(i);for(var u=this,c=o[1];(r&a)===a&&(c=c.times(u),--r),r!==i;)r/=s,u=u.square();return c},l.prototype.modPow=s.prototype.modPow=a.prototype.modPow=function(t,e){if(t=q(t),(e=q(e)).isZero())throw new Error("Cannot take modPow with modulus 0");var n=o[1],r=this.mod(e);for(t.isNegative()&&(t=t.multiply(o[-1]),r=r.modInv(e));t.isPositive();){if(r.isZero())return o[0];t.isOdd()&&(n=n.multiply(r).mod(e)),t=t.divide(2),r=r.square().mod(e)}return n},a.prototype.compareAbs=function(t){var e=q(t);return e.isSmall?1:T(this.value,e.value)},s.prototype.compareAbs=function(t){var e=q(t),n=Math.abs(this.value),r=e.value;return e.isSmall?n===(r=Math.abs(r))?0:n>r?1:-1:-1},l.prototype.compareAbs=function(t){var e=this.value,n=q(t).value;return(e=e>=0?e:-e)===(n=n>=0?n:-n)?0:e>n?1:-1},a.prototype.compareTo=a.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=q(t);return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:T(this.value,e.value)*(this.sign?-1:1)},s.prototype.compareTo=s.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=q(t),n=this.value,r=e.value;return e.isSmall?n==r?0:n>r?1:-1:n<0!==e.sign?n<0?-1:1:n<0?1:-1},l.prototype.compareTo=l.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=this.value,n=q(t).value;return e===n?0:e>n?1:-1},l.prototype.eq=l.prototype.equals=s.prototype.eq=s.prototype.equals=a.prototype.eq=a.prototype.equals=function(t){return 0===this.compare(t)},l.prototype.neq=l.prototype.notEquals=s.prototype.neq=s.prototype.notEquals=a.prototype.neq=a.prototype.notEquals=function(t){return 0!==this.compare(t)},l.prototype.gt=l.prototype.greater=s.prototype.gt=s.prototype.greater=a.prototype.gt=a.prototype.greater=function(t){return this.compare(t)>0},l.prototype.lt=l.prototype.lesser=s.prototype.lt=s.prototype.lesser=a.prototype.lt=a.prototype.lesser=function(t){return this.compare(t)<0},l.prototype.geq=l.prototype.greaterOrEquals=s.prototype.geq=s.prototype.greaterOrEquals=a.prototype.geq=a.prototype.greaterOrEquals=function(t){return this.compare(t)>=0},l.prototype.leq=l.prototype.lesserOrEquals=s.prototype.leq=s.prototype.lesserOrEquals=a.prototype.leq=a.prototype.lesserOrEquals=function(t){return this.compare(t)<=0},a.prototype.isEven=function(){return!(1&this.value[0])},s.prototype.isEven=function(){return!(1&this.value)},l.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},a.prototype.isOdd=function(){return!(1&~this.value[0])},s.prototype.isOdd=function(){return!(1&~this.value)},l.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},a.prototype.isPositive=function(){return!this.sign},l.prototype.isPositive=s.prototype.isPositive=function(){return this.value>0},a.prototype.isNegative=function(){return this.sign},l.prototype.isNegative=s.prototype.isNegative=function(){return this.value<0},a.prototype.isUnit=function(){return!1},s.prototype.isUnit=function(){return 1===Math.abs(this.value)},l.prototype.isUnit=function(){return this.abs().value===BigInt(1)},a.prototype.isZero=function(){return!1},s.prototype.isZero=function(){return 0===this.value},l.prototype.isZero=function(){return this.value===BigInt(0)},l.prototype.isDivisibleBy=s.prototype.isDivisibleBy=a.prototype.isDivisibleBy=function(t){var e=q(t);return!e.isZero()&&(!!e.isUnit()||(0===e.compareAbs(2)?this.isEven():this.mod(e).isZero()))},l.prototype.isPrime=s.prototype.isPrime=a.prototype.isPrime=function(t){var n=I(this);if(void 0!==n)return n;var r=this.abs(),i=r.bitLength();if(i<=64)return M(r,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var o=Math.log(2)*i.toJSNumber(),a=Math.ceil(!0===t?2*Math.pow(o,2):o),s=[],l=0;l<a;l++)s.push(e(l+2));return M(r,s)},l.prototype.isProbablePrime=s.prototype.isProbablePrime=a.prototype.isProbablePrime=function(t,n){var r=I(this);if(void 0!==r)return r;for(var i=this.abs(),o=void 0===t?5:t,a=[],s=0;s<o;s++)a.push(e.randBetween(2,i.minus(2),n));return M(i,a)},l.prototype.modInv=s.prototype.modInv=a.prototype.modInv=function(t){for(var n,r,i,o=e.zero,a=e.one,s=q(t),l=this.abs();!l.isZero();)n=s.divide(l),r=o,i=s,o=a,s=l,a=r.subtract(n.multiply(a)),l=i.subtract(n.multiply(l));if(!s.isUnit())throw new Error(this.toString()+" and "+t.toString()+" are not co-prime");return-1===o.compare(0)&&(o=o.add(t)),this.isNegative()?o.negate():o},a.prototype.next=function(){var t=this.value;return this.sign?_(t,1,this.sign):new a(y(t,1),this.sign)},s.prototype.next=function(){var t=this.value;return t+1<n?new s(t+1):new a(r,!1)},l.prototype.next=function(){return new l(this.value+BigInt(1))},a.prototype.prev=function(){var t=this.value;return this.sign?new a(y(t,1),!0):_(t,1,this.sign)},s.prototype.prev=function(){var t=this.value;return t-1>-n?new s(t-1):new a(r,!0)},l.prototype.prev=function(){return new l(this.value-BigInt(1))};for(var A=[1];2*A[A.length-1]<=t;)A.push(2*A[A.length-1]);var O=A.length,P=A[O-1];function D(e){return Math.abs(e)<=t}function z(t,n,r){n=q(n);for(var i=t.isNegative(),o=n.isNegative(),a=i?t.not():t,s=o?n.not():n,l=0,u=0,c=null,p=null,d=[];!a.isZero()||!s.isZero();)l=(c=E(a,P))[1].toJSNumber(),i&&(l=P-1-l),u=(p=E(s,P))[1].toJSNumber(),o&&(u=P-1-u),a=c[0],s=p[0],d.push(r(l,u));for(var h=0!==r(i?1:0,o?1:0)?e(-1):e(0),f=d.length-1;f>=0;f-=1)h=h.multiply(P).add(e(d[f]));return h}function L(e){var n=e.value,r="number"==typeof n?n|1<<30:"bigint"==typeof n?n|BigInt(1<<30):n[0]+n[1]*t|1073758208;return r&-r}function R(t,e){return t=q(t),e=q(e),t.greater(e)?t:e}function W(t,e){return t=q(t),e=q(e),t.lesser(e)?t:e}function B(t,e){if(t=q(t).abs(),e=q(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var n,r,i=o[1];t.isEven()&&e.isEven();)n=W(L(t),L(e)),t=t.divide(n),e=e.divide(n),i=i.multiply(n);for(;t.isEven();)t=t.divide(L(t));do{for(;e.isEven();)e=e.divide(L(e));t.greater(e)&&(r=e,e=t,t=r),e=e.subtract(t)}while(!e.isZero());return i.isUnit()?t:t.multiply(i)}l.prototype.shiftLeft=s.prototype.shiftLeft=a.prototype.shiftLeft=function(t){var e=q(t).toJSNumber();if(!D(e))throw new Error(String(e)+" is too large for shifting.");if(e<0)return this.shiftRight(-e);var n=this;if(n.isZero())return n;for(;e>=O;)n=n.multiply(P),e-=O-1;return n.multiply(A[e])},l.prototype.shiftRight=s.prototype.shiftRight=a.prototype.shiftRight=function(t){var e,n=q(t).toJSNumber();if(!D(n))throw new Error(String(n)+" is too large for shifting.");if(n<0)return this.shiftLeft(-n);for(var r=this;n>=O;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(e=E(r,P))[1].isNegative()?e[0].prev():e[0],n-=O-1}return(e=E(r,A[n]))[1].isNegative()?e[0].prev():e[0]},l.prototype.not=s.prototype.not=a.prototype.not=function(){return this.negate().prev()},l.prototype.and=s.prototype.and=a.prototype.and=function(t){return z(this,t,(function(t,e){return t&e}))},l.prototype.or=s.prototype.or=a.prototype.or=function(t){return z(this,t,(function(t,e){return t|e}))},l.prototype.xor=s.prototype.xor=a.prototype.xor=function(t){return z(this,t,(function(t,e){return t^e}))},l.prototype.bitLength=s.prototype.bitLength=a.prototype.bitLength=function(){var t=this;return t.compareTo(e(0))<0&&(t=t.negate().subtract(e(1))),0===t.compareTo(e(0))?e(0):e(function t(n,r){if(r.compareTo(n)<=0){var i=t(n,r.square(r)),o=i.p,a=i.e,s=o.multiply(r);return s.compareTo(n)<=0?{p:s,e:2*a+1}:{p:o,e:2*a}}return{p:e(1),e:0}}(t,e(2)).e).add(e(1))};var j=function(t,e,n,r){n=n||"0123456789abcdefghijklmnopqrstuvwxyz",t=String(t),r||(t=t.toLowerCase(),n=n.toLowerCase());var i,o=t.length,a=Math.abs(e),s={};for(i=0;i<n.length;i++)s[n[i]]=i;for(i=0;i<o;i++)if("-"!==(c=t[i])&&c in s&&s[c]>=a){if("1"===c&&1===a)continue;throw new Error(c+" is not a valid digit in base "+e+".")}e=q(e);var l=[],u="-"===t[0];for(i=u?1:0;i<t.length;i++){var c;if((c=t[i])in s)l.push(q(s[c]));else{if("<"!==c)throw new Error(c+" is not a valid character");var p=i;do{i++}while(">"!==t[i]&&i<t.length);l.push(q(t.slice(p+1,i)))}}return N(l,e,u)};function N(t,e,n){var r,i=o[0],a=o[1];for(r=t.length-1;r>=0;r--)i=i.add(t[r].times(a)),a=a.times(e);return n?i.negate():i}function F(t,n){if((n=e(n)).isZero()){if(t.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(n.equals(-1)){if(t.isZero())return{value:[0],isNegative:!1};if(t.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-t.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(t.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var i=!1;if(t.isNegative()&&n.isPositive()&&(i=!0,t=t.abs()),n.isUnit())return t.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(t.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:i};for(var o,a=[],s=t;s.isNegative()||s.compareAbs(n)>=0;){o=s.divmod(n),s=o.quotient;var l=o.remainder;l.isNegative()&&(l=n.minus(l).abs(),s=s.next()),a.push(l.toJSNumber())}return a.push(s.toJSNumber()),{value:a.reverse(),isNegative:i}}function U(t,e,n){var r=F(t,e);return(r.isNegative?"-":"")+r.value.map((function(t){return function(t,e){return t<(e=e||"0123456789abcdefghijklmnopqrstuvwxyz").length?e[t]:"<"+t+">"}(t,n)})).join("")}function V(t){if(u(+t)){var e=+t;if(e===f(e))return i?new l(BigInt(e)):new s(e);throw new Error("Invalid integer: "+t)}var n="-"===t[0];n&&(t=t.slice(1));var r=t.split(/e/i);if(r.length>2)throw new Error("Invalid integer: "+r.join("e"));if(2===r.length){var o=r[1];if("+"===o[0]&&(o=o.slice(1)),(o=+o)!==f(o)||!u(o))throw new Error("Invalid integer: "+o+" is not a valid exponent.");var c=r[0],p=c.indexOf(".");if(p>=0&&(o-=c.length-p-1,c=c.slice(0,p)+c.slice(p+1)),o<0)throw new Error("Cannot include negative exponent part for integers");t=c+=new Array(o+1).join("0")}if(!/^([0-9][0-9]*)$/.test(t))throw new Error("Invalid integer: "+t);if(i)return new l(BigInt(n?"-"+t:t));for(var h=[],m=t.length,g=m-7;m>0;)h.push(+t.slice(g,m)),(g-=7)<0&&(g=0),m-=7;return d(h),new a(h,n)}function q(t){return"number"==typeof t?function(t){if(i)return new l(BigInt(t));if(u(t)){if(t!==f(t))throw new Error(t+" is not an integer.");return new s(t)}return V(t.toString())}(t):"string"==typeof t?V(t):"bigint"==typeof t?new l(t):t}a.prototype.toArray=function(t){return F(this,t)},s.prototype.toArray=function(t){return F(this,t)},l.prototype.toArray=function(t){return F(this,t)},a.prototype.toString=function(t,e){if(void 0===t&&(t=10),10!==t||e)return U(this,t,e);for(var n,r=this.value,i=r.length,o=String(r[--i]);--i>=0;)n=String(r[i]),o+="0000000".slice(n.length)+n;return(this.sign?"-":"")+o},l.prototype.toString=s.prototype.toString=function(t,e){return void 0===t&&(t=10),10!=t||e?U(this,t,e):String(this.value)},l.prototype.toJSON=a.prototype.toJSON=s.prototype.toJSON=function(){return this.toString()},a.prototype.toJSNumber=a.prototype.valueOf=function(){return parseInt(this.toString(),10)},s.prototype.toJSNumber=s.prototype.valueOf=function(){return this.value},l.prototype.valueOf=l.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var H=0;H<1e3;H++)o[H]=q(H),H>0&&(o[-H]=q(-H));return o.one=o[1],o.zero=o[0],o.minusOne=o[-1],o.max=R,o.min=W,o.gcd=B,o.lcm=function(t,e){return t=q(t).abs(),e=q(e).abs(),t.divide(B(t,e)).multiply(e)},o.isInstance=function(t){return t instanceof a||t instanceof s||t instanceof l},o.randBetween=function(e,n,r){e=q(e),n=q(n);var i=r||Math.random,a=W(e,n),s=R(e,n).subtract(a).add(1);if(s.isSmall)return a.add(Math.floor(i()*s));for(var l=F(s,t).value,u=[],c=!0,p=0;p<l.length;p++){var d=c?l[p]+(p+1<l.length?l[p+1]/t:0):t,h=f(i()*d);u.push(h),h<l[p]&&(c=!1)}return a.add(o.fromArray(u,t,!1))},o.fromArray=function(t,e,n){return N(t.map(q),q(e||10),n)},o}();t.hasOwnProperty("exports")&&(t.exports=e)})),ic=n((function(t,e){var n;t.exports=n=n||function(t){var e=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),n={},r=n.lib={},i=r.Base={extend:function(t){var n=e(this);return t&&n.mixIn(t),n.hasOwnProperty("init")&&this.init!==n.init||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=r.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||s).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++)e[r+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(r+o)%4*8;else for(o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],i=function(e){var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},a=0;a<e;a+=4){var s=i(4294967296*(n||t.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new o.init(r,e)}}),a=n.enc={},s=a.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new o.init(n,e/2)}},l=a.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new o.init(n,e)}},u=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},c=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,a=this.blockSize,s=i/(4*a),l=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,u=t.min(4*l,i);if(l){for(var c=0;c<l;c+=a)this._doProcessBlock(r,c);var p=r.splice(0,l);n.sigBytes-=u}return new o.init(p,u)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),p=(r.Hasher=c.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new p.HMAC.init(t,n).finalize(e)}}}),n.algo={});return n}(Math)})),oc=(n((function(t,e){var n,r,i,o,a;t.exports=(r=(n=(a=ic).lib).Base,i=n.WordArray,(o=a.x64={}).Word=r.extend({init:function(t,e){this.high=t,this.low=e}}),o.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],r=0;r<e;r++){var o=t[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var t=r.clone.call(this),e=t.words=this.words.slice(0),n=e.length,i=0;i<n;i++)e[i]=e[i].clone();return t}}),a)})),n((function(t,e){var n;t.exports=(n=ic,function(){if("function"==typeof ArrayBuffer){var t=n.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var n=t.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=t[i]<<24-i%4*8;e.call(this,r,n)}else e.apply(this,arguments)}).prototype=t}}(),n.lib.WordArray)})),n((function(t,e){var n;t.exports=(n=ic,function(){var t=n.lib.WordArray,e=n.enc;function r(t){return t<<8&4278255360|t>>>8&16711935}e.Utf16=e.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i+=2)r.push(String.fromCharCode(e[i>>>2]>>>16-i%4*8&65535));return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(r,2*n)}},e.Utf16LE={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],o=0;o<n;o+=2){var a=r(e[o>>>2]>>>16-o%4*8&65535);i.push(String.fromCharCode(a))}return i.join("")},parse:function(e){for(var n=e.length,i=[],o=0;o<n;o++)i[o>>>1]|=r(e.charCodeAt(o)<<16-o%2*16);return t.create(i,2*n)}}}(),n.enc.Utf16)})),n((function(t,e){var n,r;t.exports=(n=(r=ic).lib.WordArray,r.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var l=r.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(t){var e=t.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return function(t,e,r){for(var i=[],o=0,a=0;a<e;a++)if(a%4){var s=r[t.charCodeAt(a-1)]<<a%4*2,l=r[t.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=(s|l)<<24-o%4*8,o++}return n.create(i,o)}(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)})),n((function(t,e){var n;t.exports=(n=ic,function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var l=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=t[e+0],l=t[e+1],h=t[e+2],f=t[e+3],m=t[e+4],g=t[e+5],y=t[e+6],v=t[e+7],_=t[e+8],b=t[e+9],x=t[e+10],w=t[e+11],k=t[e+12],S=t[e+13],C=t[e+14],E=t[e+15],T=o[0],I=o[1],M=o[2],A=o[3];T=u(T,I,M,A,a,7,s[0]),A=u(A,T,I,M,l,12,s[1]),M=u(M,A,T,I,h,17,s[2]),I=u(I,M,A,T,f,22,s[3]),T=u(T,I,M,A,m,7,s[4]),A=u(A,T,I,M,g,12,s[5]),M=u(M,A,T,I,y,17,s[6]),I=u(I,M,A,T,v,22,s[7]),T=u(T,I,M,A,_,7,s[8]),A=u(A,T,I,M,b,12,s[9]),M=u(M,A,T,I,x,17,s[10]),I=u(I,M,A,T,w,22,s[11]),T=u(T,I,M,A,k,7,s[12]),A=u(A,T,I,M,S,12,s[13]),M=u(M,A,T,I,C,17,s[14]),T=c(T,I=u(I,M,A,T,E,22,s[15]),M,A,l,5,s[16]),A=c(A,T,I,M,y,9,s[17]),M=c(M,A,T,I,w,14,s[18]),I=c(I,M,A,T,a,20,s[19]),T=c(T,I,M,A,g,5,s[20]),A=c(A,T,I,M,x,9,s[21]),M=c(M,A,T,I,E,14,s[22]),I=c(I,M,A,T,m,20,s[23]),T=c(T,I,M,A,b,5,s[24]),A=c(A,T,I,M,C,9,s[25]),M=c(M,A,T,I,f,14,s[26]),I=c(I,M,A,T,_,20,s[27]),T=c(T,I,M,A,S,5,s[28]),A=c(A,T,I,M,h,9,s[29]),M=c(M,A,T,I,v,14,s[30]),T=p(T,I=c(I,M,A,T,k,20,s[31]),M,A,g,4,s[32]),A=p(A,T,I,M,_,11,s[33]),M=p(M,A,T,I,w,16,s[34]),I=p(I,M,A,T,C,23,s[35]),T=p(T,I,M,A,l,4,s[36]),A=p(A,T,I,M,m,11,s[37]),M=p(M,A,T,I,v,16,s[38]),I=p(I,M,A,T,x,23,s[39]),T=p(T,I,M,A,S,4,s[40]),A=p(A,T,I,M,a,11,s[41]),M=p(M,A,T,I,f,16,s[42]),I=p(I,M,A,T,y,23,s[43]),T=p(T,I,M,A,b,4,s[44]),A=p(A,T,I,M,k,11,s[45]),M=p(M,A,T,I,E,16,s[46]),T=d(T,I=p(I,M,A,T,h,23,s[47]),M,A,a,6,s[48]),A=d(A,T,I,M,v,10,s[49]),M=d(M,A,T,I,C,15,s[50]),I=d(I,M,A,T,g,21,s[51]),T=d(T,I,M,A,k,6,s[52]),A=d(A,T,I,M,f,10,s[53]),M=d(M,A,T,I,x,15,s[54]),I=d(I,M,A,T,l,21,s[55]),T=d(T,I,M,A,_,6,s[56]),A=d(A,T,I,M,E,10,s[57]),M=d(M,A,T,I,y,15,s[58]),I=d(I,M,A,T,S,21,s[59]),T=d(T,I,M,A,m,6,s[60]),A=d(A,T,I,M,w,10,s[61]),M=d(M,A,T,I,h,15,s[62]),I=d(I,M,A,T,b,21,s[63]),o[0]=o[0]+T|0,o[1]=o[1]+I|0,o[2]=o[2]+M|0,o[3]=o[3]+A|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var o=t.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,u=0;u<4;u++){var c=l[u];l[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+i+a;return(s<<o|s>>>32-o)+e}function c(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+i+a;return(s<<o|s>>>32-o)+e}function p(t,e,n,r,i,o,a){var s=t+(e^n^r)+i+a;return(s<<o|s>>>32-o)+e}function d(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+i+a;return(s<<o|s>>>32-o)+e}e.MD5=o._createHelper(l),e.HmacMD5=o._createHmacHelper(l)}(Math),n.MD5)})),n((function(t,e){var n,r,i,o,a,s,l;t.exports=(i=(r=(n=l=ic).lib).WordArray,a=[],s=n.algo.SHA1=(o=r.Hasher).extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],l=n[4],u=0;u<80;u++){if(u<16)a[u]=0|t[e+u];else{var c=a[u-3]^a[u-8]^a[u-14]^a[u-16];a[u]=c<<1|c>>>31}var p=(r<<5|r>>>27)+l+a[u];p+=u<20?1518500249+(i&o|~i&s):u<40?1859775393+(i^o^s):u<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,l=s,s=o,o=i<<30|i>>>2,i=r,r=p}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}}),n.SHA1=o._createHelper(s),n.HmacSHA1=o._createHmacHelper(s),l.SHA1)})),n((function(t,e){var n;t.exports=(n=ic,function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,a=e.algo,s=[],l=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(s[i]=n(t.pow(r,.5))),l[i]=n(t.pow(r,1/3)),i++),r++}();var u=[],c=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],p=n[6],d=n[7],h=0;h<64;h++){if(h<16)u[h]=0|t[e+h];else{var f=u[h-15],m=u[h-2];u[h]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+u[h-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+u[h-16]}var g=r&i^r&o^i&o,y=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&c^~s&p)+l[h]+u[h];d=p,p=c,c=s,s=a+y|0,a=o,o=i,i=r,r=y+(((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+g)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+c|0,n[6]=n[6]+p|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(c),e.HmacSHA256=o._createHmacHelper(c)}(Math),n.SHA256)})),n((function(t,e){var n,r,i,o,a,s;t.exports=(r=(n=s=ic).lib.WordArray,a=(i=n.algo).SHA224=(o=i.SHA256).extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=o._doFinalize.call(this);return t.sigBytes-=4,t}}),n.SHA224=o._createHelper(a),n.HmacSHA224=o._createHmacHelper(a),s.SHA224)})),n((function(t,e){var n;t.exports=(n=ic,function(){var t=n,e=t.lib.Hasher,r=t.x64,i=r.Word,o=r.WordArray,a=t.algo;function s(){return i.create.apply(i,arguments)}var l=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],u=[];!function(){for(var t=0;t<80;t++)u[t]=s()}();var c=a.SHA512=e.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],p=n[6],d=n[7],h=r.high,f=r.low,m=i.high,g=i.low,y=o.high,v=o.low,_=a.high,b=a.low,x=s.high,w=s.low,k=c.high,S=c.low,C=p.high,E=p.low,T=d.high,I=d.low,M=h,A=f,O=m,P=g,D=y,z=v,L=_,R=b,W=x,B=w,j=k,N=S,F=C,U=E,V=T,q=I,H=0;H<80;H++){var G=u[H];if(H<16)var Z=G.high=0|t[e+2*H],K=G.low=0|t[e+2*H+1];else{var Q=u[H-15],X=Q.high,Y=Q.low,J=(Y>>>1|X<<31)^(Y>>>8|X<<24)^(Y>>>7|X<<25),$=u[H-2],tt=$.high,et=$.low,nt=(et>>>19|tt<<13)^(et<<3|tt>>>29)^(et>>>6|tt<<26),rt=u[H-7],it=u[H-16],ot=it.low;G.high=Z=(Z=(Z=((X>>>1|Y<<31)^(X>>>8|Y<<24)^X>>>7)+rt.high+((K=J+rt.low)>>>0<J>>>0?1:0))+((tt>>>19|et<<13)^(tt<<3|et>>>29)^tt>>>6)+((K+=nt)>>>0<nt>>>0?1:0))+it.high+((K+=ot)>>>0<ot>>>0?1:0),G.low=K}var at,st=W&j^~W&F,lt=B&N^~B&U,ut=M&O^M&D^O&D,ct=(A>>>28|M<<4)^(A<<30|M>>>2)^(A<<25|M>>>7),pt=l[H],dt=pt.low,ht=V+((W>>>14|B<<18)^(W>>>18|B<<14)^(W<<23|B>>>9))+((at=q+((B>>>14|W<<18)^(B>>>18|W<<14)^(B<<23|W>>>9)))>>>0<q>>>0?1:0),ft=ct+(A&P^A&z^P&z);V=F,q=U,F=j,U=N,j=W,N=B,W=L+(ht=(ht=(ht=ht+st+((at+=lt)>>>0<lt>>>0?1:0))+pt.high+((at+=dt)>>>0<dt>>>0?1:0))+Z+((at+=K)>>>0<K>>>0?1:0))+((B=R+at|0)>>>0<R>>>0?1:0)|0,L=D,R=z,D=O,z=P,O=M,P=A,M=ht+(((M>>>28|A<<4)^(M<<30|A>>>2)^(M<<25|A>>>7))+ut+(ft>>>0<ct>>>0?1:0))+((A=at+ft|0)>>>0<at>>>0?1:0)|0}f=r.low=f+A,r.high=h+M+(f>>>0<A>>>0?1:0),g=i.low=g+P,i.high=m+O+(g>>>0<P>>>0?1:0),v=o.low=v+z,o.high=y+D+(v>>>0<z>>>0?1:0),b=a.low=b+R,a.high=_+L+(b>>>0<R>>>0?1:0),w=s.low=w+B,s.high=x+W+(w>>>0<B>>>0?1:0),S=c.low=S+N,c.high=k+j+(S>>>0<N>>>0?1:0),E=p.low=E+U,p.high=C+F+(E>>>0<U>>>0?1:0),I=d.low=I+q,d.high=T+V+(I>>>0<q>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(r+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(c),t.HmacSHA512=e._createHmacHelper(c)}(),n.SHA512)})),n((function(t,e){var n,r,i,o,a,s,l,u;t.exports=(i=(r=(n=u=ic).x64).Word,o=r.WordArray,l=(a=n.algo).SHA384=(s=a.SHA512).extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var t=s._doFinalize.call(this);return t.sigBytes-=16,t}}),n.SHA384=s._createHelper(l),n.HmacSHA384=s._createHmacHelper(l),u.SHA384)})),n((function(t,e){var n;t.exports=(n=ic,function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,a=e.x64.Word,s=e.algo,l=[],u=[],c=[];!function(){for(var t=1,e=0,n=0;n<24;n++){l[t+5*e]=(n+1)*(n+2)/2%64;var r=(2*t+3*e)%5;t=e%5,e=r}for(t=0;t<5;t++)for(e=0;e<5;e++)u[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,p=0,d=0;d<7;d++){if(1&i){var h=(1<<d)-1;h<32?p^=1<<h:s^=1<<h-32}128&i?i=i<<1^113:i<<=1}c[o]=a.create(s,p)}}();var p=[];!function(){for(var t=0;t<25;t++)p[t]=a.create()}();var d=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=t[e+2*i],a=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),(O=n[i]).high^=a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),O.low^=o}for(var s=0;s<24;s++){for(var d=0;d<5;d++){for(var h=0,f=0,m=0;m<5;m++)h^=(O=n[d+5*m]).high,f^=O.low;var g=p[d];g.high=h,g.low=f}for(d=0;d<5;d++){var y=p[(d+4)%5],v=p[(d+1)%5],_=v.high,b=v.low;for(h=y.high^(_<<1|b>>>31),f=y.low^(b<<1|_>>>31),m=0;m<5;m++)(O=n[d+5*m]).high^=h,O.low^=f}for(var x=1;x<25;x++){var w=(O=n[x]).high,k=O.low,S=l[x];S<32?(h=w<<S|k>>>32-S,f=k<<S|w>>>32-S):(h=k<<S-32|w>>>64-S,f=w<<S-32|k>>>64-S);var C=p[u[x]];C.high=h,C.low=f}var E=p[0],T=n[0];for(E.high=T.high,E.low=T.low,d=0;d<5;d++)for(m=0;m<5;m++){var I=p[x=d+5*m],M=p[(d+1)%5+5*m],A=p[(d+2)%5+5*m];(O=n[x]).high=I.high^~M.high&A.high,O.low=I.low^~M.low&A.low}var O,P=c[s];(O=n[0]).high^=P.high,O.low^=P.low}},_doFinalize:function(){var e=this._data,n=e.words,r=8*e.sigBytes,o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(t.ceil((r+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,l=s/8,u=[],c=0;c<l;c++){var p=a[c],d=p.high,h=p.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),u.push(h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)),u.push(d)}return new i.init(u,s)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),n=0;n<25;n++)e[n]=e[n].clone();return t}});e.SHA3=o._createHelper(d),e.HmacSHA3=o._createHmacHelper(d)}(Math),n.SHA3)})),n((function(t,e){var n;t.exports=(n=ic,function(){var t=n,e=t.lib,r=e.WordArray,i=e.Hasher,o=t.algo,a=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),c=r.create([0,1518500249,1859775393,2400959708,2840853838]),p=r.create([1352829926,1548603684,1836072691,2053994217,0]),d=o.RIPEMD160=i.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,d,_,b,x,w,k,S,C,E,T,I=this._hash.words,M=c.words,A=p.words,O=a.words,P=s.words,D=l.words,z=u.words;for(w=o=I[0],k=d=I[1],S=_=I[2],C=b=I[3],E=x=I[4],n=0;n<80;n+=1)T=o+t[e+O[n]]|0,T+=n<16?h(d,_,b)+M[0]:n<32?f(d,_,b)+M[1]:n<48?m(d,_,b)+M[2]:n<64?g(d,_,b)+M[3]:y(d,_,b)+M[4],T=(T=v(T|=0,D[n]))+x|0,o=x,x=b,b=v(_,10),_=d,d=T,T=w+t[e+P[n]]|0,T+=n<16?y(k,S,C)+A[0]:n<32?g(k,S,C)+A[1]:n<48?m(k,S,C)+A[2]:n<64?f(k,S,C)+A[3]:h(k,S,C)+A[4],T=(T=v(T|=0,z[n]))+E|0,w=E,E=C,C=v(S,10),S=k,k=T;T=I[1]+_+C|0,I[1]=I[2]+b+E|0,I[2]=I[3]+x+w|0,I[3]=I[4]+o+k|0,I[4]=I[0]+d+S|0,I[0]=T},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});function h(t,e,n){return t^e^n}function f(t,e,n){return t&e|~t&n}function m(t,e,n){return(t|~e)^n}function g(t,e,n){return t&n|e&~n}function y(t,e,n){return t^(e|~n)}function v(t,e){return t<<e|t>>>32-e}t.RIPEMD160=i._createHelper(d),t.HmacRIPEMD160=i._createHmacHelper(d)}(),n.RIPEMD160)})),n((function(t,e){var n,r;t.exports=(r=(n=ic).enc.Utf8,void(n.algo.HMAC=n.lib.Base.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=r.parse(e));var n=t.blockSize,i=4*n;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),a=this._iKey=e.clone(),s=o.words,l=a.words,u=0;u<n;u++)s[u]^=1549556828,l[u]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})))})),n((function(t,e){var n,r,i,o,a,s,l,u;t.exports=(o=(r=(n=u=ic).lib).WordArray,s=(a=n.algo).HMAC,l=a.PBKDF2=(i=r.Base).extend({cfg:i.extend({keySize:4,hasher:a.SHA1,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=s.create(n.hasher,t),i=o.create(),a=o.create([1]),l=i.words,u=a.words,c=n.keySize,p=n.iterations;l.length<c;){var d=r.update(e).finalize(a);r.reset();for(var h=d.words,f=h.length,m=d,g=1;g<p;g++){m=r.finalize(m),r.reset();for(var y=m.words,v=0;v<f;v++)h[v]^=y[v]}i.concat(d),u[0]++}return i.sigBytes=4*c,i}}),n.PBKDF2=function(t,e,n){return l.create(n).compute(t,e)},u.PBKDF2)})),n((function(t,e){var n,r,i,o,a,s,l;t.exports=(o=(r=(n=l=ic).lib).WordArray,s=(a=n.algo).EvpKDF=(i=r.Base).extend({cfg:i.extend({keySize:4,hasher:a.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=n.hasher.create(),i=o.create(),a=i.words,s=n.keySize,l=n.iterations;a.length<s;){u&&r.update(u);var u=r.update(t).finalize(e);r.reset();for(var c=1;c<l;c++)u=r.finalize(u),r.reset();i.concat(u)}return i.sigBytes=4*s,i}}),n.EvpKDF=function(t,e,n){return s.create(n).compute(t,e)},l.EvpKDF)})),n((function(t,e){var n,r,i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b;t.exports=void((n=ic).lib.Cipher||(r=n,i=r.lib,o=i.Base,a=i.WordArray,s=i.BufferedBlockAlgorithm,l=r.enc,u=l.Base64,c=r.algo.EvpKDF,p=i.Cipher=s.extend({cfg:o.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?b:v}return function(e){return{encrypt:function(n,r,i){return t(r).encrypt(e,n,r,i)},decrypt:function(n,r,i){return t(r).decrypt(e,n,r,i)}}}}()}),i.StreamCipher=p.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),d=r.mode={},h=i.BlockCipherMode=o.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),f=d.CBC=function(){var t=h.extend();function e(t,e,n){var r=this._iv;if(r){var i=r;this._iv=void 0}else i=this._prevBlock;for(var o=0;o<n;o++)t[e+o]^=i[o]}return t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize;e.call(this,t,n,i),r.encryptBlock(t,n),this._prevBlock=t.slice(n,n+i)}}),t.Decryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=t.slice(n,n+i);r.decryptBlock(t,n),e.call(this,t,n,i),this._prevBlock=o}}),t}(),m=(r.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,r=n-t.sigBytes%n,i=r<<24|r<<16|r<<8|r,o=[],s=0;s<r;s+=4)o.push(i);var l=a.create(o,r);t.concat(l)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},i.BlockCipher=p.extend({cfg:p.cfg.extend({mode:f,padding:m}),reset:function(){p.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else r=n.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==r?this._mode.init(this,e&&e.words):(this._mode=r.call(n,this,e&&e.words),this._mode.__creator=r)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4}),g=i.CipherParams=o.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),y=(r.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var r=a.create([1398893684,1701076831]).concat(n).concat(e);else r=e;return r.toString(u)},parse:function(t){var e=u.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var r=a.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return g.create({ciphertext:e,salt:r})}},v=i.SerializableCipher=o.extend({cfg:o.extend({format:y}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=t.createEncryptor(n,r),o=i.finalize(e),a=i.cfg;return g.create({ciphertext:o,key:n,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),_=(r.kdf={}).OpenSSL={execute:function(t,e,n,r){r||(r=a.random(8));var i=c.create({keySize:e+n}).compute(t,r),o=a.create(i.words.slice(e),4*n);return i.sigBytes=4*e,g.create({key:i,iv:o,salt:r})}},b=i.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:_}),encrypt:function(t,e,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize);r.iv=i.iv;var o=v.encrypt.call(this,t,e,i.key,r);return o.mixIn(i),o},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var i=r.kdf.execute(n,t.keySize,t.ivSize,e.salt);return r.iv=i.iv,v.decrypt.call(this,t,e,i.key,r)}})))})),n((function(t,e){var n;t.exports=((n=ic).mode.CFB=function(){var t=n.lib.BlockCipherMode.extend();function e(t,e,n,r){var i=this._iv;if(i){var o=i.slice(0);this._iv=void 0}else o=this._prevBlock;r.encryptBlock(o,0);for(var a=0;a<n;a++)t[e+a]^=o[a]}return t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize;e.call(this,t,n,i,r),this._prevBlock=t.slice(n,n+i)}}),t.Decryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=t.slice(n,n+i);e.call(this,t,n,i,r),this._prevBlock=o}}),t}(),n.mode.CFB)})),n((function(t,e){var n,r,i;t.exports=((i=ic).mode.CTR=(r=(n=i.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);n.encryptBlock(a,0),o[r-1]=o[r-1]+1|0;for(var s=0;s<r;s++)t[e+s]^=a[s]}}),n.Decryptor=r,n),i.mode.CTR)})),n((function(t,e){var n;t.exports=((n=ic).mode.CTRGladman=function(){var t=n.lib.BlockCipherMode.extend();function e(t){if(255&~(t>>24))t+=1<<24;else{var e=t>>16&255,n=t>>8&255,r=255&t;255===e?(e=0,255===n?(n=0,255===r?r=0:++r):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=r}return t}var r=t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),function(t){0===(t[0]=e(t[0]))&&(t[1]=e(t[1]))}(a);var s=a.slice(0);r.encryptBlock(s,0);for(var l=0;l<i;l++)t[n+l]^=s[l]}});return t.Decryptor=r,t}(),n.mode.CTRGladman)})),n((function(t,e){var n,r,i;t.exports=((i=ic).mode.OFB=(r=(n=i.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var a=0;a<r;a++)t[e+a]^=o[a]}}),n.Decryptor=r,n),i.mode.OFB)})),n((function(t,e){var n,r;t.exports=((r=ic).mode.ECB=((n=r.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),n.Decryptor=n.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),n),r.mode.ECB)})),n((function(t,e){var n;t.exports=((n=ic).pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,r=4*e,i=r-n%r,o=n+i-1;t.clamp(),t.words[o>>>2]|=i<<24-o%4*8,t.sigBytes+=i},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},n.pad.Ansix923)})),n((function(t,e){var n;t.exports=((n=ic).pad.Iso10126={pad:function(t,e){var r=4*e,i=r-t.sigBytes%r;t.concat(n.lib.WordArray.random(i-1)).concat(n.lib.WordArray.create([i<<24],1))},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},n.pad.Iso10126)})),n((function(t,e){var n;t.exports=((n=ic).pad.Iso97971={pad:function(t,e){t.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(t,e)},unpad:function(t){n.pad.ZeroPadding.unpad(t),t.sigBytes--}},n.pad.Iso97971)})),n((function(t,e){var n;t.exports=((n=ic).pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var e=t.words,n=t.sigBytes-1;!(e[n>>>2]>>>24-n%4*8&255);)n--;t.sigBytes=n+1}},n.pad.ZeroPadding)})),n((function(t,e){var n;t.exports=((n=ic).pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding)})),n((function(t,e){var n,r,i;t.exports=(n=(i=ic).lib.CipherParams,r=i.enc.Hex,i.format.Hex={stringify:function(t){return t.ciphertext.toString(r)},parse:function(t){var e=r.parse(t);return n.create({ciphertext:e})}},i.format.Hex)})),n((function(t,e){var n;t.exports=(n=ic,function(){var t=n,e=t.lib.BlockCipher,r=t.algo,i=[],o=[],a=[],s=[],l=[],u=[],c=[],p=[],d=[],h=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,r=0;for(e=0;e<256;e++){var f=r^r<<1^r<<2^r<<3^r<<4;i[n]=f=f>>>8^255&f^99,o[f]=n;var m,g=t[n],y=t[g],v=t[y];a[n]=(m=257*t[f]^16843008*f)<<24|m>>>8,s[n]=m<<16|m>>>16,l[n]=m<<8|m>>>24,u[n]=m,c[f]=(m=16843009*v^65537*y^257*g^16843008*n)<<24|m>>>8,p[f]=m<<16|m>>>16,d[f]=m<<8|m>>>24,h[f]=m,n?(n=g^t[t[t[v^g]]],r^=t[t[r]]):n=r=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],m=r.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<r;a++)if(a<n)o[a]=e[a];else{var s=o[a-1];a%n?n>6&&a%n==4&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=i[(s=s<<8|s>>>24)>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=f[a/n|0]<<24),o[a]=o[a-n]^s}for(var l=this._invKeySchedule=[],u=0;u<r;u++)a=r-u,s=u%4?o[a]:o[a-4],l[u]=u<4||a<=4?s:c[i[s>>>24]]^p[i[s>>>16&255]]^d[i[s>>>8&255]]^h[i[255&s]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,l,u,i)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,c,p,d,h,o),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,i,o,a,s){for(var l=this._nRounds,u=t[e]^n[0],c=t[e+1]^n[1],p=t[e+2]^n[2],d=t[e+3]^n[3],h=4,f=1;f<l;f++){var m=r[u>>>24]^i[c>>>16&255]^o[p>>>8&255]^a[255&d]^n[h++],g=r[c>>>24]^i[p>>>16&255]^o[d>>>8&255]^a[255&u]^n[h++],y=r[p>>>24]^i[d>>>16&255]^o[u>>>8&255]^a[255&c]^n[h++],v=r[d>>>24]^i[u>>>16&255]^o[c>>>8&255]^a[255&p]^n[h++];u=m,c=g,p=y,d=v}m=(s[u>>>24]<<24|s[c>>>16&255]<<16|s[p>>>8&255]<<8|s[255&d])^n[h++],g=(s[c>>>24]<<24|s[p>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[h++],y=(s[p>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&c])^n[h++],v=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[c>>>8&255]<<8|s[255&p])^n[h++],t[e]=m,t[e+1]=g,t[e+2]=y,t[e+3]=v},keySize:8});t.AES=e._createHelper(m)}(),n.AES)})),n((function(t,e){var n;t.exports=(n=ic,function(){var t=n,e=t.lib,r=e.WordArray,i=e.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=o.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;n<56;n++){var r=a[n]-1;e[n]=t[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var u=i[o]=[],c=l[o];for(n=0;n<24;n++)u[n/6|0]|=e[(s[n]-1+c)%28]<<31-n%6,u[4+(n/6|0)]|=e[28+(s[n+24]-1+c)%28]<<31-n%6;for(u[0]=u[0]<<1|u[0]>>>31,n=1;n<7;n++)u[n]=u[n]>>>4*(n-1)+3;u[7]=u[7]<<5|u[7]>>>27}var p=this._invSubKeys=[];for(n=0;n<16;n++)p[n]=i[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,n){this._lBlock=t[e],this._rBlock=t[e+1],d.call(this,4,252645135),d.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),d.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,a=this._rBlock,s=0,l=0;l<8;l++)s|=u[l][((a^i[l])&c[l])>>>0];this._lBlock=a,this._rBlock=o^s}var p=this._lBlock;this._lBlock=this._rBlock,this._rBlock=p,d.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function h(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}t.DES=i._createHelper(p);var f=o.TripleDES=i.extend({_doReset:function(){var t=this._key.words;this._des1=p.createEncryptor(r.create(t.slice(0,2))),this._des2=p.createEncryptor(r.create(t.slice(2,4))),this._des3=p.createEncryptor(r.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(f)}(),n.TripleDES)})),n((function(t,e){var n;t.exports=(n=ic,function(){var t=n,e=t.lib.StreamCipher,r=t.algo,i=r.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var a=i%n,s=r[i];r[i]=r[o=(o+r[i]+(e[a>>>2]>>>24-a%4*8&255))%256],r[o]=s}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,n=this._j,r=0,i=0;i<4;i++){var o=t[e=(e+1)%256];t[e]=t[n=(n+t[e])%256],t[n]=o,r|=t[(t[e]+t[n])%256]<<24-8*i}return this._i=e,this._j=n,r}t.RC4=e._createHelper(i);var a=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)o.call(this)}});t.RC4Drop=e._createHelper(a)}(),n.RC4)})),n((function(t,e){var n;t.exports=(n=ic,function(){var t=n,e=t.lib.StreamCipher,r=[],i=[],o=[],a=t.algo.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,n=0;n<4;n++)t[n]=16711935&(t[n]<<8|t[n]>>>24)|4278255360&(t[n]<<24|t[n]>>>8);var r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,n=0;n<4;n++)s.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(e){var o=e.words,a=o[0],l=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),c=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),p=u>>>16|4294901760&c,d=c<<16|65535&u;for(i[0]^=u,i[1]^=p,i[2]^=c,i[3]^=d,i[4]^=u,i[5]^=p,i[6]^=c,i[7]^=d,n=0;n<4;n++)s.call(this)}},_doProcessBlock:function(t,e){var n=this._X;s.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),t[e+i]^=r[i]},blockSize:4,ivSize:2});function s(){for(var t=this._X,e=this._C,n=0;n<8;n++)i[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=t[n]+e[n],a=65535&r,s=r>>>16;o[n]=((a*a>>>17)+a*s>>>15)+s*s^((4294901760&r)*r|0)+((65535&r)*r|0)}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.Rabbit=e._createHelper(a)}(),n.Rabbit)})),n((function(t,e){var n;t.exports=(n=ic,function(){var t=n,e=t.lib.StreamCipher,r=[],i=[],o=[],a=t.algo.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],r=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var i=0;i<4;i++)s.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(e){var o=e.words,a=o[0],l=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),c=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),p=u>>>16|4294901760&c,d=c<<16|65535&u;for(r[0]^=u,r[1]^=p,r[2]^=c,r[3]^=d,r[4]^=u,r[5]^=p,r[6]^=c,r[7]^=d,i=0;i<4;i++)s.call(this)}},_doProcessBlock:function(t,e){var n=this._X;s.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),t[e+i]^=r[i]},blockSize:4,ivSize:2});function s(){for(var t=this._X,e=this._C,n=0;n<8;n++)i[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=t[n]+e[n],a=65535&r,s=r>>>16;o[n]=((a*a>>>17)+a*s>>>15)+s*s^((4294901760&r)*r|0)+((65535&r)*r|0)}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.RabbitLegacy=e._createHelper(a)}(),n.RabbitLegacy)})),n((function(t,e){t.exports=ic}))),ac=new Uint8Array(16);function sc(){if(!nc&&!(nc="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nc(ac)}for(var lc,uc,cc=[],pc=0;pc<256;++pc)cc.push((pc+256).toString(16).slice(1));function dc(t,e){return void 0===e&&(e=0),cc[t[e+0]]+cc[t[e+1]]+cc[t[e+2]]+cc[t[e+3]]+"-"+cc[t[e+4]]+cc[t[e+5]]+"-"+cc[t[e+6]]+cc[t[e+7]]+"-"+cc[t[e+8]]+cc[t[e+9]]+"-"+cc[t[e+10]]+cc[t[e+11]]+cc[t[e+12]]+cc[t[e+13]]+cc[t[e+14]]+cc[t[e+15]]}var hc=0,fc=0;function mc(t,e,n){var r=e&&n||0,i=e||new Array(16),o=(t=t||{}).node||lc,a=void 0!==t.clockseq?t.clockseq:uc;if(null==o||null==a){var s=t.random||(t.rng||sc)();null==o&&(o=lc=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=uc=16383&(s[6]<<8|s[7]))}var l=void 0!==t.msecs?t.msecs:Date.now(),u=void 0!==t.nsecs?t.nsecs:fc+1,c=l-hc+(u-fc)/1e4;if(c<0&&void 0===t.clockseq&&(a=a+1&16383),(c<0||l>hc)&&void 0===t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");hc=l,fc=u,uc=a;var p=(1e4*(268435455&(l+=122192928e5))+u)%4294967296;i[r++]=p>>>24&255,i[r++]=p>>>16&255,i[r++]=p>>>8&255,i[r++]=255&p;var d=l/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=255&d,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(var h=0;h<6;++h)i[r+h]=o[h];return e||dc(i)}var gc={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function yc(t,e,n){if(gc.randomUUID&&!e&&!t)return gc.randomUUID();var r=(t=t||{}).random||(t.rng||sc)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return dc(r)}function vc(t,e){var n=xc();return(vc=function(e,r){var i=n[e-=373];void 0===vc.fRacph&&(vc.vGhZkF=function(t,e){var n,r,i=[],o=0,a="";for(t=function(t){for(var e,n,r="",i="",o=0,a=0;n=t.charAt(a++);~n&&(e=o%4?64*e+n:n,o++%4)?r+=String.fromCharCode(255&e>>(-2*o&6)):0)n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var s=0,l=r.length;s<l;s++)i+="%"+("00"+r.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(i)}(t),r=0;r<256;r++)i[r]=r;for(r=0;r<256;r++)o=(o+i[r]+e.charCodeAt(r%e.length))%256,n=i[r],i[r]=i[o],i[o]=n;r=0,o=0;for(var s=0;s<t.length;s++)n=i[r=(r+1)%256],i[r]=i[o=(o+i[r])%256],i[o]=n,a+=String.fromCharCode(t.charCodeAt(s)^i[(i[r]+i[o])%256]);return a},t=arguments,vc.fRacph=!0);var o=e+n[0],a=t[o];return a?i=a:(void 0===vc.MPVmch&&(vc.MPVmch=!0),i=vc.vGhZkF(i,r),t[o]=i),i})(t,e)}!function(t){for(var e=vc,n=t();;)try{if(868755==-parseInt(e(390,"JvrM"))/1+-parseInt(e(388,"CRxl"))/2+-parseInt(e(404,"JvrM"))/3+parseInt(e(382,"CRxl"))/4+parseInt(e(399,"m#(i"))/5+parseInt(e(410,"v#Pj"))/6*(-parseInt(e(374,"rob1"))/7)+parseInt(e(397,"JvrM"))/8)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(xc);var _c=function(){var t=vc,e=B[t(394,"aNRJ")](t(402,"rob1"));e[t(380,"qG%1")][t(377,"m#(i")](t(378,"JvrM"));var n=B[t(407,"%L5@")](t(395,"RL7K"));n[t(386,")3@0")].add(t(412,"3y3d"));var r=bc(n,t(392,"RBDd"),[t(379,"Zc3w")]),i=bc("©Platform","https://platform.neshan.org",[t(405,"ObnN")]),o=bc(t(387,"10[I"),"https://neshan.org/maps",[t(384,"JvrM")]),a=bc(t(383,"rGB%"),t(400,"%#nh"),[t(398,"%l%0")]);return e.appendChild(r),e.appendChild(i),e[t(373,"ObnN")](o),e[t(381,"3y3d")](a),e},bc=function(t,e,n,r){var i,o=vc;void 0===r&&(r="_blank");var a=B[o(393,"XWi@")]("a");return"string"==typeof t?a[o(389,"hjG@")]=t:t instanceof HTMLElement&&a[o(401,"%#nh")](t),a[o(409,"v#Pj")]=e,(i=a[o(385,"&pB(")])[o(403,"rGB%")][o(376,"rGB%")](i,n),a[o(391,"vzK^")]=r,a};function xc(){var t=["aCk/W5GuwmkvnSo3W7hcLSkIWOtcM3ddUqZdHmotWQX+WQaSmSkNECk/i0ddHcldK8k3WOFdUtJdQalcMSkM","cmk7W5WbrColwSkWW6/cJCkX","W4HPW4S","vCk3W7K","WRlcJmkYW5DvosWiW585WPe9","sGLFW7GeuulcOhODWQfyrKCp","WRCXwSkGjSoUWPuFW5HfW6GgBCk1","E8kyW6esE1y","W5BdRd7dN37dRqZcV8o4W79pW7hcVW","ESk7WRzD","k8o5W6emW5GLnSkoW6pcNcPc","fK/cNbZcPmo3q8oBWOtcGmkbia","qw0hW5xdVGDHomotDCkcWOf2WOC","rrXCW7ulwYZcUh8qWRe","WPGYW6RcKSoIWRjLWRq","WOG1WPZdO8oPWP1eaCobEtVcNtu","vCkJW606nW","l2bl","W7ZdKSkTWOalyJ0mW7etWRCN","W7jMgCo0z8oXW4HgW6j+","g3ejW7qVD1tdVLW","v3WdW5xdOK5pmCoiCSol","huJcMXRcPCo/z8o2WQJcQCknkq","WP3cNmoogW","W6xdMSoZWOSfyMqAW70FW780WRBdMW","WOrODbPWW5tdP8kPdG","WRVdGCoLWQebWR9tW5GV","u2/dOmo7W7/dOmk+cfVcMq","he/cNb3cQCoZpCoyWQ3cICkMiXO","WOZcSMlcJdJcJv/cVSoJ","WR3cJSk4W5rwpGWKW70FWRe9","t8kFeZmxWP0","WOldQ8kpWRBdU1tcGCoqWPdcU8otWOHsWOFcHrFdIdC","WRDxWQlcJICX","axbzgL7cGW","vXldNq","W7tcICkYD0O8tCkYWPxdMCkHWQ0","WRNcICk3W5jxpNLvW5aTWPyFWRZdPa","W6JdQSo/W4tcMcf3qhzina","EJqCg8kEWORcI2bXpvpcMKC"];return(xc=function(){return t})()}var wc=Dc;!function(t){for(var e=Dc,n=t();;)try{if(580799==parseInt(e(322,"XDf$"))/1*(-parseInt(e(382,"1#)*"))/2)+parseInt(e(367,"XDf$"))/3*(-parseInt(e(351,"UiFb"))/4)+-parseInt(e(320,"N4Fo"))/5+-parseInt(e(366,"w(D9"))/6+parseInt(e(304,"UxDi"))/7+-parseInt(e(384,"Tn$f"))/8*(parseInt(e(386,"c4IP"))/9)+parseInt(e(377,"L7I@"))/10)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Pc);var kc={fontSize:wc(344,"^H%g"),maxHeight:"none",maxWidth:wc(308,"NBvM"),margin:"0px",marginTop:wc(380,"hmeL"),marginBottom:wc(312,"i49I"),marginLeft:"0px",marginRight:wc(385,"YS6K"),visibility:wc(317,"lqqJ"),translate:wc(329,"b9hi"),transform:"none",padding:"0px",paddingTop:wc(334,"1#)*"),paddingBottom:wc(354,"L7I@"),paddingRight:wc(298,"yR]!"),paddingLeft:"0px",opacity:"1",overflow:wc(363,"X9rf"),overflowX:wc(327,"OLm%"),overflowY:"visible",filter:"none"},Sc=Object.assign({height:wc(368,"y2Ca"),display:wc(319,"Xsqm")},kc),Cc=Object[wc(361,"0Dof")]({height:wc(375,"]AZf"),width:wc(310,"xt(N")},kc),Ec=Object.assign({},kc,{height:wc(343,"q*bq"),width:wc(369,"x5^o"),minWidth:"390px",maxWidth:wc(353,"rFxI"),bottom:wc(306,"YS6K"),left:wc(389,"@E0a"),gap:"4px",display:wc(321,"q*bq"),position:wc(356,"b9hi"),zIndex:"1"});function Tc(t,e,n){var r=wc;try{var i=window[r(381,"dL0$")](t),o=!0;for(var a in e)if(null!==n[r(373,"WYT3")]&&i[a]!==e[a]){o=!1;break}return o}catch(t){return!0}}var Ic,Mc=!1;function Ac(){return Mc}function Oc(t){Mc=t}function Pc(){var t=["WPyvzvy","kY5xcWpdRNBcUG","zmoZsc4+lZiyW6S","BCkYqqmnW4fhESk8","WOxcTGe","WQXDb2qvW4FcOCkOa3TU","zColW6ZcNmkCWPBcQwbPWQNdVHZdP8kMWPW","WRpcJ3isc8oixg3cSJDSjq","WPpcTJHy","WR0iW6VcSw3dImoU","WQ3cJemhc8oZtxdcPq","W7PMg8oppa","DqpcO8oLf8oNWR7cLLJdIfBcGW","oYmjW6u","WRetfxiyW7pdVSkH","WPrMWOzGbeDYW5y","W6eiwXqpW719WOnbbq","bmk3WRCWW6mLW7LCFxFcSCkxW7pcM8kPlq","k1RcUxxdSZXShqjYcCo1lG","jGf7W50GW7ux","W7xcTSoVfXPa","DaxdOYy","WRaSWR7dGearAhNcNmkUAhO","WQ1TW63cGbnwmLNcPmk2ucvCw8kP","faVdGSoOdZzdr0PaW7mJW64","AX/dQdhcVvG7hXvRe8oEkq","W6TCyW","WOKpBKhdTSkmWOdcHmoYewq+iGnbcW","emoeECoZeCkfq8oWmW","bmkWbG","ir1TW4y7W4OxWO7dGH8TW6lcNW","yCo7keZdIHxcN8k8emkFqq","WPjiBIdcMSouBSoxot8nm1S","mrH4W5eSW70XWORdJHa9","W7xdKHPrt8kxhg/cTazpiYS","B38CW6u","c03dN8k9","WP3cJ05/W6KiWQXVA8kkrKddSq","B8ozaSotW7j1WONdPCo7WRWJW4bEW7bmWPRdOCo9WQldQW","lCkgWOzqW7ldL8k4xCkM","W4FcOXqAuNFcISoEWRBcMHa","oCkKCXS","WQFcIKqohCovtwy","FZNcVCkGdXXPW7dcTmo7W6hcTG","W5BcTbWuuhFcNCotWQFcGJRcQaRcRq","qSofW4NcKmo0","W5j7WPi","WPSsyL/dQ8kTWOdcHG","EWJdVIZcQh4QfG","cu7dQmk3aJn7Eq","W6OvlH8LnLRcSCo3tx7cRW","W7BdRMLdW5tdOtddNG","W6bOW6NcLqjbwLJcOmkPxMzb","WQlcRh9aW5FdRa","W4uym3RdJmkqo8oJ","W6/cUSoYgqXebG","gSk3Cb8","WPf/WPnVWRO","WRCIWRJdGKqsl27cISkCDw5q","WRCBa3OuW5BdR8kZ","erFdQ2i","W5m6W45KuW","DCkmWO3dMmkDvG","W53cSHqz","lwJdOCo8x1PzW4O","fWy3e8klWQ3cJXdcGdPQAW","W5tdRmkoueNcUMz2Cmoalt7dMW","WQXHrSor","W6HRbSojot5uFaj0W5pcK8kr","W5aYW5m0W6VcN3/dV8o/W4zRWRf8WO4","aSkzWO3cOCo4nHfusfddT8o8","W5ddUNVdTXFcT0NdUIRdHa7dQfHzwItcGeXcWRtdLmoDWPCPWQW","W6NcKh8","W6rhb8k1W5tcNCkWW7fEW6HaEgBcMCogW74","W6KCkryHsMhcKSo2veG","W7NcVmowW51fsmo7WRufWQaopWO","E3r5fqNdTKxcNG","wCkHdG","WPDaBIdcN8ovBmoJbb0TeuS","EqldPc/cOhK7hq","W7vhowmeW4ZdOmkGpxL3gmksDmojbMNdOa","WRJdQmouW4a","WRa9W7OoWRtdTI7dR1RcL0ddQIK","WQLjDKbNz0ZcJCoQyK0","WQ7dGCo7","W7JcO8oXfqbmimkSbuRdPq","s8kXoryajq","WRdcUNHOW4tdTIhdGCoNpCk2tq","EN8hufpcQsFdPey9WOikW67cUW","m8kTWRxcQSkXfri","WQhdT8ojWQfmiCkaAKX4EgddVG","W4TdEfhdP8kzWPFcJa","w8kHdG","ivddPCkutCk3WQtcVM/dLKFcIaZcTW"];return(Pc=function(){return t})()}function Dc(t,e){var n=Pc();return(Dc=function(e,r){var i=n[e-=296];void 0===Dc.JaRPWs&&(Dc.GpnlnF=function(t,e){var n,r,i=[],o=0,a="";for(t=function(t){for(var e,n,r="",i="",o=0,a=0;n=t.charAt(a++);~n&&(e=o%4?64*e+n:n,o++%4)?r+=String.fromCharCode(255&e>>(-2*o&6)):0)n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var s=0,l=r.length;s<l;s++)i+="%"+("00"+r.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(i)}(t),r=0;r<256;r++)i[r]=r;for(r=0;r<256;r++)o=(o+i[r]+e.charCodeAt(r%e.length))%256,n=i[r],i[r]=i[o],i[o]=n;r=0,o=0;for(var s=0;s<t.length;s++)n=i[r=(r+1)%256],i[r]=i[o=(o+i[r])%256],i[o]=n,a+=String.fromCharCode(t.charCodeAt(s)^i[(i[r]+i[o])%256]);return a},t=arguments,Dc.JaRPWs=!0);var o=e+n[0],a=t[o];return a?i=a:(void 0===Dc.EdTlWw&&(Dc.EdTlWw=!0),i=Dc.GpnlnF(i,r),t[o]=i),i})(t,e)}function zc(t,e){!t&&(clearTimeout(Ic),Ic=setTimeout((function(){var t=Dc;Oc(!0),document[t(325,"[A@6")](t(332,"^H%g"))[t(303,"7spZ")]((function(e){var n=t;e[n(376,"Xsqm")][n(348,"i49I")](e)}));var n=_c();e[t(341,"OLm%")](n)}),2e3))}!function(t){var e=t();function n(t,e,n,r,i){return lp(t-301,n)}function r(t,e,n,r,i){return lp(t-829,r)}for(;;)try{if(288085==-parseInt(r(1063,0,0,"Fy(N"))/1+parseInt(n(1195,0,"ta&!"))/2+parseInt(r(1643,0,0,"9qt)"))/3*(-parseInt(lp(1065,")ZEv"))/4)+-parseInt(r(981,0,0,"0c1o"))/5*(parseInt(lp(849,"9qt)"))/6)+-parseInt(r(1890,0,0,"Fy(N"))/7+parseInt(r(1264,0,0,"[3oe"))/8*(-parseInt(r(1145,0,0,"O1e*"))/9)+parseInt(n(853,0,"C%Or"))/10)break;e.push(e.shift())}catch(t){e.push(e.shift())}}(kp);var Lc=/^[^{'"]*\{[^{'"]*(\[native code])[^{'"]*}/i,Rc=wp(0,"iQYM",0,1158)+wp(0,"ta&!",0,1652)+wp(0,"[3oe",0,1417)+Vc(-483,0,"0NC0")+Xc(0,0,0,"0NC0",-119)+Vc(-24,0,"9qt)")+wp(0,"i9rV",0,1649),Wc=Xc(0,0,0,"tJfW",503)+Qc(0,1926,"*%5A")+Vc(-542,0,"C%Or")+Vc(-262,0,"ta&!")+Jc(0,1261,0,"O1e*")+wp(0,"9qt)",0,1891)+Qc(0,1202,"0NC0"),Bc=Xc(0,0,0,"*%5A",72)+Jc(0,1655,0,"03kS")+wp(0,"9qt)",0,1544)+Jc(0,1509,0,"MCXZ")+wp(0,"xBdv",0,1499)+wp(0,"uT9E",0,1059)+"mi",jc=Qc(0,1571,"EUb4")+Xc(0,0,0,"9&[9",617)+Xc(0,0,0,"Fy(N",225)+Qc(0,1352,"3*y*")+Jc(0,1140,0,"Ci!8")+Qc(0,1483,"Dcvq")+Xc(0,0,0,"Dcvq",495),Nc=Jc(0,1078,0,"$&#C")+Qc(0,1361,"z4U7")+Vc(96,0,"vXb6")+Qc(0,1534,"Fy(N")+Vc(-388,0,"Ci!8")+Vc(-96,0,"Fy(N")+Vc(-18,0,"BAWC"),Fc=wp(0,"Fy(N",0,1239)+Vc(11,0,"R1v@")+Xc(0,0,0,"z4U7",89)+Jc(0,1857,0,"Jx5b")+Vc(-500,0,"0NC0")+Qc(0,1262,"EUb4")+wp(0,"iQYM",0,1966),Uc=wp(0,"]WLV",0,1490)+Jc(0,1368,0,"1kQC")+Jc(0,1252,0,"Jx5b")+Qc(0,1957,"QCBU")+Xc(0,0,0,"EUb4",34)+Qc(0,1687,")ZEv");function Vc(t,e,n,r,i){return lp(t- -695,n)}var qc=Jc(0,1233,0,"!5XE")+Xc(0,0,0,"*%5A",492)+Vc(385,0,"R1v@")+wp(0,"Dcvq",0,1965)+Qc(0,1612,"C%Or")+Qc(0,1800,"@c)F")+Xc(0,0,0,"vXb6",577)+Qc(0,1363,"3*y*")+Vc(-269,0,"0NC0")+Qc(0,1579,"iQYM")+Jc(0,1566,0,"MCXZ")+Vc(-540,0,"lzDn")+Qc(0,1219,"BAWC")+wp(0,"tJfW",0,1455)+Jc(0,1687,0,"uT9E")+Xc(0,0,0,"mwn)",361)+Jc(0,1292,0,"[1%B")+wp(0,"Fy(N",0,1560)+Xc(0,0,0,"p!$s",-51)+Qc(0,1628,"Jx5b")+Jc(0,1735,0,"lzDn")+Qc(0,1117,"Ci!8")+Vc(-330,0,"w*zI")+Qc(0,1508,"tJfW"),Hc=Jc(0,1107,0,"Dcvq")+"ap",Gc=Qc(0,1416,"r!f*")+Vc(-150,0,"03kS")+Xc(0,0,0,"*fmu",433)+Qc(0,2007,"xBdv")+wp(0,"z4U7",0,1101)+Xc(0,0,0,"!n5S",446),Zc=Jc(0,1610,0,"jhlH")+wp(0,"0c1o",0,1023)+Qc(0,1236,"@OSw")+Xc(0,0,0,"iQYM",472)+wp(0,"0c1o",0,1061)+Xc(0,0,0,"]WLV",-91),Kc=Jc(0,1246,0,"w*zI")+Vc(-383,0,"@OSw")+Qc(0,1377,"r!f*")+Jc(0,1528,0,"lzDn")+wp(0,"]WLV",0,1605)+Xc(0,0,0,"1kQC",107);function Qc(t,e,n,r,i){return lp(e-943,n)}function Xc(t,e,n,r,i){return lp(i- -314,r)}var Yc=wp(0,"*fmu",0,1377)+Xc(0,0,0,"R1v@",173)+wp(0,"jhlH",0,1716)+Qc(0,1632,"03kS")+Xc(0,0,0,"@OSw",-5)+Xc(0,0,0,"xBdv",705);function Jc(t,e,n,r,i){return lp(e-833,r)}var $c=Qc(0,1691,"Dcvq")+Vc(-241,0,"vXb6")+Vc(35,0,"@c)F"),tp=Qc(0,1416,"r!f*")+Jc(0,1084,0,"C%Or")+Vc(295,0,"Dcvq")+Qc(0,1747,"MCXZ");function ep(){var t,e,n,r,i,o,a,s={};s[d(0,"!5XE",0,1363)]=Wc;var l={};function u(t,e,n,r,i){return Vc(i-19,0,e)}function c(t,e,n,r,i){return Jc(0,e- -1434,0,t)}function p(t,e,n,r,i){return Qc(0,i- -1071,t)}function d(t,e,n,r,i){return Xc(0,0,0,e,r-844)}function h(t,e,n,r,i){return Jc(0,i- -1234,0,n)}l[h(0,0,"lzDn",0,243)]=Bc;var f={};f[h(0,0,"0c1o",0,568)]=jc;var m={};m[h(0,0,"i9rV",0,380)]=Nc;var g={};g[c("Fy(N",-223)]=Fc;var y={};return y[d(0,")ZEv",0,920)]=Uc,(a={})[Gc]=Object[u(0,"O1e*",0,0,-72)+"n"]({},JSON[u(0,"Dcvq",0,0,-152)](qc),((t=s)[Hc]=new Set,t)),a[Zc]=Object[p("#G5$",0,0,0,324)+"n"]({},JSON[p("Ci!8",0,0,0,740)](qc),((e=l)[Hc]=new Set,e)),a[Kc]=Object[p("rReV",0,0,0,230)+"n"]({},JSON[p("z4U7",0,0,0,509)](qc),((n=f)[Hc]=new Set,n)),a[Yc]=Object[u(0,"@OSw",0,0,-542)+"n"]({},JSON[p("uT9E",0,0,0,264)](qc),((r=m)[Hc]=new Set,r)),a[$c]=Object[u(0,"ta&!",0,0,203)+"n"]({},JSON[c("#G5$",263)](qc),((i=g)[Hc]=new Set,i)),a[tp]=Object[u(0,"3*y*",0,0,251)+"n"]({},JSON[u(0,"1kQC",0,0,-75)](qc),((o=y)[Hc]=new Set,o)),a}var np={};function rp(t,e){var n={gapRf:function(t,e){return t+e},MelyE:function(t,e){return t*e},BeGxO:function(t,e){return t===e},JQeof:a(0,0,"MCXZ",1480),rUwYd:function(t){return t()}};function r(t,e,n,r,i){return wp(0,n,0,i- -1764)}if(!np[t]){if(!n[a(0,0,"i9rV",1508)](n[r(0,0,"mwn)",0,29)],n[r(0,0,"0NC0",0,-330)])){var i={rkfPx:function(t,e){return n[o(0,-8,"[1%B")](t,e)},JoNaB:function(t,e){return n[s(0,0,1373,"#G5$")](t,e)}};return new _0x51e656(97)[s(0,0,481,"p!$s")](0)[a(0,0,"[3oe",1241)+"e"]((function(t){function e(t,e,n,r,i){return o(0,t-614,r)}function n(t,e,n,r,i){return o(0,r-1170,n)}return i[n(0,0,"xBdv",1133)](t,_0xc08e00[e(424,0,0,"@c)F")](i[e(737,0,0,"uT9E")](_0x4b294b[n(0,0,"@OSw",1104)+"m"](),10)))}),"")}np[t]=n[a(0,0,"@c)F",890)](ep)}function o(t,e,n,r,i){return Vc(e-265,0,n)}function a(t,e,n,r,i){return Qc(0,r- -282,n)}function s(t,e,n,r,i){return Xc(0,0,0,r,n-630)}return np[t][e]}var ip=null;function op(){function t(t,e,n,r,i){return Vc(e-1219,0,i)}var e={rHAHo:function(t,e){return t===e},zXmum:function(t,e){return t===e},aRGhk:i(48,0,0,0,"uT9E"),yiqjb:i(59,0,0,0,"R1v@"),zSUrX:s(0,0,0,-103,"O1e*")+r(0,1830,"z4U7")+"d",mfBDs:function(t,e){return t===e},vrCLV:t(0,1322,0,0,"03kS"),jALuA:i(-800,0,0,0,"MCXZ"),ZONuB:function(t,e){return t+e},aEeUG:function(t,e){return t+e},EiFLJ:t(0,986,0,0,"PNDY")+t(0,1559,0,0,"R1v@"),sqQNe:function(t){return t()}};function n(t,e,n,r,i){return Xc(0,0,0,i,r-734)}function r(t,e,n,r,i){return Jc(0,e-119,0,n)}function i(t,e,n,r,i){return Qc(0,t- -1902,i)}if(e[t(0,790,0,0,"3*y*")](ip,null)){if(e[r(0,1960,"#G5$")](e[i(72,0,0,0,"z4U7")],e[n(0,0,0,1054,"Fy(N")]))return 5e3;var o=e[r(0,2007,"tJfW")];if(!(ip=localStorage[s(0,0,0,179,"D9)x")+"em"](o))){if(e[i(-260,0,0,0,"ta&!")](e[n(0,0,0,915,"*%5A")],e[i(-767,0,0,0,"tJfW")])){var a={};return a[r(0,1502,"!5XE")]=0,a[t(0,829,0,0,"H*oP")+"t"]=0,a}ip=e[n(0,0,0,1379,"mwn)")](e[n(0,0,0,553,"0NC0")](e[n(0,0,0,888,"jhlH")](e[t(0,987,0,0,"Dcvq")],e[s(0,0,0,387,"jhlH")](yc)),e[n(0,0,0,752,"uT9E")](mc)),e[s(0,0,0,-95,"@c)F")](yc)),localStorage[t(0,908,0,0,"uJ9]")+"em"](o,ip)}}function s(t,e,n,r,i){return Jc(0,r- -1461,0,i)}return ip}function ap(){function t(t,e,n,r,i){return Xc(0,0,0,r,n- -454)}function e(t,e,n,r,i){return Vc(n-869,0,e)}var n={};function r(t,e,n,r,i){return wp(0,e,0,i-51)}function i(t,e,n,r,i){return Qc(0,n- -1930,i)}n[e(0,"mwn)",472)]=t(0,0,-295,"r!f*")+t(0,0,-503,"mwn)")+i(0,0,-345,0,"r!f*")+t(0,0,118,"tJfW")+a(537,"ta&!")+r(0,"z4U7",0,0,1931)+t(0,0,-501,"r!f*"),n[r(0,"mwn)",0,0,1067)]=function(t,e){return t!==e},n[t(0,0,109,"Ci!8")]=a(1159,"*%5A"),n[i(0,0,-784,0,"uJ9]")]=function(t,e){return t+e},n[e(0,"9&[9",923)]=function(t,e){return t*e};var o=n;function a(t,e,n,r,i){return Jc(0,t- -711,0,e)}return new Array(97)[t(0,0,-428,"*%5A")](0)[e(0,"1kQC",612)+"e"]((function(t){function e(t,e,n,r,i){return a(r- -597,t)}function n(t,e,n,r,o){return i(0,0,o-581,0,t)}function r(t,e,n,r,o){return i(0,0,n-583,0,o)}if(!o[r(0,0,-268,0,"mwn)")](o[e("Jx5b",0,0,-335)],o[n("#G5$",0,0,0,155)]))return o[r(0,0,278,0,"PNDY")](t,Math[i(0,0,-476,0,"uT9E")](o[e("r!f*",0,0,92)](Math[n("R1v@",0,0,0,219)+"m"](),10)));_0x4537fd[e("]WLV",0,0,-125)](o[e("@OSw",0,0,420)],_0x57fd13)}),"")}function sp(t){function e(t,e,n,r,i){return Jc(0,i- -70,0,n)}function n(t,e,n,r,i){return wp(0,i,0,r- -1178)}function r(t,e,n,r,i){return Jc(0,r- -920,0,e)}var i={KtTUm:a(-47,0,0,0,"0NC0")+e(0,0,"z4U7",0,1769)+a(-140,0,0,0,"vXb6")+a(-308,0,0,0,"r!f*")+r(0,"@OSw",0,726)+a(-468,0,0,0,"uJ9]")+a(105,0,0,0,"ta&!")+n(0,0,0,439,"]WLV")+o(0,0,"#G5$",871)+o(0,0,"iQYM",991)+a(84,0,0,0,"uT9E"),QCLyB:function(t,e){return t!==e},XfHoq:function(t,e){return t(e)},AoHkx:function(t,e){return t+e},YcZYn:function(t,e,n){return t(e,n)},MVIbQ:function(t,e){return t-e},CwlbE:function(t,e){return t===e},njHeQ:a(335,0,0,0,"[1%B"),MfqVG:function(t,e){return t*e},AmFzH:function(t,e){return t*e},DFybC:function(t,e){return t+e},rOBgi:function(t,e){return t===e},jgjlf:n(0,0,0,-36,"Jx5b")};function o(t,e,n,r,i){return wp(0,n,0,r- -535)}function a(t,e,n,r,i){return Xc(0,0,0,i,t- -347)}try{if(i[o(0,0,"ta&!",985)](i[a(-101,0,0,0,")ZEv")],i[r(0,"i9rV",0,260)])){var s=i[r(0,"jhlH",0,148)](parseInt,t[0],10);return t[r(0,")ZEv",0,914)+o(0,0,"C%Or",1226)](i[a(136,0,0,0,"[3oe")](s,16),i[r(0,"jhlH",0,827)](i[r(0,"%O4K",0,71)](s,1),16))}var l=_0x58a451[r(0,"1kQC",0,766)+r(0,"9qt)",0,878)+r(0,"uT9E",0,752)](i[o(0,0,"jhlH",1252)]);if(i[n(0,0,0,272,"BAWC")](l,_0x179a08)){var u=i[a(341,0,0,0,"z4U7")](_0x441f1b,l),c=i[n(0,0,0,259,"$&#C")](i[n(0,0,0,-131,"1kQC")](_0x1fddfc,u[n(0,0,0,554,"*%5A")+a(-102,0,0,0,"xBdv")+"t"]),i[r(0,"9qt)",0,477)](_0x3fa378,u[e(0,0,"D9)x",0,1086)+a(276,0,0,0,"Dcvq")+"ht"])),p=i[n(0,0,0,318,"@c)F")](i[r(0,"uT9E",0,691)](_0x15d6f7,u[o(0,0,"Ci!8",744)+n(0,0,0,673,"]WLV")]),i[n(0,0,0,187,"R1v@")](_0x2442a0,u[r(0,"@OSw",0,324)+a(174,0,0,0,"iQYM")+e(0,0,"rReV",0,904)]));return{width:i[e(0,0,"PNDY",0,1011)](_0x1f1d0e,i[e(0,0,"*fmu",0,907)](l[o(0,0,"EUb4",852)+r(0,"BAWC",0,687)+"h"],c),10)||0,height:i[a(-14,0,0,0,"C%Or")](_0x32efa3,i[e(0,0,"mwn)",0,968)](l[a(103,0,0,0,"!5XE")+e(0,0,"@OSw",0,909)+"ht"],p),10)||0}}var d={};return d[e(0,0,"MCXZ",0,1254)]=0,d[e(0,0,"Ci!8",0,1847)+"t"]=0,d}catch(t){return i[o(0,0,"1kQC",1139)](i[r(0,"PNDY",0,708)],i[a(-370,0,0,0,"@OSw")]),null}}function lp(t,e){var n=kp();return(lp=function(e,r){var i=n[e-=131];void 0===lp.FeWNBx&&(lp.tsUUvo=function(t,e){var n,r,i=[],o=0,a="";for(t=function(t){for(var e,n,r="",i="",o=0,a=0;n=t.charAt(a++);~n&&(e=o%4?64*e+n:n,o++%4)?r+=String.fromCharCode(255&e>>(-2*o&6)):0)n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var s=0,l=r.length;s<l;s++)i+="%"+("00"+r.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(i)}(t),r=0;r<256;r++)i[r]=r;for(r=0;r<256;r++)o=(o+i[r]+e.charCodeAt(r%e.length))%256,n=i[r],i[r]=i[o],i[o]=n;r=0,o=0;for(var s=0;s<t.length;s++)n=i[r=(r+1)%256],i[r]=i[o=(o+i[r])%256],i[o]=n,a+=String.fromCharCode(t.charCodeAt(s)^i[(i[r]+i[o])%256]);return a},t=arguments,lp.FeWNBx=!0);var o=e+n[0],a=t[o];return a?i=a:(void 0===lp.ashhel&&(lp.ashhel=!0),i=lp.tsUUvo(i,r),t[o]=i),i})(t,e)}function up(t,e){function n(t,e,n,r,i){return Qc(0,e- -1438,i)}function r(t,e,n,r,i){return Xc(0,0,0,t,n-261)}function i(t,e,n,r,i){return Vc(n-1664,0,i)}function o(t,e,n,r,i){return Qc(0,t- -1750,r)}var a={VQXzF:function(t){return t()},SEwdJ:function(t,e,n,r,i){return t(e,n,r,i)},ASTjV:function(t){return t()},JZUGo:function(t,e){return t===e},mXLfO:n(0,-285,0,0,"vXb6"),ZUysT:r("MCXZ",0,277),MxYkJ:function(t,e){return t(e)},NQXCT:function(t){return t()},ywtkj:function(t,e){return t+e},DTOXt:function(t,e){return t+e},lAIlj:function(t,e){return t!==e},DqEfr:r("uT9E",0,465),tLyUo:r("lzDn",0,657)};function s(t,e,n,r,i){return Xc(0,0,0,n,t- -302)}try{if(a[o(-620,0,0,"Fy(N")](a[n(0,116,0,0,"uT9E")],a[i(0,0,1291,0,"0c1o")]))return!_0xaa7c07[_0x3954a8]&&(_0x297cf0[_0x5d0746]=a[o(112,0,0,"O1e*")](_0x591901)),_0x2efdd0[_0x468ae1][_0x5c2af2];var l=a[r("1kQC",0,553)](btoa,a[s(-431,0,"mwn)")](yc)[i(0,0,1710,0,"%O4K")+i(0,0,1279,0,"1kQC")](0,16)),u=oc[r("tJfW",0,859)][r("#G5$",0,255)+"pt"](t,oc[s(301,0,"z4U7")][i(0,0,1107,0,")ZEv")][i(0,0,1336,0,"*fmu")](e),{iv:oc[r("03kS",0,798)][i(0,0,1284,0,"lzDn")+"4"][r("uT9E",0,339)](l),mode:oc[s(142,0,"!n5S")][r("w*zI",0,232)],padding:oc[s(-221,0,"uJ9]")][r("0NC0",0,895)]});return a[s(-242,0,"!n5S")](a[s(-474,0,"C%Or")](l,":"),u)}catch(t){if(a[o(233,0,0,"Ci!8")](a[r("#G5$",0,437)],a[r("vXb6",0,477)]))return null;a[n(0,323,0,0,"EUb4")](_0x55e95b,_0x3cbf87,a[n(0,-347,0,0,"uT9E")](_0x1317e1),_0x407792,_0x20a4eb)}}function cp(t,e){var n={};function r(t,e,n,r,i){return Vc(n- -135,0,e)}function i(t,e,n,r,i){return Vc(e-342,0,r)}n[a(0,99,0,0,"9qt)")]=function(t,e){return t+e},n[l(0,"rReV",978)]=function(t,e){return t*e},n[i(0,639,0,"$&#C")]=function(t,e){return t-e},n[l(0,"z4U7",1562)]=function(t,e){return t===e},n[l(0,"iQYM",1647)]=i(0,-140,0,"D9)x"),n[i(0,588,0,"lzDn")]=i(0,-128,0,"C%Or"),n[l(0,"BAWC",1621)]=function(t,e){return t===e},n[s("MCXZ",0,0,0,-101)]=a(0,105,0,0,"@OSw"),n[s("*%5A",0,0,0,-128)]=a(0,-98,0,0,"@c)F"),n[a(0,189,0,0,"1kQC")]=s("O1e*",0,0,0,-104)+i(0,-84,0,"ta&!")+"1",n[i(0,282,0,"!n5S")]=function(t,e){return t!==e},n[i(0,730,0,"O1e*")]=l(0,"@c)F",1401);var o=n;function a(t,e,n,r,i){return Qc(0,e- -1367,i)}if(!t)return o[i(0,26,0,")ZEv")](o[r(0,"3*y*",-98)],o[a(0,646,0,0,"$&#C")]),null;function s(t,e,n,r,i){return Jc(0,i- -1297,0,t)}function l(t,e,n,r,i){return Xc(0,0,0,e,n-1015)}try{if(o[a(0,346,0,0,"mwn)")](o[l(0,"0NC0",1202)],o[l(0,"0c1o",864)]))return;for(var u=o[l(0,"*fmu",1168)][l(0,"0NC0",1535)]("|"),c=0;;){switch(u[c++]){case"0":var p=m[l(0,"mwn)",1751)+s("[3oe",0,0,0,-133)](oc[a(0,417,0,0,"]WLV")][r(0,"0NC0",157)]);continue;case"1":return JSON[i(0,366,0,"C%Or")](p);case"2":var d=t[s("!5XE",0,0,0,191)](":");continue;case"3":var h=d[0];continue;case"4":var f=d[1];continue;case"5":var m=oc[i(0,-106,0,"rReV")][s("$&#C",0,0,0,190)+"pt"]({ciphertext:oc[r(0,"[1%B",62)][l(0,"uJ9]",1619)+"4"][r(0,"!5XE",-389)](f)},oc[s("*fmu",0,0,0,614)][i(0,683,0,"jhlH")][r(0,"vXb6",-485)](e),{iv:oc[s("p!$s",0,0,0,163)][s("%O4K",0,0,0,-47)+"4"][i(0,348,0,"]WLV")](h),mode:oc[l(0,"MCXZ",1694)][r(0,"C%Or",-156)],padding:oc[s("Fy(N",0,0,0,83)][r(0,"Jx5b",-526)]});continue}break}}catch(t){return o[r(0,"uJ9]",-198)](o[a(0,228,0,0,"%O4K")],o[a(0,356,0,0,"C%Or")])?_0x9319e6[i(0,236,0,"9&[9")](o[i(0,693,0,"#G5$")](o[i(0,-82,0,"tJfW")](_0x55089b[a(0,-69,0,0,"z4U7")+"m"](),o[l(0,"iQYM",1551)](_0x8d8f6f,_0x654fc)),_0x478575)):null}}function pp(t){var e={};function n(t,e,n,r,i){return Qc(0,n- -389,t)}function r(t,e,n,r,i){return Jc(0,t- -422,0,n)}e[o("C%Or",0,1149)]=o("H*oP",0,1957)+o("03kS",0,1197)+r(1400,0,"9&[9")+wp(0,"@c)F",0,1168)+o("1kQC",0,1219)+r(1073,0,"EUb4")+n("xBdv",0,998);var i=e;function o(t,e,n,r,i){return Vc(n-1611,0,t)}console[n("H*oP",0,1369)](i[n("uJ9]",0,1042)],t)}function dp(t,e,n){function r(t,e,n,r,i){return wp(0,t,0,i- -873)}function i(t,e,n,r,i){return Jc(0,i- -1360,0,e)}function o(t,e,n,r,i){return wp(0,n,0,r- -362)}var a={UOxwd:function(t,e){return t===e},NjBIC:h(-44,0,0,0,"@OSw")+h(487,0,0,0,"uT9E")+"d",LlfHc:function(t,e){return t+e},Rieoi:function(t,e){return t+e},MzBkF:function(t,e){return t+e},UsWxH:u(0,0,"3*y*",1447)+h(581,0,0,0,"PNDY"),xcHni:function(t){return t()},kdQcE:function(t,e,n){return t(e,n)},irQUR:function(t,e){return t!==e},CLYfB:o(0,0,"ta&!",1509)+u(0,0,"Dcvq",681),yTzTq:function(t,e){return t(e)},MvlJz:function(t,e){return t+e},yfIDT:function(t,e,n,r){return t(e,n,r)},yUhZN:o(0,0,"0c1o",1168),HhBkI:r("Jx5b",0,0,0,318),rnPiH:function(t,e){return t===e},bJfLV:i(0,"R1v@",0,0,28),TEruz:o(0,0,"@OSw",1398),OVlaq:o(0,0,"0NC0",1095)+o(0,0,"vXb6",1060)+i(0,"w*zI",0,0,-303)+o(0,0,"03kS",791)+u(0,0,"R1v@",678)+r("!5XE",0,0,0,757)+r("QCBU",0,0,0,348),xCfRs:u(0,0,"@c)F",1226)+"Id",Sadcy:function(t,e){return t(e)},KaoDF:function(t,e){return t===e},NwRcL:function(t,e){return t!==e},SYPzA:r("@c)F",0,0,0,290),RtbBK:i(0,"ta&!",0,0,-192)+i(0,"tJfW",0,0,-270)+i(0,"tJfW",0,0,-88)+r("O1e*",0,0,0,872)+i(0,"BAWC",0,0,358)+o(0,0,"0NC0",973),epoEb:function(t,e){return t(e)},TeLUg:function(t,e,n,r,i){return t(e,n,r,i)},qletA:u(0,0,"Ci!8",730),ZVufu:r("$&#C",0,0,0,949),QtfNB:h(717,0,0,0,")ZEv"),WFKZE:function(t,e,n){return t(e,n)},eYItr:function(t,e){return t!==e},idWUS:r("i9rV",0,0,0,483),sBpST:function(t,e){return t===e},vlrac:function(t,e){return t!==e},YJbnT:r("i9rV",0,0,0,205),OZJwq:u(0,0,"3*y*",1267),BcNvD:o(0,0,"r!f*",1149)+"ey",XOGTc:r("*fmu",0,0,0,1033)};a[o(0,0,"MCXZ",663)](n,void 0)&&(n={});var s=n[i(0,"%O4K",0,0,-14)+h(585,0,0,0,"0NC0")];a[i(0,"Jx5b",0,0,321)](s,void 0)&&(s=!1);var l=n[u(0,0,"vXb6",1258)];function u(t,e,n,r,i){return Qc(0,r- -419,n)}a[r("uT9E",0,0,0,933)](l,void 0)&&(l=null);var c=s?Rc:e[h(474,0,0,0,"tJfW")];if(s){if(!a[r("tJfW",0,0,0,724)](a[i(0,"!n5S",0,0,-158)],a[r("9&[9",0,0,0,515)])){if(a[r("i9rV",0,0,0,636)](_0x55fee7,null)){var p=a[i(0,"[1%B",0,0,275)];_0x1e4400=_0x222b79[r("0c1o",0,0,0,883)+"em"](p),!_0x8eb6d7&&(_0x36c4c8=a[u(0,0,"tJfW",1157)](a[r("tJfW",0,0,0,637)](a[h(663,0,0,0,")ZEv")](a[u(0,0,"R1v@",1080)],a[r("Jx5b",0,0,0,673)](_0x59c66d)),a[i(0,"EUb4",0,0,209)](_0x35ee8f)),a[o(0,0,"3*y*",824)](_0x46b9dd)),_0x5d35c7[i(0,"Fy(N",0,0,328)+"em"](p,_0x1fc3e2))}return _0x1bb06e}l=null}var d={};function h(t,e,n,r,i){return Xc(0,0,0,i,t- -2)}d[a[o(0,0,"Fy(N",914)]]=e[a[o(0,0,"z4U7",1482)]],d[a[u(0,0,"lzDn",1041)]]=t,e[o(0,0,"MCXZ",982)+"se"]=a[o(0,0,"1kQC",1572)](fetch,c,{method:a[r("Jx5b",0,0,0,950)],headers:d,body:l,keepalive:!0})[i(0,"#G5$",0,0,93)]((function(t){function n(t,e,n,i,o){return r(i,0,0,0,n- -334)}function s(t,e,n,i,o){return r(t,0,0,0,o- -179)}function l(t,e,n,r,i){return h(r-1192,0,0,0,e)}function u(t,e,n,r,i){return o(0,0,r,e- -177)}var c={gPGKn:function(t,e){return a[lp(722,"[3oe")](t,e)},NCBBn:function(t){return a[lp(398,"O1e*")](t)},oUXkE:function(t,e){return a[lp(801,"9&[9")](t,e)},Nxknh:function(t,e){return a[lp(963,"9qt)")](t,e)},PrquM:function(t,e,n,r){return a[lp(972,"3*y*")](t,e,n,r)}};function p(t,e,n,r,o){return i(0,r,0,0,e-1318)}if(!a[l(0,"03kS",0,1194)](a[l(0,"1kQC",0,1093)],a[u(0,1120,0,"[3oe")])){if(!t.ok){if(!a[s("*%5A",0,0,0,235)](a[l(0,"i9rV",0,1875)],a[n(0,0,122,"QCBU")]))throw new Error(a[n(0,0,201,"H*oP")],t[n(0,0,-156,"1kQC")+"s"]);var d={Jmmhk:function(t,e){return c[n(0,0,62,"mwn)")](t,e)},vzTje:function(t,e,n,r){return c[u(0,529,0,"z4U7")](t,e,n,r)}};_0x3230b2[u(0,1039,0,"@OSw")+"s"](_0x49f4ce)[p(0,1221,0,"O1e*")+"ch"]((function(t){function e(t,e,n,r,i){return l(0,n,0,t- -1145)}function r(t,e,n,r,i){return s(i,0,0,0,n- -762)}function i(t,e,n,r,i){return s(r,0,0,0,e- -433)}function o(t,e,n,r,i){return s(r,0,0,0,n- -159)}if(!t[i(0,429,0,"R1v@")+e(-47,0,"Jx5b")+e(655,0,")ZEv")]&&t[o(0,0,590,"1kQC")]&&t[r(0,0,-483,0,"Ci!8")+r(0,0,-326,0,"QCBU")+r(0,0,-609,0,"3*y*")]){var a=d[n(0,0,251,"$&#C")](_0x1ec531,t),u={};u[r(0,0,-388,0,"[3oe")]=a,u[r(0,0,-134,0,"]WLV")+o(0,0,-92,"3*y*")]=!1,d[o(0,0,728,"O1e*")](_0x48c9cb,_0x36eb83,t,u),t[r(0,0,-432,0,"C%Or")+"se"][i(0,218,0,"$&#C")]((function(){}))}}))}var f=t[n(0,0,244,"MCXZ")+"rs"][n(0,0,-74,"$&#C")](a[n(0,0,261,"03kS")]),m=a[p(0,1629,0,"z4U7")](sp,f);if(a[n(0,0,588,"$&#C")](m,null)||e[n(0,0,602,"9qt)")+"ap"][s("QCBU",0,0,0,610)](f)){if(!a[n(0,0,-125,"lzDn")](a[l(0,"jhlH",0,1044)],a[s("ta&!",0,0,0,112)]))throw e[n(0,0,256,"!5XE")+s("Jx5b",0,0,0,50)+p(0,942,0,"Fy(N")]=!0,new Error(a[p(0,1021,0,"xBdv")]);if(_0x35650c)return;var g=a[s("tJfW",0,0,0,430)](_0x1f9ec1,_0x5f261a,_0x1c95c2[n(0,0,291,"uJ9]")+u(0,746,0,"!n5S")+u(0,1228,0,"vXb6")]);if(a[n(0,0,49,"r!f*")](g[l(0,"[1%B",0,1780)+"ge"],a[n(0,0,762,"9&[9")]))throw new _0x324889(g[l(0,"w*zI",0,1346)+"ge"])}return e[p(0,1153,0,"ta&!")+"ap"][l(0,"PNDY",0,1341)](f),e[a[p(0,1618,0,"H*oP")]]=f,e[p(0,1148,0,"]WLV")+p(0,975,0,"3*y*")+l(0,"@c)F",0,1408)]=m,t[n(0,0,563,"$&#C")]()}try{var y=c[u(0,1216,0,"O1e*")](_0x3ca669,c[l(0,"$&#C",0,1319)](_0x4e7c68)[u(0,505,0,"Fy(N")+u(0,786,0,"BAWC")](0,16)),v=_0xb598a7[u(0,1031,0,"p!$s")][n(0,0,124,"Ci!8")+"pt"](_0x269e7e,_0x2a9853[u(0,1258,0,"z4U7")][s("xBdv",0,0,0,857)][p(0,1655,0,"#G5$")](_0x58dc83),{iv:_0x22d7f6[p(0,1448,0,"9&[9")][s("iQYM",0,0,0,371)+"4"][n(0,0,74,"ta&!")](y),mode:_0x4dcc5f[p(0,1451,0,"mwn)")][s("*%5A",0,0,0,203)],padding:_0x5b603a[n(0,0,-63,"iQYM")][l(0,"0c1o",0,1476)]});return c[p(0,1472,0,"Jx5b")](c[u(0,1308,0,")ZEv")](y,":"),v)}catch(t){return null}}))[u(0,0,"C%Or",1087)]((function(t){var n={hWTbb:function(t,e,n,r,i){return a[lp(172,"uJ9]")](t,e,n,r,i)},KWnYl:function(t){return a[lp(765,"[3oe")](t)}};function o(t,e,n,r,o){return i(0,n,0,0,e-199)}function l(t,e,n,r,i){return h(t-240,0,0,0,n)}function u(t,e,n,r,o){return i(0,n,0,0,o-148)}function c(t,e,n,r,o){return i(0,o,0,0,t-963)}function p(t,e,n,i,o){return r(e,0,0,0,n-572)}if(a[u(0,0,"i9rV",0,250)](a[l(304,0,")ZEv")],a[l(430,0,"@c)F")]))throw new _0x423807(a[l(61,0,"03kS")],_0xd77bbc[l(460,0,"O1e*")+"s"]);if(s){if(!a[l(493,0,"R1v@")](a[u(0,0,"p!$s",0,206)],a[u(0,0,"$&#C",0,101)]))return;n[l(784,0,"Dcvq")](_0x5da013,_0x543c41,n[c(1280,0,0,0,"9&[9")](_0x49a6c7),_0x28a100,_0x4094bc)}var d=a[u(0,0,"R1v@",0,244)](cp,t,e[p(0,"vXb6",1367)+o(0,248,"O1e*")+o(0,38,"!n5S")]);if(a[p(0,"@c)F",869)](d[l(394,0,"w*zI")+"ge"],a[l(446,0,"0c1o")])){if(!a[l(221,0,"uJ9]")](a[u(0,0,")ZEv",0,-240)],a[l(393,0,"#G5$")]))throw new Error(d[p(0,"0c1o",1400)+"ge"]);var f=a[l(402,0,"MCXZ")](_0xfd0264,_0x4c32a6),m={};m[o(0,406,"vXb6")]=f,m[u(0,0,"[1%B",0,417)+o(0,735,"xBdv")]=!1,a[l(615,0,"D9)x")](_0x552e53,_0x144258,_0x47389a,m),_0x10d299[c(735,0,0,0,"!5XE")+"se"][p(0,"EUb4",811)]((function(){}))}}))}function hp(){function t(t,e,n,r,i){return Vc(e-1282,0,n)}function e(t,e,n,r,i){return wp(0,t,0,r- -1767)}function n(t,e,n,r,i){return Xc(0,0,0,n,i-1138)}function r(t,e,n,r,i){return Jc(0,r- -178,0,e)}var i={TnYQI:function(t,e,n){return t(e,n)},HkXma:function(t,e){return t*e},QKFaY:function(t,e){return t+e},VejhM:e("rReV",0,0,143)+e("0NC0",0,0,58)+e("QCBU",0,0,-360)+t(0,1048,"Jx5b")+o("jhlH",0,-644),IWsmz:function(t){return t()},gxxMd:function(t,e){return t(e)},byOEA:function(t){return t()},mHJVC:function(t,e,n){return t(e,n)},wGYjF:function(t){return t()},TPbmY:function(t,e){return t===e},JrrVa:e("03kS",0,0,-632),fyGVi:o("EUb4",0,-445)+o("H*oP",0,-669)+t(0,1632,"jhlH")+t(0,939,"z4U7")+n(0,0,"EUb4",0,1218)+r(0,"xBdv",0,1525)+o("BAWC",0,-503)+t(0,1612,"PNDY")+n(0,0,"PNDY",0,1170)+t(0,1564,"[3oe")+t(0,1490,"r!f*"),wnKdi:function(t,e){return t!==e},QbtLZ:r(0,"xBdv",0,1485),coJSL:t(0,1061,"O1e*"),wYhOE:function(t,e){return t(e)},gpprP:function(t,e){return t+e},NsrQo:function(t,e){return t(e)},ZoiyO:function(t,e){return t(e)},LYZsr:function(t,e){return t+e},lhJdd:function(t,e){return t-e},inRhL:function(t,e){return t===e},DaGgY:e("QCBU",0,0,-55),jQyOE:t(0,1174,"@c)F"),Ucwrw:e("]WLV",0,0,-500)};function o(t,e,n,r,i){return Jc(0,n- -1794,0,t)}try{if(i[t(0,1190,"Jx5b")](i[o("9&[9",0,-588)],i[r(0,"Ci!8",0,1671)])){var a=document[n(0,0,"mwn)",0,1768)+t(0,1552,"9qt)")+e("EUb4",0,0,93)](i[t(0,1034,"0NC0")]);if(i[t(0,807,"EUb4")](a,void 0)){if(i[n(0,0,"@c)F",0,1666)](i[t(0,1597,"@OSw")],i[e("w*zI",0,0,-195)])){var s=i[o("QCBU",0,48)](_0x1595e6,_0x7b5e85[0],10);return _0x2de6f0[r(0,"BAWC",0,1522)+t(0,787,"[1%B")](i[t(0,1145,"03kS")](s,16),i[e("r!f*",0,0,-431)](i[e("!5XE",0,0,-389)](s,1),16))}var l=i[t(0,748,"[3oe")](getComputedStyle,a),u=i[t(0,1023,")ZEv")](i[n(0,0,"r!f*",0,1586)](parseInt,l[o("]WLV",0,-5)+e("w*zI",0,0,-275)+"t"]),i[r(0,"*fmu",0,1428)](parseInt,l[o("*%5A",0,-109)+n(0,0,"vXb6",0,1120)+"ht"])),c=i[n(0,0,"*fmu",0,1667)](i[n(0,0,"!5XE",0,1397)](parseInt,l[e("iQYM",0,0,-631)+t(0,1415,"QCBU")]),i[e("%O4K",0,0,-408)](parseInt,l[r(0,"9&[9",0,1026)+o("9qt)",0,-354)+t(0,1071,"*%5A")]));return{width:i[o("$&#C",0,66)](parseInt,i[e("[1%B",0,0,-605)](a[n(0,0,"*%5A",0,1038)+r(0,"Jx5b",0,1264)+"h"],u),10)||0,height:i[r(0,"p!$s",0,1367)](parseInt,i[t(0,1562,"uJ9]")](a[e("z4U7",0,0,-176)+n(0,0,"*%5A",0,1111)+"ht"],c),10)||0}}if(i[r(0,"r!f*",0,1371)](i[t(0,1232,"tJfW")],i[e("Ci!8",0,0,180)]))throw new _0x3ca026(_0x3f4028[o("tJfW",0,-681)+"ge"]);var p={};return p[o("iQYM",0,-63)]=0,p[n(0,0,"Dcvq",0,1232)+"t"]=0,p}return}catch(a){if(!i[e("p!$s",0,0,166)](i[t(0,1322,"Fy(N")],i[t(0,828,"MCXZ")])){var d={};return d[t(0,1372,"uT9E")]=0,d[e("w*zI",0,0,74)+"t"]=0,d}for(var h=i[o("lzDn",0,-610)][t(0,1572,"i9rV")]("|"),f=0;;){switch(h[f++]){case"0":v[_0x5e41ea]=_0x1424a0[t(0,1159,"iQYM")];continue;case"1":v[_0x33c642]=m;continue;case"2":var m=g[r(0,"Fy(N",0,883)];continue;case"3":v[_0x33feac]=y;continue;case"4":var g=i[r(0,"tJfW",0,1590)](_0x1e0bc8);continue;case"5":_0x31a550[e("*%5A",0,0,192)]=0;continue;case"6":i[o("EUb4",0,-417)](_0x503ab8,!1);continue;case"7":var y=g[n(0,0,")ZEv",0,1635)+"t"];continue;case"8":v[_0x1dd974]=i[n(0,0,"vXb6",0,1355)](_0x30e5f6);continue;case"9":return i[o("MCXZ",0,-320)](_0x18981b,_0x3c16ba[r(0,"9qt)",0,1430)+o("@OSw",0,-223)](v),_0x2fc6bb[e("D9)x",0,0,-372)+o("R1v@",0,-786)+e("[1%B",0,0,-182)]);case"10":v[_0x1207a7]=i[n(0,0,"Ci!8",0,1579)](_0x1fd22e);continue;case"11":var v={};continue}break}}}var fp=Vc(-37,0,"w*zI")+Jc(0,1338,0,")ZEv")+"d",mp=Vc(-484,0,"tJfW")+Vc(-214,0,"9qt)")+wp(0,"z4U7",0,1116)+"us",gp=Xc(0,0,0,"#G5$",639)+Vc(-23,0,"ta&!")+Xc(0,0,0,"R1v@",270),yp=Vc(-116,0,"0c1o"),vp=Jc(0,1649,0,"D9)x")+"t";function _p(t){function e(t,e,n,r,i){return wp(0,i,0,r- -203)}function n(t,e,n,r,i){return Vc(t-843,0,e)}var r={lqMqX:l(0,828,0,"rReV")+l(0,813,0,"Dcvq")+s(0,0,0,659,"EUb4")+s(0,0,0,867,"@OSw")+o(0,"PNDY",-601),hPQIU:function(t){return t()},wPiit:function(t,e,n){return t(e,n)},OaDQr:function(t,e){return t(e)},SOYjz:function(t){return t()}},i=r[s(0,0,0,656,"vXb6")][e(0,0,0,1753,"9qt)")]("|");function o(t,e,n,r,i){return Qc(0,n- -1802,e)}var a=0;function s(t,e,n,r,i){return Qc(0,r- -533,i)}function l(t,e,n,r,i){return Vc(e-1304,0,r)}for(;;){switch(i[a++]){case"0":d[fp]=r[n(791,"xBdv")](op);continue;case"1":d[mp]=r[o(0,"9&[9",-676)](Ac);continue;case"2":return r[n(481,"jhlH")](up,JSON[o(0,"Ci!8",183)+o(0,"#G5$",-487)](d),t[l(0,1440,0,"PNDY")+s(0,0,0,1069,"D9)x")+e(0,0,0,1065,"r!f*")]);case"3":d[gp]=t[n(1168,"p!$s")];continue;case"4":var u=p[o(0,"i9rV",-515)+"t"];continue;case"5":var c=p[n(894,"*fmu")];continue;case"6":r[e(0,0,0,1655,"rReV")](Oc,!1);continue;case"7":var p=r[n(799,"0c1o")](hp);continue;case"8":t[o(0,"C%Or",13)]=0;continue;case"9":var d={};continue;case"10":d[vp]=u;continue;case"11":d[yp]=c;continue}break}}function bp(t,e){var n={};n[a(0,"mwn)",0,1761)]=function(t,e){return t+e},n[i(866,0,"3*y*")]=function(t,e){return t*e},n[Qc(0,1694,"Ci!8")]=function(t,e){return t-e};var r=n;function i(t,e,n,r,i){return Jc(0,t- -1033,0,n)}function o(t,e,n,r,i){return wp(0,r,0,i- -1380)}function a(t,e,n,r,i){return Qc(0,r- -91,e)}return Math[Xc(0,0,0,"Fy(N",281)](r[i(181,0,"w*zI")](r[o(0,0,0,"i9rV",-84)](Math[o(0,0,0,"@OSw",-136)+"m"](),r[a(0,"p!$s",0,1478)](e,t)),t))}function xp(t){var e={ADHBF:function(t,e){return t===e},rRjlV:function(t,e){return t!==e},iAxPO:i("Dcvq",0,-500),CkDzq:function(t,e){return t*e},WpmQK:function(t,e,n){return t(e,n)},INzCV:function(t,e){return t*e}};if(e[a(863,0,0,0,"O1e*")](t,void 0)&&(t=!1),t){if(e[i("9&[9",0,108)](e[a(1746,0,0,0,"vXb6")],e[Vc(382,0,"*fmu")])){var n={};return n[i("p!$s",0,123)]=0,n[Xc(0,0,0,"@c)F",549)+"t"]=0,n}return 5e3}var r=e[i("tJfW",0,-136)](20,1e3);function i(t,e,n,r,i){return wp(0,t,0,n- -1719)}var o=e[a(1133,0,0,0,"9qt)")](bp,1,5);function a(t,e,n,r,i){return Xc(0,0,0,i,t-987)}return e[a(1678,0,0,0,"MCXZ")](o,r)}function wp(t,e,n,r,i){return lp(r-880,e)}function kp(){var t=["WP11W5DLWPC","W7NdQLpcIgS","tmo6uSo3aYjoW6G","DtqTW5WK","jX9lWRRcLq","W7pdJKvSWP4","W5FcNhf2ha","WP5WomkQWPm","W5VcQCouW6O","jtTRWQtdNW","W7PejCo5WPm","W5RdOmkRvN8","W68le1JdOW","W5xcVmozW4mg","rr17yeO","Aau5W6eL","W6tcGxpcMby","uH1DBee","FCo+DSowWPW","waepW58Y","W7NcLu7cHba","WQaMva","WP/cT8kSamol","sWBcIJ7dTq","n3pdOYa4","WORdJthcVSkT","WPn/bWZdSq","DmkWWPG","e8oxDmowlW","W5VdK8oK","u2JcJmk5ka","r8okvcnR","bmktuSoTza","wePjWQbb","gG5eW6u","WR0JaJZcMq","WRRcPCkGB8oJ","s8kAwCoPfIjQ","FspcIsJdKG","WQufAq","qslcHstdHq","o1xcVgFdHa","y8kQWP7dTmo6","W5/cO8kwr1C","irvv","AfBcPCkXca","WOHSW5P5WPe","fMVdN3mW","qvpdV2z7","WO13atVdUW","y8kWWP/dS8oG","B13cH8kZgq","fSkZD8owW4C","WOqTW58iFW","WPzeamkYWOS","D3L+W51u","BqlcVYNdIG","W6VdM0nVWOG","q8o9D8oHW4S","cSo9FCoNW4S","DCoHWRfNeq","WQTLm8kmWRq","x8o2yCoNWO4","WOyjW7aQFW","lZTSWP7dIG","AGtcOq7dPG","WQ4ZfHRdOq","W7G6f1SP","W7NdH3lcU18","zmoNWQPU","WOpcOSoXWQFcTW","x8oWjSkjW5C","W7BcSgH1","yYXsW49t","WRVdM0rOWOu","lSo6zq","uJPpD0u","WOz5W7KayG","W43dPmkNqq","r8kLCSo5aG","WOTUW5y","Amk6WOVdUCoX","WQH8uGP2BX8BWQmStSk5","W7FdH1BcPfS","m0TEW67cGq","uH0bW7i","uGJcRcxdQq","rtRdNG","vqycW4PR","WR3cSSkVhCoE","ySohhCkSW7u","W5ddH2lcSq","WOnLW4zLWOi","xSo8qCoNWPK","gx3dPHWT","mwBdHYC0","CgLVW5O","BvH2WR1W","AbeVW78q","ubldSG","W5RdV2i","ywTaWQzt","o3/dLqGr","W7ldOmkWCve","oSkYAmowuG","WQvWaa","W6ldKmoSj8kw","WRCiW68BvW","BK1OW41z","ku/cRhVdIq","sqOFW5K","CmkvWPJcSmkf","WQymgG","WPNcTCkS","vCkqWPldQSoW","yCkkWORcRCke","vael","fSkTr8ovcW","ESoNwCo6WRi","DCoRe8ovEa","yKhcV8kHhG","WP5HW4DLWOy","WRmoFSorWPC","W5ldRujXWPC","W5RcVSoa","r2pdUw1+","W604nem0","W5VdRCktd8kV","uqNcRt8","A8oLg8k1W5m","W73dOmkkwfa","WPhcQmkxAmou","wK9aWRTm","WPddTSoXfCkh","DatcMbldIW","pCkwvSoyxG","WRZcRmkJgSki","tv3dSLvY","W6tdI1lcGG8","ywj/","o37dUeWq","eSk7ACoaW64","WOpcQmkYW6/dRG","EGNcTd3dJa","W47dNmoJWQ0M","W6hcRgH+oq","pmk6w8kgeW","CxvRWRX3","W4VdSflcIgS","gghdHfe5","W5lcP8osW5Oh","bmkCrmoYnW","WRHDbt3dUW","lSkTuSodjq","WQJcKCkLs8oe","WQa3jrpdLW","sfTgWQfq","psX0","W43dRSkmqwu","W5ddMSotWQy/","ECkFWRdcGmk3","zg1pWQfB","AW/cMXNdIq","W4ZdMCovjSoe","W4BcPmkmvMi","wXqdz0e","xSkWW6ZdNmk5","WOiypXpdLa","W7dcTNq","WQLWba","W7RcH1xcHam","c2ZdJIhdNa","W73cLxBcMWS","WOW2ks3cOG","WOa1W5SozG","WRNcS8kMuq","WP0Pit0","o8kIu8ogzq","t23dIfD2","W6O8b1eR","W6hdG8kEteq","WP5snCkI","WQOpW5Wqya","g8kbD8oliW","WPrvW6jxWRy","DX1x","WQO8W44","WP0miWJcGa","WRr3dahcQa","WRWxhWVdPG","WPH4kWddUq","W7mLhKOV","W4OKawy4","WRPZk8keWRi","WQfUaqddSa","v8k8WOBdJ8oN","hmkkAmoqW48","W57cIh7cPI8","W4VdP0NcSfa","uSkVv8oimG","mca6W4C1","yw/dUgHD","W6lcH0NdMqK","cwpdGJW8","vXhcVWZdJG","WRGika/cTa","W73dTSk4g8kd","rCoMymoWWO4","W4BcOCodW4aB","WOTYW4D5WPe","W77dNgtcRwe","fKddTGa8","WQhcHSk+eSoy","sW4FWOmM","w8ogwG","W5tdICkvy1q","WR7cTCkjW4FdPG","F8oNDmkR","jCkTWPRdSCo8","WQfmjaFdOW","W4JdG8oWnSou","WQ4nba7dOq","W5NdO8kBlSkq","W4xdPCkzaq","l2BdTuO","zchcMbRdTq","FKKrW6xdJ3vuF3SQpSkxxqO","WRWebG","CslcHdBdHq","FImSW5S3","BHFcVZpdGq","hcXbWR/cMW","WO1VW4b4WPC","hx7cVHe4","dSkuv8owW4W","WRqdW6yBua","WQeXs8ky","brlcVdddTq","x1v2WR1h","fNFdOvX5","aMxdG1i+","W5lcOmo9W4Og","iutcIhBdUa","W6hdQwrUWRu","WPDKcmkwWO8","k8k3ACoCW6C","zmkBWRVcKCkK","WPCJW6mlDa","oLtcShRdKW","WPRdT8oAprjFWO7dNX4HuHG","sq7cPqldOW","E8oMFCoNWOO","sCoNFCoHWQ8","W71stedcQWRcHGZdJmoFqSkm","rmk+WPpcGCks","DZlcTbxdQG","oX9rWQK","WOa1W4ueCa","W5tdPCk2xNO","fCk3CCoSW5y","sNtcImksoa","dmoEzmoCiq","W73dSLDiWOi","W4ZcOmor","dSk4uSopmG","ySosDGbw","BSo9Bq","uIZcLc7dMa","WPddUCkbmSk5","WO92W4bHWPa","exFdNL82","WO0kW48hAa","DqBcPd3dHW","bsBdJMP6","qWJcVdK","pCogtmoLjW","tvvxWOXu","dmkizCossG","Dmk6WPNdQq","WRH+emkEWRy","WRBcImkohmo9","W7VdTK7cLw0","xqTDBuC","x2LjWOjA","WO89zSo5WPi","WPOwg0a","WQygkI3dGq","WR7cGmk8Amo+","zCk+W4u","uSoAWOTreq","jHX5WQtdMW","rSofrZji","WOb/iCkuWRa","W67dJvJcLw0","WP3dS8ounHTxWRBdPcmjCZu","qCkmWR7dT8oc","W6FdHvdcUSo8","W4dcVSobW4e","W4xcQmkf","EwKRW6lcImo4WPefimkJWRVcG8k0","F8kGWQPSfG","WORdOmkDkSk9","C8oVbSo8WOq","W5NdGxFcSxS","wNFdJxf1","WQlcGmkOW7/dLa","WQPFimkpWRm","WOJcOSkJg8og","sYfgs2u","WRH7abRdVa","dqDUWOFdSW","W5/cS8kaFvC","W4pcP8oAW4i","jSoqCmo/gq","eKBcKxRdJa","kuVdGWGy","WOSoCW","W5/cVSodW7ms","ovtcUghdIa","W7tdLmotf8oh","qmo3vColWPm","EbRcNc/dGa","W5RdO8kDmCk7","WR0fktdcGq","W5RdU8oOWRSe","WOamvCkBFW","l8kMWOVdUSo1","WPtcOSkJhmol","itLWWQpdRq","W6hdTmom","j8kuBCo9xq","CmknWPdcQ8kn","zwT9WOPH","W7yTrfS9","W6BcNmk3suW","WPbSeHRdHq","WROLFSkvDq","WQaDW78JvW","W6ZcR0pcSGS","W7hdU31PWQW","W4NdN8o6mmka","tCo2zSoAWP8","WP7cOmoVh8km","W6xcMSoPW4Cz","WPuHW5SryW","WRelkHhcRW","ySkLW4NdUCk+","WPXPW5TX","B8k1WR/cQ8kO","smo2imk9W7i","W5xdPmoQcmoq","vt3dLZrL","zMXSWQTK","urNcTrhdQq","sMVdNMPT","AYXyqLG","W7/dQ17cJNm","bSoVsSo1ga","W7FdLvzZWR8","WOtcPSkUr8oq","abnPWPNcKq","uI/cIcxdGG","D1NcNmkNfa","FCkMW5/dL8kc","m3xcSu/dSW","xZ44W6yo","jSkTWP3dSCo/","W7pcT012pW","WQfNmaddVq","WRhcGSkZsCod","W5hdImo1WQOQ","gg3dG1fX","F8oBWRrOeW","W4NdQfJcQhW","WODUW5i","W5VcR8kgEKS","Dw3cMCknfq","EmoNCmorWQa","WQiikXpdUG","W6FcUhjXpG","BSoVWQXMlG","WPJdV8ospbvAWQZdPX0OzqG","i3hdIsS3","WQXnfW7dVa","xd81W4Ch","zwNcUSkFna","uCkmWPBcSmkc","yvtcGCk7aW","WQzEjSk1WPm","yCkWW5RdVSkU","WO/cOCojW6Ot","CtamW50p","W5hdTCkRrwq","cCoUuCo9nG","umkuW7S","zaW2W7qL","WRxcPtvUzW","sCkmWQxdMmo9","EmoAWRzOaW","WRKoumk6Aa","W57dPmkR","W6hcOSo/W5yZ","WOiHymo/WQW","vqdcRdxdQa","WRVdVL51WOm","brnAW5f5","WO3cQSkH","hmk3uCotW5u","gmkMxq","WRRcI8kxDSoN","W4hcT8oKW4SE","vqdcRa","rrDvWQvu","CSkXWRJcJmkm","W5VdG3hcRCoP","tbrpCey","W6v8gaiY","hSkpwCo5Ba","W5NdIen6WP4","W7tdOe7cLgS","WReEzCoSWOi","qMhdKNDu","gh3dTWS","nca+W51u","u8kJW5RdQ8k4","trxcVchdSG","W5ldKmoXjSop","W7BdN0jVWOW","WQ5gESo0WOi","WOjOW79YWOC","t3hcGCkWhG","W4OqneGp","m0BdRG","W5NcRCoaW6SE","rqVcHcNdIW","j1NcM8kGgq","sdOdW7S6","su/cVmk3pq","W7ddOLFcKgW","Cty9W5WU","W5FdPe3cQM8","W5ddUmoWWOCA","W6KLbuyO","c8o4tSoLcq","W4xdQmownSos","rNHoWPfK","WQuMv8kbwq","W5ZcP8kqFuy","yYXpW4fn","bsxcPZJdRW","jvlcSg/dNa","WPNcJmkZt8ka","Ecm2W5q+","EmkAWRhcQSkk","BWtdOIZcNa","a8k8zSoxW5S","W7pdOLxcIfK","oeNcT3i","WO3cHCk7w8oL","W7tdH1ZcJ28","rCo9WOHAdW","WR8wfbFdVa","rmoGaCk7WOG","W5vTWOrwymo4f8oBiCoe","t27cPq5G","WPuKCSoVWOC","WQVcVNr7ma","cCkNBCosna","WRqoECoS","eGTHWQtdQG","pXTgWRNcLa","W5FdPe3cQg8","s8kCWOa","CvVcQ8kYaG","jSk3D8orCq","cNFdOrq2","FCkKW5hdM8ke","WOvXgSkKWRC","vrzj","C8kUWRVdK8oX","duldUHST","zCkXWOK","W5G7ariB","DbRcLXddOq","W77dLevqWOq","qHFcSapdPG","z3BdJefk","vYRcJsW","W7/cLr0","ydBcJJtdJq","iGLmWP/cIq","WPCJlcpcVG","fCo+BSo/cW","xb8oW4iZ","WPeSdshcHW","W7BcVILKzq","WOT0W51/WO0","W5VdJ8o1WQy9","umoKgmk2W7m","WQ5OaHZcPq","W5ddH2lcSCk2","W5udiLuI","WRj/dqVdPW","W6BdV8osWRKT","W5VdK8oKWRS2","CmkIW5VdPmkS","W4tcSSkwFLa","W5mLWOqDjq","WOvPbmkXWQW","W7iShued","WPTWkCk+WPe","W6JdPfpcMgu","bgxcJWW3","W6tcQCov","E8oYFcn8","WQqHv8kyuq","W7BcHSooW7aV","ta/cRW","p8kLwmoqyq","aCk7y8oC","bCk2tSoIAq","W5BcU8oyW7ur","CGhcOG","W5FdG1lcL8oj","W7dcSwn8","W5NcTmko","WOilhYZdOq","WR4ogaZdKW","nMBdVKiu","WRb4DCknra","EcK1W4Oy","W5pdLmoRc8ou","t1ZdVwbt","wtFcLtddNW","W5hdVmolWPaK","W7xdLhO","zujoWQDD","WROqeq","WOzppq","Cmk+WPJdRSoX","wmo4DmodWPm","W6FcTMHMnW","W5ddKmo7","W5tcHCkexfa","W43cOMtcSXm","WPK6W78pEa","BqlcQt7dHG","WQ52w8knuW","W6KOfKeR","luxcRq","WQKWdqRdUW","W6pcLwZcKH8","W5/cUmofW7ev","W47dGCkwl8kz","qY3cSsNdPa","qwhdGMnX","AmkyWPFdQSkm","WPWNmsFcVG","W6RdPfNcMgm","WPztjCk1WO0","hMhdNL4W","z8o7imkwW5i","W7y7duGV","WRSblWhcPW","WQtcP8kIW7JcOq","W7OXta7dUa","WQddICk+wCoe","BmovW5VcTmkr","oepcVa","WOLHW4veWOu","W6NcPmkRzNq","sgddJ0fV","WOVdGCk0WRv4","WOpcQSkPgSoA","mdGVWPLrpeSgFHW","WPm+WPGxiG","WO3cGmkZC8oa","WOC2W4uKCa","rSkLBmorW4O","WRWNC8kjsq","W7eOcHWH","W7pdKhpcKmo6","du5wsfPgWP/cJW","WQGsdqRdGG","wSoYDG","oexcVwddNG","W7ZcMMjZWOa","W4xcQ8ktDKC","WQu1sSkFvq","wc3cHG","W7FdGSkDD3K","t8oHymo8WPK","DMvYW4K","W7RdIuj1WOO","WORcVSkhp8ow","WOyNDmk/wG","W57cO1xcGHW","W6BcQ8oMW4ye","Ea3cRIJdLG","b8kHDSomW4u","DITGFMm","c8opC8oLpq","WPJcVSo/","W7BdMLVcR8o6","WQVdUqZdJhy","oIX/W49o","WOjZW5a6W4e","kSk4u8o3dq","WRxdLSkSd8ol","tqmnW5KT","Bg3dRuHt","WOnppSkQWO0","xaSi","W6O5cfS6","sSowtbr1","g1FdTICE","d8k2uSoWW7e","hwhdNKuW","AbxcMtJdTq","pK/cIMhdJW","W5ddLhdcQSo6","WPKoW6mGFa","WQ3cIWKVW5ZcU8kjcCkbzvddJG","WRe3bYJcTq","W5qLWOmDiW","WPznpSkcWOy","WRZcQCk4W6tdMa","W6JdTCk5E1u","gmkLuCoqjW","W6pcP8oBW6G8","W7/cP8opW61m","rsZcJa","W7ldSCk8mCkK","zSoYFHT8","W4tdLCkvlCkW","W5JdKmo3lCoR","sCoYzSoWWOm","iSkJqmodW5a","WOrunCkZWOW","sbFcQ2i","WPbCmSkVWOe","pmkfBSoEla","rZhcOGZdUG","W6tdKMJcS8ox","zCo2FtH4","WOqFFSknAq","W6tcGmkgy08","qSkyWORcOCov","WOtcISk4emok","zSo8WQTKda","lbvxWRpcIq","W5pdH8o2jCo6","WQyheWZdMW","xw7cM8kYba","W6FcTw93oa","amkEDSodEq","W4VdICkutgi","WP5YW5P7WOO","zSkZWOxdSSoM","sSkjWQ/dHmo2","WO/cTCkAW7JdRG","WPa2CCkezW","kHrbWQ/cHa","W6dcSha8oW","rmoIpmkOW7O","wmkrWONdRCod","ArCVW6SM","uCkQWOxdQCo1","aSoZmCoVdW","cXjbWRhdVa","fCkoBmovka","wwxdMxD8","WO88W4qjCa","b8kIz8okW5O","W7BdLXFcI1y","xXaZW5iN","W5/dK0NcM08","eCotzCozaq","b8oMu8ojlW","tf3cLW","DeNcV8kAfa","WOVcSCoUds7cMmkUW7GUnsNdMG","Ca/dTNtdJq","WPiTW5yvza","vvzayvm","AdBcOGZdNG","W4xdQmkmA1a","bNFdIM1T","cmk9CG","rCo5ECo4dq","zWdcUZtcTW","W6pcOx5FmG","WQ4PA8oRWOy","xHDkFq","W5ZcP8kg","z8oEE8oBWOy","p8kQpMiVaCkiWQiuW6JcTxm","WQi9xmkywa","WPbCjCkKWOW","j8k9W7CXv8oJFGtdT8kKW6ekWQJcOW","sSkWWQtdVmow","WQBcLSkLbSoz","W6ddUmk2eCkB","W7/dPmkJjSkD","W7JdRSkxxM8","WOGauSo1WOi","rmo0xSo2WO0","WQeinr3dGW","eCk1ACoXW6S","F0ZcVCk7ba","ySoMWQfN","jCkUDSojnW","W7RdLKj5WPa","q8o9Dq","W5FdGKFcRmop","W6RdT1lcKwm","W4pdPCkLc8kh","vu9qW5DI","WPTymmkJWOe","rG7cVt/dTq","WO87uCkvFW","W4JcGmosW7GT","W7tdINrKWOG","WPeTW54oFW","WONcTCkYbSon","W7pdRmkYxxW","pZD8WQpdLG","tH1kCum","W7NdPmk4dCk/","W4ZdPmkSqxi","WQyGv8kCDq","W5/dUCka","W7tcUSoqW6aT","ChxdV1nW","v3dcPSk5ca","WRGOBmokWPa","kCkOu8oBEG","fwRdJKqO","W4tcP8kmieW","i07cVG","qslcKZpdIq","W4JdSSksmCkN","W4RcQSknyve","W6tcRCkXyMC","paPoWRtcIq","bxBdGq","WOpcQ8kxFvC","gdv7WQtcIq","oKhcQ2BdMa","W7ddNMb/WQG","WP3cT8kYuCoU","WOaQW4qiDG","WOW2W5me","b1JcGh7dTW","e8kVFmojmG","W7RcKK7cMaG","WR3cSmk5wmod","W5BdICoZWRK8","BCkhWQBdU8oB","hMpdOvm3","c2xcM1hdKq","WOJcRSk2r8os","W7WNb0a3","rLFcPSk/cq","FtuXW7eI","W4xdN8o8mmoz","wmo0pCoLW5G","eSk6ymol","yePZW5XR","WRvSdW","W73dKCk/bmkq","oJbsWQddUa","W5JdTSkAoSk6","W4RcOmoJW6KA","W4dcOmov","W6ZcRxjIjq","WQOjptpcSG","W4NdK1rZWOq","W5/dGwRdR8oW","W4pdNmo1l8oT","W5FdLLDuWO4","W5xcR8ktzee","W4ZcOCogW7m2","b1VcPItdRq","WRb/erZdRq","cNpdOqe8","WPS/fYhcPW","W5O+cfal","WP51g8krWQC","W4RdL2ZcSmo2","qSodq8oAWR4","C8oZhG","W5/dM3z7WRq","qG3dPtldOa","t8oTWP5qcW","dSkZDG","F8oQWQbScW","jJn3WQtdRW","gXfbWR3dHa","WORcLCkPW7VdRG","W63dVezOWR4","W53dPmk8r24","WQyKvmkfra","WPpcQCkLW7ZdGW","kSkQxW","b2hdJ3u9","pW5lWRlcKW","rLvbWQW","W5RdPCkBm8k8","W7dcSgL8DG","wWuEW6Oe","fmoMumodnq","uSo2CCoMWP8","WRhcHmkyuSoE","W4BdGeRcH8ot","W6JdJL5SWQG","zmo3WRr9da","WQe7A8kyqG","uSkTtCofjW","W7yOaheH","FmoSWQPrja","vComWOC","tbGFWQ9u","WPTCp8oPWOS","zwj7","zHtcHahdJG","oSk2ua","W43cQSkqA0i","WQBcSSkiv8oY","sdOzW6C7","zCk+W7VdUCk5","W7BcUgH2oq","WRZcGSkJsmos","d8kRwW","WQyrnH3dQW","bgVdVKiJ","WRmFB8oQWQ0","W6tcI8oL","nHXRWPNcQq","e2VdP2uD","jY9EWQ7dUW","WRdcT8kfCmoT","DCo1f8kSW7O","stpcRspdPa","W78alv8R","W6ZdPfhcIw8","W7qVjNy9","tKhcPCkzba","W47dNmo1WROQ","zfNcJCk8fa","W5JdKxvMWPW","wmofBtj/","WQvLW4W","WPdcUmoBp8kL","W6xdK8owkSo3","xHBcOJpdGa","WOJcVSksdmoo","uSoie8krW6q","WQnYcGRdPG","W4JcHSo8W7GS","W73dG8kcgmkT","ACo3f8kSW4W","kCknDCozBq","W5FdN1hcQSox","W63dLKn9WO4","e2VdMfGL","zSoVWRz6aa","W5ZdKSoJWRa","BwTbWPfS","rsXuufe","dHLTWQ/dPa","W7ddS0DMWQ4","W5/dHmouWQy6","W4ldUevUWOW","jmkHrCohrq","qCoaWPvQfa","W5ZcTmkny0O","Ae3cNmk3fa","WQRcJeLqWPFdRmkNkW","uCkCWQNcH8kP","WP8rC8kKWOS","b8oWEmo1","W7NcPCkvFfq","W7ZcUK58pW","W4JdNmo0W6CI","W73dRfVcHq","W6/dImoOWR0U","CahcHdtdMW","WPxcS8kZW67dOW","W6v4gaiY","z8k1WQdcK8kU","W6afcaZdOq","BSkPWOVdRG","Fmo6AIrX","rSoYFGz8","r2hdMgX4","jSk3EmoAxa","W7uNtmknra","CG3cMb3dMG","BhBdMwTR","B8kTWOFdGG","W4xdN8o8","AItcLdddQq","W5dcJL5zoG","zSo6WQ1McW","W4lcO8oiW7S","WQH+vWD4y30eWRiXESkuW6C","W53cR8oj","lHD8WPldKW","W7ddGNhcK8o0","WOqhba","WRy4uCkjxG","rbTMAKK","WQDPb1mG","W6FcR8ofW4Tz","EmoNAZ58","WPePnW","qxTrWQPm","W5ClW5aUqCoBla","WQnMs1m+","uCo8zYLw","CfT1W4Pu","dSk8tmopka","eN3dUqSx","fhFdObO4","wmk5WQldSSoL","DbbSB2K","ESoDWRXVha","WOO0kq","W6lcH1q","WO0RjcRcTq","imoJW4tdNmkojmkNeG","D8k2WO7dQCo8","rHxcPYpdJW","gJH5WPtdTW","amoXF8o+fW","WPjrpq","W67dIf0","dmkXCSoPhq","Fa7cIaJdGq","W5OZavO6","og/cM3ldLa","vWGgW4eT","WODZW75ZWPO","Cr5FuMC","WOGDrmoiWRq","sgJdMwf4","W5FdJSomWQW2","aSkYumo+CG","WQbQW7DFWQa","BSoYWP/dQmo9","WOzpmSkI","W5xdKCosWO09","wsBcQctcJG","kb9wWPtcIq","W4VdS8kq","sgNdIG","lCk6F8oJW64","WQChfb/dUG"];return(kp=function(){return t})()}function Sp(t,e){function n(t,e,n,r,i){return wp(0,e,0,t- -1512)}var r={msnBt:function(t){return t()},ZckqL:function(t,e){return t!==e},avSnY:o(0,0,"tJfW",0,1203),QKeMd:o(0,0,"@OSw",0,285),mjVkh:function(t,e,n,r,i){return t(e,n,r,i)},TxCFm:i(0,979,0,0,"r!f*")+s("ta&!",0,560)+s("]WLV",0,243),avuws:function(t,e){return t===e},imqxd:n(326,"9qt)")+o(0,0,"iQYM",0,431)+o(0,0,"BAWC",0,430)+s("[1%B",0,167)+s("O1e*",0,707)+i(0,1041,0,0,"*%5A"),YqTWi:n(336,"mwn)")+"Id",lZhVX:n(389,"[1%B")+i(0,1154,0,0,"H*oP")+i(0,1042,0,0,"PNDY")+o(0,0,"!5XE",0,497)+n(-201,"#G5$")+i(0,1191,0,0,"iQYM")+n(279,"iQYM"),jbnXA:function(t,e){return t(e)},AMPxj:function(t,e){return t!==e},oqFyE:s("Dcvq",0,203),zeTvw:function(t,e){return t!==e},NnSHH:n(-8,"0c1o"),nEwNU:function(t,e,n,r){return t(e,n,r)},RfaCI:o(0,0,"R1v@",0,535),FQdXY:o(0,0,"QCBU",0,526),xqIEH:function(t,e,n,r,i){return t(e,n,r,i)},lwwZI:function(t){return t()}};function i(t,e,n,r,i){return wp(0,i,0,e- -738)}if(e[i(0,725,0,0,"!5XE")+s("z4U7",0,-20)+n(-405,"[1%B")]){if(!r[s("9qt)",0,312)](r[o(0,0,"0c1o",0,822)],r[n(-443,"!5XE")]))return;_0x378e7d=null}function o(t,e,n,r,i){return Qc(0,i- -814,n)}function a(t,e,n,r,i){return Xc(0,0,0,e,r- -586)}function s(t,e,n,r,i){return Qc(0,n- -1125,t)}if(e[n(230,"uT9E")]&&e[a(0,"%O4K",0,54)+o(0,0,"1kQC",0,1189)+n(131,")ZEv")]){if(r[i(0,402,0,0,"#G5$")](r[o(0,0,"iQYM",0,1103)],r[a(0,"!n5S",0,-646)]))return!_0x270d64[n(416,"!5XE")](_0x51d1df[i(0,1112,0,0,"$&#C")+n(-301,"[3oe")]())||!_0x331e0b[a(0,"uT9E",0,-769)](_0xd74a70[a(0,"#G5$",0,-359)][o(0,0,"rReV",0,812)+i(0,1217,0,0,"p!$s")]())||!_0x5d52f6[a(0,"D9)x",0,168)](_0x2b466d[s("uJ9]",0,97)+"m"][i(0,614,0,0,"1kQC")+o(0,0,"PNDY",0,1057)]());var l=r[s("Fy(N",0,794)](_p,e),u={};u[i(0,862,0,0,"]WLV")]=l,u[i(0,546,0,0,"QCBU")+o(0,0,"]WLV",0,868)]=!1,r[s("]WLV",0,112)](dp,t,e,u),e[n(29,"R1v@")+"se"][a(0,"xBdv",0,-411)]((function(){}))[i(0,1082,0,0,"iQYM")]((function(){function n(t,e,n,r,o){return i(0,o-45,0,0,t)}var a={XXbKP:function(t){return r[lp(617,"H*oP")](t)}};function l(t,e,n,r,i){return s(n,0,r- -49)}r[l(0,0,"r!f*",265)](r[o(0,0,"H*oP",0,373)],r[n("9&[9",0,0,0,457)])?r[n(")ZEv",0,0,0,418)](setTimeout,Sp,r[o(0,0,"D9)x",0,472)](xp),t,e):a[l(0,0,"MCXZ",642)](_0x2fff64)}))}else if(r[i(0,1223,0,0,"[1%B")](r[i(0,929,0,0,"0c1o")],r[o(0,0,"mwn)",0,850)]))for(var c=r[n(-113,"PNDY")][a(0,"mwn)",0,-55)]("|"),p=0;;){switch(c[p++]){case"0":_0x582e10[s("ta&!",0,180)+"ap"][n(176,"R1v@")](d);continue;case"1":if(r[s("Jx5b",0,784)](h,null)||_0x5f03c5[o(0,0,"9&[9",0,856)+"ap"][a(0,"#G5$",0,-252)](d))throw _0x18a3d9[a(0,"tJfW",0,-232)+s("0NC0",0,-2)+i(0,512,0,0,"iQYM")]=!0,new _0x46bf02(r[i(0,582,0,0,"Fy(N")]);continue;case"2":var d=_0x25fe55[o(0,0,"uT9E",0,1022)+"rs"][s("1kQC",0,220)](r[s("lzDn",0,701)]);continue;case"3":_0x2b155b[n(-42,"w*zI")+i(0,899,0,0,"C%Or")+a(0,"[3oe",0,97)]=h;continue;case"4":if(!_0x128548.ok)throw new _0x2b36b0(r[n(-380,"!5XE")],_0x33299d[n(-433,"rReV")+"s"]);continue;case"5":_0x4700c4[r[o(0,0,"Dcvq",0,715)]]=d;continue;case"6":var h=r[a(0,"C%Or",0,-227)](_0x4582f7,d);continue;case"7":return _0x5aa830[s("!n5S",0,638)]()}break}else r[s("r!f*",0,485)](setTimeout,Sp,r[a(0,"rReV",0,-684)](xp),t,e)}function Cp(){function t(t,e,n,r,i){return wp(0,e,0,r- -737)}function e(t,e,n,r,i){return Xc(0,0,0,i,n-1220)}var n={lRere:function(t,e){return t!==e},lomSb:t(0,"ta&!",0,1081),mNdVB:t(0,"[3oe",0,969),azRHl:function(t,e){return t===e},XsXZq:t(0,"w*zI",0,1095),KhzFL:e(0,0,1614,0,"Ci!8"),uUoVq:function(t,e){return t(e)},TWXKl:function(t,e,n,r){return t(e,n,r)},MMiHm:function(t,e){return t+e},XBUpb:function(t,e){return t+e},GNmKb:r(0,0,118,"ta&!")+e(0,0,1056,0,"!n5S"),KVkqq:function(t){return t()},vFwtS:function(t){return t()},YtSxg:function(t){return t()},DgcOw:function(t,e){return t>e},vHhZA:t(0,"O1e*",0,620)+i(0,"D9)x",0,0,1274)+"0",ISOEi:r(0,0,24,"3*y*"),YBtra:e(0,0,1816,0,"H*oP")};function r(t,e,n,r,i){return Vc(n-518,0,r)}function i(t,e,n,r,i){return Qc(0,i- -565,e)}Object[e(0,0,1318,0,"MCXZ")+"es"](np)[i(0,"mwn)",0,0,1466)+"ch"]((function(i,o){function a(t,n,r,i,o){return e(0,0,n- -581,0,i)}function s(e,n,r,i,o){return t(0,e,0,o-179)}var l={txlpr:function(t,e){return n[lp(429,"Jx5b")](t,e)},jlzxa:function(t,e){return n[lp(538,"Ci!8")](t,e)},BCltW:n[a(0,1165,0,"vXb6")]};function u(t,e,n,i,o){return r(0,0,i-58,t)}function c(t,e,n,i,o){return r(0,0,i-637,t)}function p(e,n,r,i,o){return t(0,n,0,e- -855)}n[s("iQYM",0,0,0,1018)](n[s("uT9E",0,0,0,572)],n[c("tJfW",0,0,1186)])?Object[c("!n5S",0,0,746)+"s"](i)[u("w*zI",0,0,740)+"ch"]((function(t){function e(t,e,n,r,i){return u(r,0,0,i- -845)}function r(t,e,n,r,i){return s(e,0,0,0,r- -1236)}function i(t,e,n,r,i){return c(n,0,0,i- -223)}function a(t,e,n,r,i){return p(e-7,n)}function d(t,e,n,r,i){return u(n,0,0,t-953)}if(n[i(0,0,"jhlH",0,1260)](n[i(0,0,"iQYM",0,1299)],n[i(0,0,"p!$s",0,811)])){if(!t[d(1502,0,"tJfW")+e(0,0,0,"xBdv",-299)+a(0,-263,"*%5A")]&&t[a(0,13,"w*zI")]&&t[i(0,0,"ta&!",0,852)+i(0,0,")ZEv",0,551)+d(1003,0,"03kS")]){if(n[a(0,-291,"lzDn")](n[a(0,323,"%O4K")],n[d(1644,0,"#G5$")]))return l[i(0,0,"O1e*",0,434)](_0x414d0c[a(0,339,"[1%B")],1)&&_0x7b67c7[r(0,"w*zI",0,-196)]--,l[i(0,0,"ta&!",0,1240)](_0x52d8b2,_0x154358),!1;var h=n[a(0,-416,"PNDY")](_p,t),f={};f[d(1109,0,"jhlH")]=h,f[a(0,-378,"9&[9")+e(0,0,0,"*%5A",-622)]=!1,n[d(1590,0,"EUb4")](dp,o,t,f),t[d(1402,0,"@OSw")+"se"][r(0,"i9rV",0,-504)]((function(){}))}}else{if(!_0x2cb748)return null;try{for(var m=l[r(0,"i9rV",0,-738)][d(1300,0,"ta&!")]("|"),g=0;;){switch(m[g++]){case"0":return _0x4b5134[r(0,"@c)F",0,-699)](_);case"1":var y=_0x5e3097[a(0,-523,"uJ9]")][d(994,0,"0NC0")+"pt"]({ciphertext:_0x3938fa[r(0,"uT9E",0,-580)][a(0,-205,"3*y*")+"4"][a(0,228,"[1%B")](v)},_0x519253[d(1588,0,"uJ9]")][r(0,"D9)x",0,-68)][r(0,"jhlH",0,-276)](_0x43140a),{iv:_0x389d44[d(1095,0,"9qt)")][a(0,62,"p!$s")+"4"][d(1703,0,"tJfW")](b),mode:_0xf56b56[r(0,"O1e*",0,-309)][e(0,0,0,"i9rV",75)],padding:_0x2e436b[r(0,"xBdv",0,-477)][a(0,-222,"!n5S")]});continue;case"2":var v=x[1];continue;case"3":var _=y[i(0,0,"9qt)",0,557)+i(0,0,"1kQC",0,829)](_0x35ad02[d(1785,0,"BAWC")][i(0,0,"Ci!8",0,729)]);continue;case"4":var b=x[0];continue;case"5":var x=_0xad3743[a(0,-108,"D9)x")](":");continue}break}}catch(t){return null}}})):(_0x5ba463=n[p(-164,"xBdv")](n[a(0,1117,0,"*%5A")](n[c("]WLV",0,0,816)](n[u("i9rV",0,0,898)],n[s("O1e*",0,0,0,1316)](_0xc48fd0)),n[a(0,978,0,"tJfW")](_0x5d38dd)),n[s("r!f*",0,0,0,471)](_0x4af823)),_0x39ed32[u("03kS",0,0,815)+"em"](_0x370193,_0x19736a))}))}function Ep(){function t(t,e,n,r,i){return Vc(n-1403,0,i)}function e(t,e,n,r,i){return Xc(0,0,0,t,e-818)}function n(t,e,n,r,i){return wp(0,i,0,e- -762)}return!Lc[n(0,439,0,0,"03kS")](setTimeout[t(0,0,1396,0,"w*zI")+n(0,345,0,0,"[1%B")]())||!Lc[e("PNDY",1426)](performance[e("D9)x",1360)][e("!5XE",1174)+t(0,0,1689,0,"z4U7")]())||!Lc[Vc(213,0,"BAWC")](Math[e("w*zI",1556)+"m"][e("xBdv",1409)+e("xBdv",1070)]())}async function Tp(t,e){var n={KCAYR:function(t,e,n,r,i){return t(e,n,r,i)},UXmwO:function(t){return t()},fIIme:function(t,e){return t(e)},fIdEm:function(t,e,n,r){return t(e,n,r)},EbIhW:function(t,e,n){return t(e,n)},gjygc:function(t,e){return t*e},kIvzC:function(t,e){return t*e},SsLSj:function(t,e){return t+e},LyjtQ:w(1224,0,"O1e*")+M(800,0,0,0,"QCBU")+"d",PtKiY:function(t,e){return t+e},MLfFI:C("[3oe",0,0,216)+w(1452,0,"uT9E"),WTvFx:function(t){return t()},bQTKE:function(t){return t()},rHKyu:function(t,e){return t+e},klUDr:function(t,e){return t*e},dYYQk:function(t,e){return t===e},SVcbf:M(937,0,0,0,"vXb6"),Czeht:M(602,0,0,0,"Dcvq")+I(-6,")ZEv")+w(1355,0,"%O4K")+S(0,0,673,0,"uJ9]")+C("jhlH",0,0,999)+I(-116,"lzDn")+I(-181,"C%Or")+I(-587,"!n5S")+C("ta&!",0,0,134)+M(721,0,0,0,"xBdv")+I(156,"O1e*")+S(0,0,523,0,"%O4K")+M(178,0,0,0,"jhlH")+S(0,0,424,0,"i9rV")+M(232,0,0,0,"!5XE")+"h",FimFS:I(-1,"[3oe")+I(58,"[3oe")+S(0,0,-35,0,"@OSw")+C("@c)F",0,0,510)+C("9qt)",0,0,634),uvTbZ:function(t,e){return t===e},JVEYb:M(179,0,0,0,"rReV"),vTUvH:function(t,e,n){return t(e,n)},hojyN:S(0,0,134,0,"MCXZ")+"Id",OWjhn:function(t){return t()},sTQCJ:C("*%5A",0,0,626),JSNzC:M(204,0,0,0,"ta&!"),CePhk:w(1393,0,"Jx5b"),HFdml:I(-107,"0c1o"),UZQzA:function(t,e){return t!==e},HkSlD:M(834,0,0,0,"QCBU"),COlsw:function(t,e){return t>e},WNQcq:function(t,e){return t===e},SmeTv:S(0,0,699,0,"3*y*"),svigZ:function(t,e){return t(e)}};if(n[w(917,0,"PNDY")](Ep)){if(n[S(0,0,697,0,"MCXZ")](n[I(-126,"*fmu")],n[w(1742,0,"D9)x")]))return n[I(165,"9qt)")](pp,new Error(n[w(1492,0,"ta&!")])),!1;var r,i,o,a,s,l,u,c={};c[M(775,0,0,0,"0NC0")]=_0x37f478;var p={};p[M(241,0,0,0,"MCXZ")]=_0x5e5218;var d={};d[C("9&[9",0,0,627)]=_0x2982c2;var h={};h[C("!n5S",0,0,884)]=_0x12cbd0;var f={};f[S(0,0,239,0,"w*zI")]=_0x4c6ba2;var m={};return m[I(-208,"z4U7")]=_0x1f2133,(u={})[_0x5575a6]=_0x1b9011[M(296,0,0,0,"tJfW")+"n"]({},_0x56c576[I(-530,"Fy(N")](_0x1106b8),((r=c)[_0xbf34dc]=new _0x3c5654,r)),u[_0x22a694]=_0x59504f[M(-15,0,0,0,"[3oe")+"n"]({},_0x4de372[C("*%5A",0,0,541)](_0x3b8dd7),((i=p)[_0x1feaf5]=new _0x22b287,i)),u[_0x22b1e0]=_0x32466a[w(1578,0,"ta&!")+"n"]({},_0x3eb867[M(150,0,0,0,"Fy(N")](_0x3c4592),((o=d)[_0x160253]=new _0x73e6b1,o)),u[_0x493cc8]=_0x1bf9ac[w(1781,0,"w*zI")+"n"]({},_0x301a87[C("*%5A",0,0,541)](_0x3f00c9),((a=h)[_0x5ea40e]=new _0x15aa7d,a)),u[_0x56f8dd]=_0x4ba67a[C("3*y*",0,0,875)+"n"]({},_0x42f3f6[w(941,0,"rReV")](_0x41f945),((s=f)[_0x2bfc46]=new _0x1cc772,s)),u[_0x58adbe]=_0x5b046d[S(0,0,-1,0,"rReV")+"n"]({},_0x26eda4[S(0,0,623,0,"QCBU")](_0x54d735),((l=m)[_0x3cffa5]=new _0x5d0d39,l)),u}var g=e[C("*fmu",0,0,434)+"y"];if(n[S(0,0,590,0,"Dcvq")](t,n[w(1181,0,"p!$s")])){if(n[S(0,0,112,0,"Ci!8")](n[C("!n5S",0,0,144)],n[I(-318,"uT9E")])){var y=n[I(-407,"Fy(N")](rp,g,Kc),v=n[w(1213,0,"!5XE")](rp,g,Yc);return await Promise[S(0,0,430,0,"MCXZ")]([y[I(-5,"p!$s")+"se"],v[S(0,0,-189,0,"!n5S")+"se"]]),!0}var _={qzgQz:function(t,e,r,i,o){return n[w(831,0,"MCXZ")](t,e,r,i,o)},jdGXx:function(t){return n[C("!5XE",0,0,126)](t)}},b=n[C("9&[9",0,0,663)](_0xb9dad6,_0x5419dc),x={};x[S(0,0,629,0,"i9rV")]=b,x[w(1131,0,"!5XE")+M(370,0,0,0,"uT9E")]=!1,n[w(1460,0,"0c1o")](_0x4985d7,_0x1ac4c0,_0x500a3e,x),_0xfbd608[M(360,0,0,0,"[1%B")+"se"][M(401,0,0,0,"MCXZ")]((function(){}))[I(-453,"EUb4")]((function(){_[S(0,0,580,0,"R1v@")](_0x1283e7,_0x10791f,_[C("xBdv",0,0,121)](_0xe3e846),_0x2ca984,_0x6c2a1)}))}function w(t,e,n,r,i){return Jc(0,t- -134,0,n)}var k=n[I(-469,"MCXZ")](rp,g,t);function S(t,e,n,r,i){return Qc(0,n- -1302,i)}function C(t,e,n,r,i){return Qc(0,r- -995,t)}if(k[n[I(-447,"H*oP")]]=k[n[I(-54,"jhlH")]]||n[M(823,0,0,0,"mwn)")](ap),!k[M(59,0,0,0,"@OSw")+S(0,0,398,0,"C%Or")+w(1697,0,"O1e*")]&&!k[S(0,0,710,0,"O1e*")+w(1338,0,"i9rV")+w(1573,0,"xBdv")+I(-209,"BAWC")+S(0,0,573,0,"@c)F")+"ta"])if(n[M(766,0,0,0,"9&[9")](n[C("*%5A",0,0,286)],n[C("[3oe",0,0,401)]))try{var E=n[w(1406,0,"uJ9]")](_0x560989,_0x26483e[0],10);return _0x167da5[I(-18,"[1%B")+C("EUb4",0,0,832)](n[I(125,"Ci!8")](E,16),n[I(-106,"tJfW")](n[w(1012,0,"C%Or")](E,1),16))}catch(t){return null}else{k[S(0,0,440,0,"Dcvq")+M(559,0,0,0,"0NC0")+C("$&#C",0,0,530)+I(-653,"]WLV")+S(0,0,507,0,"MCXZ")+"ta"]=!0;var T={};T[M(537,0,0,0,")ZEv")+w(1659,0,"@OSw")]=!0,n[I(-639,"QCBU")](dp,g,k,T),await k[S(0,0,-60,0,"!5XE")+"se"],n[C("H*oP",0,0,611)](setTimeout,Sp,n[S(0,0,338,0,"ta&!")](xp,!0),g,k)}function I(t,e,n,r,i){return Jc(0,t- -1663,0,e)}function M(t,e,n,r,i){return Qc(0,t- -1093,i)}try{return n[w(1721,0,"@OSw")](n[C("p!$s",0,0,398)],n[w(1198,0,"Fy(N")])?null:(k[S(0,0,144,0,"D9)x")]++,await k[I(-101,"Fy(N")+"se"],!0)}catch(t){if(!n[S(0,0,688,0,"O1e*")](n[S(0,0,237,0,"Fy(N")],n[C("Dcvq",0,0,961)])){if(n[C("vXb6",0,0,114)](k[C("Dcvq",0,0,155)],1)){if(!n[I(-102,"C%Or")](n[w(925,0,"@OSw")],n[C("ta&!",0,0,952)]))return n[S(0,0,150,0,"$&#C")](_0x837e8f,_0x38baef[w(1557,0,"[1%B")](n[M(655,0,0,0,"]WLV")](_0x83778b[I(-146,"EUb4")+"m"](),10)));k[C("jhlH",0,0,854)]--}return n[I(-326,"uJ9]")](pp,t),!1}var A=n[M(87,0,0,0,"H*oP")];_0xd0a18c=_0x3042ef[M(44,0,0,0,"xBdv")+"em"](A),!_0x5f2409&&(_0x4ea80f=n[w(1280,0,"R1v@")](n[C("!5XE",0,0,396)](n[S(0,0,571,0,"xBdv")](n[S(0,0,713,0,"@c)F")],n[S(0,0,354,0,"R1v@")](_0x417f7b)),n[C("[3oe",0,0,156)](_0x5999f7)),n[M(88,0,0,0,"@c)F")](_0x2435cb)),_0x582e25[S(0,0,712,0,"#G5$")+"em"](A,_0x25e119))}}!T()&&window[Vc(-271,0,"Dcvq")+Vc(-358,0,"tJfW")+wp(0,"*fmu",0,1648)+"r"](Vc(-101,0,"R1v@")+Xc(0,0,0,"EUb4",643)+"ad",(function(){({ABetw:function(t){return t()}})[Jc(0,1573,0,"*%5A")](Cp)})),function(t){function e(t,e,n,r,i){return Mp(e- -145,n)}var n=t();function r(t,e,n,r,i){return Mp(e- -505,n)}for(;;)try{if(911663==parseInt(e(0,562,"#DOM"))/1+-parseInt(Mp(886,"^Z2J"))/2*(parseInt(e(0,691,"N5V5"))/3)+parseInt(r(0,162,"BdA%"))/4*(-parseInt(Mp(553,"Pj*["))/5)+parseInt(e(0,346,"#Ql4"))/6+parseInt(e(0,700,"0S#P"))/7*(parseInt(e(0,375,"0ysx"))/8)+-parseInt(r(0,161,"Pj*["))/9+parseInt(r(0,295,"q%8f"))/10*(parseInt(r(0,35,"Jr^C"))/11))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Up);var Ip=function(t,e){var n={XRKrV:function(t,e){return t+e},eOSRC:function(t,e){return t+e},fDPig:function(t,e){return t+e},vXgHi:function(t,e){return t+e},OlWjP:a(0,0,0,1445,"q%8f"),XwmgY:function(t,e){return t(e)},VUjgQ:function(t,e){return t+e},jQQAn:function(t,e){return t+e},aWrQG:function(t,e){return t===e},wJTix:a(0,0,0,1668,"[4ET"),PHqBQ:function(t,e){return t+e},AvgsZ:l(552,0,"3Zf)")};function r(t,e,n,r,i){return Mp(i- -1,n)}function i(t,e,n,r,i){return Mp(i-667,e)}if(e){if(n[l(747,0,"%Aa^")](n[i(0,"4)ts",0,0,1180)],n[i(0,"LerC",0,0,1020)]))return n[a(0,0,0,1478,"OzKl")](n[a(0,0,0,1216,"m72r")](t,n[i(0,"KH(w",0,0,1356)]),(new Date)[i(0,"m72r",0,0,1141)+"Of"]());var o=n[a(0,0,0,1436,"IsFQ")](n[a(0,0,0,1568,"Sx7s")](n[r(0,0,"#DOM",0,417)](n[s(384,0,0,0,"*HOv")](n[a(0,0,0,1475,"N5Y^")](n[i(0,"VZp!",0,0,1166)](_0xb72714.z,"/"),_0x1e328d.x),"/"),n[l(313,0,"^Z2J")](n[r(0,0,"0K@a",0,894)](_0x1acc11.y,1),_0x4c3e51)),n[i(0,"(qGh",0,0,1461)]),n[i(0,"6*@y",0,0,1027)](_0x59b0cf,_0x324ccb[s(423,0,0,0,"N!5j")]));_0x38142d=n[l(454,0,"q%8f")](n[s(136,0,0,0,"Q3il")](_0x3e10e7,n[l(514,0,"PXQc")](_0x3dbf70,o)),_0x2c7983)}function a(t,e,n,r,i){return Mp(r-736,i)}function s(t,e,n,r,i){return Mp(t- -215,i)}function l(t,e,n,r,i){return Mp(t- -72,n)}return t};function Mp(t,e){var n=Up();return(Mp=function(e,r){var i=n[e-=339];void 0===Mp.rPRuOK&&(Mp.ySiDZW=function(t,e){var n,r,i=[],o=0,a="";for(t=function(t){for(var e,n,r="",i="",o=0,a=0;n=t.charAt(a++);~n&&(e=o%4?64*e+n:n,o++%4)?r+=String.fromCharCode(255&e>>(-2*o&6)):0)n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var s=0,l=r.length;s<l;s++)i+="%"+("00"+r.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(i)}(t),r=0;r<256;r++)i[r]=r;for(r=0;r<256;r++)o=(o+i[r]+e.charCodeAt(r%e.length))%256,n=i[r],i[r]=i[o],i[o]=n;r=0,o=0;for(var s=0;s<t.length;s++)n=i[r=(r+1)%256],i[r]=i[o=(o+i[r])%256],i[o]=n,a+=String.fromCharCode(t.charCodeAt(s)^i[(i[r]+i[o])%256]);return a},t=arguments,Mp.rPRuOK=!0);var o=e+n[0],a=t[o];return a?i=a:(void 0===Mp.yNGJXT&&(Mp.yNGJXT=!0),i=Mp.ySiDZW(i,r),t[o]=i),i})(t,e)}function Ap(t,e,n,r,i){return Mp(n-489,t)}var Op,Pp=function(t){var n={UvVGC:function(t,e){return t(e)},LWVvM:i("(0t0",0,886)+"4"};function r(t,e,n,r,i){return Mp(e-781,t)}function i(t,e,n,r,i){return Mp(n-398,t)}return e[i("[4ET",0,1023)](n[r("q1Y^",1282)](String,t))[Mp(917,"[4ET")+r("%Aa^",1580)](n[Mp(345,"N5Y^")])},Dp=function(t){function e(t,e,n,r,i){return Mp(n- -340,e)}return String[e(0,"(0t0",228)+e(0,"(qGh",101)+"de"][Mp(515,"w$iV")](String,t)},zp=Fp(114,"[4ET")[Np(0,0,400,0,"w$iV")]("")[Np(0,0,409,0,"Pj*[")+"se"]()[jp(0,0,-32,"N5Y^")](""),Lp=function(t){var e,n={xnIRL:function(t,e){return t===e},yfcat:c("0K@a",0,0,255),BtDiH:c("[4ET",0,0,52),rWiYn:function(t,e){return t(e)},uswvw:function(t,e){return t+e},NqsKz:function(t,e){return t+e},PCCQp:function(t,e){return t-e},Cfesq:function(t,e){return t-e}};function r(t,e,n,r,i){return jp(0,0,e- -82,n)}var i={};function o(t,e,n,r,i){return Ap(t,0,n-94)}i["+"]="-",i["/"]="_",i["="]="!";var a=i;function s(t,e,n,r,i){return Ap(i,0,t- -215)}e=t[c("Y0AS",0,0,433)+"h"];var l=n[o("@2q9",0,950)](Pp,n[s(694,0,0,0,"2EoY")](n[r(0,-243,"Y09V")](t[o("dvsX",0,1047)+"r"](n[u("wT]Y",0,0,-86)](e,1)),t[o("@2q9",0,1405)+"r"](1,n[u("0S#P",0,0,-467)](e,2))),t[r(0,72,"wT]Y")+"r"](0,1)));function u(t,e,n,r,i){return jp(0,0,r- -145,t)}function c(t,e,n,r,i){return Np(0,0,r- -402,0,t)}return e=l[c("[4ET",0,0,230)+"h"],n[s(821,0,0,0,"w$iV")](n[c("(qGh",0,0,376)](l[r(0,-78,"0S#P")+"r"](n[s(1140,0,0,0,"wst]")](e,1)),l[s(683,0,0,0,"[4ET")+"r"](1,n[s(1205,0,0,0,"4)ts")](e,2))),l[c("Sx7s",0,0,567)+"r"](0,1))[c("Q3il",0,0,476)+"ce"](/[+/=]/g,(function(t){function e(t,e,n,i,o){return r(0,o-1305,i)}return n[e(0,0,0,"0ysx",1286)](n[e(0,0,0,"J(*[",1151)],n[s(840,0,0,0,"(qGh")])?_0x30680b[_0x4cbb16]:a[t]}))},Rp=function(t,e,n,r,i){function o(t,e,n,r,i){return Np(0,0,t-628,0,r)}function a(t,e,n,r,i){return Fp(t-1125,r)}var s,l,u={ShHJJ:f("m72r",0,0,0,-497)+h(1328,0,0,"dvsX")+f("4)ts",0,0,0,-246),PhcTG:h(1681,0,0,"6*@y"),qTRlY:function(t,e){return t(e)},HDqFz:m(0,"#DOM",913),lWjFf:function(t,e){return t(e)},HEKyd:a(768,0,0,"^Z2J"),GgyIc:function(t,e){return t(e)},uuxAk:function(t,e){return t(e)},qZMsx:function(t,e,n){return t(e,n)},zvGzI:function(t,e){return t<e},KvgZS:function(t,e){return t!==e},DjcUp:f("Y0AS",0,0,0,-139),ECEzN:o(1395,0,0,"6*@y"),AOmzV:function(t,e){return t>e},SJDWO:function(t,e){return t!==e},oJtjB:o(1578,0,0,"2EoY"),cgPUI:function(t,e){return t*e},Ofzbk:function(t,e){return t(e)},voBWz:function(t,e){return t+e},zsquk:m(0,"#Ql4",795)},c=[],p=[e,n,t,r],d="";for(i=u[o(1256,0,0,"#DOM")](String,i)[f("%Aa^",0,0,0,-427)](""),l=2,s=0;u[a(861,0,0,"Jr^C")](s,4);++l,++s)u[o(1570,0,0,"LerC")](u[a(866,0,0,"KH(w")],u[o(1496,0,0,"IsFQ")])?(u[a(1249,0,0,"pM*Q")](l,3)&&(u[f("eQ7!",0,0,0,-131)](u[h(1349,0,0,"Y0AS")],u[m(0,"Q3il",1215)])?_0x582814=_0x226c48[o(1452,0,0,"dvsX")](_0x411a80[m(0,"BdA%",1282)+"em"](u[h(1184,0,0,"Xf0[")])):l=0),c[s]=u[o(1269,0,0,"w$iV")](p[l],i[l]),d+=u[h(1598,0,0,"1^Nk")](String,c[s])[f("Pj*[",0,0,0,35)+"h"]):(_0x2b1124=_0x33d180[o(1367,0,0,"Sx7s")+"ce"](u[h(1478,0,0,"3Zf)")],u[m(0,"OzKl",929)](_0x41d6c6,_0x55ecd9.z))[a(877,0,0,"0ysx")+"ce"](u[a(1187,0,0,"^(Qi")],u[m(0,"VZp!",838)](_0x46c26b,_0x2e5eb3.x))[m(0,"IsFQ",991)+"ce"](u[o(1505,0,0,"*HOv")],u[f("LKkO",0,0,0,-436)](_0x2f2e45,_0x423a50.y)),u[m(0,"#Ql4",874)](_0x2f12a7,{url:u[h(1172,0,0,"Y09V")](_0x411c07,_0x6557fa,_0xd14fb4)}));function h(t,e,n,r,i){return Ap(r,0,t-279)}function f(t,e,n,r,i){return Ap(t,0,i- -1377)}function m(t,e,n,r,i){return jp(0,0,n-1059,e)}return d+=2,c[a(1076,0,0,"q%8f")+"ft"](d),u[h(1351,0,0,"Pj*[")](u[h(1427,0,0,"IsFQ")],c[h(1487,0,0,"N!5j")](""))},Wp=function(t,e,n){function r(t,e,n,r,i){return Np(0,0,r- -342,0,t)}function i(t,e,n,r,i){return Np(0,0,r- -409,0,n)}function o(t,e,n,r,i){return Np(0,0,t-523,0,n)}function a(t,e,n,r,i){return jp(0,0,n-1435,e)}return t[r("w$iV",0,0,508)+o(1505,0,"BdA%")](n)[r("0ysx",0,0,91)](e[o(1423,0,"KH(w")+i(0,0,"Y0AS",135)](n[o(1197,0,"N!5j")]()))[i(0,0,"eQ7!",242)+r("Pj*[",0,0,347)](n)[a(0,"3Zf)",1501)+a(0,"@2q9",1259)]()},Bp=function(t,e,n){function r(t,e,n,r,i){return jp(0,0,t-183,e)}function i(t,e,n,r,i){return Np(0,0,r-0,0,n)}function o(t,e,n,r,i){return Fp(e-463,t)}return e[o("KH(w",580)+r(-140,"N5Y^")](n[i(0,0,"#DOM",939)]())[i(0,0,"%Aa^",517)+o("%5me",245)](t[r(-162,"N5Y^")+Ap("(0t0",0,1287)](n))[r(383,"n9dj")+i(0,0,"BdA%",639)](n[i(0,0,"%5me",434)]())[r(97,"OzKl")+o("3Zf)",540)]()};function jp(t,e,n,r,i){return Mp(n- -719,r)}function Np(t,e,n,r,i){return Mp(n-54,i)}function Fp(t,e,n,r,i){return Mp(t- -729,e)}function Up(){var t=["pSkPmhtdHa","BxJcP8onga","tuxcMsZcPa","W78UiCk8WR0","gX/cO2OJ","WPpdPahdUgG","AJjXl0e","FbCfemo+","W6dcSNpcMCk+","kSkLealcMW","mCotqCkAW70","WOWVW6JdK3y1W5y1u1rtxSkB","oeevWOxcGG","DSoCxW","W4begXlcHW","qfxcQmoYWQm","AJPNgSo3","tdJcTSkpWQO","W48ejCo3Ca","w0ZcPSkBzq","iLbgjCoFmCkehfG","W4SEAmoNkW","W45RWRtcJZu","oSkPgNS","xGn7pNe","Cw/cKmkwCa","bmkmobBcQG","zmocW7BdSCo/","hCkrWR/cJsS","zLJdPrVcMG","WRtdVmoTjSkk","emk6uxqv","bmoAWOxdKXO","W6asemotEq","E1BcOmo7WQS","W7tdG0m0WPG","jCo4WPpdGsK","r27cKCkjBq","BvxcOmooWQS","W5lcVuFcSSkE","W6RdSGVdNSkj","wfTcfCoQ","W4a3mSkCWQm","zLlcH8o3oG","d8oNFCkSW5O","zmohW7JdQ8o/","C2/cGCklzq","W6rVWPBcTcG","pmk8afpdJW","W5RcOCohdCoy","W6tdOc7dUmkK","h19PW6WC","C1BcNCoDpq","x8oMtgBcGW","pSohWOpdOrC","jwjrW7iT","WQyEhcO1","vGD4b0u","WRlcKqqIha","wmoRWRS","W4dcM8olj8ou","aSoDWOtdOHq","W6O0cmkTWPe","WRXYb0xdGG","kKqhWPRcJW","a8ouWQhdHsK","tupcLGlcLq","FxVcLM7dTa","ECkAW7NdO8o7","Ec1fWRCi","W6rJnstcHa","W4hdShydWPW","rYbLWOiJ","WQPtheBdKW","cmokWQVcICoE","W554WQdcTba","WPddPYxcSmkx","bSoNeMJcOG","oefeW745","FMtcHSkWqq","qh7cKmomeq","zGS7h8on","i8knFvCH","fCkBndVcIq","WQVcMGuqiW","ACoaq27cGG","W4aqpmoMCG","W43dHc7dUSkW","z3pcICkmda","W6rdkZlcSG","iuT7W40j","xmoKWQWonW","fIRcGvaD","pSkeeMBdGG","de7dNrddIa","ECobWQ0dka","yx/cV8kwia","W4lcJCo7jSot","j8koWP/cKqW","WPtdUIxcI8kr","E0/cKmozWPS","c8o1kKBcLW","tHfMfG","wIfr","FCkgvZxdO0vGW5/dNCoEA1u","h19opmob","WROBtG","AmoXWQKZaq","eCosj0JcOW","W4VdOX7dPSkT","W7LchW","fuFdPH3dLa","f0FdSGddMq","yMFcQmkvdG","W6mwc8koWOu","W5qismopoa","nCkPkdZcKG","WQqAhJuX","bG7cRwi7","ms7cJq","xbvoWRWR","z8o/B0hcMW","W6S6eGZcRq","uHHeWQCw","W5b5WRhcTGK","burS","W7yneqZcVa","W4VcVCoen8oy","ovehWPRcLW","WQnqttRdSq","kmobWQK","ALHXgmol","DM/cPXVcPW","W50lfHNcJW","WQZdStpcU8ki","l1ee","AgpcT8k0pq","W7CDaXpcQq","gSo1WRpdTai","qKxcQ8o2WQy","wCoxBupdR37dJvhdLmkrnG","W4NdTsddJ8kX","W5SErmoBmG","WRxdHIhdJ0S","W4a9DmoohW","WQJcMYq+dW","WQ5Wn0FdVW","FunqxG","qIPSmN0","iCkeW7pdG8onWPmJWQ0","WRtdGmokmSki","i8olWQu","qsPgWPOW","fYBcP3KK","oNnfimoh","CvxdVW","zGrkie4","WO5iceZdOa","AMmjWOpcPa","caFdKsVcM8o8W4NdHSoFdaBdT8kg","rxGbWQ7cPa","imorbq","dCoYDSkQW78","jGtcPeWg","zKlcGCol","W4SBfSogwW","oeasWOtcUa","W4ahgSo1Aa","c8oBWRxcK8op","ASo1BL3cUG","WR7dUH3dR0O","oLvPbSog","iSkJa3NdHG","u8oXFg7cNW","v17dNJFcMa","CSogt3JcKa","hmo2WRddOZ4","amk7xhuL","F2dcK1hdLa","jh4dWPZcTa","hxbQW5Kj","W6iqbSkcWPy","vxpcPCkPca","xvpcNWNcOW","WQnIc1hdGG","W4KPp8k0W6u","zCowW6FdTSoU","zMtdTmotga","W7eAjSkkWPO","W5n+WQdcKG","s8kTf8k7W48aW6j0W7S","lvpdHbNdQW","WP8ncXWh","oCoaWOhcSCol","W4VcTuVcHSkl","WP/cPX8vcG","pSksaxtdGq","tNhcV8odfW","W4RdSJZdOCki","W4uaimkMWQK","BsP/dw8","WQddJCoxhCki","W7ldOrJdSa","yvBcRSoAWQC","W6msbbJcIW","W4aOk8khWRq","mSk+vYSA","v8onWRGCcW","W40ji8oaCq","jWBcVxCu","FtHfmxm","W6r6WPFcVYO","W6hcQmkuWPxcLW","W5y5fCktW7u","WORdIG/dLgS","FZmTo8ox","W5FcGSkQ","zZRcSW","W47dQd7dVCkP","q0tcNSk1hW","WQNdQXxdRh8","BKjZbmoQ","W7BdHatdSmk9","W5FdSGhdVCkY","sYKenCow","xcTt","d8oAv8kiW78","W6ddTgGYWO0","WOVdQJ3dUgS","W4aoncRcOW","WQxdICoqmCkr","pfKBWQtcHa","W5ubwSo5","W7ZdVM8","ChJdMcLhWR/dOtvNWPddSG","aw/dMsddOa","DeHLpmow","mmozWOJcT8o3","W6H+psFcOq","cSoCjMVcVa","W5vUWOJcVGC","zttdLq","WQlcUIm0oa","xdTpe0m","W7xdIbNdJmkr","W4/dOGhdVmks","W74bsmoedW","tvVcHha","W4m0pG","zCosW6tdRSoQ","gmkGhNldLq","W74Jomk2WQG","amkFu1qA","yvvD","W63dIYJdOCky","w8osW7ldTG","iCkQWPlcLHK","t0RcGSotna","E1FcLCowWPS","WQtdHJxdHMW","WQVcMZamiG","BuFcOMRdPa","wvlcPCoRia","iwuMWRFcMa","W4BcQK7cSSkw","WQmXoc8S","uJzLWPKK","W77dThaWWOS","jh3dLYxdUW","W50nn8kuWOi","axVdNIpdSW","W6OqwCo/pW","rdFcO8krWOS","W4uFnCk4WRi","WOXYmfRdOG","aCkNrgCL","rrjObSoc","W5XUfqdcMq","tx7cJsVcHq","W7CVgIBcPG","DM/cUa","W5alnSkTW5q","WOJdOCohnCkr","hCkJWOlcJJK","aSoKwa","W47cTSk/WP3cVq","ChxcVCoddq","W6WBaCkX","r8o7cd9HCLfVdHiH","FCo3AgJcLW","vsvbWPes","W5KAeq","suhcHgG","yqChh8o6","W4e6bSoTwa","jKeBWOlcNW","aCkhnr3cQW","h8ozDCk3W6O","W6/cQmoMlCov","tSoJW5BdU8oy","W4VcU1BcQ8kz","WQNdUmompCkV","w2u9WOBcRq","W44BfmkTW6y","W6/dIIJdR8kA","gCoXWQ3dKIK","WO/dOCoVh8kE","W6xcISoGi8o/","t3JcSSor","vmorW7hdSCo6","emoCog3cLq","W6WwebpcVq","wurJnSoT","tgNdHd7cIG","lvJdLHBdVa","C0nh","yJG6amoJ","WPpdPCordSk+","ns7cS8oKp2JdS1m","BvxcIf3dIq","WOxdUSoli8kg","AvHca8oS","ff5yW7aD","z00SWOpcUa","nWulW4dcIG","ivjffSozcSkHh1S","rIffWP44","W5j5WPFcNYi","WPxcLH8Cja","DeHtgmo5","W6vjWPpcLbC","z8o7W7xdLCoH","urf/hvm","rrTBbfe","p1SKWOlcHa","b8ktnvddNG","W5eqeG","rrNcHSk1WRy","BwddVtVcGq","auHIW48G","WRBdVCo3jCk1","W6yPiCk0","W5XgcX/cOG","sLhcH8ollW","ac7cRheD","rxhcUCoadq","qLBcTrFcTq","s0NcQt/cMq","s1BcRIpcGG","p8kZaxBdGG","W4NdSG/dUSkV","W509nmkgWQe","ExNcPSkRlG","amkdWRRcUdm","WQFdSrBdPw8","j8kGvvey","CcxcOmkrWQy","pmkVf3tdKW","pCkEr0i0","DeXk","W67dKbRdUmk5","fGdcRx40","mCkOFe07","W4JdGcNdUCk2","W6lcUvZcISkB","CxNcTSkSBa","x1pcS8k/ca","nZBdRq","f1b2","xxlcKYJcUG","baJdICoXxmkGWOWZymkyWP8w","WR7dQs3dSg8","WRFdHmoA","qd9AWP8L","W5JcPmkVWQJcTW","qdPuWOiJ","c8oEWRVcICop","u3ykWPdcHq","tq1M","W6VdGIhdNCkG","FKnhj8o+","xCoGWRiIjG","WOpdGSoaaCkm","WOrXbftdOW","oKHHi8od","W58InmkOWQG","W5yFc8kWW6i","DdnYnmow","W4mqkXVcIq","rYzAWPms","W6pdVaRdMSk1","wfFcNCk1ga","W7a2fSkhW5y","W4OBbCoyxW","WQtdQa3dQMG","W6pcICk5WQNcOq","eCkfwL8W","b8ormK3cJG","D3tcUmoaoG","FYhcUSkvWRO","ybvZb8ks","WQRdNCopimkv","sCoas30","mZBdReldPtPiqmkDEsVdH2e","W5v6WQRcPs4","WQldOspcLCkS","WO0FeSkXW68","WOjMfwtdLW","aCkmWQ8","t8oeW7hdPmom","ah1HW5Ko","nhHaW60+","CmovEM/cRa","W6pcKmkyWPZcKq","ChVcU3pdQq","x8okzNNcVG","W4K+CmohfG","W6VdKZ7dGCkT","W6tcJuRcU8kk","vuFcK0FdIa","vHPRnCoT","W7G1fmkdW4O","fCoFWRFdHqm","wfdcLq","Eq19","nupdQdRdQq","yuldRrVcIa","AvFcICotWPy","ySk6rMNcLa","CbhcLmk+WP4","cmojce7cMW","ybLyimoH","WOLlrmkdcSkGWPFdJ8ooWQHOWRlcVG","aWhdJa","W6jjccRcOq","WQVdQaldSNG","lCo0n23cTq","WRXtk0tdGa","h8oQcgxcHq","WRTOnKldHa","W5XjhJi","W6KrlSkDWOy","W40ekmkPW50","p8oXeuVcOq","uf3cHG","pMrsW4Gk","CxpcPtVcUa","k8o0bLVcTq","iCksoxldKa","hSkkmHZcQW","W4JdQIxdVCkj","W6e0tColfa","gdj8WRZcImkzpLNcNG","d8ojWRFcQmoV","pCkLWQ/cVcG","W6Wwfa","dSoQexJcGW","j3VdPsldLq","W6qnaCkRWRK","FvtcJSojWPG","W4/dTqe","W5ldTrtdSCk2","amk1W6X1hSoZowhcTIO","k27dLcFdGG","De7cM8ocoG","WR3cOtzLWRxdICkJWP3dS8on","W4pcLCkcWQpcQG","x8osW7NdG2RdHW9DmCkTEmkwWPy","W5dcT8oSgmot","gmoRmuRcOG","xrmeomoH","CJhdNgrh","fSkgWRtcM8ol","W4/dRIhdPCkn","D2FcQ8kSDa","zvxcSmkQuG","fZRcHwGX","WQfIfL7dLW","kSkwWOZcKHq","uf3cGNldMq","zazVd8oN","C2JcHConkG","W7pcISoQoa","W63dKIVdJmkI","Aq5JduO","W4zJWQu","W4HUWQdcPYO","drNcONyY","hSkhoaJcUG","kNZdRaVdLW","DKHof8oS","W4WrjSoata","FYHZWRqN","ASoVwwpcTa","p3RcLcGj","W7RdVKqcWOm","hN1lp8o5","W6Kirq","tuFdOrRcTW","A0dcQCoQWQy","lCkNWPhcOrS","z3tcGmk1FW","uSoXWRm3ha","WRddRI3cRCka","EwLpiSoW","W43dPhi9WPy","bZmg","vMpcOKRdOa","yCoaxG","pmoIWQZdGti","zWCXg8or","W6BcT8oChmo/","W7hcKmkAWQ/cKa","W5hdUIJdOmkQ","kmopeG","W4acnCkCWQO","W6G3oCk8WRK","sKBcG2RdNG","vGfT","xNpdLaFcHa","fmosWRtdJsa","W4/dIrFdLmkI","WRO5dtuX","vCovW5/dS8os","r2u+WOlcRq","WPddQbhdTmoiWP9iz8osW6VdH8kbWPK","er7cIL8c","W5CAea","FHG4h8ob","cSooWQNcLSoA","v0BdRHJcNa","WODRphVdTq","imk0fMm","nCo4q8kQ","W7Cxp8kLWQW","wmoKW4BdRSor","WQ9Arq","Ff9phq","kmoCfG","wKVcKSkGcG","W6iVamkTWQS","hmojxmkUW6G","W5NcUCoCkSo0","nmkJaa","w1dcIKtdVa","yK/cGCkTva","sIbPgee","W7ZdVx8","iLSz","yWXbmNi","mCk2aW","e8o5WPNdKGS","qLlcMq","WO0cr8oidq","B2JdIsFdUq","W53cH2lcU8kF","j8o2WQZdGd4","W6mZoSk5WQW","imkdkY7cUG","W77dTrJdTmky","kSkTzgKq","cfuEWPlcLq","j8kegd/cRW","msJcMhqu","DLpcSCkliq","WQJdUmoGamkW","tMrhcmo5","W4CQgWJcSG","yudcKColWRW","W4WxgCorFq","aSkUnxJdRW","ot7cMw0E","W5qbi8kBWOO","bCoAWRldRXK","W6BdUHFdSmki","W7akx8oHdG","rqPBWPa7","W5FdQ3/cPCou","WRNcPZjIW4NcSCoJWORdOSonBmkdW4O","WQPrdmk8suVcPMJcJvVdGq","W58rE8k/oa","vConW6ZdLmoc","W5KYiSkmW6O","W4JdUX3dKmk2","Ds/cOmowWRq","WRtdH8owjSkF","yWrW","W6ukpCk4WQi","WR3cPdDIW43cTSoTWQtdSSo8xmk4W4S","W5NcGSkR","W4RdMbldM8k5","WQJdTtRcMmk6","pmorewRcVq","b8kwWQNcNZO","WP/dO8oqeSkX","W4mob8kyWQ0","W6ddRcFdR8ks","qLtcJmkQcG","WQVdUqpcOCkV","AxlcVCol","vSoKW7VdUSo5","WOBdNSoej8kM","bSkhWRVcKZ0","DCoxsh8","WOxdJJ3dVvO","imoAffRcUq","w15AhSok","luZcUqhdMa"];return(Up=function(){return t})()}var Vp=function(t,e,n){this.z=t,this.x=e,this.y=n,this.key=Gp(0,t,t,e,n)};Vp.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},Vp.prototype.parseUrl=function(t,e,n){var r=this;return new Promise((function(i,o){(function(t,e,n,r){function i(t,e,n,r,i){return Ap(t,0,i-354)}function o(t,e,n,r,i){return jp(0,0,n-1175,t)}function a(t,e,n,r,i){return Fp(r-57,i)}function s(t,e,n,r,i){return Ap(r,0,n- -757)}function l(t,e,n,r,i){return Np(0,0,t- -651,0,n)}var u={AvjLO:function(t,e){return t+e},wzPCN:function(t,e,n,r,i,o){return t(e,n,r,i,o)},CcDih:function(t,e){return t(e)},xPqFo:function(t,e){return t+e},GnIYV:l(229,0,"0S#P"),nxydS:function(t,e){return t!==e},jznfa:l(-203,0,"KH(w"),FhXdA:o("N5Y^",0,889),NTJnG:a(0,0,0,-156,"N!5j")+l(11,0,"(qGh")+o("0S#P",0,1303),UMEfA:function(t,e){return t(e)},uiLlV:function(t,e){return t+e},niHwb:function(t,e){return t-e},QHAlV:function(t,e){return t-e},erYqD:function(t,e){return t%e},MltBC:function(t,e){return t+e},TkOaQ:s(0,0,188,"VZp!"),huPXF:i("[4ET",0,0,0,1184),bKdYa:l(-85,0,"(0t0"),ZASdH:l(44,0,"0ysx")+l(-185,0,"Q3il")+l(-3,0,"%Aa^"),ZkJfI:l(-76,0,"Sx7s"),OhfEZ:function(t,e){return t<e},megZL:function(t,e){return t>e},XlegG:function(t,e){return t*e},ftkvj:function(t,e){return t(e)},vvEdP:a(0,0,0,-113,"IsFQ")+l(-15,0,"IsFQ")+o("PXQc",0,1151)+"|3",YcZoA:function(t,e,n,r){return t(e,n,r)},RNYWb:function(t,e,n){return t(e,n)},LjsYb:function(t,e){return t(e)},puQhS:function(t,e){return t+e},HZlAN:o("Q3il",0,903),bckZP:o("IsFQ",0,1393),vzXrW:a(0,0,0,-204,"[4ET")+o("BdA%",0,1124)+"m",obOyc:function(t,e){return t!==e},RVTSe:o("VZp!",0,1332),ViSuF:i("[4ET",0,0,0,1537),oPCTL:function(t,e){return t===e},zasUU:i("pM*Q",0,0,0,1462),oQjEm:a(0,0,0,167,"wst]"),LBmFY:o("wT]Y",0,1358)+o("N5Y^",0,1339)+o("N!5j",0,901)+i("6*@y",0,0,0,1515)+o("J(*[",0,1118),FPhmf:function(t,e){return t%e},ASoxr:function(t,e){return t!==e},doqOY:i("w$iV",0,0,0,1742),nUpzB:s(0,0,425,"q%8f"),qdsov:l(61,0,"N!5j"),dDtbV:a(0,0,0,-123,"J(*["),teFhJ:s(0,0,658,"KH(w")+"ap",tOMbD:s(0,0,661,"Pj*["),NGaCY:l(-83,0,"PXQc")+"ic",HrQML:o("Xf0[",0,1297)+s(0,0,194,"q1Y^")+a(0,0,0,95,"Pj*[")+o("wT]Y",0,1183)+s(0,0,153,"2EoY")+l(218,0,"IsFQ"),wmlRr:a(0,0,0,-255,"[4ET")+l(192,0,"N!5j")+l(275,0,"eQ7!")+o("^(Qi",0,1046)+s(0,0,283,"4)ts")+i("N!5j",0,0,0,1280),xYGxg:s(0,0,422,"(qGh")+l(-208,0,"KH(w")+i("Y09V",0,0,0,1546),BfBKj:s(0,0,120,"LKkO")+i("N!5j",0,0,0,1735)+l(270,0,"B0Kh")+a(0,0,0,226,"J(*["),BbKqY:i("q1Y^",0,0,0,1443),YaOYk:o("1^Nk",0,1121)+s(0,0,536,"N5V5")+a(0,0,0,153,"3Zf)")+"|8",LgEBv:function(t,e){return t(e)},OSRlZ:function(t,e){return t(e)},ctkqn:function(t,e,n){return t(e,n)},fOOun:o("0S#P",0,1338)+"r",XsefG:i("0K@a",0,0,0,1282)+a(0,0,0,146,"@2q9")+i("VZp!",0,0,0,1629)+i("BdA%",0,0,0,1202)+a(0,0,0,-318,"%Aa^")+i("2EoY",0,0,0,1449),CuUlT:i("N5Y^",0,0,0,1540)+l(13,0,"LerC")+s(0,0,227,"pM*Q")+a(0,0,0,190,"Q3il")+s(0,0,388,"w$iV")+s(0,0,377,"n^zE"),Mlkfn:l(15,0,"Jr^C")+l(37,0,"2EoY")+l(49,0,"N5V5")+l(-187,0,"VZp!")+i("Sx7s",0,0,0,1483),uwVtO:o("4)ts",0,1264),bZBHm:o("^Z2J",0,1162),pKIxD:o("(0t0",0,1168),BzxVI:function(t,e){return t+e},bmXBE:o("@2q9",0,1258),ZOqNY:a(0,0,0,32,"LKkO"),TIgxa:s(0,0,453,"OzKl"),mdRFM:function(t,e){return t+e},GGKxD:function(t,e,n,r,i,o){return t(e,n,r,i,o)},YZMZW:function(t,e){return t(e)},FSrOx:o("Jr^C",0,1312),YlOCQ:i("n9dj",0,0,0,1185),ueluI:function(t,e){return t(e)},hfass:s(0,0,402,"m72r"),HnJxL:s(0,0,622,"LKkO"),sqYDD:o("eQ7!",0,1095),JfCEp:s(0,0,114,"0ysx"),awRqI:function(t,e){return t+e},OOtEJ:function(t,e){return t(e)},usLxx:function(t,e){return t(e)},KvabU:function(t,e){return t!==e},ICDVw:a(0,0,0,206,"Sx7s"),OHOBd:a(0,0,0,212,"0K@a"),SOcVo:i("pM*Q",0,0,0,1408)+l(167,0,"0S#P")+s(0,0,226,"m72r"),ltrYd:function(t,e,n){return t(e,n)}};return new Promise((function(s,c){function p(t,e,n,r,o){return i(r,0,0,0,n- -579)}var d={OIdam:u[m(0,-366,"IsFQ")],KbsAY:function(t,e){return u[m(0,-213,"eQ7!")](t,e)},YYHCd:function(t,e){return u[m(0,-380,"n9dj")](t,e)},sTNrv:function(t,e){return u[m(0,-313,"n^zE")](t,e)},lzsFh:function(t,e){return u[m(0,-64,"0K@a")](t,e)},pLaWj:function(t,e){return u[m(0,-207,"w$iV")](t,e)},Hfmgr:function(t,e){return u[m(0,-130,"BdA%")](t,e)},IHZmE:u[m(0,-167,"VZp!")],vGrVr:u[h(1003,0,0,"#DOM")],srMFj:function(t,e){return u[h(843,0,0,"N5Y^")](t,e)},XKsFM:u[g(0,519,"q%8f")],YtuvS:function(t,e){return u[m(0,-87,"Jr^C")](t,e)},TwmpD:function(t,e){return u[g(0,416,"IsFQ")](t,e)},NMait:u[g(0,614,"*HOv")],QNCPK:function(t,e){return u[p(0,0,803,"BdA%")](t,e)},YTByS:u[g(0,668,"n9dj")],uAJue:function(t,e){return u[m(0,-270,"J(*[")](t,e)},JbRII:function(t,e){return u[f("Xf0[",0,0,0,1)](t,e)},ZoKpH:function(t,e){return u[g(0,713,"0ysx")](t,e)},sQmRK:function(t,e){return u[g(0,456,"B0Kh")](t,e)},qUTqI:u[m(0,-17,"wst]")],WUFEy:function(t,e,n,r){return u[p(0,0,662,"q%8f")](t,e,n,r)},TnkWI:function(t,e){return u[h(459,0,0,"n9dj")](t,e)},oZxJz:function(t,e,n){return u[h(600,0,0,"VZp!")](t,e,n)},DOxKl:function(t,e){return u[g(0,414,"3Zf)")](t,e)},xyoAV:function(t,e){return u[f("[4ET",0,0,0,480)](t,e)},WNZNE:u[h(676,0,0,"J(*[")],mbiPH:u[g(0,616,"%5me")],mzOlZ:u[h(807,0,0,"^Z2J")],TMrZB:function(t,e){return u[m(0,-526,"#DOM")](t,e)},UGgGt:u[m(0,-132,"Sx7s")],wSOgC:u[m(0,-340,"J(*[")],Bvber:function(t,e){return u[h(720,0,0,"KH(w")](t,e)},EEYZG:u[p(0,0,984,"2EoY")],RSbGw:u[g(0,386,"4)ts")],VtznC:u[g(0,349,"3Zf)")],upWfZ:function(t,e){return u[h(501,0,0,"#Ql4")](t,e)},DHwpX:function(t,e){return u[m(0,-47,"n9dj")](t,e)},dKUoa:function(t,e){return u[p(0,0,770,"LKkO")](t,e)},wCCsk:u[f("J(*[",0,0,0,131)],PZLJm:u[p(0,0,621,"0K@a")],Sydtc:u[h(872,0,0,"n9dj")],YUBsp:u[p(0,0,1202,"Xf0[")],EvGUk:u[p(0,0,862,"Y09V")],ZIisF:u[f("3Zf)",0,0,0,419)],AkXKp:u[h(857,0,0,"4)ts")],OPsYQ:u[f("w$iV",0,0,0,364)],NnPOZ:u[f("1^Nk",0,0,0,448)],TtCtH:u[f("2EoY",0,0,0,592)],WBuJg:u[p(0,0,714,"wT]Y")],QTSHv:u[f("0S#P",0,0,0,264)],ILSnV:u[p(0,0,1171,"#DOM")],eILTs:function(t,e,n,r){return u[h(715,0,0,"wT]Y")](t,e,n,r)},lQZHL:function(t,e){return u[h(647,0,0,"%Aa^")](t,e)},xREaa:function(t,e){return u[f("OzKl",0,0,0,368)](t,e)},MKiNU:function(t,e){return u[m(0,-372,"N5Y^")](t,e)},NPyDe:function(t,e){return u[g(0,433,"IsFQ")](t,e)},BRhwz:function(t,e){return u[h(690,0,0,"0S#P")](t,e)},fHdYY:function(t,e,n){return u[f("LKkO",0,0,0,5)](t,e,n)},iWXqb:function(t,e){return u[p(0,0,1014,"eQ7!")](t,e)},Gfhdf:u[f("B0Kh",0,0,0,503)],qTJgw:u[p(0,0,1093,"@2q9")],RCapr:u[p(0,0,626,"pM*Q")],KCXzj:u[h(639,0,0,"2EoY")],RzTjP:function(t,e){return u[p(0,0,718,"Sx7s")](t,e)},OXpjv:u[p(0,0,1168,"0ysx")],vNsIu:u[g(0,801,"Y0AS")],gYduJ:u[m(0,-193,"N5Y^")],csUmH:function(t,e){return u[f("Y09V",0,0,0,430)](t,e)},fjwgC:function(t,e){return u[g(0,822,"BdA%")](t,e)},cDoRh:function(t,e){return u[m(0,-572,"m72r")](t,e)},Caidc:u[f("(0t0",0,0,0,172)],GUszW:function(t,e){return u[g(0,340,"4)ts")](t,e)},TWwqb:function(t,e){return u[f("0S#P",0,0,0,341)](t,e)},lPici:u[p(0,0,614,"N5Y^")],VTQgi:u[f("[4ET",0,0,0,307)],otadf:function(t,e){return u[g(0,764,"Xf0[")](t,e)},iLubk:function(t,e){return u[f("0S#P",0,0,0,322)](t,e)},TfiCe:function(t,e,n,r,i,o){return u[h(772,0,0,"N5V5")](t,e,n,r,i,o)},wbnRT:function(t,e){return u[g(0,890,"2EoY")](t,e)},ccxRQ:function(t,e){return u[m(0,-346,"%5me")](t,e)},rmHtR:u[f("%5me",0,0,0,527)],wVwHP:u[f("0K@a",0,0,0,411)],Crbpb:function(t,e){return u[h(414,0,0,"wst]")](t,e)},IEKxF:function(t,e){return u[f("n9dj",0,0,0,594)](t,e)}};function h(t,e,n,r,i){return o(r,0,t- -389)}function f(t,e,n,r,i){return l(i-250,0,t)}function m(t,e,n,r,i){return a(0,0,0,e- -269,n)}function g(t,e,n,r,i){return a(0,0,0,e-656,n)}if(u[g(0,849,"Y0AS")](u[f("Sx7s",0,0,0,132)],u[m(0,-255,"1^Nk")]))return _0x1e6ece[g(0,709,"PXQc")+p(0,0,792,"3Zf)")](_0x1e79dc)[h(979,0,0,"q1Y^")](_0x3f772b[g(0,683,"n^zE")+g(0,359,"m72r")](_0x30f46e[g(0,554,"*HOv")]()))[p(0,0,753,"KH(w")+f("0K@a",0,0,0,597)](_0x4550cd)[m(0,-83,"^Z2J")+g(0,408,"0ysx")]();if(![u[g(0,917,"dvsX")],u[g(0,911,"Q3il")],u[m(0,-444,"0S#P")],u[g(0,443,"wst]")],u[h(710,0,0,"LKkO")],u[h(919,0,0,"2EoY")],u[p(0,0,1157,"N5Y^")]][f("BdA%",0,0,0,316)+g(0,580,"Y0AS")](n)){if(!u[g(0,794,"n^zE")](u[g(0,714,"w$iV")],u[f("N5V5",0,0,0,303)])){var y=t[u[f("4)ts",0,0,0,198)](u[g(0,826,"pM*Q")](e.x,e.y),t[h(536,0,0,"^(Qi")+"h"])];y=y[h(1012,0,0,"0S#P")+"ce"](u[g(0,833,"IsFQ")],u[f("#Ql4",0,0,0,88)](String,e.z))[p(0,0,949,"Sx7s")+"ce"](u[h(644,0,0,"4)ts")],u[p(0,0,715,"J(*[")](String,e.x))[f("Y09V",0,0,0,34)+"ce"](u[p(0,0,748,"wT]Y")],u[f("q1Y^",0,0,0,207)](String,e.y));var v={};return v[h(435,0,0,"N5Y^")]=y,u[m(0,-1,"n9dj")](s,v)}_0x541bf5=u[g(0,502,"q%8f")](u[h(560,0,0,"1^Nk")](_0x36f450,u[f("0ysx",0,0,0,367)](_0x3d85c8,_0x53bcf9.z,_0x486191.x,_0x230808.y,_0x5db1a8[h(724,0,0,"0ysx")+p(0,0,941,"q1Y^")],u[h(823,0,0,"*HOv")](_0x4911fd,u[m(0,-6,"q%8f")](_0x140531,[52,49,51,54])))),_0x18ba41)}if(!Op){if(!u[g(0,455,"pM*Q")](u[m(0,-243,"#Ql4")],u[h(750,0,0,"n^zE")]))return u[f("PXQc",0,0,0,79)](u[m(0,-568,"q1Y^")](_0x52711b,u[p(0,0,901,"2EoY")]),(new _0x45bbdc)[m(0,-297,"eQ7!")+"Of"]());Op=JSON[g(0,797,"LerC")](localStorage[p(0,0,1161,"KH(w")+"em"](u[h(623,0,0,"*HOv")]))}u[g(0,491,"%5me")](Tp,n,Op)[g(0,927,"%5me")]((function(i){function o(t,e,n,r,i){return h(r-65,0,0,n)}function a(t,e,n,r,i){return h(n-78,0,0,r)}function l(t,e,n,r,i){return h(r- -980,0,0,t)}function u(t,e,n,r,i){return p(0,0,i-628,n)}function c(t,e,n,r,i){return f(r,0,0,0,t-294)}var m={BAAjP:d[u(0,0,"KH(w",0,1320)],Uowrs:function(t,e,n,r){return d[u(0,0,"N!5j",0,1315)](t,e,n,r)},ZmnyT:function(t,e){return d[u(0,0,"wT]Y",0,1335)](t,e)},YtNRi:function(t,e){return d[u(0,0,"wst]",0,1808)](t,e)},aGyuR:function(t,e,n){return d[u(0,0,"4)ts",0,1779)](t,e,n)},FbMMJ:function(t,e){return d[u(0,0,"0K@a",0,1514)](t,e)},wcbqf:function(t,e){return d[u(0,0,"N5V5",0,1671)](t,e)},BnRJv:function(t,e){return d[u(0,0,"N!5j",0,1838)](t,e)},vEmfj:d[c(754,0,0,"4)ts")],IxPQV:d[c(374,0,0,"VZp!")],BJHDC:d[c(563,0,0,"Y09V")],UgiHh:function(t,e,n,r){return d[a(0,0,691,"0K@a")](t,e,n,r)},dqqfp:d[a(0,0,896,"VZp!")],hDTig:d[c(869,0,0,"^Z2J")],LCiyf:d[o(0,0,"KH(w",814)]};if(d[o(0,0,"KH(w",537)](d[o(0,0,"(qGh",674)],d[o(0,0,"N5Y^",684)])){if(!i){if(!d[u(0,0,"[4ET",0,1629)](d[u(0,0,"(qGh",0,1480)],d[o(0,0,"IsFQ",746)]))throw new Error(d[o(0,0,"wst]",655)]);_0x40d372=!0}var g,y,v,_=!1,b="";if(!(b=t[d[a(0,0,645,"Y0AS")](d[u(0,0,"eQ7!",0,1402)](e.x,e.y),t[l("pM*Q",0,0,-33)+"h"])])){if(!d[o(0,0,"q%8f",656)](d[u(0,0,"n9dj",0,1675)],d[a(0,0,649,"BdA%")]))return _0x587322[u(0,0,"N5V5",0,1429)+c(568,0,0,"^Z2J")](_0x4993cf[c(807,0,0,"w$iV")]())[a(0,0,750,"%5me")+o(0,0,"q%8f",758)](_0x39f170[u(0,0,"N5Y^",0,1266)+l("0S#P",0,0,-570)](_0x28a3eb))[l("Q3il",0,0,-530)+c(407,0,0,"KH(w")](_0xacece7[o(0,0,"Y0AS",823)]())[u(0,0,"n9dj",0,1806)+l("%5me",0,0,-381)]();b=t[0]}if(r[o(0,0,"N!5j",828)+"he"]&&(d[u(0,0,"PXQc",0,1510)](d[u(0,0,"1^Nk",0,1483)],d[c(826,0,0,"#Ql4")])?_0x431342=_0x4acfe6[0]:_=!0),[d[o(0,0,"@2q9",1057)],d[a(0,0,674,"0K@a")],d[c(836,0,0,"dvsX")]][o(0,0,"%5me",699)+o(0,0,"PXQc",983)](r[c(685,0,0,"0K@a")+c(716,0,0,"pM*Q")])&&[d[a(0,0,581,"#Ql4")],d[l("q%8f",0,0,-428)],d[l("%5me",0,0,-564)],d[a(0,0,929,"Sx7s")]][l("N5V5",0,0,-191)+u(0,0,"Q3il",0,1723)](n))if(d[c(608,0,0,"eQ7!")](d[o(0,0,"n9dj",637)],d[o(0,0,"q%8f",689)]))for(var x=d[u(0,0,"KH(w",0,1262)][a(0,0,863,"#DOM")]("|"),w=0;;){switch(x[w++]){case"0":var k=d[l("eQ7!",0,0,-79)](_0x1f28c1,d[c(692,0,0,"*HOv")](d[a(0,0,546,"PXQc")](_0x22461c[u(0,0,"Q3il",0,1600)+"r"](d[c(673,0,0,"KH(w")](S,1)),_0x2be713[l("VZp!",0,0,-166)+"r"](1,d[l("pM*Q",0,0,-388)](S,2))),_0x3801bd[l("pM*Q",0,0,-154)+"r"](0,1)));continue;case"1":return C[u(0,0,"dvsX",0,1509)+"ce"](/[+/=]/g,(function(t){return E[t]}));case"2":var S;continue;case"3":S=_0x566dea[u(0,0,"[4ET",0,1470)+"h"];continue;case"4":var C=d[l("Xf0[",0,0,-22)](d[a(0,0,570,"6*@y")](k[u(0,0,"n9dj",0,1330)+"r"](d[o(0,0,"0K@a",605)](S,1)),k[a(0,0,708,"OzKl")+"r"](1,d[c(691,0,0,"N!5j")](S,2))),k[l("0S#P",0,0,-190)+"r"](0,1));continue;case"5":var E={"+":"-","/":"_","=":"!"};continue;case"6":S=k[c(728,0,0,"Y0AS")+"h"];continue}break}else for(var T=d[u(0,0,"N5Y^",0,1323)][a(0,0,1046,"0K@a")]("|"),I=0;;){switch(T[I++]){case"0":var M=d[a(0,0,716,"n9dj")](Wp,g,y,v);continue;case"1":var A=d[c(477,0,0,"m72r")];continue;case"2":var O=d[l("IsFQ",0,0,-54)](Bp,g,y,v);continue;case"3":b=b[o(0,0,"3Zf)",654)+"ce"](d[o(0,0,"Sx7s",572)],v[l("0ysx",0,0,-334)+l("%Aa^",0,0,-114)]())[o(0,0,"@2q9",965)+"ce"](d[c(422,0,0,"(0t0")],g[c(679,0,0,"eQ7!")+a(0,0,548,"[4ET")]())[c(286,0,0,"n^zE")+"ce"](d[o(0,0,"m72r",641)],y[c(369,0,0,"Q3il")+a(0,0,900,"^(Qi")]());continue;case"4":v=d[l("Y09V",0,0,-2)](rc,e.z);continue;case"5":b+=d[c(680,0,0,"OzKl")](d[c(881,0,0,"3Zf)")](d[a(0,0,823,"J(*[")](d[o(0,0,"q1Y^",1040)],M),d[c(767,0,0,"#DOM")]),O);continue;case"6":g=d[o(0,0,"2EoY",834)](rc,e.x);continue;case"7":y=d[c(750,0,0,"^(Qi")](rc,e.y);continue;case"8":var P={};P[l("0ysx",0,0,-52)+"t"]=A,P[o(0,0,"*HOv",925)+c(775,0,0,"#Ql4")+l("Q3il",0,0,-277)]=Op[a(0,0,881,"J(*[")+"y"],d[u(0,0,"@2q9",0,1547)](s,{url:d[c(850,0,0,"^(Qi")](Ip,b,_),headers:P});continue}break}else if(d[u(0,0,"m72r",0,1773)](r[o(0,0,"KH(w",805)+c(576,0,0,"^Z2J")],d[a(0,0,509,"(0t0")])&&[d[o(0,0,"N!5j",668)],d[l("eQ7!",0,0,-152)],d[u(0,0,"PXQc",0,1499)]][a(0,0,544,"@2q9")+o(0,0,"N!5j",763)](n))if(d[c(664,0,0,"BdA%")](d[u(0,0,"q%8f",0,1665)],d[a(0,0,676,"q%8f")])){if(r[l("q%8f",0,0,-311)]){if(d[o(0,0,"IsFQ",1037)](d[a(0,0,598,"OzKl")],d[u(0,0,"0K@a",0,1552)])){var D=_0x8a5909[d[u(0,0,"0S#P",0,1311)](d[l("eQ7!",0,0,-520)](_0x2726bc.x,_0x40c9fd.y),_0x126cc7[a(0,0,589,"6*@y")+"h"])];D=D[a(0,0,830,"Sx7s")+"ce"](d[a(0,0,489,"(qGh")],d[a(0,0,824,"1^Nk")](_0x34a331,_0xd11595.z))[c(428,0,0,"0ysx")+"ce"](d[u(0,0,"m72r",0,1801)],d[l("n9dj",0,0,-76)](_0x421c73,_0x5344ba.x))[l("N!5j",0,0,-45)+"ce"](d[o(0,0,"N5V5",944)],d[a(0,0,627,"wst]")](_0x45e6c9,_0x308d5e.y));var z={};return z[u(0,0,"n9dj",0,1440)]=D,d[l("IsFQ",0,0,-349)](_0x8ca91c,z)}var L=d[l("%5me",0,0,-150)](d[u(0,0,"J(*[",0,1638)](d[l("Pj*[",0,0,-182)](d[a(0,0,837,"wst]")](d[o(0,0,"0ysx",995)](d[a(0,0,523,"%Aa^")](e.z,"/"),e.x),"/"),d[u(0,0,"[4ET",0,1484)](d[a(0,0,985,"BdA%")](e.y,1),zp)),d[l("Q3il",0,0,-264)]),d[a(0,0,653,"(0t0")](Lp,r[o(0,0,"(0t0",806)]));b=d[o(0,0,"@2q9",1032)](d[u(0,0,"Y0AS",0,1269)](b,d[o(0,0,"q%8f",676)](Lp,L)),zp)}else if(r[a(0,0,622,"%Aa^")+o(0,0,"0ysx",747)]){if(!d[u(0,0,"n9dj",0,1340)](d[l("*HOv",0,0,-527)],d[u(0,0,"Y0AS",0,1761)]))return _0x153327[u(0,0,"*HOv",0,1287)+u(0,0,"#DOM",0,1384)+"de"][a(0,0,905,"Q3il")](_0x121f53,_0x4cb3f6);b=d[a(0,0,826,"(qGh")](d[o(0,0,"n^zE",807)](b,d[l("%5me",0,0,-506)](Rp,e.z,e.x,e.y,r[l("N5Y^",0,0,-427)+u(0,0,"%Aa^",0,1813)],d[u(0,0,"dvsX",0,1433)](parseInt,d[u(0,0,"6*@y",0,1409)](Dp,[52,49,51,54])))),zp)}d[u(0,0,"wT]Y",0,1338)](s,{url:d[a(0,0,961,"%Aa^")](Ip,b,_)})}else for(var R=m[a(0,0,729,"B0Kh")][c(811,0,0,"dvsX")]("|"),W=0;;){switch(R[W++]){case"0":var B=m[l("q1Y^",0,0,-430)](_0x1da3e9,_0x4ec69b,_0x5b28f5,_0x477061);continue;case"1":_0x28a434=m[o(0,0,"wst]",574)](_0x4fb8ba,_0x377c27.z);continue;case"2":_0x347209=m[c(404,0,0,"#Ql4")](_0x29670a,_0x2036ad.y);continue;case"3":var j={};j[c(523,0,0,"N5V5")+"t"]=N,j[a(0,0,738,"Pj*[")+o(0,0,"wT]Y",495)+o(0,0,"2EoY",598)]=_0x3cb471[c(734,0,0,"^(Qi")+"y"],m[l("#DOM",0,0,-170)](_0x3c7b1b,{url:m[o(0,0,"OzKl",694)](_0x4257d2,_0x561dd3,_0x234805),headers:j});continue;case"4":_0x1dbbc9=m[l("Sx7s",0,0,-261)](_0x230148,_0x183146.x);continue;case"5":_0x23d209+=m[o(0,0,"LKkO",867)](m[o(0,0,"PXQc",1002)](m[u(0,0,"Y0AS",0,1763)](m[o(0,0,"%Aa^",796)],F),m[c(313,0,0,"#Ql4")]),B);continue;case"6":var N=m[a(0,0,942,"q%8f")];continue;case"7":var F=m[o(0,0,"IsFQ",920)](_0xdf835e,_0x4cf13d,_0x59d468,_0x510376);continue;case"8":_0x2f986d=_0x295dbf[l("%Aa^",0,0,-65)+"ce"](m[c(551,0,0,"n^zE")],_0x1b6445[o(0,0,"pM*Q",659)+o(0,0,"VZp!",953)]())[a(0,0,626,"0ysx")+"ce"](m[u(0,0,"OzKl",0,1667)],_0x52b421[l("%Aa^",0,0,-145)+c(443,0,0,"(qGh")]())[o(0,0,"2EoY",885)+"ce"](m[u(0,0,"n9dj",0,1810)],_0x33d138[u(0,0,"Xf0[",0,1646)+o(0,0,"q%8f",989)]());continue}break}else if(d[a(0,0,916,"#DOM")](d[c(485,0,0,"n9dj")],d[a(0,0,1055,"wst]")]))for(var U=d[a(0,0,556,"Jr^C")][c(688,0,0,"0S#P")]("|"),V=0;;){switch(U[V++]){case"0":return d[c(739,0,0,"Sx7s")](d[a(0,0,532,"0S#P")],Z[c(376,0,0,"n^zE")](""));case"1":for(H=Q,q=0;d[l("(qGh",0,0,-542)](q,4);++H,++q)d[a(0,0,980,"w$iV")](H,3)&&(H=0),Z[q]=d[l("Y0AS",0,0,-410)](K[H],_0x5c2c37[H]),G+=d[l("%Aa^",0,0,-148)](_0x38e88d,Z[q])[u(0,0,"N5V5",0,1276)+"h"];continue;case"2":var q,H,G="";continue;case"3":_0x1e3264=d[l("wT]Y",0,0,-573)](_0x13fae6,_0x42547d)[c(719,0,0,"1^Nk")]("");continue;case"4":Z[c(361,0,0,"%Aa^")+"ft"](G);continue;case"5":var Z=[],K=[_0x325780,_0x22e628,_0x4612e5,_0x201b40],Q=2;continue;case"6":G+=Q;continue}break}else b=b[u(0,0,"Jr^C",0,1282)+"ce"](d[o(0,0,"%5me",634)],d[c(355,0,0,"KH(w")](String,e.z))[o(0,0,"0S#P",1077)+"ce"](d[o(0,0,"0K@a",493)],d[c(414,0,0,"J(*[")](String,e.x))[a(0,0,897,"LerC")+"ce"](d[o(0,0,"Y09V",1052)],d[o(0,0,"4)ts",490)](String,e.y)),d[l("#Ql4",0,0,-151)](s,{url:d[u(0,0,"2EoY",0,1736)](Ip,b,_)})}else _0x1267a5=0}))[h(554,0,0,"6*@y")]((function(t){function e(t,e,n,r,i){return h(n-905,0,0,i)}if(u[e(0,0,1673,0,"wst]")](u[e(0,0,1599,0,"Sx7s")],u[e(0,0,1448,0,"@2q9")]))return u[e(0,0,1773,0,"B0Kh")](c,t);throw new _0x516bd9(d[h(590,0,0,"wst]")])}))}))})(t,{x:r.x,y:r.y,z:r.z},e,n).then((function(t){return i(t)})).catch((function(t){return o(t)}))}))},Vp.prototype.url=function(t,e){var n,r,i,o,a,s=(r=this.y,i=this.z,o=Gu(256*(n=this.x),256*(r=Math.pow(2,i)-r-1),i),a=Gu(256*(n+1),256*(r+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),l=function(t,e,n){for(var r,i="",o=t;o>0;o--)i+=(e&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",s)},Vp.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new o(8192*(t.x*e-this.x),8192*(t.y*e-this.y))},Vp.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var qp=function(t,e){this.wrap=t,this.canonical=e,this.key=Gp(t,e.z,e.z,e.x,e.y)},Hp=function(t,e,n,r,i){this.overscaledZ=t,this.wrap=e,this.canonical=new Vp(n,+r,+i),this.key=Gp(e,t,n,r,i)};function Gp(t,e,n,r,i){(t*=2)<0&&(t=-1*t-1);var o=1<<n;return(o*o*t+o*i+r).toString(36)+n.toString(36)+e.toString(36)}Hp.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Hp.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new Hp(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Hp(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Hp.prototype.calculateScaledKey=function(t,e){var n=this.canonical.z-t;return t>this.canonical.z?Gp(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y):Gp(this.wrap*+e,t,t,this.canonical.x>>n,this.canonical.y>>n)},Hp.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Hp.prototype.children=function(t){if(this.overscaledZ>=t)return[new Hp(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new Hp(e,this.wrap,e,n,r),new Hp(e,this.wrap,e,n+1,r),new Hp(e,this.wrap,e,n,r+1),new Hp(e,this.wrap,e,n+1,r+1)]},Hp.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Hp.prototype.wrapped=function(){return new Hp(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Hp.prototype.unwrapTo=function(t){return new Hp(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Hp.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Hp.prototype.toUnwrapped=function(){return new qp(this.wrap,this.canonical)},Hp.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Hp.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new ec(t.x-this.wrap,t.y))},Kr("CanonicalTileID",Vp),Kr("OverscaledTileID",Hp,{omit:["posMatrix"]});var Zp=function(t,e,n){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return S('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=e.height;var r=this.dim=e.height-2;this.data=new Uint32Array(e.data.buffer),this.encoding=n||"mapbox";for(var i=0;i<r;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(r,i)]=this.data[this._idx(r-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,r)]=this.data[this._idx(i,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]};Zp.prototype.get=function(t,e){var n=new Uint8Array(this.data.buffer),r=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])},Zp.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Zp.prototype._idx=function(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)},Zp.prototype._unpackMapbox=function(t,e,n){return(256*t*256+256*e+n)/10-1e4},Zp.prototype._unpackTerrarium=function(t,e,n){return 256*t+e+n/256-32768},Zp.prototype.getPixels=function(){return new Ma({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Zp.prototype.backfillBorder=function(t,e,n){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var r=e*this.dim,i=e*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(e){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=-e*this.dim,l=-n*this.dim,u=o;u<a;u++)for(var c=r;c<i;c++)this.data[this._idx(c,u)]=t.data[this._idx(c+s,u+l)]},Kr("DEMData",Zp);var Kp=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}};Kp.prototype.encode=function(t){return this._stringToNumber[t]},Kp.prototype.decode=function(t){return this._numberToString[t]};var Qp=function(t,e,n,r,i){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,this.id=i},Xp={geometry:{configurable:!0}};Xp.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Xp.geometry.set=function(t){this._geometry=t},Qp.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(Qp.prototype,Xp);var Yp=function(){this.state={},this.stateChanges={},this.deletedStates={}};Yp.prototype.updateState=function(t,e,n){var r=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][r]=this.stateChanges[t][r]||{},h(this.stateChanges[t][r],n),null===this.deletedStates[t])for(var i in this.deletedStates[t]={},this.state[t])i!==r&&(this.deletedStates[t][i]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][r])for(var o in this.deletedStates[t][r]={},this.state[t][r])n[o]||(this.deletedStates[t][r][o]=null);else for(var a in n)this.deletedStates[t]&&this.deletedStates[t][r]&&null===this.deletedStates[t][r][a]&&delete this.deletedStates[t][r][a]},Yp.prototype.removeFeatureState=function(t,e,n){if(null!==this.deletedStates[t]){var r=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},n&&void 0!==e)null!==this.deletedStates[t][r]&&(this.deletedStates[t][r]=this.deletedStates[t][r]||{},this.deletedStates[t][r][n]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][r])for(n in this.deletedStates[t][r]={},this.stateChanges[t][r])this.deletedStates[t][r][n]=null;else this.deletedStates[t][r]=null;else this.deletedStates[t]=null}},Yp.prototype.getState=function(t,e){var n=String(e),r=h({},(this.state[t]||{})[n],(this.stateChanges[t]||{})[n]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var i=this.deletedStates[t][e];if(null===i)return{};for(var o in i)delete r[o]}return r},Yp.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},Yp.prototype.coalesceChanges=function(t,e){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),h(this.state[r][o],this.stateChanges[r][o]),i[o]=this.state[r][o];n[r]=i}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var l in this.state[a])s[l]={},this.state[a][l]={};else for(var u in this.deletedStates[a]){if(null===this.deletedStates[a][u])this.state[a][u]={};else for(var c=0,p=Object.keys(this.deletedStates[a][u]);c<p.length;c+=1)delete this.state[a][u][p[c]];s[u]=this.state[a][u]}n[a]=n[a]||{},h(n[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var d in t)t[d].setFeatureState(n,e)};var Jp=function(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Vr(8192,16,0),this.grid3D=new Vr(8192,16,0),this.featureIndexArray=new go,this.promoteId=e};function $p(t,e,n,r,i){return b(t,(function(t,o){var a=e instanceof Ci?e.get(o):null;return a&&a.evaluate?a.evaluate(n,r,i):a}))}function td(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0,a=t;o<a.length;o+=1){var s=a[o];e=Math.min(e,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),i=Math.max(i,s.y)}return{minX:e,minY:n,maxX:r,maxY:i}}function ed(t,e){return e-t}Jp.prototype.insert=function(t,e,n,r,i,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=o?this.grid3D:this.grid,l=0;l<e.length;l++){for(var u=e[l],c=[1/0,1/0,-1/0,-1/0],p=0;p<u.length;p++){var d=u[p];c[0]=Math.min(c[0],d.x),c[1]=Math.min(c[1],d.y),c[2]=Math.max(c[2],d.x),c[3]=Math.max(c[3],d.y)}c[0]<8192&&c[1]<8192&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}},Jp.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new As.VectorTile(new al(this.rawTileData)).layers,this.sourceLayerCoder=new Kp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Jp.prototype.query=function(t,e,n,r){var i=this;this.loadVTLayers();for(var a=t.params||{},s=8192/t.tileSize/t.scale,l=gr(a.filter),u=t.queryGeometry,c=t.queryPadding*s,p=td(u),d=this.grid.query(p.minX-c,p.minY-c,p.maxX+c,p.maxY+c),h=td(t.cameraQueryGeometry),f=0,m=this.grid3D.query(h.minX-c,h.minY-c,h.maxX+c,h.maxY+c,(function(e,n,r,i){return function(t,e,n,r,i){for(var a=0,s=t;a<s.length;a+=1){var l=s[a];if(e<=l.x&&n<=l.y&&r>=l.x&&i>=l.y)return!0}var u=[new o(e,n),new o(e,i),new o(r,i),new o(r,n)];if(t.length>2)for(var c=0,p=u;c<p.length;c+=1)if(ua(t,p[c]))return!0;for(var d=0;d<t.length-1;d++)if(ca(t[d],t[d+1],u))return!0;return!1}(t.cameraQueryGeometry,e-c,n-c,r+c,i+c)}));f<m.length;f+=1)d.push(m[f]);d.sort(ed);for(var g,y={},v=function(o){var c=d[o];if(c!==g){g=c;var p=i.featureIndexArray.get(c),h=null;i.loadMatchingFeature(y,p.bucketIndex,p.sourceLayerIndex,p.featureIndex,l,a.layers,a.availableImages,e,n,r,(function(e,n,r){return h||(h=Xo(e)),n.queryIntersectsFeature(u,e,r,h,i.z,t.transform,s,t.pixelPosMatrix)}))}},_=0;_<d.length;_++)v(_);return y},Jp.prototype.loadMatchingFeature=function(t,e,n,r,i,o,a,s,l,u,c){var p=this.bucketLayerIDs[e];if(!o||function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}(o,p)){var d=this.sourceLayerCoder.decode(n),f=this.vtLayers[d].feature(r);if(i.needGeometry){var m=Yo(f,!0);if(!i.filter(new yi(this.tileID.overscaledZ),m,this.tileID.canonical))return}else if(!i.filter(new yi(this.tileID.overscaledZ),f))return;for(var g=this.getId(f,d),y=0;y<p.length;y++){var v=p[y];if(!(o&&o.indexOf(v)<0)){var _=s[v];if(_){var b={};void 0!==g&&u&&(b=u.getState(_.sourceLayer||"_geojsonTileLayer",g));var x=h({},l[v]);x.paint=$p(x.paint,_.paint,f,b,a),x.layout=$p(x.layout,_.layout,f,b,a);var w=!c||c(f,_,b);if(w){var k=new Qp(f,this.z,this.x,this.y,g);k.layer=x;var S=t[v];void 0===S&&(S=t[v]=[]),S.push({featureIndex:r,feature:k,intersectionZ:w})}}}}}},Jp.prototype.lookupSymbolFeatures=function(t,e,n,r,i,o,a,s){var l={};this.loadVTLayers();for(var u=gr(i),c=0,p=t;c<p.length;c+=1)this.loadMatchingFeature(l,n,r,p[c],u,o,a,s,e);return l},Jp.prototype.hasLayer=function(t){for(var e=0,n=this.bucketLayerIDs;e<n.length;e+=1)for(var r=0,i=n[e];r<i.length;r+=1)if(t===i[r])return!0;return!1},Jp.prototype.getId=function(t,e){var n=t.id;return this.promoteId&&"boolean"==typeof(n=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[e]])&&(n=Number(n)),n},Kr("FeatureIndex",Jp,{omit:["rawTileData","sourceLayerCoder"]});var nd=function(t,e){this.tileID=t,this.uid=m(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};nd.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<W.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},nd.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},nd.prototype.loadVectorData=function(t,e,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var r in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var n={};if(!e)return n;for(var r=function(){var t=o[i],r=t.layerIds.map((function(t){return e.getLayer(t)})).filter(Boolean);if(0!==r.length){t.layers=r,t.stateDependentLayerIds&&(t.stateDependentLayers=t.stateDependentLayerIds.map((function(t){return r.filter((function(e){return e.id===t}))[0]})));for(var a=0,s=r;a<s.length;a+=1)n[s[a].id]=t}},i=0,o=t;i<o.length;i+=1)r();return n}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof Tu){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var a=this.buckets[o];if(a instanceof Tu&&a.hasRTLText){this.hasRTLText=!0,gi.isLoading()||gi.isLoaded()||"deferred"!==fi()||mi();break}}for(var s in this.queryPadding=0,this.buckets){var l=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(s).queryRadius(l))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new so},nd.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},nd.prototype.getBucket=function(t){return this.buckets[t.id]},nd.prototype.upload=function(t){for(var e in this.buckets){var n=this.buckets[e];n.uploadPending()&&n.upload(t)}var r=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Vu(t,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Vu(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},nd.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},nd.prototype.queryRenderedFeatures=function(t,e,n,r,i,o,a,s,l,u){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:u,transform:s,params:a,queryPadding:this.queryPadding*l},t,e,n):{}},nd.prototype.querySourceFeatures=function(t,e){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var r=n.loadVTLayers(),i=e?e.sourceLayer:"",o=r._geojsonTileLayer||r[i];if(o)for(var a=gr(e&&e.filter),s=this.tileID.canonical,l=s.z,u=s.x,c=s.y,p={z:l,x:u,y:c},d=0;d<o.length;d++){var h=o.feature(d);if(a.needGeometry){var f=Yo(h,!0);if(!a.filter(new yi(this.tileID.overscaledZ),f,this.tileID.canonical))continue}else if(!a.filter(new yi(this.tileID.overscaledZ),h))continue;var m=n.getId(h,i),g=new Qp(h,l,u,c,m);g.tile=p,t.push(g)}}},nd.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},nd.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},nd.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=I(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(e)if(this.expirationTime<e)i=!0;else{var o=this.expirationTime-e;o?this.expirationTime=r+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},nd.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},nd.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(e.style.hasLayer(r)){var i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=t[o];if(a&&s&&0!==Object.keys(s).length){i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});var l=e&&e.style&&e.style.getLayer(r);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(i)))}}}},nd.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},nd.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<W.now()},nd.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},nd.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=W.now()+t},nd.prototype.setDependencies=function(t,e){for(var n={},r=0,i=e;r<i.length;r+=1)n[i[r]]=!0;this.dependencies[t]=n},nd.prototype.hasDependency=function(t,e){for(var n=0,r=t;n<r.length;n+=1){var i=this.dependencies[r[n]];if(i)for(var o=0,a=e;o<a.length;o+=1)if(i[a[o]])return!0}return!1};var rd=s.performance,id=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},rd.mark(this._marks.start)};id.prototype.finish=function(){rd.mark(this._marks.end);var t=rd.getEntriesByName(this._marks.measure);return 0===t.length&&(rd.measure(this._marks.measure,this._marks.start,this._marks.end),t=rd.getEntriesByName(this._marks.measure),rd.clearMarks(this._marks.start),rd.clearMarks(this._marks.end),rd.clearMeasures(this._marks.measure)),t},t.Actor=Hu,t.AlphaImage=Ia,t.CanonicalTileID=Vp,t.CollisionBoxArray=so,t.Color=ce,t.DEMData=Zp,t.DOM=B,t.DataConstantProperty=Ei,t.DictionaryCoder=Kp,t.EXTENT=8192,t.ErrorEvent=Wt,t.EvaluationParameters=yi,t.Event=Rt,t.Evented=Bt,t.FeatureIndex=Jp,t.FillBucket=ys,t.FillExtrusionBucket=zs,t.ImageAtlas=Al,t.ImagePosition=Il,t.LineBucket=Hs,t.LngLat=Ku,t.LngLatBounds=Zu,t.MercatorCoordinate=ec,t.ONE_EM=24,t.OverscaledTileID=Hp,t.Point=o,t.Point$1=o,t.Properties=Oi,t.Protobuf=al,t.RGBAImage=Ma,t.RequestManager=et,t.RequestPerformance=id,t.ResourceType=St,t.SegmentVector=vo,t.SourceFeatureState=Yp,t.StructArrayLayout1ui2=io,t.StructArrayLayout2f1f2i16=Qi,t.StructArrayLayout2i4=Bi,t.StructArrayLayout3ui6=Yi,t.StructArrayLayout4i8=ji,t.SymbolBucket=Tu,t.Texture=Vu,t.Tile=nd,t.Transitionable=bi,t.Uniform1f=Oo,t.Uniform1i=Ao,t.Uniform2f=Po,t.Uniform3f=Do,t.Uniform4f=zo,t.UniformColor=Lo,t.UniformMatrix4f=Wo,t.UnwrappedTileID=qp,t.ValidationError=Nt,t.WritingMode=Ol,t.ZoomHistory=ti,t.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},t.addDynamicAttributes=ku,t.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,i=new Array(t.length),o=null;t.forEach((function(t,a){e(t,(function(t,e){t&&(o=t),i[a]=e,0==--r&&n(o,i)}))}))},t.bezier=u,t.bindAll=v,t.browser=W,t.cacheEntryPossiblyAdded=function(t){++wt>vt&&(t.getActor().send("enforceCacheSizeLimit",yt),wt=0)},t.checkMapWaterMark=function(t){var e=wc;try{var n=t[e(374,"Ul[S")](e(345,"3LxX")),r=n[e(338,"OLm%")](e(313,"XDf$")),i=n[e(296,"&zIm")](e(314,"S^rH")),o=n.querySelector(".neshan-platform"),a=n.querySelector(".open-street");(function(){var t=wc,e=document[t(307,"N4Fo")]("wm_style_protector");e&&e[t(383,"@E0a")][t(297,"1#)*")](e);var n=document[t(346,"NEE2")](t(371,"i49I"))[0],r=document[t(360,"w(D9")](t(365,"L7I@"));n[t(378,"rFxI")]("id",t(315,"pL2Y")),n.prepend(r),r.setAttribute("id",t(388,"XDf$")),r[t(301,"0Dof")]("type",t(323,"x5^o")),r[t(299,"X9rf")](document[t(352,"i49I")]('\n    #wm_protector .wm-container {\n        position: absolute!important;\n        display: flex!important;\n        gap: 4px!important;\n        align-items: end!important;\n        z-index: 1!important;\n        bottom: 2px!important;\n        left: 15px!important;\n        direction: ltr!important;\n        box-sizing: border-box!important;\n        font-size: 11px!important;\n        line-height: 11px!important;\n        visibility: visible!important;\n        translate: none!important;\n        transform: none!important;\n        padding: 0!important;\n        opacity: 1!important;\n        overflow: visible!important;\n        margin: 0!important;\n        max-width: none!important;\n        max-height: none!important;\n        filter: none!important;\n        color: #000;\n        height: 20px!important;\n        width: 390!important;\n    }\n\n    #wm_protector[map-style*="Night"] .wm-container {\n        color: #ffffff;\n    }\n\n    #wm_protector .water-mark {\n        display: inline-flex!important;\n    }\n\n    #wm_protector .wm-container a {\n        text-decoration: none!important;\n        color: inherit!important;\n    }\n\n    #wm_protector .wm-container a .water-mark-img {\n        height: 20px !important;\n        width: 62px !important;\n        overflow: visible !important;\n        background-image: url("https://static.neshan.org/sdk/images/neshan_water_mark.svg");\n        background-size: contain !important;\n        background-repeat: no-repeat !important;\n    }\n\n    #wm_protector[map-style*="Night"] .wm-container a .water-mark-img {\n        background-image: url("https://static.neshan.org/sdk/images/neshan_water_mark_white.svg?v=1");\n    }\n    '))})(),setTimeout((function(){var r=e,i=Tc(n,Ec,t),o=Array[r(316,"vP5l")](n[r(335,"NBvM")]("a"))[r(337,"YS6K")]((function(t){return t[r(347,"gwSj")]}))[r(349,"9fQs")](" ").trim()===r(379,"8dsp");zc(i&&o,t)}),0),setTimeout((function(){var n=e,i=Tc(r,Cc,t),o=Tc(r[n(333,"b9hi")](n(331,"w(D9"))[0],Cc,t);zc(i&&o,t)}),0),setTimeout((function(){var n=e,r=Tc(i,Sc,t),o=i[n(318,"pL2Y")]===n(324,"Tn$f");zc(r&&o,t)}),0),setTimeout((function(){var n=e,r=Tc(o,Sc,t),i=o[n(336,"8dsp")]===n(311,"pL2Y");zc(r&&i,t)}),0),setTimeout((function(){var n=e,r=Tc(a,Sc,t),i=a.innerText===n(364,"3LxX");zc(r&&i,t)}),0),zc(Boolean(n),t),zc(4===n.children[e(370,"EVKm")],t);for(var s=0;s<n.children.length;s++)0!==s?zc(0===n[e(350,"pL2Y")][s][e(309,"Tn$f")][e(300,"dvbu")],t):(zc(1===n[e(387,"b9hi")][s][e(362,"c4IP")].length,t),zc(0===n.children[s][e(355,"NBvM")][0][e(372,"UiFb")][e(328,"X9rf")],t))}catch(e){zc(!1,t)}},t.clamp=p,t.clearTileCache=function(t){var e=s.caches.delete("mapbox-tiles");t&&e.catch(t).then((function(){return t()}))},t.clipLine=nu,t.clone=function(t){var e=new ga(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$1=w,t.clone$2=function(t){var e=new ga(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.collisionCircleLayout=el,t.config=Q,t.create=function(){var t=new ga(16);return ga!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$1=function(){var t=new ga(9);return ga!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},t.create$2=function(){var t=new ga(4);return ga!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},t.createCommonjsModule=n,t.createExpression=rr,t.createLayout=Ri,t.createStyleLayer=function(t){return"custom"===t.type?new Ru(t):new Wu[t.type](t)},t.createWaterMark=_c,t.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=i*l-o*s,t[1]=o*a-r*l,t[2]=r*s-i*a,t},t.deepEqual=function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var i in e)if(!t(e[i],n[i]))return!1;return!0}return e===n},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},t.dot$1=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.ease=c,t.emitValidationErrors=Ur,t.endsWith=_,t.enforceCacheSizeLimit=function(t){_t(),ct&&ct.then((function(e){e.keys().then((function(n){for(var r=0;r<n.length-t;r++)e.delete(n[r])}))}))},t.evaluateSizeForFeature=Zl,t.evaluateSizeForZoom=Kl,t.evaluateVariableOffset=mu,t.evented=hi,t.extend=h,t.featureFilter=gr,t.filterObject=x,t.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.getAnchorAlignment=Ul,t.getAnchorJustification=gu,t.getArrayBuffer=At,t.getImage=Dt,t.getJSON=function(t,e){return Mt(h(t,{type:"json"}),e)},t.getRTLTextPluginStatus=fi,t.getReferrer=It,t.getVideo=function(t,e){var n,r,i=s.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(var o=0;o<t.length;o++){var a=s.document.createElement("source");n=t[o],r=void 0,(r=s.document.createElement("a")).href=n,(r.protocol!==s.document.location.protocol||r.host!==s.document.location.host)&&(i.crossOrigin="Anonymous"),a.src=t[o],i.appendChild(a)}return{cancel:function(){}}},t.identity=ya,t.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],d=e[10],h=e[11],f=e[12],m=e[13],g=e[14],y=e[15],v=n*s-r*a,_=n*l-i*a,b=n*u-o*a,x=r*l-i*s,w=r*u-o*s,k=i*u-o*l,S=c*m-p*f,C=c*g-d*f,E=c*y-h*f,T=p*g-d*m,I=p*y-h*m,M=d*y-h*g,A=v*M-_*I+b*T+x*E-w*C+k*S;return A?(t[0]=(s*M-l*I+u*T)*(A=1/A),t[1]=(i*I-r*M-o*T)*A,t[2]=(m*k-g*w+y*x)*A,t[3]=(d*w-p*k-h*x)*A,t[4]=(l*E-a*M-u*C)*A,t[5]=(n*M-i*E+o*C)*A,t[6]=(g*b-f*k-y*_)*A,t[7]=(c*k-d*b+h*_)*A,t[8]=(a*I-s*E+u*S)*A,t[9]=(r*E-n*I-o*S)*A,t[10]=(f*w-m*b+y*v)*A,t[11]=(p*b-c*w-h*v)*A,t[12]=(s*C-a*T-l*S)*A,t[13]=(n*T-r*C+i*S)*A,t[14]=(m*_-f*x-g*v)*A,t[15]=(c*x-p*_+d*v)*A,t):null},t.isChar=ei,t.isMapboxURL=nt,t.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},t.makeRequest=Mt,t.mapObject=b,t.mercatorXfromLng=Yu,t.mercatorYfromLat=Ju,t.mercatorZfromAltitude=$u,t.mul=ba,t.multiply=va,t.mvt=As,t.nextPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},t.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t},t.number=tn,t.offscreenCanvasSupported=kt,t.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*u,t[15]=1,t},t.parseGlyphPBF=function(t){return new al(t).readFields(Sl,[])},t.pbf=al,t.performSymbolLayout=function(t,e,n,r,i,o,a){t.createArrays(),t.tilePixelRatio=8192/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,l=t.layers[0]._unevaluatedLayout._values,u={};if("composite"===t.textSizeData.kind){var c=t.textSizeData,p=c.maxZoom;u.compositeTextSizes=[l["text-size"].possiblyEvaluate(new yi(c.minZoom),a),l["text-size"].possiblyEvaluate(new yi(p),a)]}if("composite"===t.iconSizeData.kind){var d=t.iconSizeData,h=d.maxZoom;u.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new yi(d.minZoom),a),l["icon-size"].possiblyEvaluate(new yi(h),a)]}u.layoutTextSize=l["text-size"].possiblyEvaluate(new yi(t.zoom+1),a),u.layoutIconSize=l["icon-size"].possiblyEvaluate(new yi(t.zoom+1),a),u.textMaxSize=l["text-size"].possiblyEvaluate(new yi(18));for(var f=24*s.get("text-line-height"),m="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),g=s.get("text-keep-upright"),y=s.get("text-size"),v=function(){var o=b[_],l=s.get("text-font").evaluate(o,{},a).join(","),c=y.evaluate(o,{},a),p=u.layoutTextSize.evaluate(o,{},a),d=u.layoutIconSize.evaluate(o,{},a),h={horizontal:{},vertical:void 0},v=o.text,x=[0,0];if(v){var w=v.toString(),k=24*s.get("text-letter-spacing").evaluate(o,{},a),C=function(t){for(var e=0,n=t;e<n.length;e+=1)if(r=n[e].charCodeAt(0),ei.Arabic(r)||ei["Arabic Supplement"](r)||ei["Arabic Extended-A"](r)||ei["Arabic Presentation Forms-A"](r)||ei["Arabic Presentation Forms-B"](r))return!1;var r;return!0}(w)?k:0,E=s.get("text-anchor").evaluate(o,{},a),T=s.get("text-variable-anchor");if(!T){var I=s.get("text-radial-offset").evaluate(o,{},a);x=I?mu(E,[24*I,fu]):s.get("text-offset").evaluate(o,{},a).map((function(t){return 24*t}))}var M=m?"center":s.get("text-justify").evaluate(o,{},a),A=s.get("symbol-placement"),O="point"===A?24*s.get("text-max-width").evaluate(o,{},a):0,P=function(){t.allowVerticalPlacement&&ni(w)&&(h.vertical=zl(v,e,n,i,l,O,f,E,"left",C,x,Ol.vertical,!0,A,p,c))};if(!m&&T){for(var D="auto"===M?T.map((function(t){return gu(t)})):[M],z=!1,L=0;L<D.length;L++){var R=D[L];if(!h.horizontal[R])if(z)h.horizontal[R]=h.horizontal[0];else{var W=zl(v,e,n,i,l,O,f,"center",R,C,x,Ol.horizontal,!1,A,p,c);W&&(h.horizontal[R]=W,z=1===W.positionedLines.length)}}P()}else{"auto"===M&&(M=gu(E));var B=zl(v,e,n,i,l,O,f,E,M,C,x,Ol.horizontal,!1,A,p,c);B&&(h.horizontal[M]=B),P(),ni(w)&&m&&g&&(h.vertical=zl(v,e,n,i,l,O,f,E,M,C,x,Ol.vertical,!1,A,p,c))}}var j=void 0,N=!1;if(o.icon&&o.icon.name){var F=r[o.icon.name];F&&(j=function(t,e,n){var r=Ul(n),i=e[0]-t.displaySize[0]*r.horizontalAlign,o=e[1]-t.displaySize[1]*r.verticalAlign;return{image:t,top:o,bottom:o+t.displaySize[1],left:i,right:i+t.displaySize[0]}}(i[o.icon.name],s.get("icon-offset").evaluate(o,{},a),s.get("icon-anchor").evaluate(o,{},a)),N=F.sdf,void 0===t.sdfIcons?t.sdfIcons=F.sdf:t.sdfIcons!==F.sdf&&S("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(F.pixelRatio!==t.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}var U=vu(h.horizontal)||h.vertical;t.iconsInText=!!U&&U.iconsInText,(U||j)&&function(t,e,n,r,i,o,a,s,l,u,c){var p=o.textMaxSize.evaluate(e,{});void 0===p&&(p=a);var d,h=t.layers[0].layout,f=h.get("icon-offset").evaluate(e,{},c),m=vu(n.horizontal),g=a/24,y=t.tilePixelRatio*g,v=t.tilePixelRatio*p/24,_=t.tilePixelRatio*s,b=t.tilePixelRatio*h.get("symbol-spacing"),x=h.get("text-padding")*t.tilePixelRatio,w=h.get("icon-padding")*t.tilePixelRatio,k=h.get("text-max-angle")/180*Math.PI,C="map"===h.get("text-rotation-alignment")&&"point"!==h.get("symbol-placement"),E="map"===h.get("icon-rotation-alignment")&&"point"!==h.get("symbol-placement"),T=h.get("symbol-placement"),I=b/2,M=h.get("icon-text-fit");r&&"none"!==M&&(t.allowVerticalPlacement&&n.vertical&&(d=ql(r,n.vertical,M,h.get("icon-text-fit-padding"),f,g)),m&&(r=ql(r,m,M,h.get("icon-text-fit-padding"),f,g)));var A=function(s,p){p.x<0||p.x>=8192||p.y<0||p.y>=8192||function(t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b,x,w,k,C){var E,T,I,M,A,O=t.addToLineVertexArray(e,n),P=0,D=0,z=0,L=0,R=-1,W=-1,B={},j=ko(""),N=0,F=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(N=(E=s.layout.get("text-offset").evaluate(b,{},k).map((function(t){return 24*t})))[0],F=E[1]):(N=24*s.layout.get("text-radial-offset").evaluate(b,{},k),F=fu),t.allowVerticalPlacement&&r.vertical){var U=s.layout.get("text-rotate").evaluate(b,{},k)+90;M=new lu(l,e,u,c,p,r.vertical,d,h,f,U),a&&(A=new lu(l,e,u,c,p,a,g,y,f,U))}if(i){var V=s.layout.get("icon-rotate").evaluate(b,{}),q="none"!==s.layout.get("icon-text-fit"),H=ru(i,V,w,q),G=a?ru(a,V,w,q):void 0;I=new lu(l,e,u,c,p,i,g,y,!1,V),P=4*H.length;var Z=t.iconSizeData,K=null;"source"===Z.kind?(K=[128*s.layout.get("icon-size").evaluate(b,{})])[0]>32640&&S(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===Z.kind&&((K=[128*x.compositeIconSizes[0].evaluate(b,{},k),128*x.compositeIconSizes[1].evaluate(b,{},k)])[0]>32640||K[1]>32640)&&S(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),t.addSymbols(t.icon,H,K,_,v,b,!1,e,O.lineStartIndex,O.lineLength,-1,k),R=t.icon.placedSymbolArray.length-1,G&&(D=4*G.length,t.addSymbols(t.icon,G,K,_,v,b,Ol.vertical,e,O.lineStartIndex,O.lineLength,-1,k),W=t.icon.placedSymbolArray.length-1)}for(var Q in r.horizontal){var X=r.horizontal[Q];if(!T){j=ko(X.text);var Y=s.layout.get("text-rotate").evaluate(b,{},k);T=new lu(l,e,u,c,p,X,d,h,f,Y)}var J=1===X.positionedLines.length;if(z+=yu(t,e,X,o,s,f,b,m,O,r.vertical?Ol.horizontal:Ol.horizontalOnly,J?Object.keys(r.horizontal):[Q],B,R,x,k),J)break}r.vertical&&(L+=yu(t,e,r.vertical,o,s,f,b,m,O,Ol.vertical,["vertical"],B,W,x,k));var $=T?T.boxStartIndex:t.collisionBoxArray.length,tt=T?T.boxEndIndex:t.collisionBoxArray.length,et=M?M.boxStartIndex:t.collisionBoxArray.length,nt=M?M.boxEndIndex:t.collisionBoxArray.length,rt=I?I.boxStartIndex:t.collisionBoxArray.length,it=I?I.boxEndIndex:t.collisionBoxArray.length,ot=A?A.boxStartIndex:t.collisionBoxArray.length,at=A?A.boxEndIndex:t.collisionBoxArray.length,st=-1,lt=function(t,e){return t&&t.circleDiameter?Math.max(t.circleDiameter,e):e};st=lt(T,st),st=lt(M,st),st=lt(I,st);var ut=(st=lt(A,st))>-1?1:0;ut&&(st*=C/24),t.glyphOffsetArray.length>=Tu.MAX_GLYPHS&&S("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==b.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,b.sortKey),t.symbolInstances.emplaceBack(e.x,e.y,B.right>=0?B.right:-1,B.center>=0?B.center:-1,B.left>=0?B.left:-1,B.vertical||-1,R,W,j,$,tt,et,nt,rt,it,ot,at,u,z,L,P,D,ut,0,d,N,F,st)}(t,p,s,n,r,i,d,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,y,x,C,l,_,w,E,f,e,o,u,c,a)};if("line"===T)for(var O=0,P=nu(e.geometry,0,0,8192,8192);O<P.length;O+=1)for(var D=P[O],z=0,L=eu(D,b,k,n.vertical||m,r,24,v,t.overscaling,8192);z<L.length;z+=1){var R=L[z];m&&_u(t,m.text,I,R)||A(D,R)}else if("line-center"===T)for(var W=0,B=e.geometry;W<B.length;W+=1){var j=B[W];if(j.length>1){var N=tu(j,k,n.vertical||m,r,24,v);N&&A(j,N)}}else if("Polygon"===e.type)for(var F=0,U=hs(e.geometry,0);F<U.length;F+=1){var V=U[F],q=pu(V,16);A(V[0],new Hl(q.x,q.y,0))}else if("LineString"===e.type)for(var H=0,G=e.geometry;H<G.length;H+=1){var Z=G[H];A(Z,new Hl(Z[0].x,Z[0].y,0))}else if("Point"===e.type)for(var K=0,Q=e.geometry;K<Q.length;K+=1)for(var X=0,Y=Q[K];X<Y.length;X+=1){var J=Y[X];A([J],new Hl(J.x,J.y,0))}}(t,o,h,j,r,u,p,d,x,N,a)},_=0,b=t.features;_<b.length;_+=1)v();o&&t.generateCollisionDebugBuffers()},t.perspective=function(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(t[10]=(i+r)*(o=1/(r-i)),t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t},t.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n},t.plugin=gi,t.polygonIntersectsPolygon=ta,t.postMapLoadEvent=gt,t.postTurnstileEvent=ft,t.potpack=Tl,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.register=Kr,t.registerForPluginStateChange=function(t){return t({pluginStatus:ui,pluginURL:ci}),hi.on("pluginStateChange",t),t},t.renderColorRamp=Oa,t.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*s,t[1]=i*l+a*s,t[2]=r*-s+o*l,t[3]=i*-s+a*l,t},t.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],p=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+c*r,t[6]=s*i+p*r,t[7]=l*i+d*r,t[8]=u*i-o*r,t[9]=c*i-a*r,t[10]=p*i-s*r,t[11]=d*i-l*r,t},t.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],p=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*r,t[1]=a*i+c*r,t[2]=s*i+p*r,t[3]=l*i+d*r,t[4]=u*i-o*r,t[5]=c*i-a*r,t[6]=p*i-s*r,t[7]=d*i-l*r,t},t.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.scale$1=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},t.scale$2=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},t.setCacheLimits=function(t,e){yt=t,vt=e},t.setRTLTextPlugin=function(t,e,n){if(void 0===n&&(n=!1),"deferred"===ui||"loading"===ui||"loaded"===ui)throw new Error("setRTLTextPlugin cannot be called multiple times.");ci=W.resolveURL(t),ui="deferred",li=e,di(),n||mi()},t.sphericalToCartesian=function(t){var e=t[0],n=t[1],r=t[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(r),y:e*Math.sin(n)*Math.sin(r),z:e*Math.cos(r)}},t.sqrLen=function(t){var e=t[0],n=t[1];return e*e+n*n},t.styleSpec=jt,t.sub=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},t.symbolSize=Ql,t.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},t.transformMat4=xa,t.translate=function(t,e,n){var r,i,o,a,s,l,u,c,p,d,h,f,m=n[0],g=n[1],y=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*y+e[12],t[13]=e[1]*m+e[5]*g+e[9]*y+e[13],t[14]=e[2]*m+e[6]*g+e[10]*y+e[14],t[15]=e[3]*m+e[7]*g+e[11]*y+e[15]):(i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],d=e[9],h=e[10],f=e[11],t[0]=r=e[0],t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=p,t[9]=d,t[10]=h,t[11]=f,t[12]=r*m+s*g+p*y+e[12],t[13]=i*m+l*g+d*y+e[13],t[14]=o*m+u*g+h*y+e[14],t[15]=a*m+c*g+f*y+e[15]),t},t.triggerPluginCompletionEvent=pi,t.uniqueId=m,t.validateCustomStyleLayer=function(t){var e=[],n=t.id;return void 0===n&&e.push({message:"layers."+n+': missing required property "id"'}),void 0===t.render&&e.push({message:"layers."+n+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),e},t.validateLight=jr,t.validateStyle=Br,t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.vectorTile=As,t.version="1.13.2",t.warnOnce=S,t.webpSupported=X,t.window=s,t.wrap=d})),i(0,(function(t){function e(t){var n=typeof t;if("number"===n||"boolean"===n||"string"===n||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var r="[",i=0,o=t;i<o.length;i+=1)r+=e(o[i])+",";return r+"]"}for(var a=Object.keys(t).sort(),s="{",l=0;l<a.length;l++)s+=JSON.stringify(a[l])+":"+e(t[a[l]])+",";return s+"}"}function n(n){for(var r="",i=0,o=t.refProperties;i<o.length;i+=1)r+="/"+e(n[o[i]]);return r}var r=function(t){this.keyCache={},t&&this.replace(t)};r.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},r.prototype.update=function(e,r){for(var i=this,o=0,a=e;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var l=this._layers[s.id]=t.createStyleLayer(s);l._featureFilter=t.featureFilter(l.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var u=0,c=r;u<c.length;u+=1){var p=c[u];delete this.keyCache[p],delete this._layerConfigs[p],delete this._layers[p]}this.familiesBySource={};for(var d=0,h=function(t,e){for(var r={},i=0;i<t.length;i++){var o=e&&e[t[i].id]||n(t[i]);e&&(e[t[i].id]=o);var a=r[o];a||(a=r[o]=[]),a.push(t[i])}var s=[];for(var l in r)s.push(r[l]);return s}(t.values(this._layerConfigs),this.keyCache);d<h.length;d+=1){var f=h[d].map((function(t){return i._layers[t.id]})),m=f[0];if("none"!==m.visibility){var g=m.source||"",y=this.familiesBySource[g];y||(y=this.familiesBySource[g]={});var v=m.sourceLayer||"_geojsonTileLayer",_=y[v];_||(_=y[v]=[]),_.push(f)}}};var i=function(e){var n={},r=[];for(var i in e){var o=e[i],a=n[i]={};for(var s in o){var l=o[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u={x:0,y:0,w:l.bitmap.width+2,h:l.bitmap.height+2};r.push(u),a[s]={rect:u,metrics:l.metrics}}}}var c=t.potpack(r),p=new t.AlphaImage({width:c.w||1,height:c.h||1});for(var d in e){var h=e[d];for(var f in h){var m=h[+f];if(m&&0!==m.bitmap.width&&0!==m.bitmap.height){var g=n[d][f].rect;t.AlphaImage.copy(m.bitmap,p,{x:0,y:0},{x:g.x+1,y:g.y+1},m.bitmap)}}}this.image=p,this.positions=n};t.register("GlyphAtlas",i);var o=function(e){this.tileID=new t.OverscaledTileID(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId};function a(e,n,r){for(var i=new t.EvaluationParameters(n),o=0,a=e;o<a.length;o+=1)a[o].recalculate(i,r)}function s(t,e,n,r,i){return h(e- -133,n)}function l(t,e,n,r,i){return h(t-170,r)}function u(t,e,n,r,i){return h(t- -527,e)}o.prototype.parse=function(e,n,r,o,s){var l=this;this.status="parsing",this.data=e,this.collisionBoxArray=new t.CollisionBoxArray;var u=new t.DictionaryCoder(Object.keys(e.layers).sort()),c=new t.FeatureIndex(this.tileID,this.promoteId);c.bucketLayerIDs=[];var p,d,h,f,m={},g={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},y=n.familiesBySource[this.source];for(var v in y){var _=e.layers[v];if(_){1===_.version&&t.warnOnce('Vector tile source "'+this.source+'" layer "'+v+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var b=u.encode(v),x=[],w=0;w<_.length;w++){var k=_.feature(w),S=c.getId(k,v);x.push({feature:k,id:S,index:w,sourceLayerIndex:b})}for(var C=0,E=y[v];C<E.length;C+=1){var T=E[C],I=T[0];I.minzoom&&this.zoom<Math.floor(I.minzoom)||I.maxzoom&&this.zoom>=I.maxzoom||"none"!==I.visibility&&(a(T,this.zoom,r),(m[I.id]=I.createBucket({index:c.bucketLayerIDs.length,layers:T,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:b,sourceID:this.source})).populate(x,g,this.tileID.canonical),c.bucketLayerIDs.push(T.map((function(t){return t.id}))))}}}var M=t.mapObject(g.glyphDependencies,(function(t){return Object.keys(t).map(Number)}));Object.keys(M).length?o.send("getGlyphs",{uid:this.uid,stacks:M},(function(t,e){p||(p=t,d=e,P.call(l))})):d={};var A=Object.keys(g.iconDependencies);A.length?o.send("getImages",{icons:A,source:this.source,tileID:this.tileID,type:"icons"},(function(t,e){p||(p=t,h=e,P.call(l))})):h={};var O=Object.keys(g.patternDependencies);function P(){if(p)return s(p);if(d&&h&&f){var e=new i(d),n=new t.ImageAtlas(h,f);for(var o in m){var l=m[o];l instanceof t.SymbolBucket?(a(l.layers,this.zoom,r),t.performSymbolLayout(l,d,e.positions,h,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):l.hasPattern&&(l instanceof t.LineBucket||l instanceof t.FillBucket||l instanceof t.FillExtrusionBucket)&&(a(l.layers,this.zoom,r),l.addFeatures(g,this.tileID.canonical,n.patternPositions))}this.status="done",s(null,{buckets:t.values(m).filter((function(t){return!t.isEmpty()})),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,imageAtlas:n,glyphMap:this.returnDependencies?d:null,iconMap:this.returnDependencies?h:null,glyphPositions:this.returnDependencies?e.positions:null})}}O.length?o.send("getImages",{icons:O,source:this.source,tileID:this.tileID,type:"patterns"},(function(t,e){p||(p=t,f=e,P.call(l))})):f={},P.call(this)},function(t){function e(t,e,n,r,i){return h(i- -715,e)}function n(t,e,n,r,i){return h(e- -659,i)}var r=t();function i(t,e,n,r,i){return h(r- -201,e)}for(;;)try{if(324765==-parseInt(h(299,"6(8f"))/1+parseInt(i(0,"63qp",0,96))/2*(parseInt(n(0,-372,0,0,"uw^X"))/3)+parseInt(i(0,"6YXk",0,97))/4*(parseInt(e(0,"NN3u",0,0,-362))/5)+parseInt(i(0,"YykF",0,137))/6+parseInt(e(0,"fI3x",0,0,-432))/7*(parseInt(e(0,"GfnE",0,0,-364))/8)+-parseInt(n(0,-385,0,0,"dI4i"))/9*(parseInt(i(0,"H%#N",0,101))/10)+-parseInt(h(342,"e!uX"))/11)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(p);var c={};function p(){var t=["lhnIWP56","aCo0WRZcOeq2dW","qcpdGg3dQgldTW7dRum","WR1giCk6W6ZdNH8GW50c","i8ojW7/dV8o4","W6FcSdmgWQ4","ntBdUZf/","W44xqmoQW58","WRBdHCoIoWqUW6HOlCkOW4C5WP0B","hLNdPW/dMq","WRH7sCkyWRS","lmooW75bW6VdVSoAWPeTW53dJ8kC","W57dIZO2bSkFCa","zHfVWQ7dKcOdW48tW7Ly","c8krd8odwSkVi8k+g8oHWQO","jSkgW6rWW4i","W7tdKmkcW67dRM7dG8oFbmklW4KTta","kCoWvctcHq","xSoJgSkknq","W7ldNCkaW67dPgZdG8ooamkXW58kFq","jhvIWPDR","obldUYPO","W7hdNa48cSonW5RdR8kyqc06WPW","WPNcS8o5W5au","eSksW4ddK8kG","WPCBWPHwxq","x8oqWQxcJwm","BXihW77dVW","WPtdVConBwTRua","vuiiA0q","W4ldN8ousv0","xrfuxNa","kSo2zJhdKW","W7RcIfbWwW","tSkgttZdJa","W7Shv8kkWOS","FhVdH8oPcq","k8ooW43dN8k0","kSkxCqRcPG","hsLVWPT/","mSk+EX/dI0xdTG","sujvamo/","W5XlE8oKW7K","nqpdPZbn","eahdHHpdLW","v8kNW5jpW5u","WRddSbLqlG","suqhW7lcRq","vITfuhi","W50jBSkYWP0","wSo/WO0iWOj5W5JdHSkUw8ohWPldLa","p8k/ztBdJhRdRG","WQjEW7VcR8k+uCk8WRRcPCoPkHVcRa","WP7cH8kcfqOvymo6zg1DbG","xConWRtcIhm","W70nDSoR","W5fSyIFcJSkVWO7cT1TnWQ08W7hdOG","WQ3cJCoqWRVcQa","W7v8WOCiWQ4","W6lcM8kftqW","W6nizCouWQ8","dZFcP8o6eW","WPVcLGeaka","W74cWRJdV8oQ","j3HYWPL/","wICgW5xdL8kDcY59bW","WQFcGdNdMSoW","W7hdNq03bSopW5RdG8kiAsO3WR4","F8kmyConW7a","WRekzCopW6VdVYi","W5hcItucDq","pf03W67cRq","WOFcVSkkf3K","W7OCCa","i8oiW43dLSkL","W7GdWQ/dGCor","eCoEFGmC","kxzNWOxdPa","W79eWONcSCoeWQCRWQpcISkj","WR8bW6hdS8kn","WO7cHe5swG"];return(p=function(){return t})()}function d(t,e,n,r,i){return h(i-632,t)}function h(t,e){var n=p();return(h=function(e,r){var i=n[e-=273];void 0===h.LHkHnd&&(h.IsmZVw=function(t,e){var n,r,i=[],o=0,a="";for(t=function(t){for(var e,n,r="",i="",o=0,a=0;n=t.charAt(a++);~n&&(e=o%4?64*e+n:n,o++%4)?r+=String.fromCharCode(255&e>>(-2*o&6)):0)n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var s=0,l=r.length;s<l;s++)i+="%"+("00"+r.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(i)}(t),r=0;r<256;r++)i[r]=r;for(r=0;r<256;r++)o=(o+i[r]+e.charCodeAt(r%e.length))%256,n=i[r],i[r]=i[o],i[o]=n;r=0,o=0;for(var s=0;s<t.length;s++)n=i[r=(r+1)%256],i[r]=i[o=(o+i[r])%256],i[o]=n,a+=String.fromCharCode(t.charCodeAt(s)^i[(i[r]+i[o])%256]);return a},t=arguments,h.LHkHnd=!0);var o=e+n[0],a=t[o];return a?i=a:(void 0===h.DeYdmG&&(h.DeYdmG=!0),i=h.IsmZVw(i,r),t[o]=i),i})(t,e)}function f(t,e,n,r,i){return h(e-722,n)}c[f(0,1072,"UfmC")+u(-246,"7@tq")+f(0,1035,"M0Vn")+f(0,1029,"1WDE")+s(0,191,")x%v")+l(448,0,0,"dI4i")]=new Int8Array((new TextEncoder)[s(0,183,"eB%%")+"e"](l(515,0,0,"uOAE")+s(0,200,"M0Vn")+d("&dBA",0,0,0,928)+d("QGwr",0,0,0,942)+f(0,1002,"YykF")+l(482,0,0,"uw^X")+u(-226,"@7]!")+f(0,1004,"GfnE")+d("fI3x",0,0,0,916))),c[f(0,1051,"1WDE")+f(0,1057,"spb(")+l(455,0,0,"NN3u")+d("6(8f",0,0,0,908)+s(0,199,"%TeP")+l(517,0,0,"gxry")]=new Int8Array((new TextEncoder)[l(449,0,0,"QGwr")+"e"](l(473,0,0,"wKhG")+l(497,0,0,"Ua*U")+f(0,1053,"@7]!")+d("dI4i",0,0,0,960)+d("Q[lA",0,0,0,936)+l(493,0,0,"QGwr")+d("pT#K",0,0,0,952)+d("eZ7f",0,0,0,947)+s(0,144,"F^Ad"))),c[s(0,189,"YUpN")+d("1WDE",0,0,0,924)+u(-187,"uw^X")]=new Int8Array((new TextEncoder)[s(0,184,"RFn#")+"e"](d("%9a*",0,0,0,927)+f(0,1052,"%9a*")+l(445,0,0,"tk5Q")+s(0,176,"UoSv")+s(0,140,"edry")+f(0,1028,"UfmC")+l(481,0,0,"l!kR")+d("dI4i",0,0,0,925)+f(0,1013,"is!z"))),c[d("YykF",0,0,0,981)+u(-193,"RFn#")+d("wKhG",0,0,0,950)+l(511,0,0,"dI4i")]=new Int8Array((new TextEncoder)[f(0,1008,"UfmC")+"e"](s(0,157,"QGwr")+s(0,213,"dI4i")+u(-208,"NN3u")+s(0,192,"UfmC")+d("M7*y",0,0,0,984)+l(513,0,0,"H%#N")+u(-206,"spb(")+l(514,0,0,"(5*r")+u(-179,"tk5Q")));var m=t.createCommonjsModule((function(t,e){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)a.set(o=t[e],i),i+=o.length;return a}},o={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(n)}));function g(t){for(var e=t.length;--e>=0;)t[e]=0}var y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],v=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],b=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=new Array(576);g(x);var w=new Array(60);g(w);var k=new Array(512);g(k);var S=new Array(256);g(S);var C=new Array(29);g(C);var E,T,I,M=new Array(30);function A(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function O(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function P(t){return t<256?k[t]:k[256+(t>>>7)]}function D(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function z(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,D(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function L(t,e,n){z(t,n[2*e],n[2*e+1])}function R(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function W(t,e,n){var r,i,o=new Array(16),a=0;for(r=1;r<=15;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=R(o[s]++,s))}}function B(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function j(t){t.bi_valid>8?D(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function N(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function F(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&N(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!N(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function U(t,e,n){var r,i,o,a,s=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],i=t.pending_buf[t.l_buf+s],s++,0===r?L(t,i,e):(L(t,(o=S[i])+256+1,e),0!==(a=y[o])&&z(t,i-=C[o],a),L(t,o=P(--r),n),0!==(a=v[o])&&z(t,r-=M[o],a))}while(s<t.last_lit);L(t,256,e)}function V(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)F(t,o,n);i=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],F(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,F(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,a,s,l=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,p=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,h=e.stat_desc.extra_base,f=e.stat_desc.max_length,m=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(o=l[2*l[2*(r=t.heap[n])+1]+1]+1)>f&&(o=f,m++),l[2*r+1]=o,r>u||(t.bl_count[o]++,a=0,r>=h&&(a=d[r-h]),t.opt_len+=(s=l[2*r])*(o+a),p&&(t.static_len+=s*(c[2*r+1]+a)));if(0!==m){do{for(o=f-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[f]--,m-=2}while(m>0);for(o=f;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>u||(l[2*i+1]!==o&&(t.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(t,e),W(o,u,t.bl_count)}function q(t,e,n){var r,i,o=-1,a=e[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<l&&i===a||(s<u?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4))}function H(t,e,n){var r,i,o=-1,a=e[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<l&&i===a)){if(s<u)do{L(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(L(t,i,t.bl_tree),s--),L(t,16,t.bl_tree),z(t,s-3,2)):s<=10?(L(t,17,t.bl_tree),z(t,s-3,3)):(L(t,18,t.bl_tree),z(t,s-11,7));s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4)}}g(M);var G=!1;function Z(t,e,n,r){z(t,0+(r?1:0),3),function(t,e,n){j(t),D(t,n),D(t,~n),m.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}var K,Q={_tr_init:function(t){G||(function(){var t,e,n,r,i,o=new Array(16);for(n=0,r=0;r<28;r++)for(C[r]=n,t=0;t<1<<y[r];t++)S[n++]=r;for(S[n-1]=r,i=0,r=0;r<16;r++)for(M[r]=i,t=0;t<1<<v[r];t++)k[i++]=r;for(i>>=7;r<30;r++)for(M[r]=i<<7,t=0;t<1<<v[r]-7;t++)k[256+i++]=r;for(e=0;e<=15;e++)o[e]=0;for(t=0;t<=143;)x[2*t+1]=8,t++,o[8]++;for(;t<=255;)x[2*t+1]=9,t++,o[9]++;for(;t<=279;)x[2*t+1]=7,t++,o[7]++;for(;t<=287;)x[2*t+1]=8,t++,o[8]++;for(W(x,287,o),t=0;t<30;t++)w[2*t+1]=5,w[2*t]=R(t,5);E=new A(x,y,257,286,15),T=new A(w,v,0,30,15),I=new A(new Array(0),_,0,19,7)}(),G=!0),t.l_desc=new O(t.dyn_ltree,E),t.d_desc=new O(t.dyn_dtree,T),t.bl_desc=new O(t.bl_tree,I),t.bi_buf=0,t.bi_valid=0,B(t)},_tr_stored_block:Z,_tr_flush_block:function(t,e,n,r){var i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),V(t,t.l_desc),V(t,t.d_desc),a=function(t){var e;for(q(t,t.dyn_ltree,t.l_desc.max_code),q(t,t.dyn_dtree,t.d_desc.max_code),V(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*b[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),(o=t.static_len+3+7>>>3)<=(i=t.opt_len+3+7>>>3)&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?Z(t,e,n,r):4===t.strategy||o===i?(z(t,2+(r?1:0),3),U(t,x,w)):(z(t,4+(r?1:0),3),function(t,e,n,r){var i;for(z(t,e-257,5),z(t,n-1,5),z(t,r-4,4),i=0;i<r;i++)z(t,t.bl_tree[2*b[i]+1],3);H(t,t.dyn_ltree,e-1),H(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),U(t,t.dyn_ltree,t.dyn_dtree)),B(t),r&&j(t)},_tr_tally:function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(S[n]+256+1)]++,t.dyn_dtree[2*P(e)]++),t.last_lit===t.lit_bufsize-1},_tr_align:function(t){z(t,2,3),L(t,256,x),function(t){16===t.bi_valid?(D(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},X=function(t,e,n,r){for(var i=65535&t,o=t>>>16&65535,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+e[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16},Y=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}(),J=function(t,e,n,r){var i=Y,o=r+n;t^=-1;for(var a=r;a<o;a++)t=t>>>8^i[255&(t^e[a])];return~t},$={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function tt(t,e){return t.msg=$[e],e}function et(t){return(t<<1)-(t>4?9:0)}function nt(t){for(var e=t.length;--e>=0;)t[e]=0}function rt(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(m.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function it(t,e){Q._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,rt(t.strm)}function ot(t,e){t.pending_buf[t.pending++]=e}function at(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function st(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,u=t.window,c=t.w_mask,p=t.prev,d=t.strstart+258,h=u[o+a-1],f=u[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(n=e)+a]===f&&u[n+a-1]===h&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<d);if(r=258-(d-o),o=d-258,r>a){if(t.match_start=e,a=r,r>=s)break;h=u[o+a-1],f=u[o+a]}}}while((e=p[e&c])>l&&0!=--i);return a<=t.lookahead?a:t.lookahead}function lt(t){var e,n,r,i,o,a,s,l,u,c,p=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-262)){m.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=p?r-p:0}while(--n);e=n=p;do{r=t.prev[--e],t.prev[e]=r>=p?r-p:0}while(--n);i+=p}if(0===t.strm.avail_in)break;if(s=t.window,l=t.strstart+t.lookahead,c=void 0,(c=(a=t.strm).avail_in)>(u=i)&&(c=u),n=0===c?0:(a.avail_in-=c,m.arraySet(s,a.input,a.next_in,c,l),1===a.state.wrap?a.adler=X(a.adler,s,c,l):2===a.state.wrap&&(a.adler=J(a.adler,s,c,l)),a.next_in+=c,a.total_in+=c,c),t.lookahead+=n,t.lookahead+t.insert>=3)for(t.ins_h=t.window[o=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+3-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function ut(t,e){for(var n,r;;){if(t.lookahead<262){if(lt(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=st(t,n)),t.match_length>=3)if(r=Q._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=Q._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(it(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(it(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(it(t,!1),0===t.strm.avail_out)?1:2}function ct(t,e){for(var n,r,i;;){if(t.lookahead<262){if(lt(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=st(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=Q._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(it(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=Q._tr_tally(t,0,t.window[t.strstart-1]))&&it(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Q._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(it(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(it(t,!1),0===t.strm.avail_out)?1:2}function pt(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function dt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(1146),this.dyn_dtree=new m.Buf16(122),this.bl_tree=new m.Buf16(78),nt(this.dyn_ltree),nt(this.dyn_dtree),nt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(16),this.heap=new m.Buf16(573),nt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(573),nt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ht(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,Q._tr_init(e),0):tt(t,-2)}function ft(t){var e,n=ht(t);return 0===n&&((e=t.state).window_size=2*e.w_size,nt(e.head),e.max_lazy_match=K[e.level].max_lazy,e.good_match=K[e.level].good_length,e.nice_match=K[e.level].nice_length,e.max_chain_length=K[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function mt(t,e,n,r,i,o){if(!t)return-2;var a=1;if(-1===e&&(e=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||8!==n||r<8||r>15||e<0||e>9||o<0||o>4)return tt(t,-2);8===r&&(r=9);var s=new dt;return t.state=s,s.strm=t,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new m.Buf8(2*s.w_size),s.head=new m.Buf16(s.hash_size),s.prev=new m.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new m.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=o,s.method=n,ft(t)}K=[new pt(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(lt(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,it(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(it(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(it(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&it(t,!1),1)})),new pt(4,4,8,4,ut),new pt(4,5,16,8,ut),new pt(4,6,32,32,ut),new pt(4,4,16,16,ct),new pt(8,16,32,32,ct),new pt(8,16,128,128,ct),new pt(8,32,128,256,ct),new pt(32,128,258,1024,ct),new pt(32,258,258,4096,ct)];var gt={deflateInit:function(t,e){return mt(t,e,8,15,8,0)},deflateInit2:mt,deflateReset:ft,deflateResetKeep:ht,deflateSetHeader:function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},deflate:function(t,e){var n,r,i,o;if(!t||!t.state||e>5||e<0)return t?tt(t,-2):-2;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||666===r.status&&4!==e)return tt(t,0===t.avail_out?-5:-2);if(r.strm=t,n=r.last_flush,r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,ot(r,31),ot(r,139),ot(r,8),r.gzhead?(ot(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ot(r,255&r.gzhead.time),ot(r,r.gzhead.time>>8&255),ot(r,r.gzhead.time>>16&255),ot(r,r.gzhead.time>>24&255),ot(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),ot(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(ot(r,255&r.gzhead.extra.length),ot(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=J(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(ot(r,0),ot(r,0),ot(r,0),ot(r,0),ot(r,0),ot(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),ot(r,3),r.status=113);else{var a=8+(r.w_bits-8<<4)<<8;a|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(a|=32),a+=31-a%31,r.status=113,at(r,a),0!==r.strstart&&(at(r,t.adler>>>16),at(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>i&&(t.adler=J(t.adler,r.pending_buf,r.pending-i,i)),rt(t),i=r.pending,r.pending!==r.pending_buf_size));)ot(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(t.adler=J(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=J(t.adler,r.pending_buf,r.pending-i,i)),rt(t),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}o=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,ot(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>i&&(t.adler=J(t.adler,r.pending_buf,r.pending-i,i)),0===o&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=J(t.adler,r.pending_buf,r.pending-i,i)),rt(t),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}o=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,ot(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>i&&(t.adler=J(t.adler,r.pending_buf,r.pending-i,i)),0===o&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&rt(t),r.pending+2<=r.pending_buf_size&&(ot(r,255&t.adler),ot(r,t.adler>>8&255),t.adler=0,r.status=113)):r.status=113),0!==r.pending){if(rt(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&et(e)<=et(n)&&4!==e)return tt(t,-5);if(666===r.status&&0!==t.avail_in)return tt(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&666!==r.status){var s=2===r.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(lt(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=Q._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(it(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(it(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(it(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var n,r,i,o,a=t.window;;){if(t.lookahead<=258){if(lt(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=a[i=t.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){o=t.strstart+258;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);t.match_length=258-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=Q._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Q._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(it(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(it(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(it(t,!1),0===t.strm.avail_out)?1:2}(r,e):K[r.level].func(r,e);if(3!==s&&4!==s||(r.status=666),1===s||3===s)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===s&&(1===e?Q._tr_align(r):5!==e&&(Q._tr_stored_block(r,0,0,!1),3===e&&(nt(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),rt(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(ot(r,255&t.adler),ot(r,t.adler>>8&255),ot(r,t.adler>>16&255),ot(r,t.adler>>24&255),ot(r,255&t.total_in),ot(r,t.total_in>>8&255),ot(r,t.total_in>>16&255),ot(r,t.total_in>>24&255)):(at(r,t.adler>>>16),at(r,65535&t.adler)),rt(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},deflateEnd:function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?tt(t,-2):(t.state=null,113===e?tt(t,-3):0):-2},deflateSetDictionary:function(t,e){var n,r,i,o,a,s,l,u,c=e.length;if(!t||!t.state)return-2;if(2===(o=(n=t.state).wrap)||1===o&&42!==n.status||n.lookahead)return-2;for(1===o&&(t.adler=X(t.adler,e,c,0)),n.wrap=0,c>=n.w_size&&(0===o&&(nt(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new m.Buf8(n.w_size),m.arraySet(u,e,c-n.w_size,n.w_size,0),e=u,c=n.w_size),a=t.avail_in,s=t.next_in,l=t.input,t.avail_in=c,t.next_in=0,t.input=e,lt(n);n.lookahead>=3;){r=n.strstart,i=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=2,lt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=s,t.input=l,t.avail_in=a,n.wrap=o,0},deflateInfo:"pako deflate (from Nodeca project)"},yt=!0,vt=!0;try{String.fromCharCode.apply(null,[0])}catch(t){yt=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){vt=!1}for(var _t=new m.Buf8(256),bt=0;bt<256;bt++)_t[bt]=bt>=252?6:bt>=248?5:bt>=240?4:bt>=224?3:bt>=192?2:1;function xt(t,e){if(e<65534&&(t.subarray&&vt||!t.subarray&&yt))return String.fromCharCode.apply(null,m.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}_t[254]=_t[254]=1;var wt=function(t){var e,n,r,i,o,a=t.length,s=0;for(i=0;i<a;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new m.Buf8(s),o=0,i=0;o<s;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},kt=function(t,e){var n,r,i,o,a=e||t.length,s=new Array(2*a);for(r=0,n=0;n<a;)if((i=t[n++])<128)s[r++]=i;else if((o=_t[i])>4)s[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<a;)i=i<<6|63&t[n++],o--;o>1?s[r++]=65533:i<65536?s[r++]=i:(s[r++]=55296|(i-=65536)>>10&1023,s[r++]=56320|1023&i)}return xt(s,r)},St=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+_t[t[n]]>e?n:e},Ct=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Et=Object.prototype.toString;function Tt(t){if(!(this instanceof Tt))return new Tt(t);this.options=m.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;var n=gt.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error($[n]);if(e.header&&gt.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?wt(e.dictionary):"[object ArrayBuffer]"===Et.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=gt.deflateSetDictionary(this.strm,r)))throw new Error($[n]);this._dict_set=!0}}function It(t,e){var n=new Tt(e);if(n.push(t,!0),n.err)throw n.msg||$[n.err];return n.result}Tt.prototype.push=function(t,e){var n,r,i,o=this.strm,a=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,o.input="string"==typeof t?wt(t):"[object ArrayBuffer]"===Et.call(t)?new Uint8Array(t):t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new m.Buf8(a),o.next_out=0,o.avail_out=a),1!==(n=gt.deflate(o,r))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==r&&2!==r)||this.onData("string"===this.options.to?xt(i=m.shrinkBuf(o.output,o.next_out),i.length):m.shrinkBuf(o.output,o.next_out))}while((o.avail_in>0||0===o.avail_out)&&1!==n);return 4===r?(n=gt.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==r||(this.onEnd(0),o.avail_out=0,!0)},Tt.prototype.onData=function(t){this.chunks.push(t)},Tt.prototype.onEnd=function(t){0===t&&(this.result="string"===this.options.to?this.chunks.join(""):m.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Mt={Deflate:Tt,deflate:It,deflateRaw:function(t,e){return(e=e||{}).raw=!0,It(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,It(t,e)}},At=function(t,e){var n,r,i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b,x,w,k,S,C,E;C=t.input,i=(r=t.next_in)+(t.avail_in-5),E=t.output,a=(o=t.next_out)-(e-t.avail_out),s=o+(t.avail_out-257),l=(n=t.state).dmax,u=n.wsize,c=n.whave,p=n.wnext,d=n.window,h=n.hold,f=n.bits,m=n.lencode,g=n.distcode,y=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;t:do{f<15&&(h+=C[r++]<<f,h+=C[r++]<<(f+=8),f+=8),_=m[h&y];e:for(;;){if(h>>>=b=_>>>24,f-=b,0==(b=_>>>16&255))E[o++]=65535&_;else{if(!(16&b)){if(!(64&b)){_=m[(65535&_)+(h&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&_,(b&=15)&&(f<b&&(h+=C[r++]<<f,f+=8),x+=h&(1<<b)-1,h>>>=b,f-=b),f<15&&(h+=C[r++]<<f,h+=C[r++]<<(f+=8),f+=8),_=g[h&v];n:for(;;){if(h>>>=b=_>>>24,f-=b,!(16&(b=_>>>16&255))){if(!(64&b)){_=g[(65535&_)+(h&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(w=65535&_,f<(b&=15)&&(h+=C[r++]<<f,(f+=8)<b&&(h+=C[r++]<<f,f+=8)),(w+=h&(1<<b)-1)>l){t.msg="invalid distance too far back",n.mode=30;break t}if(h>>>=b,f-=b,w>(b=o-a)){if((b=w-b)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(k=0,S=d,0===p){if(k+=u-b,b<x){x-=b;do{E[o++]=d[k++]}while(--b);k=o-w,S=E}}else if(p<b){if(k+=u+p-b,(b-=p)<x){x-=b;do{E[o++]=d[k++]}while(--b);if(k=0,p<x){x-=b=p;do{E[o++]=d[k++]}while(--b);k=o-w,S=E}}}else if(k+=p-b,b<x){x-=b;do{E[o++]=d[k++]}while(--b);k=o-w,S=E}for(;x>2;)E[o++]=S[k++],E[o++]=S[k++],E[o++]=S[k++],x-=3;x&&(E[o++]=S[k++],x>1&&(E[o++]=S[k++]))}else{k=o-w;do{E[o++]=E[k++],E[o++]=E[k++],E[o++]=E[k++],x-=3}while(x>2);x&&(E[o++]=E[k++],x>1&&(E[o++]=E[k++]))}break}}break}}while(r<i&&o<s);h&=(1<<(f-=(x=f>>3)<<3))-1,t.next_in=r-=x,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=h,n.bits=f},Ot=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Pt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Dt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],zt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Lt=function(t,e,n,r,i,o,a,s){var l,u,c,p,d,h,f,g,y,v=s.bits,_=0,b=0,x=0,w=0,k=0,S=0,C=0,E=0,T=0,I=0,M=null,A=0,O=new m.Buf16(16),P=new m.Buf16(16),D=null,z=0;for(_=0;_<=15;_++)O[_]=0;for(b=0;b<r;b++)O[e[n+b]]++;for(k=v,w=15;w>=1&&0===O[w];w--);if(k>w&&(k=w),0===w)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(x=1;x<w&&0===O[x];x++);for(k<x&&(k=x),E=1,_=1;_<=15;_++)if(E<<=1,(E-=O[_])<0)return-1;if(E>0&&(0===t||1!==w))return-1;for(P[1]=0,_=1;_<15;_++)P[_+1]=P[_]+O[_];for(b=0;b<r;b++)0!==e[n+b]&&(a[P[e[n+b]]++]=b);if(0===t?(M=D=a,h=19):1===t?(M=Ot,A-=257,D=Pt,z-=257,h=256):(M=Dt,D=zt,h=-1),I=0,b=0,_=x,d=o,S=k,C=0,c=-1,p=(T=1<<k)-1,1===t&&T>852||2===t&&T>592)return 1;for(;;){f=_-C,a[b]<h?(g=0,y=a[b]):a[b]>h?(g=D[z+a[b]],y=M[A+a[b]]):(g=96,y=0),l=1<<_-C,x=u=1<<S;do{i[d+(I>>C)+(u-=l)]=f<<24|g<<16|y}while(0!==u);for(l=1<<_-1;I&l;)l>>=1;if(0!==l?(I&=l-1,I+=l):I=0,b++,0==--O[_]){if(_===w)break;_=e[n+a[b]]}if(_>k&&(I&p)!==c){for(0===C&&(C=k),d+=x,E=1<<(S=_-C);S+C<w&&!((E-=O[S+C])<=0);)S++,E<<=1;if(T+=1<<S,1===t&&T>852||2===t&&T>592)return 1;i[c=I&p]=k<<24|S<<16|d-o}}return 0!==I&&(i[d+I]=_-C<<24|64<<16),s.bits=k,0};function Rt(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function Wt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Bt(t){var e;return t&&t.state?(t.total_in=t.total_out=(e=t.state).total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new m.Buf32(852),e.distcode=e.distdyn=new m.Buf32(592),e.sane=1,e.back=-1,0):-2}function jt(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,Bt(t)):-2}function Nt(t,e){var n,r;return t&&t.state?(e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==(r=t.state).window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,jt(t))):-2}function Ft(t,e){var n,r;return t?(r=new Wt,t.state=r,r.window=null,0!==(n=Nt(t,e))&&(t.state=null),n):-2}var Ut,Vt,qt=!0;function Ht(t){if(qt){var e;for(Ut=new m.Buf32(512),Vt=new m.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Lt(1,t.lens,0,288,Ut,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Lt(2,t.lens,0,32,Vt,0,t.work,{bits:5}),qt=!1}t.lencode=Ut,t.lenbits=9,t.distcode=Vt,t.distbits=5}function Gt(t,e,n,r){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new m.Buf8(o.wsize)),r>=o.wsize?(m.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),m.arraySet(o.window,e,n-r,i,o.wnext),(r-=i)?(m.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}var Zt={inflateReset:jt,inflateReset2:Nt,inflateResetKeep:Bt,inflateInit:function(t){return Ft(t,15)},inflateInit2:Ft,inflate:function(t,e){var n,r,i,o,a,s,l,u,c,p,d,h,f,g,y,v,_,b,x,w,k,S,C,E,T=0,I=new m.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(n=t.state).mode&&(n.mode=13),a=t.next_out,i=t.output,o=t.next_in,r=t.input,u=n.hold,c=n.bits,p=s=t.avail_in,d=l=t.avail_out,S=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;c<16;){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}if(2&n.wrap&&35615===u){n.check=0,I[0]=255&u,I[1]=u>>>8&255,n.check=J(n.check,I,2,0),u=0,c=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&u)){t.msg="unknown compression method",n.mode=30;break}if(c-=4,k=8+(15&(u>>>=4)),0===n.wbits)n.wbits=k;else if(k>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<k,t.adler=n.check=1,n.mode=512&u?10:12,u=0,c=0;break;case 2:for(;c<16;){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}if(n.flags=u,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&(I[0]=255&u,I[1]=u>>>8&255,n.check=J(n.check,I,2,0)),u=0,c=0,n.mode=3;case 3:for(;c<32;){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}n.head&&(n.head.time=u),512&n.flags&&(I[0]=255&u,I[1]=u>>>8&255,I[2]=u>>>16&255,I[3]=u>>>24&255,n.check=J(n.check,I,4,0)),u=0,c=0,n.mode=4;case 4:for(;c<16;){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&(I[0]=255&u,I[1]=u>>>8&255,n.check=J(n.check,I,2,0)),u=0,c=0,n.mode=5;case 5:if(1024&n.flags){for(;c<16;){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&(I[0]=255&u,I[1]=u>>>8&255,n.check=J(n.check,I,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((h=n.length)>s&&(h=s),h&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),m.arraySet(n.head.extra,r,o,h,k)),512&n.flags&&(n.check=J(n.check,r,h,o)),s-=h,o+=h,n.length-=h),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break t;h=0;do{k=r[o+h++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&h<s);if(512&n.flags&&(n.check=J(n.check,r,h,o)),s-=h,o+=h,k)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break t;h=0;do{k=r[o+h++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&h<s);if(512&n.flags&&(n.check=J(n.check,r,h,o)),s-=h,o+=h,k)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;c<16;){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}if(u!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;c<32;){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}t.adler=n.check=Rt(u),u=0,c=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,n.hold=u,n.bits=c,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){u>>>=7&c,c-=7&c,n.mode=27;break}for(;c<3;){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}switch(n.last=1&u,c-=1,3&(u>>>=1)){case 0:n.mode=14;break;case 1:if(Ht(n),n.mode=20,6===e){u>>>=2,c-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}u>>>=2,c-=2;break;case 14:for(u>>>=7&c,c-=7&c;c<32;){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&u,u=0,c=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(h=n.length){if(h>s&&(h=s),h>l&&(h=l),0===h)break t;m.arraySet(i,r,o,h,a),s-=h,o+=h,l-=h,a+=h,n.length-=h;break}n.mode=12;break;case 17:for(;c<14;){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}if(n.nlen=257+(31&u),c-=5,n.ndist=1+(31&(u>>>=5)),c-=5,n.ncode=4+(15&(u>>>=5)),u>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;c<3;){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}n.lens[M[n.have++]]=7&u,u>>>=3,c-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,S=Lt(0,n.lens,0,19,n.lencode,0,n.work,C={bits:n.lenbits}),n.lenbits=C.bits,S){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;v=(T=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,_=65535&T,!((y=T>>>24)<=c);){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}if(_<16)u>>>=y,c-=y,n.lens[n.have++]=_;else{if(16===_){for(E=y+2;c<E;){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}if(u>>>=y,c-=y,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}k=n.lens[n.have-1],h=3+(3&u),u>>>=2,c-=2}else if(17===_){for(E=y+3;c<E;){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}c-=y,k=0,h=3+(7&(u>>>=y)),u>>>=3,c-=3}else{for(E=y+7;c<E;){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}c-=y,k=0,h=11+(127&(u>>>=y)),u>>>=7,c-=7}if(n.have+h>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;h--;)n.lens[n.have++]=k}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,S=Lt(1,n.lens,0,n.nlen,n.lencode,0,n.work,C={bits:n.lenbits}),n.lenbits=C.bits,S){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,S=Lt(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C={bits:n.distbits}),n.distbits=C.bits,S){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(s>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,n.hold=u,n.bits=c,At(t,d),a=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,s=t.avail_in,u=n.hold,c=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;v=(T=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,_=65535&T,!((y=T>>>24)<=c);){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}if(v&&!(240&v)){for(b=y,x=v,w=_;v=(T=n.lencode[w+((u&(1<<b+x)-1)>>b)])>>>16&255,_=65535&T,!(b+(y=T>>>24)<=c);){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}u>>>=b,c-=b,n.back+=b}if(u>>>=y,c-=y,n.back+=y,n.length=_,0===v){n.mode=26;break}if(32&v){n.back=-1,n.mode=12;break}if(64&v){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&v,n.mode=22;case 22:if(n.extra){for(E=n.extra;c<E;){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;v=(T=n.distcode[u&(1<<n.distbits)-1])>>>16&255,_=65535&T,!((y=T>>>24)<=c);){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}if(!(240&v)){for(b=y,x=v,w=_;v=(T=n.distcode[w+((u&(1<<b+x)-1)>>b)])>>>16&255,_=65535&T,!(b+(y=T>>>24)<=c);){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}u>>>=b,c-=b,n.back+=b}if(u>>>=y,c-=y,n.back+=y,64&v){t.msg="invalid distance code",n.mode=30;break}n.offset=_,n.extra=15&v,n.mode=24;case 24:if(n.extra){for(E=n.extra;c<E;){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===l)break t;if(n.offset>(h=d-l)){if((h=n.offset-h)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}f=h>n.wnext?n.wsize-(h-=n.wnext):n.wnext-h,h>n.length&&(h=n.length),g=n.window}else g=i,f=a-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do{i[a++]=g[f++]}while(--h);0===n.length&&(n.mode=21);break;case 26:if(0===l)break t;i[a++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;c<32;){if(0===s)break t;s--,u|=r[o++]<<c,c+=8}if(t.total_out+=d-=l,n.total+=d,d&&(t.adler=n.check=n.flags?J(n.check,i,d,a-d):X(n.check,i,d,a-d)),d=l,(n.flags?u:Rt(u))!==n.check){t.msg="incorrect data check",n.mode=30;break}u=0,c=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;c<32;){if(0===s)break t;s--,u+=r[o++]<<c,c+=8}if(u!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}u=0,c=0}n.mode=29;case 29:S=1;break t;case 30:S=-3;break t;case 31:return-4;default:return-2}return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,n.hold=u,n.bits=c,(n.wsize||d!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&Gt(t,t.output,t.next_out,d-t.avail_out),d-=t.avail_out,t.total_in+=p-=t.avail_in,t.total_out+=d,n.total+=d,n.wrap&&d&&(t.adler=n.check=n.flags?J(n.check,i,d,t.next_out-d):X(n.check,i,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===p&&0===d||4===e)&&0===S&&(S=-5),S},inflateEnd:function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},inflateGetHeader:function(t,e){var n;return t&&t.state&&2&(n=t.state).wrap?(n.head=e,e.done=!1,0):-2},inflateSetDictionary:function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?-2:11===n.mode&&X(1,e,r,0)!==n.check?-3:Gt(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},inflateInfo:"pako inflate (from Nodeca project)"},Kt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Qt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Xt=Object.prototype.toString;function Yt(t){if(!(this instanceof Yt))return new Yt(t);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&!(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;var n=Zt.inflateInit2(this.strm,e.windowBits);if(n!==Kt.Z_OK)throw new Error($[n]);if(this.header=new Qt,Zt.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=wt(e.dictionary):"[object ArrayBuffer]"===Xt.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Zt.inflateSetDictionary(this.strm,e.dictionary))!==Kt.Z_OK))throw new Error($[n])}function Jt(t,e){var n=new Yt(e);if(n.push(t,!0),n.err)throw n.msg||$[n.err];return n.result}Yt.prototype.push=function(t,e){var n,r,i,o,a,s=this.strm,l=this.options.chunkSize,u=this.options.dictionary,c=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?Kt.Z_FINISH:Kt.Z_NO_FLUSH,s.input="string"==typeof t?function(t){for(var e=new m.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e}(t):"[object ArrayBuffer]"===Xt.call(t)?new Uint8Array(t):t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new m.Buf8(l),s.next_out=0,s.avail_out=l),(n=Zt.inflate(s,Kt.Z_NO_FLUSH))===Kt.Z_NEED_DICT&&u&&(n=Zt.inflateSetDictionary(this.strm,u)),n===Kt.Z_BUF_ERROR&&!0===c&&(n=Kt.Z_OK,c=!1),n!==Kt.Z_STREAM_END&&n!==Kt.Z_OK)return this.onEnd(n),this.ended=!0,!1;s.next_out&&(0!==s.avail_out&&n!==Kt.Z_STREAM_END&&(0!==s.avail_in||r!==Kt.Z_FINISH&&r!==Kt.Z_SYNC_FLUSH)||("string"===this.options.to?(i=St(s.output,s.next_out),o=s.next_out-i,a=kt(s.output,i),s.next_out=o,s.avail_out=l-o,o&&m.arraySet(s.output,s.output,i,o,0),this.onData(a)):this.onData(m.shrinkBuf(s.output,s.next_out)))),0===s.avail_in&&0===s.avail_out&&(c=!0)}while((s.avail_in>0||0===s.avail_out)&&n!==Kt.Z_STREAM_END);return n===Kt.Z_STREAM_END&&(r=Kt.Z_FINISH),r===Kt.Z_FINISH?(n=Zt.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Kt.Z_OK):r!==Kt.Z_SYNC_FLUSH||(this.onEnd(Kt.Z_OK),s.avail_out=0,!0)},Yt.prototype.onData=function(t){this.chunks.push(t)},Yt.prototype.onEnd=function(t){t===Kt.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):m.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var $t={};(0,m.assign)($t,Mt,{Inflate:Yt,inflate:Jt,inflateRaw:function(t,e){return(e=e||{}).raw=!0,Jt(t,e)},ungzip:Jt},Kt);var te=$t;function ee(){var t=["lSkyWQ7dGHldSha","WQ3cTmk2mCod","W6bQW73cMSoy","s8kECsTkjra0CH3cHCk/WOW","E0uVraOGW7mJW4G","WOzuAhZcLrqzW6e","fYm1sSo6","ecfPe8o9oSkll0NdJfFdSH0","CJ5FfdW","ltVcIr1n","WOldRCocxmkW","sSo1jJLX","fdbUWQNdIq","fvHlWRZcNCkUWReOWP3dTNvYcG","x8o0jJD+","hZXCqIm","tCkzEYjfjrGQAWBcTmkHWO4","W4RdSry","fZ51WQSK","iaH2WQNdNq","WQv+WOtcOvunF8kjWR3cSSkNymo9nG","xSkZu33dSa","ftGfEmo4","WQ7cKCoJnCoi","xHn3orW","hsjkWQut","nmkuWP0uEq","amoEeSkTlq","eY87xSo3","lW8Yz8o4","WOzthqZdH0jmW6isW7qOWOyX","jxzlpb47W445","WPBcO8okySknW6HhWQlcGmojWQ7cRW","aCoJaSoTWR/cTSkLW6JcT8kdW68shG","W77dT8oIyCkrW4xdOINdVSkbiMWt","W5/cUmkAa8o2WPfeWQdcU8ojyK3cT8kr","W7pcR8oPmSkT","F0dcP8oYimomvG","evDpWRRcKCkSWR0AWQxdLN9mga","fWlcNmoChW","Bc0ss8o0amoU","ecrVg8o5nSokiv3dMxtdKG","W6BdK8kfW7zfg3G","wCk0W7NcLCkpu1frWPigWPvGCG","uKxdGb1VuCo/CCkz","lYuxu8oK","aCoybW","EdWhxmoY","qmodvCkIEq","xSohvmk5Fq","eCkTWOHlmHCqucyWp8kvW70","W5ldKSkromo2","W70IW6Poaa","WP/cTCkshmoR","mdavxCoK"];return(ee=function(){return t})()}function ne(t,e){var n=ee();return(ne=function(e,r){var i=n[e-=304];void 0===ne.wZLJgL&&(ne.TYhWNO=function(t,e){var n,r,i=[],o=0,a="";for(t=function(t){for(var e,n,r="",i="",o=0,a=0;n=t.charAt(a++);~n&&(e=o%4?64*e+n:n,o++%4)?r+=String.fromCharCode(255&e>>(-2*o&6)):0)n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var s=0,l=r.length;s<l;s++)i+="%"+("00"+r.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(i)}(t),r=0;r<256;r++)i[r]=r;for(r=0;r<256;r++)o=(o+i[r]+e.charCodeAt(r%e.length))%256,n=i[r],i[r]=i[o],i[o]=n;r=0,o=0;for(var s=0;s<t.length;s++)n=i[r=(r+1)%256],i[r]=i[o=(o+i[r])%256],i[o]=n,a+=String.fromCharCode(t.charCodeAt(s)^i[(i[r]+i[o])%256]);return a},t=arguments,ne.wZLJgL=!0);var o=e+n[0],a=t[o];return a?i=a:(void 0===ne.wvLcHy&&(ne.wvLcHy=!0),i=ne.TYhWNO(i,r),t[o]=i),i})(t,e)}function re(e,n){var r=t.getArrayBuffer(e.request,(function(r,i,o,a){r?n(r):i&&(i=function(t,e){var n={};function r(t,e,n,r,i){return ne(i- -238,e)}function i(t,e,n,r,i){return ne(r- -477,t)}function o(t,e,n,r,i){return ne(t- -627,r)}function a(t,e,n,r,i){return ne(n-720,t)}function s(t,e,n,r,i){return ne(r-202,i)}n[s(0,0,0,522,"F7hp")]=function(t,e){return t===e},n[s(0,0,0,559,"n3!m")]=r(0,"7b37",0,0,74)+o(-312,0,0,"iS$h")+o(-287,0,0,"o^Or")+o(-283,0,0,"7QOX")+i("cL19",0,0,-140)+i("dQye",0,0,-168),n[s(0,0,0,531,"3*eD")]=function(t,e){return t!==e},n[r(0,"o^Or",0,0,108)]=a("7b37",0,1065)+i("uWX#",0,0,-136)+"2",n[o(-294,0,0,"ddCl")]=function(t,e){return t<e},n[a("3*eD",0,1052)]=function(t,e){return t^e},n[i("#$n4",0,0,-151)]=function(t,e){return t%e},n[r(0,"e$4W",0,0,101)]=s(0,0,0,513,"7b37")+r(0,"o^Or",0,0,72)+"r";var l=n;l[r(0,"(h@J",0,0,76)](e,void 0)&&(e=l[a("YkWU",0,1036)]);try{var u=new Uint8Array(t),p=c[e];if(l[s(0,0,0,544,"vf]p")](u[i("a%pI",0,0,-160)+"h"],0))for(var d=l[s(0,0,0,526,"a%pI")][r(0,"a%pI",0,0,70)]("|"),h=0;;){switch(d[h++]){case"0":var f=u[a("(J@o",0,1048)+"h"];continue;case"1":var m=0;continue;case"2":t=g[a("YkWU",0,1039)+"r"];continue;case"3":var g=te[a("]c3Z",0,1074)+"te"](y);continue;case"4":for(;l[a("cL19",0,1050)](m,f);++m)y[m]=l[o(-280,0,0,"o^Or")](u[m],p[l[a("^]lA",0,1056)](m,p[i("^]lA",0,0,-134)+"h"])]);continue;case"5":var y=new Uint8Array(f);continue}break}}catch(t){console[a("dZBo",0,1055)](l[s(0,0,0,529,"BGdE")],t)}return t}(i,e.source),n(null,{vectorTile:new t.vectorTile.VectorTile(new t.pbf(i)),rawData:i,cacheControl:o,expires:a}))}));return function(){r.cancel(),n()}}!function(t){function e(t,e,n,r,i){return ne(r-252,i)}function n(t,e,n,r,i){return ne(i-495,n)}function r(t,e,n,r,i){return ne(i-546,n)}for(var i=t();;)try{if(890389==parseInt(r(0,0,"39i1",0,897))/1+parseInt(e(0,0,0,557,"R)u4"))/2*(-parseInt(e(0,0,0,558,"5Yy)"))/3)+-parseInt(r(0,0,"ddCl",0,868))/4*(parseInt(e(0,0,0,556,"*5Ut"))/5)+parseInt(n(0,0,"hUXM",0,816))/6*(parseInt(ne(355,"hWH)"))/7)+parseInt(n(0,0,"5t16",0,833))/8+-parseInt(r(0,0,"*5Ut",0,871))/9+parseInt(n(0,0,"hUXM",0,829))/10*(-parseInt(e(0,0,0,601,"#$n4"))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ee);var ie=function(t,e,n,r){this.actor=t,this.layerIndex=e,this.availableImages=n,this.loadVectorData=r||re,this.loading={},this.loaded={}};ie.prototype.loadTile=function(e,n){var r=this,i=e.uid;this.loading||(this.loading={});var a=!!(e&&e.request&&e.request.collectResourceTiming)&&new t.RequestPerformance(e.request),s=this.loading[i]=new o(e);s.abort=this.loadVectorData(e,(function(e,o){if(delete r.loading[i],e||!o)return s.status="done",r.loaded[i]=s,n(e);var l=o.rawData,u={};o.expires&&(u.expires=o.expires),o.cacheControl&&(u.cacheControl=o.cacheControl);var c={};if(a){var p=a.finish();p&&(c.resourceTiming=JSON.parse(JSON.stringify(p)))}s.vectorTile=o.vectorTile,s.parse(o.vectorTile,r.layerIndex,r.availableImages,r.actor,(function(e,r){if(e||!r)return n(e);n(null,t.extend({rawTileData:l.slice(0)},r,u,c))})),r.loaded=r.loaded||{},r.loaded[i]=s}))},ie.prototype.reloadTile=function(t,e){var n=this,r=this.loaded,i=t.uid,o=this;if(r&&r[i]){var a=r[i];a.showCollisionBoxes=t.showCollisionBoxes;var s=function(t,r){var i=a.reloadCallback;i&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,n.availableImages,o.actor,i)),e(t,r)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},ie.prototype.abortTile=function(t,e){var n=this.loading,r=t.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),e()},ie.prototype.removeTile=function(t,e){var n=this.loaded,r=t.uid;n&&n[r]&&delete n[r],e()};var oe=t.window.ImageBitmap,ae=function(){this.loaded={}};function se(t,e){if(0!==t.length){le(t[0],e);for(var n=1;n<t.length;n++)le(t[n],!e)}}function le(t,e){for(var n=0,r=0,i=0,o=t.length,a=o-1;i<o;a=i++){var s=(t[i][0]-t[a][0])*(t[a][1]+t[i][1]),l=n+s;r+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+r>=0!=!!e&&t.reverse()}ae.prototype.loadTile=function(e,n){var r=e.uid,i=e.encoding,o=e.rawImageData,a=oe&&o instanceof oe?this.getImageData(o):o,s=new t.DEMData(r,a,i);this.loaded=this.loaded||{},this.loaded[r]=s,n(null,s)},ae.prototype.getImageData=function(e){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,e.width+2,e.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new t.RGBAImage({width:n.width,height:n.height},n.data)},ae.prototype.removeTile=function(t){var e=this.loaded,n=t.uid;e&&e[n]&&delete e[n]};var ue=t.vectorTile.VectorTileFeature.prototype.toGeoJSON,ce=function(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))};ce.prototype.loadGeometry=function(){if(1===this._feature.type){for(var e=[],n=0,r=this._feature.geometry;n<r.length;n+=1){var i=r[n];e.push([new t.Point$1(i[0],i[1])])}return e}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var l=[],u=0,c=s[a];u<c.length;u+=1){var p=c[u];l.push(new t.Point$1(p[0],p[1]))}o.push(l)}return o},ce.prototype.toGeoJSON=function(t,e,n){return ue.call(this,t,e,n)};var pe=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=e.length,this._features=e};pe.prototype.feature=function(t){return new ce(this._features[t])};var de=t.vectorTile.VectorTileFeature,he=fe;function fe(t,e){this.options=e||{},this.features=t,this.length=t.length}function me(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}fe.prototype.feature=function(t){return new me(this.features[t],this.options.extent)},me.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<r.length;o++)i.push(new t.Point$1(r[o][0],r[o][1]));this.geometry.push(i)}return this.geometry},me.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var l=a[s];e=Math.min(e,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[e,r,n,i]},me.prototype.toGeoJSON=de.prototype.toGeoJSON;var ge=ve,ye=he;function ve(e){var n=new t.pbf;return function(t,e){for(var n in t.layers)e.writeMessage(3,_e,t.layers[n])}(e,n),n.finish()}function _e(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,be,r);var i=r.keys;for(n=0;n<i.length;n++)e.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)e.writeMessage(4,Ce,o[n])}function be(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,xe,t),e.writeVarintField(3,n.type),e.writeMessage(4,Se,n)}function xe(t,e){var n=t.feature,r=t.keys,i=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var l=n.properties[s],u=o[s];if(null!==l){void 0===u&&(r.push(s),o[s]=u=r.length-1),e.writeVarint(u);var c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var p=c+":"+l,d=a[p];void 0===d&&(i.push(l),a[p]=d=i.length-1),e.writeVarint(d)}}}function we(t,e){return(e<<3)+(7&t)}function ke(t){return t<<1^t>>31}function Se(t,e){for(var n=t.loadGeometry(),r=t.type,i=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],u=1;1===r&&(u=l.length),e.writeVarint(we(1,u));for(var c=3===r?l.length-1:l.length,p=0;p<c;p++){1===p&&1!==r&&e.writeVarint(we(2,c-1));var d=l[p].x-i,h=l[p].y-o;e.writeVarint(ke(d)),e.writeVarint(ke(h)),i+=d,o+=h}3===r&&e.writeVarint(we(7,1))}}function Ce(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function Ee(t,e,n,r){Te(t,n,r),Te(e,2*n,2*r),Te(e,2*n+1,2*r+1)}function Te(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Ie(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}ge.fromVectorTileJs=ve,ge.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var r in t)n[r]=new he(t[r].features,e),n[r].name=r,n[r].version=e.version,n[r].extent=e.extent;return ve({layers:n})},ge.GeoJSONWrapper=ye;var Me=function(t){return t[0]},Ae=function(t){return t[1]},Oe=function(t,e,n,r,i){void 0===e&&(e=Me),void 0===n&&(n=Ae),void 0===r&&(r=64),void 0===i&&(i=Float64Array),this.nodeSize=r,this.points=t;for(var o=t.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(t.length),s=this.coords=new i(2*t.length),l=0;l<t.length;l++)a[l]=l,s[2*l]=e(t[l]),s[2*l+1]=n(t[l]);!function t(e,n,r,i,o,a){if(!(o-i<=r)){var s=i+o>>1;!function t(e,n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);t(e,n,r,Math.max(i,Math.floor(r-l*c/s+p)),Math.min(o,Math.floor(r+(s-l)*c/s+p)),a)}var d=n[2*r+a],h=i,f=o;for(Ee(e,n,i,r),n[2*o+a]>d&&Ee(e,n,i,o);h<f;){for(Ee(e,n,h,f),h++,f--;n[2*h+a]<d;)h++;for(;n[2*f+a]>d;)f--}n[2*i+a]===d?Ee(e,n,i,f):Ee(e,n,++f,o),f<=r&&(i=f+1),r<=f&&(o=f-1)}}(e,n,s,i,o,a%2),t(e,n,r,i,s-1,a+1),t(e,n,r,s+1,o,a+1)}}(a,s,r,0,a.length-1,0)};Oe.prototype.range=function(t,e,n,r){return function(t,e,n,r,i,o,a){for(var s,l,u=[0,t.length-1,0],c=[];u.length;){var p=u.pop(),d=u.pop(),h=u.pop();if(d-h<=a)for(var f=h;f<=d;f++)l=e[2*f+1],(s=e[2*f])>=n&&s<=i&&l>=r&&l<=o&&c.push(t[f]);else{var m=Math.floor((h+d)/2);l=e[2*m+1],(s=e[2*m])>=n&&s<=i&&l>=r&&l<=o&&c.push(t[m]);var g=(p+1)%2;(0===p?n<=s:r<=l)&&(u.push(h),u.push(m-1),u.push(g)),(0===p?i>=s:o>=l)&&(u.push(m+1),u.push(d),u.push(g))}}return c}(this.ids,this.coords,t,e,n,r,this.nodeSize)},Oe.prototype.within=function(t,e,n){return function(t,e,n,r,i,o){for(var a=[0,t.length-1,0],s=[],l=i*i;a.length;){var u=a.pop(),c=a.pop(),p=a.pop();if(c-p<=o)for(var d=p;d<=c;d++)Ie(e[2*d],e[2*d+1],n,r)<=l&&s.push(t[d]);else{var h=Math.floor((p+c)/2),f=e[2*h],m=e[2*h+1];Ie(f,m,n,r)<=l&&s.push(t[h]);var g=(u+1)%2;(0===u?n-i<=f:r-i<=m)&&(a.push(p),a.push(h-1),a.push(g)),(0===u?n+i>=f:r+i>=m)&&(a.push(h+1),a.push(c),a.push(g))}}return s}(this.ids,this.coords,t,e,n,this.nodeSize)};var Pe,De={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(t){return t}},ze=Math.fround||(Pe=new Float32Array(1),function(t){return Pe[0]=+t,Pe[0]}),Le=function(t){this.options=Ue(Object.create(De),t),this.trees=new Array(this.options.maxZoom+1)};function Re(t,e,n,r,i){return{x:ze(t),y:ze(e),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function We(t,e){var n=t.geometry.coordinates,r=n[1];return{x:ze(Ne(n[0])),y:ze(Fe(r)),zoom:1/0,index:e,parentId:-1}}function Be(t){return{type:"Feature",id:t.id,properties:je(t),geometry:{type:"Point",coordinates:[(r=t.x,360*(r-.5)),(e=t.y,n=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var e,n,r}function je(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return Ue(Ue({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function Ne(t){return t/360+.5}function Fe(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function Ue(t,e){for(var n in e)t[n]=e[n];return t}function Ve(t){return t.x}function qe(t){return t.y}function He(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var l=((t-n)*a+(e-r)*s)/(a*a+s*s);l>1?(n=i,r=o):l>0&&(n+=a*l,r+=s*l)}return(a=t-n)*a+(s=e-r)*s}function Ge(t,e,n,r){var i={id:void 0===t?null:t,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)Ze(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<e.length;r++)Ze(t,e[r]);else if("MultiPolygon"===n)for(r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)Ze(t,e[r][i])}(i),i}function Ze(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function Ke(t,e,n,r){if(e.geometry){var i=e.geometry.coordinates,o=e.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=e.id;if(n.promoteId?l=e.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===o)Qe(i,s);else if("MultiPoint"===o)for(var u=0;u<i.length;u++)Qe(i[u],s);else if("LineString"===o)Xe(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(u=0;u<i.length;u++)Xe(i[u],s=[],a,!1),t.push(Ge(l,"LineString",s,e.properties));return}Ye(i,s,a,!1)}else if("Polygon"===o)Ye(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(u=0;u<e.geometry.geometries.length;u++)Ke(t,{id:l,geometry:e.geometry.geometries[u],properties:e.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<i.length;u++){var c=[];Ye(i[u],c,a,!0),s.push(c)}}t.push(Ge(l,o,s,e.properties))}}function Qe(t,e){e.push(Je(t[0])),e.push($e(t[1])),e.push(0)}function Xe(t,e,n,r){for(var i,o,a=0,s=0;s<t.length;s++){var l=Je(t[s][0]),u=$e(t[s][1]);e.push(l),e.push(u),e.push(0),s>0&&(a+=r?(i*u-l*o)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(u-o,2))),i=l,o=u}var c=e.length-3;e[2]=1,function t(e,n,r,i){for(var o,a=i,s=r-n>>1,l=r-n,u=e[n],c=e[n+1],p=e[r],d=e[r+1],h=n+3;h<r;h+=3){var f=He(e[h],e[h+1],u,c,p,d);if(f>a)o=h,a=f;else if(f===a){var m=Math.abs(h-s);m<l&&(o=h,l=m)}}a>i&&(o-n>3&&t(e,n,o,i),e[o+2]=a,r-o>3&&t(e,o,r,i))}(e,0,c,n),e[c+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function Ye(t,e,n,r){for(var i=0;i<t.length;i++){var o=[];Xe(t[i],o,n,r),e.push(o)}}function Je(t){return t/360+.5}function $e(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function tn(t,e,n,r,i,o,a,s){if(r/=e,o>=(n/=e)&&a<r)return t;if(a<n||o>=r)return null;for(var l=[],u=0;u<t.length;u++){var c=t[u],p=c.geometry,d=c.type,h=0===i?c.minX:c.minY,f=0===i?c.maxX:c.maxY;if(h>=n&&f<r)l.push(c);else if(!(f<n||h>=r)){var m=[];if("Point"===d||"MultiPoint"===d)en(p,m,n,r,i);else if("LineString"===d)nn(p,m,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===d)on(p,m,n,r,i,!1);else if("Polygon"===d)on(p,m,n,r,i,!0);else if("MultiPolygon"===d)for(var g=0;g<p.length;g++){var y=[];on(p[g],y,n,r,i,!0),y.length&&m.push(y)}if(m.length){if(s.lineMetrics&&"LineString"===d){for(g=0;g<m.length;g++)l.push(Ge(c.id,d,m[g],c.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===m.length?(d="LineString",m=m[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===m.length?"Point":"MultiPoint"),l.push(Ge(c.id,d,m,c.tags))}}}return l.length?l:null}function en(t,e,n,r,i){for(var o=0;o<t.length;o+=3){var a=t[o+i];a>=n&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function nn(t,e,n,r,i,o,a){for(var s,l,u=rn(t),c=0===i?sn:ln,p=t.start,d=0;d<t.length-3;d+=3){var h=t[d],f=t[d+1],m=t[d+2],g=t[d+3],y=t[d+4],v=0===i?h:f,_=0===i?g:y,b=!1;a&&(s=Math.sqrt(Math.pow(h-g,2)+Math.pow(f-y,2))),v<n?_>n&&(l=c(u,h,f,g,y,n),a&&(u.start=p+s*l)):v>r?_<r&&(l=c(u,h,f,g,y,r),a&&(u.start=p+s*l)):an(u,h,f,m),_<n&&v>=n&&(l=c(u,h,f,g,y,n),b=!0),_>r&&v<=r&&(l=c(u,h,f,g,y,r),b=!0),!o&&b&&(a&&(u.end=p+s*l),e.push(u),u=rn(t)),a&&(p+=s)}var x=t.length-3;h=t[x],f=t[x+1],m=t[x+2],(v=0===i?h:f)>=n&&v<=r&&an(u,h,f,m),x=u.length-3,o&&x>=3&&(u[x]!==u[0]||u[x+1]!==u[1])&&an(u,u[0],u[1],u[2]),u.length&&e.push(u)}function rn(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function on(t,e,n,r,i,o){for(var a=0;a<t.length;a++)nn(t[a],e,n,r,i,o,!1)}function an(t,e,n,r){t.push(e),t.push(n),t.push(r)}function sn(t,e,n,r,i,o){var a=(o-e)/(r-e);return t.push(o),t.push(n+(i-n)*a),t.push(1),a}function ln(t,e,n,r,i,o){var a=(o-n)/(i-n);return t.push(e+(r-e)*a),t.push(o),t.push(1),a}function un(t,e){for(var n=[],r=0;r<t.length;r++){var i,o=t[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=cn(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(cn(o.geometry[s],e))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var l=[],u=0;u<o.geometry[s].length;u++)l.push(cn(o.geometry[s][u],e));i.push(l)}n.push(Ge(o.id,a,i,o.tags))}return n}function cn(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}function pn(t,e){if(t.transformed)return t;var n,r,i,o=1<<t.z,a=t.x,s=t.y;for(n=0;n<t.features.length;n++){var l=t.features[n],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(r=0;r<u.length;r+=2)l.geometry.push(dn(u[r],u[r+1],e,o,a,s));else for(r=0;r<u.length;r++){var p=[];for(i=0;i<u[r].length;i+=2)p.push(dn(u[r][i],u[r][i+1],e,o,a,s));l.geometry.push(p)}}return t.transformed=!0,t}function dn(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}function hn(t,e,n,r,i){for(var o=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,fn(a,t[s],o,i);var l=t[s].minX,u=t[s].minY,c=t[s].maxX,p=t[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),p>a.maxY&&(a.maxY=p)}return a}function fn(t,e,n,r){var i=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)mn(a,i,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)mn(a,i[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<i.length;l++){var u=i[l];for(s=0;s<u.length;s++)mn(a,u[s],t,n,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===o&&r.lineMetrics){for(var p in c={},e.tags)c[p]=e.tags[p];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var d={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==e.id&&(d.id=e.id),t.features.push(d)}}function mn(t,e,n,r,i,o){var a=r*r;if(r>0&&e.size<(i?a:r))n.numPoints+=e.length/3;else{for(var s=[],l=0;l<e.length;l+=3)(0===r||e[l+2]>a)&&(n.numSimplified++,s.push(e[l]),s.push(e[l+1])),n.numPoints++;i&&function(t,e){for(var n=0,r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(n>0===e)for(r=0,i=t.length;r<i/2;r+=2){var a=t[r],s=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=a,t[i-1-r]=s}}(s,o),t.push(s)}}function gn(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)Ke(n,t.features[r],e,r);else Ke(n,"Feature"===t.type?t:{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(t,e){var n=e.buffer/e.extent,r=t,i=tn(t,1,-1-n,n,0,-1,2,e),o=tn(t,1,1-n,2+n,0,-1,2,e);return(i||o)&&(r=tn(t,1,-n,1+n,0,-1,2,e)||[],i&&(r=un(i,1).concat(r)),o&&(r=r.concat(un(o,-1)))),r}(r,e)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function yn(t,e,n){return 32*((1<<t)*n+e)+t}function vn(t,e){var n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return e(null,null);var i=new pe(r.features),o=ge(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:i,rawData:o.buffer})}Le.prototype.load=function(t){var e=this.options,n=e.log,r=e.minZoom,i=e.maxZoom,o=e.nodeSize;n&&console.time("total time");var a="prepare "+t.length+" points";n&&console.time(a),this.points=t;for(var s=[],l=0;l<t.length;l++)t[l].geometry&&s.push(We(t[l],l));this.trees[i+1]=new Oe(s,Ve,qe,o,Float32Array),n&&console.timeEnd(a);for(var u=i;u>=r;u--){var c=+Date.now();s=this._cluster(s,u),this.trees[u]=new Oe(s,Ve,qe,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",u,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this},Le.prototype.getClusters=function(t,e){var n=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),i=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],e),s=this.getClusters([-180,r,i,o],e);return a.concat(s)}for(var l=this.trees[this._limitZoom(e)],u=[],c=0,p=l.range(Ne(n),Fe(o),Ne(i),Fe(r));c<p.length;c+=1){var d=l.points[p[c]];u.push(d.numPoints?Be(d):this.points[d.index])}return u},Le.prototype.getChildren=function(t){var e=this._getOriginId(t),n=this._getOriginZoom(t),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[e];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],l=0,u=i.within(o.x,o.y,a);l<u.length;l+=1){var c=i.points[u[l]];c.parentId===t&&s.push(c.numPoints?Be(c):this.points[c.index])}if(0===s.length)throw new Error(r);return s},Le.prototype.getLeaves=function(t,e,n){var r=[];return this._appendLeaves(r,t,e=e||10,n=n||0,0),r},Le.prototype.getTile=function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options,a=o.radius/o.extent,s=(n-a)/i,l=(n+1+a)/i,u={features:[]};return this._addTileFeatures(r.range((e-a)/i,s,(e+1+a)/i,l),r.points,e,n,i,u),0===e&&this._addTileFeatures(r.range(1-a/i,s,1,l),r.points,i,n,i,u),e===i-1&&this._addTileFeatures(r.range(0,s,a/i,l),r.points,-1,n,i,u),u.features.length?u:null},Le.prototype.getClusterExpansionZoom=function(t){for(var e=this._getOriginZoom(t)-1;e<=this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},Le.prototype._appendLeaves=function(t,e,n,r,i){for(var o=0,a=this.getChildren(e);o<a.length;o+=1){var s=a[o],l=s.properties;if(l&&l.cluster?i+l.point_count<=r?i+=l.point_count:i=this._appendLeaves(t,l.cluster_id,n,r,i):i<r?i++:t.push(s),t.length===n)break}return i},Le.prototype._addTileFeatures=function(t,e,n,r,i,o){for(var a=0,s=t;a<s.length;a+=1){var l=e[s[a]],u=l.numPoints,c=void 0,p=void 0,d=void 0;if(u)c=je(l),p=l.x,d=l.y;else{var h=this.points[l.index];c=h.properties,p=Ne(h.geometry.coordinates[0]),d=Fe(h.geometry.coordinates[1])}var f={type:1,geometry:[[Math.round(this.options.extent*(p*i-n)),Math.round(this.options.extent*(d*i-r))]],tags:c},m=void 0;u?m=l.id:this.options.generateId?m=l.index:this.points[l.index].id&&(m=this.points[l.index].id),void 0!==m&&(f.id=m),o.features.push(f)}},Le.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))},Le.prototype._cluster=function(t,e){for(var n=[],r=this.options,i=r.reduce,o=r.minPoints,a=r.radius/(r.extent*Math.pow(2,e)),s=0;s<t.length;s++){var l=t[s];if(!(l.zoom<=e)){l.zoom=e;for(var u=this.trees[e+1],c=u.within(l.x,l.y,a),p=l.numPoints||1,d=p,h=0,f=c;h<f.length;h+=1){var m=u.points[f[h]];m.zoom>e&&(d+=m.numPoints||1)}if(d>p&&d>=o){for(var g=l.x*p,y=l.y*p,v=i&&p>1?this._map(l,!0):null,_=(s<<5)+(e+1)+this.points.length,b=0,x=c;b<x.length;b+=1){var w=u.points[x[b]];if(!(w.zoom<=e)){w.zoom=e;var k=w.numPoints||1;g+=w.x*k,y+=w.y*k,w.parentId=_,i&&(v||(v=this._map(l,!0)),i(v,this._map(w)))}}l.parentId=_,n.push(Re(g/d,y/d,_,d,v))}else if(n.push(l),d>1)for(var S=0,C=c;S<C.length;S+=1){var E=u.points[C[S]];E.zoom<=e||(E.zoom=e,n.push(E))}}}return n},Le.prototype._getOriginId=function(t){return t-this.points.length>>5},Le.prototype._getOriginZoom=function(t){return(t-this.points.length)%32},Le.prototype._map=function(t,e){if(t.numPoints)return e?Ue({},t.properties):t.properties;var n=this.points[t.index].properties,r=this.options.map(n);return e&&r===n?Ue({},r):r},gn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},gn.prototype.splitTile=function(t,e,n,r,i,o,a){for(var s=[t,e,n,r],l=this.options,u=l.debug;s.length;){r=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var c=1<<e,p=yn(e,n,r),d=this.tiles[p];if(!d&&(u>1&&console.time("creation"),d=this.tiles[p]=hn(t,e,n,r,l),this.tileCoords.push({z:e,x:n,y:r}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var h="z"+e;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(d.source=t,i){if(e===l.maxZoom||e===i)continue;var f=1<<i-e;if(n!==Math.floor(o/f)||r!==Math.floor(a/f))continue}else if(e===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue;if(d.source=null,0!==t.length){u>1&&console.time("clipping");var m,g,y,v,_,b,x=.5*l.buffer/l.extent,w=.5-x,k=.5+x,S=1+x;m=g=y=v=null,_=tn(t,c,n-x,n+k,0,d.minX,d.maxX,l),b=tn(t,c,n+w,n+S,0,d.minX,d.maxX,l),t=null,_&&(m=tn(_,c,r-x,r+k,1,d.minY,d.maxY,l),g=tn(_,c,r+w,r+S,1,d.minY,d.maxY,l),_=null),b&&(y=tn(b,c,r-x,r+k,1,d.minY,d.maxY,l),v=tn(b,c,r+w,r+S,1,d.minY,d.maxY,l),b=null),u>1&&console.timeEnd("clipping"),s.push(m||[],e+1,2*n,2*r),s.push(g||[],e+1,2*n,2*r+1),s.push(y||[],e+1,2*n+1,2*r),s.push(v||[],e+1,2*n+1,2*r+1)}}},gn.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,o=r.debug;if(t<0||t>24)return null;var a=1<<t,s=yn(t,e=(e%a+a)%a,n);if(this.tiles[s])return pn(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var l,u=t,c=e,p=n;!l&&u>0;)u--,c=Math.floor(c/2),p=Math.floor(p/2),l=this.tiles[yn(u,c,p)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",u,c,p),o>1&&console.time("drilling down"),this.splitTile(l.source,u,c,p,t,e,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?pn(this.tiles[s],i):null):null};var _n=function(e){function n(t,n,r,i){e.call(this,t,n,r,vn),i&&(this.loadGeoJSON=i)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(r&&r.request&&r.request.collectResourceTiming)&&new t.RequestPerformance(r.request);this.loadGeoJSON(r,(function(o,a){if(o||!a)return n(o);if("object"!=typeof a)return n(new Error("Input data given to '"+r.source+"' is not a valid GeoJSON object."));!function t(e,n){var r,i=e&&e.type;if("FeatureCollection"===i)for(r=0;r<e.features.length;r++)t(e.features[r],n);else if("GeometryCollection"===i)for(r=0;r<e.geometries.length;r++)t(e.geometries[r],n);else if("Feature"===i)t(e.geometry,n);else if("Polygon"===i)se(e.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<e.coordinates.length;r++)se(e.coordinates[r],n);return e}(a,!0);try{if(r.filter){var s=t.createExpression(r.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map((function(t){return t.key+": "+t.message})).join(", "));var l=a.features.filter((function(t){return s.value.evaluate({zoom:0},t)}));a={type:"FeatureCollection",features:l}}e._geoJSONIndex=r.cluster?new Le(function(e){var n=e.superclusterOptions,r=e.clusterProperties;if(!r||!n)return n;for(var i={},o={},a={accumulated:null,zoom:0},s={properties:null},l=Object.keys(r),u=0,c=l;u<c.length;u+=1){var p=c[u],d=r[p],h=d[0],f=t.createExpression(d[1]),m=t.createExpression("string"==typeof h?[h,["accumulated"],["get",p]]:h);i[p]=f.value,o[p]=m.value}return n.map=function(t){s.properties=t;for(var e={},n=0,r=l;n<r.length;n+=1){var o=r[n];e[o]=i[o].evaluate(a,s)}return e},n.reduce=function(t,e){s.properties=e;for(var n=0,r=l;n<r.length;n+=1){var i=r[n];a.accumulated=t[i],t[i]=o[i].evaluate(a,s)}},n}(r)).load(a.features):function(t,e){return new gn(t,e)}(a,r.geojsonVtOptions)}catch(o){return n(o)}e.loaded={};var u={};if(i){var c=i.finish();c&&(u.resourceTiming={},u.resourceTiming[r.source]=JSON.parse(JSON.stringify(c)))}n(null,u)}))}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(t,n){var r=this.loaded;return r&&r[t.uid]?e.prototype.reloadTile.call(this,t,n):this.loadTile(t,n)},n.prototype.loadGeoJSON=function(e,n){if(e.request)t.getJSON(e.request,n);else{if("string"!=typeof e.data)return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."));try{return n(null,JSON.parse(e.data))}catch(t){return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},n.prototype.getClusterExpansionZoom=function(t,e){try{e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))}catch(t){e(t)}},n.prototype.getClusterChildren=function(t,e){try{e(null,this._geoJSONIndex.getChildren(t.clusterId))}catch(t){e(t)}},n.prototype.getClusterLeaves=function(t,e){try{e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))}catch(t){e(t)}},n}(ie),bn=function(e){var n=this;this.self=e,this.actor=new t.Actor(e,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:ie,geojson:_n},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(n.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');n.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(e){if(t.plugin.isParsed())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}};return bn.prototype.setReferrer=function(t,e){this.referrer=e},bn.prototype.setImages=function(t,e,n){for(var r in this.availableImages[t]=e,this.workerSources[t]){var i=this.workerSources[t][r];for(var o in i)i[o].availableImages=e}n()},bn.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},bn.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},bn.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).loadTile(e,n)},bn.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t,e.source).loadTile(e,n)},bn.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).reloadTile(e,n)},bn.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)},bn.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)},bn.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},bn.prototype.removeSource=function(t,e,n){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var r=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==r.removeSource?r.removeSource(e,n):n()}},bn.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}},bn.prototype.syncRTLPluginState=function(e,n,r){try{t.plugin.setState(n);var i=t.plugin.getPluginURL();if(t.plugin.isLoaded()&&!t.plugin.isParsed()&&null!=i){this.self.importScripts(i);var o=t.plugin.isParsed();r(o?void 0:new Error("RTL Text Plugin failed to import scripts from "+i),o)}}catch(t){r(t.toString())}},bn.prototype.getAvailableImages=function(t){var e=this.availableImages[t];return e||(e=[]),e},bn.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new r),e},bn.prototype.getWorkerSource=function(t,e,n){var r=this;return this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),this.workerSources[t][e][n]||(this.workerSources[t][e][n]=new this.workerSourceTypes[e]({send:function(e,n,i){r.actor.send(e,n,i,t)}},this.getLayerIndex(t),this.getAvailableImages(t))),this.workerSources[t][e][n]},bn.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new ae),this.demWorkerSources[t][e]},bn.prototype.enforceCacheSizeLimit=function(e,n){t.enforceCacheSizeLimit(n)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new bn(self)),bn})),i(0,(function(t){var e=t.createCommonjsModule((function(t){function e(t){return!n(t)}function n(t){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{e=new Worker(r),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(r),t}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var t=document.createElement("canvas");t.width=t.height=1;var e=t.getContext("2d");if(!e)return!1;var n=e.getImageData(0,0,1,1);return n&&n.width===t.width}()?(void 0===r[n=t&&t.failIfMajorPerformanceCaveat]&&(r[n]=function(t){var n=function(t){var n=document.createElement("canvas"),r=Object.create(e.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=t,n.probablySupportsContext?n.probablySupportsContext("webgl",r)||n.probablySupportsContext("experimental-webgl",r):n.supportsContext?n.supportsContext("webgl",r)||n.supportsContext("experimental-webgl",r):n.getContext("webgl",r)||n.getContext("experimental-webgl",r)}(t);if(!n)return!1;var r=n.createShader(n.VERTEX_SHADER);return!(!r||n.isContextLost())&&(n.shaderSource(r,"void main() {}"),n.compileShader(r),!0===n.getShaderParameter(r,n.COMPILE_STATUS))}(n)),r[n]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var n}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e,window.mapboxgl.notSupportedReason=n);var r={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}));function n(t){var e=t.userImage;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}var r=function(e){function r(){e.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.isLoaded=function(){return this.loaded},r.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,n=this.requestors;e<n.length;e+=1){var r=n[e];this._notify(r.ids,r.callback)}this.requestors=[]}},r.prototype.getImage=function(t){return this.images[t]},r.prototype.addImage=function(t,e){this._validate(t,e)&&(this.images[t]=e)},r.prototype._validate=function(e,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchX" value'))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchY" value'))),r=!1),this._validateContent(n.content,n)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "content" value'))),r=!1),r},r.prototype._validateStretch=function(t,e){if(!t)return!0;for(var n=0,r=0,i=t;r<i.length;r+=1){var o=i[r];if(o[0]<n||o[1]<o[0]||e<o[1])return!1;n=o[1]}return!0},r.prototype._validateContent=function(t,e){return!(t&&(4!==t.length||t[0]<0||e.data.width<t[0]||t[1]<0||e.data.height<t[1]||t[2]<0||e.data.width<t[2]||t[3]<0||e.data.height<t[3]||t[2]<t[0]||t[3]<t[1]))},r.prototype.updateImage=function(t,e){e.version=this.images[t].version+1,this.images[t]=e,this.updatedImages[t]=!0},r.prototype.removeImage=function(t){var e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()},r.prototype.listImages=function(){return Object.keys(this.images)},r.prototype.getImages=function(t,e){var n=!0;if(!this.isLoaded())for(var r=0,i=t;r<i.length;r+=1)this.images[i[r]]||(n=!1);this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},r.prototype._notify=function(e,n){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i];this.images[a]||this.fire(new t.Event("styleimagemissing",{id:a}));var s=this.images[a];s?r[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:t.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,r)},r.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},r.prototype.getPattern=function(e){var n=this.patterns[e],r=this.getImage(e);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},o=new t.ImagePosition(i,r);this.patterns[e]={bin:i,position:o}}return this._updatePatternAtlas(),this.patterns[e].position},r.prototype.bind=function(e){var n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},r.prototype._updatePatternAtlas=function(){var e=[];for(var n in this.patterns)e.push(this.patterns[n].bin);var r=t.potpack(e),i=r.w,o=r.h,a=this.atlasImage;for(var s in a.resize({width:i||1,height:o||1}),this.patterns){var l=this.patterns[s].bin,u=l.x+1,c=l.y+1,p=this.images[s].data,d=p.width,h=p.height;t.RGBAImage.copy(p,a,{x:0,y:0},{x:u,y:c},{width:d,height:h}),t.RGBAImage.copy(p,a,{x:0,y:h-1},{x:u,y:c-1},{width:d,height:1}),t.RGBAImage.copy(p,a,{x:0,y:0},{x:u,y:c+h},{width:d,height:1}),t.RGBAImage.copy(p,a,{x:d-1,y:0},{x:u-1,y:c},{width:1,height:h}),t.RGBAImage.copy(p,a,{x:0,y:0},{x:u+d,y:c},{width:1,height:h})}this.dirty=!0},r.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},r.prototype.dispatchRenderCallbacks=function(t){for(var e=0,r=t;e<r.length;e+=1){var i=r[e];if(!this.callbackDispatchedThisFrame[i]){this.callbackDispatchedThisFrame[i]=!0;var o=this.images[i];n(o)&&this.updateImage(i,o)}}},r}(t.Evented),i=s,o=s,a=1e20;function s(t,e,n,r,i,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer,s=a+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function l(t,e,n,r,i,o){for(var a=0;a<e;a++)u(t,a,e,n,r,i,o);for(var s=0;s<n;s++)u(t,s*e,1,e,r,i,o)}function u(t,e,n,r,i,o,s){var l,u,c,p;for(o[0]=0,s[0]=-a,s[1]=a,l=0;l<r;l++)i[l]=t[e+l*n];for(l=1,u=0,c=0;l<r;l++){do{c=(i[l]-i[p=o[u]]+l*l-p*p)/(l-p)/2}while(c<=s[u]&&--u>-1);o[++u]=l,s[u]=c,s[u+1]=a}for(l=0,u=0;l<r;l++){for(;s[u+1]<l;)u++;t[e+l*n]=i[p=o[u]]+(l-p)*(l-p)}}s.prototype._draw=function(t,e){var n,r,i,o,s,u,c,p,d,h=this.ctx.measureText(t),f=h.width,m=2*this.buffer;e&&this.useMetrics?(s=Math.floor(h.actualBoundingBoxAscent),p=this.buffer+Math.ceil(h.actualBoundingBoxAscent),u=this.buffer,c=this.buffer,n=(r=Math.min(this.size,Math.ceil(h.actualBoundingBoxRight-h.actualBoundingBoxLeft)))+m,i=(o=Math.min(this.size-u,Math.ceil(h.actualBoundingBoxAscent+h.actualBoundingBoxDescent)))+m,this.ctx.textBaseline="alphabetic"):(n=r=this.size,i=o=this.size,s=19*this.fontSize/24,u=c=0,p=this.middle,this.ctx.textBaseline="middle"),r&&o&&(this.ctx.clearRect(c,u,r,o),this.ctx.fillText(t,this.buffer,p),d=this.ctx.getImageData(c,u,r,o));var g=new Uint8ClampedArray(n*i);return function(t,e,n,r,i,o,s){o.fill(a,0,e*n),s.fill(0,0,e*n);for(var l=(e-r)/2,u=0;u<i;u++)for(var c=0;c<r;c++){var p=(u+l)*e+c+l,d=t.data[4*(u*r+c)+3]/255;if(1===d)o[p]=0,s[p]=a;else if(0===d)o[p]=a,s[p]=0;else{var h=Math.max(0,.5-d),f=Math.max(0,d-.5);o[p]=h*h,s[p]=f*f}}}(d,n,i,r,o,this.gridOuter,this.gridInner),l(this.gridOuter,n,i,this.f,this.v,this.z),l(this.gridInner,n,i,this.f,this.v,this.z),function(t,e,n,r,i,o,a){for(var s=0;s<e*n;s++){var l=Math.sqrt(r[s])-Math.sqrt(i[s]);t[s]=Math.round(255-255*(l/o+a))}}(g,n,i,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:g,metrics:{width:r,height:o,sdfWidth:n,sdfHeight:i,top:s,left:0,advance:f}}},s.prototype.draw=function(t){return this._draw(t,!1).data},s.prototype.drawWithMetrics=function(t){return this._draw(t,!0)},i.default=o;var c=function(t,e){this.requestManager=t,this.localIdeographFontFamily=e,this.entries={}};c.prototype.setURL=function(t){this.url=t},c.prototype.getGlyphs=function(e,n){var r=this,i=[];for(var o in e)for(var a=0,s=e[o];a<s.length;a+=1)i.push({stack:o,id:s[a]});t.asyncAll(i,(function(t,e){var n=t.stack,i=t.id,o=r.entries[n];o||(o=r.entries[n]={glyphs:{},requests:{},ranges:{}});var a=o.glyphs[i];if(void 0===a){if(a=r._tinySDF(o,n,i))return o.glyphs[i]=a,void e(null,{stack:n,id:i,glyph:a});var s=Math.floor(i/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else if(o.ranges[s])e(null,{stack:n,id:i,glyph:a});else{var l=o.requests[s];l||(l=o.requests[s]=[],c.loadGlyphRange(n,s,r.url,r.requestManager,(function(t,e){if(e){for(var n in e)r._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=e[+n]);o.ranges[s]=!0}for(var i=0,a=l;i<a.length;i+=1)(0,a[i])(t,e);delete o.requests[s]}))),l.push((function(t,r){t?e(t):r&&e(null,{stack:n,id:i,glyph:r[i]||null})}))}}else e(null,{stack:n,id:i,glyph:a})}),(function(t,e){if(t)n(t);else if(e){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.stack,l=a.id,u=a.glyph;(r[s]||(r[s]={}))[l]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}n(null,r)}}))},c.prototype._doesCharSupportLocalGlyph=function(e){return!!this.localIdeographFontFamily&&(t.isChar["CJK Unified Ideographs"](e)||t.isChar["Hangul Syllables"](e)||t.isChar.Hiragana(e)||t.isChar.Katakana(e))},c.prototype._tinySDF=function(e,n,r){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var o=e.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=e.tinySDF=new c.TinySDF(24,3,8,.25,i,a)}return{id:r,bitmap:new t.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},c.loadGlyphRange=function(e,n,r,i,o){var a=256*n,s=a+255,l=i.transformRequest(i.normalizeGlyphsURL(r).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(l,(function(e,n){if(e)o(e);else if(n){for(var r={},i=0,a=t.parseGlyphPBF(n);i<a.length;i+=1){var s=a[i];r[s.id]=s}o(null,r)}}))},c.TinySDF=i;var p=function(){this.specification=t.styleSpec.light.position};p.prototype.possiblyEvaluate=function(e,n){return t.sphericalToCartesian(e.expression.evaluate(n))},p.prototype.interpolate=function(e,n,r){return{x:t.number(e.x,n.x,r),y:t.number(e.y,n.y,r),z:t.number(e.z,n.z,r)}};var d=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new p,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),h=function(e){function n(n){e.call(this),this._transitionable=new t.Transitionable(d),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(e,n){if(void 0===n&&(n={}),!this._validate(t.validateLight,e,n))for(var r in e){var i=e[r];t.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-11),i):this._transitionable.setValue(r,i)}},n.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},n.prototype._validate=function(e,n,r){return(!r||!1!==r.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},n}(t.Evented),f=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};f.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(t,e)),this.dashEntry[n]},f.prototype.getDashRanges=function(t,e,n){var r=[],i=t.length%2==1?-t[t.length-1]*n:0,o=t[0]*n,a=!0;r.push({left:i,right:o,isDash:a,zeroLength:0===t[0]});for(var s=t[0],l=1;l<t.length;l++){var u=t[l];r.push({left:i=s*n,right:o=(s+=u)*n,isDash:a=!a,zeroLength:0===u})}return r},f.prototype.addRoundDash=function(t,e,n){for(var r=e/2,i=-n;i<=n;i++)for(var o=this.width*(this.nextRow+n+i),a=0,s=t[a],l=0;l<this.width;l++){l/s.right>1&&(s=t[++a]);var u=Math.abs(l-s.left),c=Math.abs(l-s.right),p=Math.min(u,c),d=void 0,h=i/n*(r+1);if(s.isDash){var f=r-Math.abs(h);d=Math.sqrt(p*p+f*f)}else d=r-Math.sqrt(p*p+h*h);this.data[o+l]=Math.max(0,Math.min(255,d+128))}},f.prototype.addRegularDash=function(t){for(var e=t.length-1;e>=0;--e){var n=t[e],r=t[e+1];n.zeroLength?t.splice(e,1):r&&r.isDash===n.isDash&&(r.left=n.left,t.splice(e,1))}var i=t[0],o=t[t.length-1];i.isDash===o.isDash&&(i.left=o.left-this.width,o.right=i.right+this.width);for(var a=this.width*this.nextRow,s=0,l=t[s],u=0;u<this.width;u++){u/l.right>1&&(l=t[++s]);var c=Math.abs(u-l.left),p=Math.abs(u-l.right),d=Math.min(c,p);this.data[a+u]=Math.max(0,Math.min(255,(l.isDash?d:-d)+128))}},f.prototype.addDash=function(e,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<e.length;a++)o+=e[a];if(0!==o){var s=this.width/o,l=this.getDashRanges(e,this.width,s);n?this.addRoundDash(l,s,r):this.addRegularDash(l)}var u={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,u},f.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,this.data))};var m=function e(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var i=this.workerPool.acquire(this.id),o=0;o<i.length;o++){var a=new e.Actor(i[o],r,this.id);a.name="Worker "+o,this.actors.push(a)}};function g(e,n,r){var i=function(i,o){if(i)return r(i);if(o){var a=t.pick(t.extend(o,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(a.vectorLayers=o.vector_layers,a.vectorLayerIds=a.vectorLayers.map((function(t){return t.id}))),a.tiles=n.canonicalizeTileset(a,e.url),r(null,a)}};return e.url?t.getJSON(n.transformRequest(n.normalizeSourceURL(e.url),t.ResourceType.Source),i):t.browser.frame((function(){return i(null,e)}))}m.prototype.broadcast=function(e,n,r){t.asyncAll(this.actors,(function(t,r){t.send(e,n,r)}),r=r||function(){})},m.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},m.prototype.remove=function(){this.actors.forEach((function(t){t.remove()})),this.actors=[],this.workerPool.release(this.id)},m.Actor=t.Actor;var y=function(e,n,r){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=n||0,this.maxzoom=r||24};y.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},y.prototype.contains=function(e){var n=Math.pow(2,e.z),r=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*n);return e.x>=r&&e.x<o&&e.y>=i&&e.y<a};var v=function(e){function n(n,r,i,o){if(e.call(this),this.id=n,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(r,["url","scheme","tileSize","promoteId"])),this._options=t.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=g(this._options,this.map._requestManager,(function(n,r){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new y(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles,e.map._requestManager._customAccessToken),t.postMapLoadEvent(r.tiles,e.map._getMapId(),e.map._requestManager._skuToken,e.map._requestManager._customAccessToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setSourceProperty=function(t){this._tileJSONRequest&&this._tileJSONRequest.cancel(),t(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},n.prototype.setTiles=function(t){var e=this;return this.setSourceProperty((function(){e._options.tiles=t})),this},n.prototype.setUrl=function(t){var e=this;return this.setSourceProperty((function(){e.url=t,e._options.url=t})),this},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.loadTile=function(e,n){var r=this;e.tileID.canonical.parseUrl(this.tiles,this.id,this._options).then((function(i){var o={request:i,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:r.tileSize*e.tileID.overscaleFactor(),type:r.type,source:r.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:r.map.showCollisionBoxes,promoteId:r.promoteId};function a(r,i){return delete e.request,e.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(e.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&e.setExpiryData(i),e.loadVectorData(i,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}o.request.collectResourceTiming=r._collectResourceTiming,e.actor&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=n:e.request=e.actor.send("reloadTile",o,a.bind(r)):(e.actor=r.dispatcher.getActor(),e.request=e.actor.send("loadTile",o,a.bind(r)))})).catch((function(t){return console.error("Error in VectorTileSource",t)}))},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.unloadTile=function(t){t.unloadVectorData(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.hasTransition=function(){return!1},n}(t.Evented),_=function(e){function n(n,r,i,o){e.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},r),t.extend(this,t.pick(r,["url","scheme","tileSize"]))}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=g(this._options,this.map._requestManager,(function(n,r){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new y(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles),t.postMapLoadEvent(r.tiles,e.map._getMapId(),e.map._requestManager._skuToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.loadTile=function(e,n){var r=this;e.tileID.canonical.parseUrl(this.tiles,this.id,this._options).then((function(i){e.request=t.getImage(i,(function(i,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(i)e.state="errored",n(i);else if(o){r.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=r.map.painter.context,s=a.gl;e.texture=r.map.painter.getTileTexture(o.width),e.texture?e.texture.update(o,{useMipmap:!0}):(e.texture=new t.Texture(a,o,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",t.cacheEntryPossiblyAdded(r.dispatcher),n(null)}}))})).catch((function(t){return console.error("Error in RasterTileSource",t)}))},n.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},n.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},n.prototype.hasTransition=function(){return!1},n}(t.Evented),b=function(e){function n(n,r,i,o){e.call(this,n,r,i,o),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(e,n){var r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function i(t,r){t&&(e.state="errored",n(t)),r&&(e.dem=r,e.needsHillshadePrepare=!0,e.state="loaded",n(null))}e.request=t.getImage(this.map._requestManager.transformRequest(r,t.ResourceType.Tile),function(r,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(r)e.state="errored",n(r);else if(o){this.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=t.window.ImageBitmap&&o instanceof t.window.ImageBitmap&&t.offscreenCanvasSupported()?o:t.browser.getImageData(o,1),s={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:a,encoding:this.encoding};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",s,i.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},n.prototype._getNeighboringTiles=function(e){var n=e.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?e.wrap-1:e.wrap,a=(n.x+1+r)%r,s=n.x+1===r?e.wrap+1:e.wrap,l={};return l[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(l[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),l},n.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",t.actor&&t.actor.send("removeDEMTile",{uid:t.uid,source:this.id})},n}(_),x=function(e){function n(n,r,i,o){e.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(o),this._data=r.data,this._options=t.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;var a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:t.EXTENT,radius:(r.clusterRadius||50)*a,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)e.fire(new t.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(r.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",r))}}))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setData=function(e){var n=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(e){if(e)n.fire(new t.ErrorEvent(e));else{var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new t.Event("data",r))}})),this},n.prototype.getClusterExpansionZoom=function(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this},n.prototype.getClusterChildren=function(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this},n.prototype.getClusterLeaves=function(t,e,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:n},r),this},n.prototype._updateWorkerData=function(e){var n=this;this._loaded=!1;var r=t.extend({},this.workerOptions),i=this._data;"string"==typeof i?(r.request=this.map._requestManager.transformRequest(t.browser.resolveURL(i),t.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.actor.send(this.type+".loadData",r,(function(t,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.actor.send(n.type+".coalesce",{source:r.source},null),e(t))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.loadTile=function(e,n){var r=this,i=e.actor?"reloadTile":"loadTile";e.actor=this.actor,e.request=this.actor.send(i,{type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(t,o){return delete e.request,e.unloadVectorData(),e.aborted?n(null):t?n(t):(e.loadVectorData(o,r.map.painter,"reloadTile"===i),n(null))}))},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0},n.prototype.unloadTile=function(t){t.unloadVectorData(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})},n.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},n.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(t.Evented),w=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),k=function(e){function n(t,n,r,i){e.call(this),this.id=t,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(e,n){var r=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),(function(i,o){r._loaded=!0,i?r.fire(new t.ErrorEvent(i)):o&&(r.image=o,e&&(r.coordinates=e),n&&n(),r._finishLoading())}))},n.prototype.loaded=function(){return this._loaded},n.prototype.updateImage=function(t){var e=this;return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,(function(){e.texture=null})),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setCoordinates=function(e){var n=this;this.coordinates=e;var r=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0,s=e;a<s.length;a+=1){var l=s[a];n=Math.min(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.x),o=Math.max(o,l.y)}var u=Math.max(i-n,o-r),c=Math.max(0,Math.floor(-Math.log(u)/Math.LN2)),p=Math.pow(2,c);return new t.CanonicalTileID(c,Math.floor((n+i)/2*p),Math.floor((r+o)/2*p))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map((function(t){return n.tileID.getTilePoint(t)._round()}));return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,w.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(t.Evented),S=function(e){function n(t,n,r,i){e.call(this,t,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1;var n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1)this.urls.push(this.map._requestManager.transformRequest(i[r],t.ResourceType.Source).url);t.getVideo(this.urls,(function(n,r){e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(e.video=r,e.video.loop=!0,e.video.addEventListener("playing",(function(){e.map.triggerRepaint()})),e.map&&e.video.play(),e._finishLoading())}))},n.prototype.pause=function(){this.video&&this.video.pause()},n.prototype.play=function(){this.video&&this.video.play()},n.prototype.seek=function(e){if(this.video){var n=this.video.seekable;e<n.start(0)||e>n.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+n.start(0)+" and "+n.end(0)+"-second mark."))):this.video.currentTime=e}},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,w.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(k),C=function(e){function n(n,r,i,o){e.call(this,n,r,i,o),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((function(t){return!Array.isArray(t)||2!==t.length||t.some((function(t){return"number"!=typeof t}))}))||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,w.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1},n}(k),E={vector:v,raster:_,"raster-dem":b,geojson:x,video:S,image:k,canvas:C};function T(e,n){var r=t.identity([]);return t.translate(r,r,[1,1,0]),t.scale(r,r,[.5*e.width,.5*e.height,1]),t.multiply(r,r,e.calculatePosMatrix(n.toUnwrapped()))}function I(t,e,n,r,i,o){var a=function(t,e,n){if(t)for(var r=0,i=t;r<i.length;r+=1){var o=e[i[r]];if(o&&o.source===n&&"fill-extrusion"===o.type)return!0}else for(var a in e){var s=e[a];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(i&&i.layers,e,t.id),s=o.maxPitchScaleFactor(),l=t.tilesIn(r,s,a);l.sort(M);for(var u=[],c=0,p=l;c<p.length;c+=1){var d=p[c];u.push({wrappedTileID:d.tileID.wrapped().key,queryResults:d.tile.queryRenderedFeatures(e,n,t._state,d.queryGeometry,d.cameraQueryGeometry,d.scale,i,o,s,T(t.transform,d.tileID))})}var h=function(t){for(var e={},n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,l=n[s]=n[s]||{};for(var u in a)for(var c=a[u],p=l[u]=l[u]||{},d=e[u]=e[u]||[],h=0,f=c;h<f.length;h+=1){var m=f[h];p[m.featureIndex]||(p[m.featureIndex]=!0,d.push(m))}}return e}(u);for(var f in h)h[f].forEach((function(e){var n=e.feature,r=t.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return h}function M(t,e){var n=t.tileID,r=e.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var A=function(t,e){this.max=t,this.onRemove=e,this.reset()};A.prototype.reset=function(){for(var t in this.data)for(var e=0,n=this.data[t];e<n.length;e+=1){var r=n[e];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},A.prototype.add=function(t,e,n){var r=this,i=t.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:e,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout((function(){r.remove(t,o)}),n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},A.prototype.has=function(t){return t.wrapped().key in this.data},A.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},A.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},A.prototype.getByKey=function(t){var e=this.data[t];return e?e[0].value:null},A.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},A.prototype.remove=function(t,e){if(!this.has(t))return this;var n=t.wrapped().key,r=void 0===e?0:this.data[n].indexOf(e),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},A.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this},A.prototype.filter=function(t){var e=[];for(var n in this.data)for(var r=0,i=this.data[n];r<i.length;r+=1){var o=i[r];t(o.value)||e.push(o)}for(var a=0,s=e;a<s.length;a+=1){var l=s[a];this.remove(l.value.tileID,l)}};var O=function(t,e,n){this.context=t;var r=t.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};O.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},O.prototype.updateData=function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},O.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var P={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},D=function(t,e,n,r){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=r,this.context=t;var i=t.gl;this.buffer=i.createBuffer(),t.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};D.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},D.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},D.prototype.enableAttributes=function(t,e){for(var n=0;n<this.attributes.length;n++){var r=e.attributes[this.attributes[n].name];void 0!==r&&t.enableVertexAttribArray(r)}},D.prototype.setVertexAttribPointers=function(t,e,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=e.attributes[i.name];void 0!==o&&t.vertexAttribPointer(o,i.components,t[P[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},D.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var z=function(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};z.prototype.get=function(){return this.current},z.prototype.set=function(t){},z.prototype.getDefault=function(){return this.default},z.prototype.setDefault=function(){this.set(this.default)};var L=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(z),R=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},e}(z),W=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},e}(z),B=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(z),j=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)},e}(z),N=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)},e}(z),F=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(t){var e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)},e}(z),U=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)},e}(z),V=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},e}(z),q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)},e}(z),H=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},e}(z),G=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)},e}(z),Z=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}},e}(z),K=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.ONE,t.ZERO]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)},e}(z),Q=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(z),X=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},e}(z),Y=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}},e}(z),J=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)},e}(z),$=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)},e}(z),tt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)},e}(z),et=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)},e}(z),nt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(z),rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},e}(z),it=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(z),ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},e}(z),at=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},e}(z),st=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1},e}(z),lt=function(t){function e(e){t.call(this,e),this.vao=e.extVertexArrayObject}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)},e}(z),ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}},e}(z),ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},e}(z),pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}},e}(z),dt=function(t){function e(e,n){t.call(this,e),this.context=e,this.parent=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e}(z),ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e}(dt),ft=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(dt),mt=function(t,e,n,r){this.context=t,this.width=e,this.height=n;var i=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new ht(t,i),r&&(this.depthAttachment=new ft(t,i))};mt.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();if(e&&t.deleteTexture(e),this.depthAttachment){var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n)}t.deleteFramebuffer(this.framebuffer)};var gt=function(t,e,n){this.func=t,this.mask=e,this.range=n};gt.ReadOnly=!1,gt.ReadWrite=!0,gt.disabled=new gt(519,gt.ReadOnly,[0,1]);var yt=function(t,e,n,r,i,o){this.test=t,this.ref=e,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};yt.disabled=new yt({func:519,mask:0},0,0,7680,7680,7680);var vt=function(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n};vt.disabled=new vt(vt.Replace=[1,0],t.Color.transparent,[!1,!1,!1,!1]),vt.unblended=new vt(vt.Replace,t.Color.transparent,[!0,!0,!0,!0]),vt.alphaBlended=new vt([1,771],t.Color.transparent,[!0,!0,!0,!0]);var _t=function(t,e,n){this.enable=t,this.mode=e,this.frontFace=n};_t.disabled=new _t(!1,1029,2305),_t.backCCW=new _t(!0,1029,2305);var bt=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new L(this),this.clearDepth=new R(this),this.clearStencil=new W(this),this.colorMask=new B(this),this.depthMask=new j(this),this.stencilMask=new N(this),this.stencilFunc=new F(this),this.stencilOp=new U(this),this.stencilTest=new V(this),this.depthRange=new q(this),this.depthTest=new H(this),this.depthFunc=new G(this),this.blend=new Z(this),this.blendFunc=new K(this),this.blendColor=new Q(this),this.blendEquation=new X(this),this.cullFace=new Y(this),this.cullFaceSide=new J(this),this.frontFace=new $(this),this.program=new tt(this),this.activeTexture=new et(this),this.viewport=new nt(this),this.bindFramebuffer=new rt(this),this.bindRenderbuffer=new it(this),this.bindTexture=new ot(this),this.bindVertexBuffer=new at(this),this.bindElementBuffer=new st(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new lt(this),this.pixelStoreUnpack=new ut(this),this.pixelStoreUnpackPremultiplyAlpha=new ct(this),this.pixelStoreUnpackFlipY=new pt(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(t.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=t.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=t.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)};bt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},bt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},bt.prototype.createIndexBuffer=function(t,e){return new O(this,t,e)},bt.prototype.createVertexBuffer=function(t,e,n){return new D(this,t,e,n)},bt.prototype.createRenderbuffer=function(t,e,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),i},bt.prototype.createFramebuffer=function(t,e,n){return new mt(this,t,e,n)},bt.prototype.clear=function(t){var e=t.color,n=t.depth,r=this.gl,i=0;e&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},bt.prototype.setCullFace=function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))},bt.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},bt.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},bt.prototype.setColorMode=function(e){t.deepEqual(e.blendFunction,vt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},bt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var xt=function(e){function n(n,r,i){var o=this;e.call(this),this.id=n,this.dispatcher=i,this.on("data",(function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),this.on("error",(function(){o._sourceErrored=!0})),this._source=function(e,n,r,i){var o=new E[n.type](e,n,r,i);if(o.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+o.id);return t.bindAll(["load","abort","unload","serialize","prepare"],o),o}(n,r,i,this),this._tiles={},this._cache=new A(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new t.SourceFeatureState}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},n.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},n.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,(function(){}))},n.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,(function(){}))},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[e];n.upload(t),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return t.values(this._tiles).map((function(t){return t.tileID})).sort(wt).map((function(t){return t.key}))},n.prototype.getRenderableIds=function(e){var n=this,r=[];for(var i in this._tiles)this._isIdRenderable(i,e)&&r.push(this._tiles[i]);return e?r.sort((function(e,r){var i=e.tileID,o=r.tileID,a=new t.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),s=new t.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x})).map((function(t){return t.tileID.key})):r.map((function(t){return t.tileID})).sort(wt).map((function(t){return t.key}))},n.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},n.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},n.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},n.prototype._tileLoaded=function(e,n,r,i){if(i)return e.state="errored",void(404!==i.status?this._source.fire(new t.ErrorEvent(i,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===r&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}))},n.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var r=e[n];if(t.neighboringTiles&&t.neighboringTiles[r]){var i=this.getTileByID(r);o(t,i),o(i,t)}}function o(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,r=e.tileID.canonical.y-t.tileID.canonical.y,i=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,r),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}},n.prototype.getTile=function(t){return this.getTileByID(t.key)},n.prototype.getTileByID=function(t){return this._tiles[t]},n.prototype._retainLoadedChildren=function(t,e,n,r){for(var i in this._tiles){var o=this._tiles[i];if(!(r[i]||!o.hasData()||o.tileID.overscaledZ<=e||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>e+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var l=a;l.overscaledZ>e;)if(t[(l=l.scaledTo(l.overscaledZ-1)).key]){r[a.key]=a;break}}}},n.prototype.findLoadedParent=function(t,e){if(t.key in this._loadedParentTiles){var n=this._loadedParentTiles[t.key];return n&&n.tileID.overscaledZ>=e?n:null}for(var r=t.overscaledZ-1;r>=e;r--){var i=t.scaledTo(r),o=this._getLoadedTile(i);if(o)return o}},n.prototype._getLoadedTile=function(t){var e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(t.wrapped().key)},n.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/this._source.tileSize)+1,n=Math.ceil(t.height/this._source.tileSize)+1,r=Math.floor(e*n*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(i)},n.prototype.handleWrapJump=function(t){var e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+e),n[i.tileID.key]=i}for(var o in this._tiles=n,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}},n.prototype.update=function(e){var r=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(i=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(t){return r._source.hasTile(t)})))):i=[];var o=e.coveringZoomLevel(this._source),a=Math.max(o-n.maxOverzooming,this._source.minzoom),s=Math.max(o+n.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(i,o);if(kt(this._source.type)){for(var u={},c={},p=0,d=Object.keys(l);p<d.length;p+=1){var h=d[p],f=l[h],m=this._tiles[h];if(m&&!(m.fadeEndTime&&m.fadeEndTime<=t.browser.now())){var g=this.findLoadedParent(f,a);g&&(this._addTile(g.tileID),u[g.tileID.key]=g.tileID),c[h]=f}}for(var y in this._retainLoadedChildren(c,o,s,l),u)l[y]||(this._coveredTiles[y]=!0,l[y]=u[y])}for(var v in l)this._tiles[v].clearFadeHold();for(var _=0,b=t.keysDifference(this._tiles,l);_<b.length;_+=1){var x=b[_],w=this._tiles[x];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(x)}this._updateLoadedParentTileCache()}},n.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},n.prototype._updateRetainedTiles=function(t,e){for(var r={},i={},o=Math.max(e-n.maxOverzooming,this._source.minzoom),a=Math.max(e+n.maxUnderzooming,this._source.minzoom),s={},l=0,u=t;l<u.length;l+=1){var c=u[l],p=this._addTile(c);r[c.key]=c,p.hasData()||e<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,e,a,r);for(var d=0,h=t;d<h.length;d+=1){var f=h[d],m=this._tiles[f.key];if(!m.hasData()){if(e+1>this._source.maxzoom){var g=f.children(this._source.maxzoom)[0],y=this.getTile(g);if(y&&y.hasData()){r[g.key]=g;continue}}else{var v=f.children(this._source.maxzoom);if(r[v[0].key]&&r[v[1].key]&&r[v[2].key]&&r[v[3].key])continue}for(var _=m.wasRequested(),b=f.overscaledZ-1;b>=o;--b){var x=f.scaledTo(b);if(i[x.key])break;if(i[x.key]=!0,!(m=this.getTile(x))&&_&&(m=this._addTile(x)),m&&(r[x.key]=x,_=m.wasRequested(),m.hasData()))break}}}return r},n.prototype._updateLoadedParentTileCache=function(){for(var t in this._loadedParentTiles={},this._tiles){for(var e=[],n=void 0,r=this._tiles[t].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}e.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i))break;r=i}for(var o=0,a=e;o<a.length;o+=1)this._loadedParentTiles[a[o]]=n}},n.prototype._addTile=function(e){var n=this._tiles[e.key];if(n)return n;(n=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,n)));var r=Boolean(n);return r||(n=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,e.key,n.state))),n?(n.uses++,this._tiles[e.key]=n,r||this._source.fire(new t.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout((function(){n._reloadTile(t,"expired"),delete n._timers[t]}),r))},n.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},n.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},n.prototype.tilesIn=function(e,n,r){var i=this,o=[],a=this.transform;if(!a)return o;for(var s=r?a.getCameraQueryGeometry(e):e,l=e.map((function(t){return a.pointCoordinate(t)})),u=s.map((function(t){return a.pointCoordinate(t)})),c=this.getIds(),p=1/0,d=1/0,h=-1/0,f=-1/0,m=0,g=u;m<g.length;m+=1){var y=g[m];p=Math.min(p,y.x),d=Math.min(d,y.y),h=Math.max(h,y.x),f=Math.max(f,y.y)}for(var v=function(e){var r=i._tiles[c[e]];if(!r.holdingForFade()){var s=r.tileID,m=Math.pow(2,a.zoom-r.tileID.overscaledZ),g=n*r.queryPadding*t.EXTENT/r.tileSize/m,y=[s.getTilePoint(new t.MercatorCoordinate(p,d)),s.getTilePoint(new t.MercatorCoordinate(h,f))];if(y[0].x-g<t.EXTENT&&y[0].y-g<t.EXTENT&&y[1].x+g>=0&&y[1].y+g>=0){var v=l.map((function(t){return s.getTilePoint(t)})),_=u.map((function(t){return s.getTilePoint(t)}));o.push({tile:r,tileID:s,queryGeometry:v,cameraQueryGeometry:_,scale:m})}}},_=0;_<c.length;_++)v(_);return o},n.prototype.getVisibleCoordinates=function(t){for(var e=this,n=this.getRenderableIds(t).map((function(t){return e._tiles[t].tileID})),r=0,i=n;r<i.length;r+=1){var o=i[r];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(kt(this._source.type))for(var e in this._tiles){var n=this._tiles[e];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=t.browser.now())return!0}return!1},n.prototype.setFeatureState=function(t,e,n){this._state.updateState(t=t||"_geojsonTileLayer",e,n)},n.prototype.removeFeatureState=function(t,e,n){this._state.removeFeatureState(t=t||"_geojsonTileLayer",e,n)},n.prototype.getFeatureState=function(t,e){return this._state.getState(t=t||"_geojsonTileLayer",e)},n.prototype.setDependencies=function(t,e,n){var r=this._tiles[t];r&&r.setDependencies(e,n)},n.prototype.reloadTilesForDependencies=function(t,e){for(var n in this._tiles)this._tiles[n].hasDependency(t,e)&&this._reloadTile(n,"reloading");this._cache.filter((function(n){return!n.hasDependency(t,e)}))},n}(t.Evented);function wt(t,e){var n=Math.abs(2*t.wrap)-+(t.wrap<0),r=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||r-n||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function kt(t){return"raster"===t||"image"===t||"video"===t}function St(){return new t.window.Worker(Ki.workerUrl)}xt.maxOverzooming=10,xt.maxUnderzooming=3;var Ct="mapboxgl_preloaded_worker_pool",Et=function(){this.active={}};Et.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<Et.workerCount;)this.workers.push(new St);return this.active[t]=!0,this.workers.slice()},Et.prototype.release=function(t){delete this.active[t],0===this.numActive()&&(this.workers.forEach((function(t){t.terminate()})),this.workers=null)},Et.prototype.isPreloaded=function(){return!!this.active[Ct]},Et.prototype.numActive=function(){return Object.keys(this.active).length};var Tt,It=Math.floor(t.browser.hardwareConcurrency/2);function Mt(){return Tt||(Tt=new Et),Tt}function At(e,n){var r={};for(var i in e)"ref"!==i&&(r[i]=e[i]);return t.refProperties.forEach((function(t){t in n&&(r[t]=n[t])})),r}function Ot(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=At(t[r],e[t[r].ref]));return t}Et.workerCount=Math.max(Math.min(It,6),1);var Pt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Dt(t,e,n){n.push({command:Pt.addSource,args:[t,e[t]]})}function zt(t,e,n){e.push({command:Pt.removeSource,args:[t]}),n[t]=!0}function Lt(t,e,n,r){zt(t,n,r),Dt(t,e,n)}function Rt(e,n,r){var i;for(i in e[r])if(e[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;return!0}function Wt(e,n,r,i,o,a){var s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}))}function Bt(t){return t.id}function jt(t,e){return t[e.id]=e,t}var Nt=function(t,e){this.reset(t,e)};Nt.prototype.reset=function(t,e){this.points=t||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(e||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Nt.prototype.lerp=function(e){if(1===this.points.length)return this.points[0];e=t.clamp(e,0,1);for(var n=1,r=this._distances[n],i=e*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var o=n-1,a=this._distances[o],s=r-a,l=s>0?(i-a)/s:0;return this.points[o].mult(1-l).add(this.points[n].mult(l))};var Ft=function(t,e,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};function Ut(e,n,r,i,o){var a=t.create();return n?(t.scale(a,a,[1/o,1/o,1]),r||t.rotateZ(a,a,i.angle)):t.multiply(a,i.labelPlaneMatrix,e),a}function Vt(e,n,r,i,o){if(n){var a=t.clone(e);return t.scale(a,a,[o,o,1]),r||t.rotateZ(a,a,-i.angle),a}return i.glCoordMatrix}function qt(e,n){var r=[e.x,e.y,0,1];ee(r,r,n);var i=r[3];return{point:new t.Point(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function Ht(t,e){return.5+t/e*.5}function Gt(t,e){var n=t[0]/t[3],r=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&r>=-e[1]&&r<=e[1]}function Zt(e,n,r,i,o,a,s,l){var u=i?e.textSizeData:e.iconSizeData,c=t.evaluateSizeForZoom(u,r.transform.zoom),p=[256/r.width*2+1,256/r.height*2+1],d=i?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;d.clear();for(var h=e.lineVertexArray,f=i?e.text.placedSymbolArray:e.icon.placedSymbolArray,m=r.transform.width/r.transform.height,g=!1,y=0;y<f.length;y++){var v=f.get(y);if(v.hidden||v.writingMode===t.WritingMode.vertical&&!g)te(v.numGlyphs,d);else{g=!1;var _=[v.anchorX,v.anchorY,0,1];if(t.transformMat4(_,_,n),Gt(_,p)){var b=Ht(r.transform.cameraToCenterDistance,_[3]),x=t.evaluateSizeForFeature(u,c,v),w=s?x/b:x*b,k=new t.Point(v.anchorX,v.anchorY),S=qt(k,o).point,C={},E=Xt(v,w,!1,l,n,o,a,e.glyphOffsetArray,h,d,S,k,C,m);g=E.useVertical,(E.notEnoughRoom||g||E.needsFlipping&&Xt(v,w,!0,l,n,o,a,e.glyphOffsetArray,h,d,S,k,C,m).notEnoughRoom)&&te(v.numGlyphs,d)}else te(v.numGlyphs,d)}}i?e.text.dynamicLayoutVertexBuffer.updateData(d):e.icon.dynamicLayoutVertexBuffer.updateData(d)}function Kt(t,e,n,r,i,o,a,s,l,u,c){var p=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,h=s.lineStartIndex+s.lineLength,f=e.getoffsetX(s.glyphStartIndex),m=e.getoffsetX(p-1),g=Jt(t*f,n,r,i,o,a,s.segment,d,h,l,u,c);if(!g)return null;var y=Jt(t*m,n,r,i,o,a,s.segment,d,h,l,u,c);return y?{first:g,last:y}:null}function Qt(e,n,r,i){return e===t.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(e===t.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function Xt(e,n,r,i,o,a,s,l,u,c,p,d,h,f){var m,g=n/24,y=e.lineOffsetX*g,v=e.lineOffsetY*g;if(e.numGlyphs>1){var _=e.glyphStartIndex+e.numGlyphs,b=e.lineStartIndex,x=e.lineStartIndex+e.lineLength,w=Kt(g,l,y,v,r,p,d,e,u,a,h);if(!w)return{notEnoughRoom:!0};var k=qt(w.first.point,s).point,S=qt(w.last.point,s).point;if(i&&!r){var C=Qt(e.writingMode,k,S,f);if(C)return C}m=[w.first];for(var E=e.glyphStartIndex+1;E<_-1;E++)m.push(Jt(g*l.getoffsetX(E),y,v,r,p,d,e.segment,b,x,u,a,h));m.push(w.last)}else{if(i&&!r){var T=qt(d,o).point,I=e.lineStartIndex+e.segment+1,M=new t.Point(u.getx(I),u.gety(I)),A=qt(M,o),O=A.signedDistanceFromCamera>0?A.point:Yt(d,M,T,1,o),P=Qt(e.writingMode,T,O,f);if(P)return P}var D=Jt(g*l.getoffsetX(e.glyphStartIndex),y,v,r,p,d,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,u,a,h);if(!D)return{notEnoughRoom:!0};m=[D]}for(var z=0,L=m;z<L.length;z+=1){var R=L[z];t.addDynamicAttributes(c,R.point,R.angle)}return{}}function Yt(t,e,n,r,i){var o=qt(t.add(t.sub(e)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function Jt(e,n,r,i,o,a,s,l,u,c,p,d){var h=i?e-n:e+n,f=h>0?1:-1,m=0;i&&(f*=-1,m=Math.PI),f<0&&(m+=Math.PI);for(var g=f>0?l+s:l+s+1,y=o,v=o,_=0,b=0,x=Math.abs(h),w=[];_+b<=x;){if((g+=f)<l||g>=u)return null;if(v=y,w.push(y),void 0===(y=d[g])){var k=new t.Point(c.getx(g),c.gety(g)),S=qt(k,p);if(S.signedDistanceFromCamera>0)y=d[g]=S.point;else{var C=g-f;y=Yt(0===_?a:new t.Point(c.getx(C),c.gety(C)),k,v,x-_+1,p)}}_+=b,b=v.dist(y)}var E=(x-_)/b,T=y.sub(v),I=T.mult(E)._add(v);I._add(T._unit()._perp()._mult(r*f));var M=m+Math.atan2(y.y-v.y,y.x-v.x);return w.push(I),{point:I,angle:M,path:w}}Ft.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ft.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Ft.prototype.insertCircle=function(t,e,n,r){this._forEachCell(e-r,n-r,e+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(r)},Ft.prototype._insertBoxCell=function(t,e,n,r,i,o){this.boxCells[i].push(o)},Ft.prototype._insertCircleCell=function(t,e,n,r,i,o){this.circleCells[i].push(o)},Ft.prototype._query=function(t,e,n,r,i,o){if(n<0||t>this.width||r<0||e>this.height)return!i&&[];var a=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],p=this.circles[3*l+2];a.push({key:this.circleKeys[l],x1:u-p,y1:c-p,x2:u+p,y2:c+p})}return o?a.filter(o):a}return this._forEachCell(t,e,n,r,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a},Ft.prototype._queryCircle=function(t,e,n,r,i){var o=t-n,a=t+n,s=e-n,l=e+n;if(a<0||o>this.width||l<0||s>this.height)return!r&&[];var u=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,u,{hitTest:r,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}},i),r?u.length>0:u},Ft.prototype.query=function(t,e,n,r,i){return this._query(t,e,n,r,!1,i)},Ft.prototype.hitTest=function(t,e,n,r,i){return this._query(t,e,n,r,!0,i)},Ft.prototype.hitTestCircle=function(t,e,n,r){return this._queryCircle(t,e,n,!0,r)},Ft.prototype._queryCell=function(t,e,n,r,i,o,a,s){var l=a.seenUids,u=this.boxCells[i];if(null!==u)for(var c=this.bboxes,p=0,d=u;p<d.length;p+=1){var h=d[p];if(!l.box[h]){l.box[h]=!0;var f=4*h;if(t<=c[f+2]&&e<=c[f+3]&&n>=c[f+0]&&r>=c[f+1]&&(!s||s(this.boxKeys[h]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[h],x1:c[f],y1:c[f+1],x2:c[f+2],y2:c[f+3]})}}}var m=this.circleCells[i];if(null!==m)for(var g=this.circles,y=0,v=m;y<v.length;y+=1){var _=v[y];if(!l.circle[_]){l.circle[_]=!0;var b=3*_;if(this._circleAndRectCollide(g[b],g[b+1],g[b+2],t,e,n,r)&&(!s||s(this.circleKeys[_]))){if(a.hitTest)return o.push(!0),!0;var x=g[b],w=g[b+1],k=g[b+2];o.push({key:this.circleKeys[_],x1:x-k,y1:w-k,x2:x+k,y2:w+k})}}}},Ft.prototype._queryCellCircle=function(t,e,n,r,i,o,a,s){var l=a.circle,u=a.seenUids,c=this.boxCells[i];if(null!==c)for(var p=this.bboxes,d=0,h=c;d<h.length;d+=1){var f=h[d];if(!u.box[f]){u.box[f]=!0;var m=4*f;if(this._circleAndRectCollide(l.x,l.y,l.radius,p[m+0],p[m+1],p[m+2],p[m+3])&&(!s||s(this.boxKeys[f])))return o.push(!0),!0}}var g=this.circleCells[i];if(null!==g)for(var y=this.circles,v=0,_=g;v<_.length;v+=1){var b=_[v];if(!u.circle[b]){u.circle[b]=!0;var x=3*b;if(this._circlesCollide(y[x],y[x+1],y[x+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[b])))return o.push(!0),!0}}},Ft.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var l=this._convertToXCellCoord(t),u=this._convertToYCellCoord(e),c=this._convertToXCellCoord(n),p=this._convertToYCellCoord(r),d=l;d<=c;d++)for(var h=u;h<=p;h++)if(i.call(this,t,e,n,r,this.xCellCount*h+d,o,a,s))return},Ft.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Ft.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},Ft.prototype._circlesCollide=function(t,e,n,r,i,o){var a=r-t,s=i-e,l=n+o;return l*l>a*a+s*s},Ft.prototype._circleAndRectCollide=function(t,e,n,r,i,o,a){var s=(o-r)/2,l=Math.abs(t-(r+s));if(l>s+n)return!1;var u=(a-i)/2,c=Math.abs(e-(i+u));if(c>u+n)return!1;if(l<=s||c<=u)return!0;var p=l-s,d=c-u;return p*p+d*d<=n*n};var $t=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function te(t,e){for(var n=0;n<t;n++){var r=e.length;e.resize(r+4),e.float32.set($t,3*r)}}function ee(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t[3]=n[3]*r+n[7]*i+n[15],t}var ne=function(t,e,n){void 0===e&&(e=new Ft(t.width+200,t.height+200,25)),void 0===n&&(n=new Ft(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200};function re(e,n,r){return n*(t.EXTENT/(e.tileSize*Math.pow(2,r-e.tileID.overscaledZ)))}ne.prototype.placeCollisionBox=function(t,e,n,r,i){var o=this.projectAndGetPerspectiveRatio(r,t.anchorPointX,t.anchorPointY),a=n*o.perspectiveRatio,s=t.x1*a+o.point.x,l=t.y1*a+o.point.y,u=t.x2*a+o.point.x,c=t.y2*a+o.point.y;return!this.isInsideGrid(s,l,u,c)||!e&&this.grid.hitTest(s,l,u,c,i)?{box:[],offscreen:!1}:{box:[s,l,u,c],offscreen:this.isOffscreen(s,l,u,c)}},ne.prototype.placeCollisionCircles=function(e,n,r,i,o,a,s,l,u,c,p,d,h){var f=[],m=new t.Point(n.anchorX,n.anchorY),g=qt(m,a),y=Ht(this.transform.cameraToCenterDistance,g.signedDistanceFromCamera),v=(c?o/y:o*y)/t.ONE_EM,_=qt(m,s).point,b=Kt(v,i,n.lineOffsetX*v,n.lineOffsetY*v,!1,_,m,n,r,s,{}),x=!1,w=!1,k=!0;if(b){for(var S=.5*d*y+h,C=new t.Point(-100,-100),E=new t.Point(this.screenRightBoundary,this.screenBottomBoundary),T=new Nt,I=b.first,M=b.last,A=[],O=I.path.length-1;O>=1;O--)A.push(I.path[O]);for(var P=1;P<M.path.length;P++)A.push(M.path[P]);var D=2.5*S;if(l){var z=A.map((function(t){return qt(t,l)}));A=z.some((function(t){return t.signedDistanceFromCamera<=0}))?[]:z.map((function(t){return t.point}))}var L=[];if(A.length>0){for(var R=A[0].clone(),W=A[0].clone(),B=1;B<A.length;B++)R.x=Math.min(R.x,A[B].x),R.y=Math.min(R.y,A[B].y),W.x=Math.max(W.x,A[B].x),W.y=Math.max(W.y,A[B].y);L=R.x>=C.x&&W.x<=E.x&&R.y>=C.y&&W.y<=E.y?[A]:W.x<C.x||R.x>E.x||W.y<C.y||R.y>E.y?[]:t.clipLine([A],C.x,C.y,E.x,E.y)}for(var j=0,N=L;j<N.length;j+=1){var F;T.reset(N[j],.25*S),F=T.length<=.5*S?1:Math.ceil(T.paddedLength/D)+1;for(var U=0;U<F;U++){var V=U/Math.max(F-1,1),q=T.lerp(V),H=q.x+100,G=q.y+100;f.push(H,G,S,0);var Z=H-S,K=G-S,Q=H+S,X=G+S;if(k=k&&this.isOffscreen(Z,K,Q,X),w=w||this.isInsideGrid(Z,K,Q,X),!e&&this.grid.hitTestCircle(H,G,S,p)&&(x=!0,!u))return{circles:[],offscreen:!1,collisionDetected:x}}}}return{circles:!u&&x||!w?[]:f,offscreen:k,collisionDetected:x}},ne.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],r=1/0,i=1/0,o=-1/0,a=-1/0,s=0,l=e;s<l.length;s+=1){var u=l[s],c=new t.Point(u.x+100,u.y+100);r=Math.min(r,c.x),i=Math.min(i,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y),n.push(c)}for(var p={},d={},h=0,f=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a));h<f.length;h+=1){var m=f[h],g=m.key;if(void 0===p[g.bucketInstanceId]&&(p[g.bucketInstanceId]={}),!p[g.bucketInstanceId][g.featureIndex]){var y=[new t.Point(m.x1,m.y1),new t.Point(m.x2,m.y1),new t.Point(m.x2,m.y2),new t.Point(m.x1,m.y2)];t.polygonIntersectsPolygon(n,y)&&(p[g.bucketInstanceId][g.featureIndex]=!0,void 0===d[g.bucketInstanceId]&&(d[g.bucketInstanceId]=[]),d[g.bucketInstanceId].push(g.featureIndex))}}return d},ne.prototype.insertCollisionBox=function(t,e,n,r,i){(e?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},t[0],t[1],t[2],t[3])},ne.prototype.insertCollisionCircles=function(t,e,n,r,i){for(var o=e?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<t.length;s+=4)o.insertCircle(a,t[s],t[s+1],t[s+2])},ne.prototype.projectAndGetPerspectiveRatio=function(e,n,r){var i=[n,r,0,1];return ee(i,i,e),{point:new t.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},ne.prototype.isOffscreen=function(t,e,n,r){return n<100||t>=this.screenRightBoundary||r<100||e>this.screenBottomBoundary},ne.prototype.isInsideGrid=function(t,e,n,r){return n>=0&&t<this.gridRightBoundary&&r>=0&&e<this.gridBottomBoundary},ne.prototype.getViewportMatrix=function(){var e=t.identity([]);return t.translate(e,e,[-100,-100,0]),e};var ie=function(t,e,n,r){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):r&&n?1:0,this.placed=n};ie.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var oe=function(t,e,n,r,i){this.text=new ie(t?t.text:null,e,n,i),this.icon=new ie(t?t.icon:null,e,r,i)};oe.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var ae=function(t,e,n){this.text=t,this.icon=e,this.skipFade=n},se=function(){this.invProjMatrix=t.create(),this.viewportMatrix=t.create(),this.circles=[]},le=function(t,e,n,r,i){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i},ue=function(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};function ce(e,n,r,i,o){var a=t.getAnchorAlignment(e),s=-(a.horizontalAlign-.5)*n,l=-(a.verticalAlign-.5)*r,u=t.evaluateVariableOffset(e,i);return new t.Point(s+u[0]*o,l+u[1]*o)}function pe(e,n,r,i,o,a){var s=e.x1,l=e.x2,u=e.y1,c=e.y2,p=e.anchorPointX,d=e.anchorPointY,h=new t.Point(n,r);return i&&h._rotate(o?a:-a),{x1:s+h.x,y1:u+h.y,x2:l+h.x,y2:c+h.y,anchorPointX:p,anchorPointY:d}}ue.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var de=function(t,e,n,r){this.transform=t.clone(),this.collisionIndex=new ne(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new ue(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}};function he(t,e,n,r,i){t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0)}de.prototype.getBucketParts=function(e,n,r,i){var o=r.getBucket(n),a=r.latestFeatureIndex;if(o&&a&&n.id===o.layerIds[0]){var s=r.collisionBoxArray,l=o.layers[0].layout,u=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/t.EXTENT,p=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),d="map"===l.get("text-pitch-alignment"),h="map"===l.get("text-rotation-alignment"),f=re(r,1,this.transform.zoom),m=Ut(p,d,h,this.transform,f),g=null;if(d){var y=Vt(p,d,h,this.transform,f);g=t.multiply([],this.transform.labelPlaneMatrix,y)}this.retainedQueryData[o.bucketInstanceId]=new le(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,r.tileID);var v={bucket:o,layout:l,posMatrix:p,textLabelPlaneMatrix:m,labelToScreenMatrix:g,scale:u,textPixelRatio:c,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:t.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(var _=0,b=o.sortKeyRanges;_<b.length;_+=1){var x=b[_];e.push({sortKey:x.sortKey,symbolInstanceStart:x.symbolInstanceStart,symbolInstanceEnd:x.symbolInstanceEnd,parameters:v})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:v})}},de.prototype.attemptAnchorPlacement=function(t,e,n,r,i,o,a,s,l,u,c,p,d,h,f){var m,g=[p.textOffset0,p.textOffset1],y=ce(t,n,r,g,i),v=this.collisionIndex.placeCollisionBox(pe(e,y.x,y.y,o,a,this.transform.angle),c,s,l,u.predicate);if(!f||0!==this.collisionIndex.placeCollisionBox(pe(f,y.x,y.y,o,a,this.transform.angle),c,s,l,u.predicate).box.length)return v.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID].text&&(m=this.prevPlacement.variableOffsets[p.crossTileID].anchor),this.variableOffsets[p.crossTileID]={textOffset:g,width:n,height:r,anchor:t,textBoxScale:i,prevAnchor:m},this.markUsedJustification(d,t,p,h),d.allowVerticalPlacement&&(this.markUsedOrientation(d,h,p),this.placedOrientations[p.crossTileID]=h),{shift:y,placedGlyphBoxes:v}):void 0},de.prototype.placeLayerBucketPart=function(e,n,r){var i=this,o=e.parameters,a=o.bucket,s=o.layout,l=o.posMatrix,u=o.textLabelPlaneMatrix,c=o.labelToScreenMatrix,p=o.textPixelRatio,d=o.holdingForFade,h=o.collisionBoxArray,f=o.partiallyEvaluatedTextSize,m=o.collisionGroup,g=s.get("text-optional"),y=s.get("icon-optional"),v=s.get("text-allow-overlap"),_=s.get("icon-allow-overlap"),b="map"===s.get("text-rotation-alignment"),x="map"===s.get("text-pitch-alignment"),w="none"!==s.get("icon-text-fit"),k="viewport-y"===s.get("symbol-z-order"),S=v&&(_||!a.hasIconData()||y),C=_&&(v||!a.hasTextData()||g);!a.collisionArrays&&h&&a.deserializeCollisionBoxes(h);var E=function(e,o){if(!n[e.crossTileID])if(d)i.placements[e.crossTileID]=new ae(!1,!1,!1);else{var h,k=!1,E=!1,T=!0,I=null,M={box:null,offscreen:null},A={box:null,offscreen:null},O=null,P=null,D=0,z=0,L=0;o.textFeatureIndex?D=o.textFeatureIndex:e.useRuntimeCollisionCircles&&(D=e.featureIndex),o.verticalTextFeatureIndex&&(z=o.verticalTextFeatureIndex);var R=o.textBox;if(R){var W=function(n){var r=t.WritingMode.horizontal;if(a.allowVerticalPlacement&&!n&&i.prevPlacement){var o=i.prevPlacement.placedOrientations[e.crossTileID];o&&(i.placedOrientations[e.crossTileID]=o,i.markUsedOrientation(a,r=o,e))}return r},B=function(n,r){if(a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&o.verticalTextBox)for(var i=0,s=a.writingModes;i<s.length&&(s[i]===t.WritingMode.vertical?(M=r(),A=M):M=n(),!(M&&M.box&&M.box.length));i+=1);else M=n()};if(s.get("text-variable-anchor")){var j=s.get("text-variable-anchor");if(i.prevPlacement&&i.prevPlacement.variableOffsets[e.crossTileID]){var N=i.prevPlacement.variableOffsets[e.crossTileID];j.indexOf(N.anchor)>0&&(j=j.filter((function(t){return t!==N.anchor}))).unshift(N.anchor)}var F=function(t,n,r){for(var o=t.x2-t.x1,s=t.y2-t.y1,u=e.textBoxScale,c=w&&!_?n:null,d={box:[],offscreen:!1},h=v?2*j.length:j.length,f=0;f<h;++f){var g=i.attemptAnchorPlacement(j[f%j.length],t,o,s,u,b,x,p,l,m,f>=j.length,e,a,r,c);if(g&&(d=g.placedGlyphBoxes)&&d.box&&d.box.length){k=!0,I=g.shift;break}}return d};B((function(){return F(R,o.iconBox,t.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&!(M&&M.box&&M.box.length)&&e.numVerticalGlyphVertices>0&&n?F(n,o.verticalIconBox,t.WritingMode.vertical):{box:null,offscreen:null}})),M&&(k=M.box,T=M.offscreen);var U=W(M&&M.box);if(!k&&i.prevPlacement){var V=i.prevPlacement.variableOffsets[e.crossTileID];V&&(i.variableOffsets[e.crossTileID]=V,i.markUsedJustification(a,V.anchor,e,U))}}else{var q=function(t,n){var r=i.collisionIndex.placeCollisionBox(t,v,p,l,m.predicate);return r&&r.box&&r.box.length&&(i.markUsedOrientation(a,n,e),i.placedOrientations[e.crossTileID]=n),r};B((function(){return q(R,t.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&n?q(n,t.WritingMode.vertical):{box:null,offscreen:null}})),W(M&&M.box&&M.box.length)}}if(k=(h=M)&&h.box&&h.box.length>0,T=h&&h.offscreen,e.useRuntimeCollisionCircles){var H=a.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),G=t.evaluateSizeForFeature(a.textSizeData,f,H),Z=s.get("text-padding");O=i.collisionIndex.placeCollisionCircles(v,H,a.lineVertexArray,a.glyphOffsetArray,G,l,u,c,r,x,m.predicate,e.collisionCircleDiameter,Z),k=v||O.circles.length>0&&!O.collisionDetected,T=T&&O.offscreen}if(o.iconFeatureIndex&&(L=o.iconFeatureIndex),o.iconBox){var K=function(t){var e=w&&I?pe(t,I.x,I.y,b,x,i.transform.angle):t;return i.collisionIndex.placeCollisionBox(e,_,p,l,m.predicate)};E=A&&A.box&&A.box.length&&o.verticalIconBox?(P=K(o.verticalIconBox)).box.length>0:(P=K(o.iconBox)).box.length>0,T=T&&P.offscreen}var Q=g||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,X=y||0===e.numIconVertices;if(Q||X?X?Q||(E=E&&k):k=E&&k:E=k=E&&k,k&&h&&h.box&&i.collisionIndex.insertCollisionBox(h.box,s.get("text-ignore-placement"),a.bucketInstanceId,A&&A.box&&z?z:D,m.ID),E&&P&&i.collisionIndex.insertCollisionBox(P.box,s.get("icon-ignore-placement"),a.bucketInstanceId,L,m.ID),O&&(k&&i.collisionIndex.insertCollisionCircles(O.circles,s.get("text-ignore-placement"),a.bucketInstanceId,D,m.ID),r)){var Y=a.bucketInstanceId,J=i.collisionCircleArrays[Y];void 0===J&&(J=i.collisionCircleArrays[Y]=new se);for(var $=0;$<O.circles.length;$+=4)J.circles.push(O.circles[$+0]),J.circles.push(O.circles[$+1]),J.circles.push(O.circles[$+2]),J.circles.push(O.collisionDetected?1:0)}i.placements[e.crossTileID]=new ae(k||S,E||C,T||a.justReloaded),n[e.crossTileID]=!0}};if(k)for(var T=a.getSortedSymbolIndexes(this.transform.angle),I=T.length-1;I>=0;--I){var M=T[I];E(a.symbolInstances.get(M),a.collisionArrays[M])}else for(var A=e.symbolInstanceStart;A<e.symbolInstanceEnd;A++)E(a.symbolInstances.get(A),a.collisionArrays[A]);if(r&&a.bucketInstanceId in this.collisionCircleArrays){var O=this.collisionCircleArrays[a.bucketInstanceId];t.invert(O.invProjMatrix,l),O.viewportMatrix=this.collisionIndex.getViewportMatrix()}a.justReloaded=!1},de.prototype.markUsedJustification=function(e,n,r,i){var o;o=i===t.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[t.getAnchorJustification(n)];for(var a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];a<s.length;a+=1){var l=s[a];l>=0&&(e.text.placedSymbolArray.get(l).crossTileID=o>=0&&l!==o?0:r.crossTileID)}},de.prototype.markUsedOrientation=function(e,n,r){for(var i=n===t.WritingMode.horizontal||n===t.WritingMode.horizontalOnly?n:0,o=n===t.WritingMode.vertical?n:0,a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];a<s.length;a+=1)e.text.placedSymbolArray.get(s[a]).placedOrientation=i;r.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)},de.prototype.commit=function(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;var e=this.prevPlacement,n=!1;this.prevZoomAdjustment=e?e.zoomAdjustment(this.transform.zoom):0;var r=e?e.symbolFadeChange(t):1,i=e?e.opacities:{},o=e?e.variableOffsets:{},a=e?e.placedOrientations:{};for(var s in this.placements){var l=this.placements[s],u=i[s];u?(this.opacities[s]=new oe(u,r,l.text,l.icon),n=n||l.text!==u.text.placed||l.icon!==u.icon.placed):(this.opacities[s]=new oe(null,r,l.text,l.icon,l.skipFade),n=n||l.text||l.icon)}for(var c in i){var p=i[c];if(!this.opacities[c]){var d=new oe(p,r,!1,!1);d.isHidden()||(this.opacities[c]=d,n=n||p.text.placed||p.icon.placed)}}for(var h in o)this.variableOffsets[h]||!this.opacities[h]||this.opacities[h].isHidden()||(this.variableOffsets[h]=o[h]);for(var f in a)this.placedOrientations[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.placedOrientations[f]=a[f]);n?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},de.prototype.updateLayerOpacities=function(t,e){for(var n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.getBucket(t);a&&o.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},de.prototype.updateBucketOpacities=function(e,n,r){var i=this;e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();var o=e.layers[0].layout,a=new oe(null,0,!1,!1,!0),s=o.get("text-allow-overlap"),l=o.get("icon-allow-overlap"),u=o.get("text-variable-anchor"),c="map"===o.get("text-rotation-alignment"),p="map"===o.get("text-pitch-alignment"),d="none"!==o.get("icon-text-fit"),h=new oe(null,0,s&&(l||!e.hasIconData()||o.get("icon-optional")),l&&(s||!e.hasTextData()||o.get("text-optional")),!0);!e.collisionArrays&&r&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(r);for(var f=function(t,e,n){for(var r=0;r<e/4;r++)t.opacityVertexArray.emplaceBack(n)},m=function(r){var o=e.symbolInstances.get(r),s=o.numHorizontalGlyphVertices,l=o.numVerticalGlyphVertices,m=o.crossTileID,g=i.opacities[m];n[m]?g=a:g||(i.opacities[m]=g=h),n[m]=!0;var y=o.numIconVertices>0,v=i.placedOrientations[o.crossTileID],_=v===t.WritingMode.vertical,b=v===t.WritingMode.horizontal||v===t.WritingMode.horizontalOnly;if(s>0||l>0){var x=xe(g.text);f(e.text,s,_?we:x),f(e.text,l,b?we:x);var w=g.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(t){t>=0&&(e.text.placedSymbolArray.get(t).hidden=w||_?1:0)})),o.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=w||b?1:0);var k=i.variableOffsets[o.crossTileID];k&&i.markUsedJustification(e,k.anchor,o,v);var S=i.placedOrientations[o.crossTileID];S&&(i.markUsedJustification(e,"left",o,S),i.markUsedOrientation(e,S,o))}if(y){var C=xe(g.icon),E=!(d&&o.verticalPlacedIconSymbolIndex&&_);o.placedIconSymbolIndex>=0&&(f(e.icon,o.numIconVertices,E?C:we),e.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=g.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(f(e.icon,o.numVerticalIconVertices,E?we:C),e.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=g.icon.isHidden())}if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){var T=e.collisionArrays[r];if(T){var I=new t.Point(0,0);if(T.textBox||T.verticalTextBox){var M=!0;if(u){var A=i.variableOffsets[m];A?(I=ce(A.anchor,A.width,A.height,A.textOffset,A.textBoxScale),c&&I._rotate(p?i.transform.angle:-i.transform.angle)):M=!1}T.textBox&&he(e.textCollisionBox.collisionVertexArray,g.text.placed,!M||_,I.x,I.y),T.verticalTextBox&&he(e.textCollisionBox.collisionVertexArray,g.text.placed,!M||b,I.x,I.y)}var O=Boolean(!b&&T.verticalIconBox);T.iconBox&&he(e.iconCollisionBox.collisionVertexArray,g.icon.placed,O,d?I.x:0,d?I.y:0),T.verticalIconBox&&he(e.iconCollisionBox.collisionVertexArray,g.icon.placed,!O,d?I.x:0,d?I.y:0)}}},g=0;g<e.symbolInstances.length;g++)m(g);if(e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.bucketInstanceId in this.collisionCircleArrays){var y=this.collisionCircleArrays[e.bucketInstanceId];e.placementInvProjMatrix=y.invProjMatrix,e.placementViewportMatrix=y.viewportMatrix,e.collisionCircleArray=y.circles,delete this.collisionCircleArrays[e.bucketInstanceId]}},de.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},de.prototype.zoomAdjustment=function(t){return Math.max(0,(this.transform.zoom-t)/1.5)},de.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},de.prototype.stillRecent=function(t,e){var n=this.zoomAtLastRecencyCheck===e?1-this.zoomAdjustment(e):1;return this.zoomAtLastRecencyCheck=e,this.commitTime+this.fadeDuration*n>t},de.prototype.setStale=function(){this.stale=!0};var fe=Math.pow(2,25),me=Math.pow(2,24),ge=Math.pow(2,17),ye=Math.pow(2,16),ve=Math.pow(2,9),_e=Math.pow(2,8),be=Math.pow(2,1);function xe(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*fe+e*me+n*ge+e*ye+n*ve+e*_e+n*be+e}var we=0,ke=function(t){this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};ke.prototype.continuePlacement=function(t,e,n,r,i){for(var o=this._bucketParts;this._currentTileIndex<t.length;)if(e.getBucketParts(o,r,t[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((function(t,e){return t.sortKey-e.sortKey})));this._currentPartIndex<o.length;)if(e.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1};var Se=function(t,e,n,r,i,o,a){this.placement=new de(t,i,o,a),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};Se.prototype.isDone=function(){return this._done},Se.prototype.continuePlacement=function(e,n,r){for(var i=this,o=t.browser.now(),a=function(){var e=t.browser.now()-o;return!i._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var s=n[e[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new ke(s)),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Se.prototype.commit=function(t){return this.placement.commit(t),this.placement};var Ce=512/t.EXTENT/2,Ee=function(t,e,n){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<e.length;r++){var i=e.get(r),o=i.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,t)})}};Ee.prototype.getScaledCoordinates=function(e,n){var r=Ce/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*t.EXTENT+e.anchorX)*r),y:Math.floor((n.canonical.y*t.EXTENT+e.anchorY)*r)}},Ee.prototype.findMatches=function(t,e,n){for(var r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),i=0;i<t.length;i++){var o=t.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,e),l=0,u=a;l<u.length;l+=1){var c=u[l];if(Math.abs(c.coord.x-s.x)<=r&&Math.abs(c.coord.y-s.y)<=r&&!n[c.crossTileID]){n[c.crossTileID]=!0,o.crossTileID=c.crossTileID;break}}}}};var Te=function(){this.maxCrossTileID=0};Te.prototype.generate=function(){return++this.maxCrossTileID};var Ie=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Ie.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=t},Ie.prototype.addBucket=function(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var r=0;r<e.symbolInstances.length;r++)e.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var i=this.usedCrossTileIDs[t.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>t.overscaledZ)for(var s in a){var l=a[s];l.tileID.isChildOf(t)&&l.findMatches(e.symbolInstances,t,i)}else{var u=a[t.scaledTo(Number(o)).key];u&&u.findMatches(e.symbolInstances,t,i)}}for(var c=0;c<e.symbolInstances.length;c++){var p=e.symbolInstances.get(c);p.crossTileID||(p.crossTileID=n.generate(),i[p.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Ee(t,e.symbolInstances,e.bucketInstanceId),!0},Ie.prototype.removeBucketCrossTileIDs=function(t,e){for(var n in e.indexedSymbolInstances)for(var r=0,i=e.indexedSymbolInstances[n];r<i.length;r+=1)delete this.usedCrossTileIDs[t][i[r].crossTileID]},Ie.prototype.removeStaleBuckets=function(t){var e=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)t[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],e=!0)}return e};var Me=function(){this.layerIndexes={},this.crossTileIDs=new Te,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Me.prototype.addLayer=function(t,e,n){var r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new Ie);var i=!1,o={};r.handleWrapJump(n);for(var a=0,s=e;a<s.length;a+=1){var l=s[a],u=l.getBucket(t);u&&t.id===u.layerIds[0]&&(u.bucketInstanceId||(u.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(l.tileID,u,this.crossTileIDs)&&(i=!0),o[u.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},Me.prototype.pruneUnusedLayers=function(t){var e={};for(var n in t.forEach((function(t){e[t]=!0})),this.layerIndexes)e[n]||delete this.layerIndexes[n]};var Ae=Object.freeze({__proto__:null,neshanNightVectorStyle:{version:8,name:"Neshan Dark Base Map",light:{anchor:"map",color:"hsl(0, 0%, 100%)"},sources:{neshanBaseMapVectorNightSource:{type:"vector",tiles:["https://vts.neshan.org/basemap/v2/{z}/{x}/{y}/platform"],minzoom:1,maxzoom:14,sourceType:"basemap"},neshanPoiSource:{type:"vector",tiles:["https://vts.neshan.org/poi/v3/{z}/{x}/{y}/platform"],minzoom:1,maxzoom:19,sourceType:"poi"},neshanTrafficSource:{type:"vector",tiles:["https://tvts.neshan.org/traffic/v4/{z}/{x}/{y}/platform"],minzoom:9,maxzoom:14,sourceType:"traffic"}},sprite:"https://static.neshan.org/sdk/mapboxgl/sprites/sprite",glyphs:"https://static.neshan.org/sdk/mapboxgl/fontstack/{fontstack}/{range}.pbf",layers:[{id:"background",type:"background",layout:{},paint:{"background-color":"#55565e"}},{id:"waterway",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"waterway",minzoom:15,layout:{},paint:{"line-color":"rgb(6, 103, 152)"}},{id:"state border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"admin",minzoom:1,filter:["match",["get","admin_level"],[4],!0,!1],layout:{},paint:{"line-color":"rgb(95, 112, 119)","line-dasharray":[10,5],"line-width":["interpolate",["exponential",1.41],["zoom"],0,.4,8,.8]}},{id:"country borders",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"admin",minzoom:1,filter:["match",["get","admin_level"],[2],!0,!1],layout:{},paint:{"line-color":"rgb(143, 143, 143)","line-width":["interpolate",["exponential",1.41],["zoom"],0,.3,8,2]}},{id:"residential",type:"fill",source:"neshanBaseMapVectorNightSource","source-layer":"landuse",minzoom:1,filter:["match",["get","type"],["residential"],!0,!1],layout:{},paint:{"fill-color":"#48494e","fill-opacity":["interpolate",["linear"],["zoom"],9,1,14,.01]}},{id:"landuse",type:"fill",source:"neshanBaseMapVectorNightSource","source-layer":"landuse",minzoom:1,layout:{},paint:{"fill-opacity":["interpolate",["linear"],["zoom"],7,.4,14,1],"fill-outline-color":["match",["get","type"],["hospital"],"#4c484b",["military","police","prison"],"hsla(31, 67%, 45%, 0.2)",["school"],"#3d3d4a",["industrial"],"hsla(48, 49%, 85%, 0.2)",["aerodrome"],"#414744",["fair"],"#353535",["cemetery"],"#353535",["building"],"#515152",["parking"],"#1a1a1a","hsla(0, 0%, 0%, 0)"],"fill-color":["case",["match",["get","type"],["wood","national_park"],!0,!1],"#4e6969",["match",["get","type"],["park","heath","scrub","orchard","wood","national_park"],!0,!1],"#4e6969",["match",["get","type"],["hospital"],!0,!1],"#5b555c",["match",["get","type"],["military","police","prison"],!0,!1],"hsla(31, 67%, 45%, 0.05)",["match",["get","type"],["aerodrome"],!0,!1],"hsla(150, 8%, 85%, 0.2)",["match",["get","type"],["fair"],!0,!1],"hsla(150, 3%, 85%, 0.2)",["match",["get","type"],["cemetery"],!0,!1],"hsla(0, 0%, 88%, 0.2)",["match",["get","type"],["recreation_ground"],!0,!1],"hsla(120, 61%, 90%, 0.4)",["match",["get","type"],["bus_station","parking"],!0,!1],"hsla(0, 0%, 55%, 0.5)",["match",["get","type"],["wetland"],!0,!1],"hsla(176, 51%, 69%, 0.1)",["match",["get","type"],["school"],!0,!1],"hsla(221, 42%, 64%, 0.2)",["match",["get","type"],["sports_centre"],!0,!1],"#54837b",["match",["get","type"],["pitch"],!0,!1],"hsl(167, 27%, 49%)",["match",["get","type"],["industrial"],!0,!1],"hsla(48, 49%, 85%, 0.10196078431372549)",["match",["get","type"],["suburb2"],!0,!1],"hsla(165, 50%, 44%, 0.4)",["match",["get","type"],["farmland"],!0,!1],"hsla(40, 53%, 10%, 0.2)",["match",["get","type"],["building"],!0,!1],"rgb(122, 121, 124)","hsla(0, 100%, 100%, 0)"]}},{id:"water",type:"fill",source:"neshanBaseMapVectorNightSource","source-layer":"water",minzoom:1,layout:{},paint:{"fill-color":"#315690"}},{id:"taxiway",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:11,filter:["match",["get","highway"],["taxiway"],!0,!1],layout:{},paint:{"line-color":"rgb(143, 143, 143)","line-width":["interpolate",["exponential",1.56],["zoom"],7,1,20,5]}},{id:"runway",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:11,filter:["match",["get","highway"],["runway"],!0,!1],layout:{},paint:{"line-color":"rgb(143, 143, 143)","line-width":["interpolate",["exponential",1.56],["zoom"],7,5,20,20]}},{id:"rail",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:10,filter:["match",["get","highway"],["rail"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"rgba(143, 143, 143, 0.49)","line-translate":[0,0],"line-width":["interpolate",["exponential",1.56],["zoom"],14,.5,20,1]}},{id:"rail track",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:10,filter:["match",["get","highway"],["rail"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"rgba(143, 143, 143, 0.49)","line-dasharray":[.1,2],"line-translate":[0,0],"line-width":["interpolate",["exponential",1.56],["zoom"],14,4,20,8]}},{id:"ferry",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:8,filter:["match",["get","highway"],["ferry"],!0,!1],layout:{},paint:{"line-dasharray":["step",["zoom"],["literal",[5,1]],16,["literal",[10,2]]],"line-color":"rgb(0, 0, 150)"}},{id:"footways tunnel",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"tunnel",minzoom:14,filter:["match",["get","highway"],["footway","steps"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,8],"line-dasharray":[1,1.2]}},{id:"pedestrain tunnel",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"tunnel",minzoom:14,filter:["match",["get","highway"],["pedestrian"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,10],"line-opacity":["interpolate",["linear"],["zoom"],13,.5,15,1]}},{id:"residential-tunnel border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"tunnel",minzoom:14,filter:["match",["get","highway"],["residential","unclassified","service","living_street"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"#010101","line-width":["interpolate",["exponential",1.96],["zoom"],14,.1,18,20]}},{id:"residential-tunnel",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"tunnel",minzoom:14,filter:["match",["get","highway"],["unclassified","residential","service","living_street"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.96],["zoom"],14,.1,18,18]}},{id:"tertiary tunnel border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"tunnel",minzoom:14,filter:["match",["get","highway"],["tertiary_link","tertiary","unclassified"],!0,!1],paint:{"line-color":"#010101","line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-dasharray":["step",["zoom"],["literal",[1]],14,["literal",[3,1]]],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],14,.75,18,24]}},{id:"tertiary tunnel",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"tunnel",minzoom:14,filter:["match",["get","highway"],["tertiary_link","tertiary","unclassified"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.5],["zoom"],14,.75,18,23]}},{id:"secondary tunnel border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"tunnel",minzoom:10,filter:["match",["get","highway"],["secondary","secondary_link"],!0,!1],paint:{"line-color":"#010101","line-width":["interpolate",["exponential",1.5],["zoom"],11,0,18,2],"line-dasharray":["step",["zoom"],["literal",[1]],14,["literal",[5,1.5]]],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,29]}},{id:"secondary tunnel",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"tunnel",minzoom:10,filter:["match",["get","highway"],["secondary_link","secondary"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.5],["zoom"],10,.1,18,28]}},{id:"primary tunnel border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"tunnel",minzoom:10,filter:["match",["get","highway"],["primary","primary_link"],!0,!1],paint:{"line-color":"#010101","line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-dasharray":["step",["zoom"],["literal",[1]],14,["literal",[5,1.5]]],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,32]}},{id:"primary tunnel",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"tunnel",minzoom:10,filter:["match",["get","highway"],["primary","primary_link"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,32]}},{id:"highways tunnel border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"tunnel",minzoom:8,filter:["match",["get","highway"],["trunk","trunk_link","motorway","motorway_link"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"#232324","line-width":["interpolate",["exponential",1.96],["zoom"],0,.1,18,60],"line-dasharray":["step",["zoom"],["literal",[2,.2]],17,["literal",[1.5,.2]]]}},{id:"highways tunnel",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"tunnel",minzoom:8,filter:["match",["get","highway"],["trunk","trunk_link","motorway","motorway_link"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.96],["zoom"],0,1,18,50]}},{id:"cycleway",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:15,filter:["match",["get","highway"],["cycleway"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(85, 115, 69)","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,2],"line-opacity":["interpolate",["linear"],["zoom"],13,.5,15,1]}},{id:"track path",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:14,filter:["match",["get","highway"],["path","track"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,8]}},{id:"footways",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:14,filter:["match",["get","highway"],["footway","steps"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,8]}},{id:"pedestrain",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:14,filter:["match",["get","highway"],["pedestrian"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,10],"line-opacity":["interpolate",["linear"],["zoom"],13,.5,15,1]}},{id:"residential-street border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:14,filter:["match",["get","highway"],["residential","unclassified","service","living_street"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"#010101","line-width":["interpolate",["exponential",1.96],["zoom"],14,.1,18,20]}},{id:"residential-street",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:14,filter:["match",["get","highway"],["unclassified","residential","service","living_street"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.96],["zoom"],14,.1,18,18]}},{id:"tertiary border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:10,filter:["match",["get","highway"],["tertiary_link","tertiary"],!0,!1],layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-color":"#010101","line-width":["interpolate",["exponential",1.5],["zoom"],11,0,18,2],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,22],"line-opacity":["step",["zoom"],0,10,1]}},{id:"tertiary",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:10,filter:["match",["get","highway"],["tertiary_link","tertiary"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.5],["zoom"],10,.1,18,23]}},{id:"secondary border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:7,filter:["match",["get","highway"],["secondary","secondary_link"],!0,!1],layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-color":"#010101","line-width":["interpolate",["exponential",1.5],["zoom"],11,0,18,2],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,27],"line-opacity":["step",["zoom"],0,10,1]}},{id:"secondary",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:10,filter:["match",["get","highway"],["secondary_link","secondary"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.5],["zoom"],10,.1,18,28]}},{id:"primary border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:6,filter:["match",["get","highway"],["primary","primary_link"],!0,!1],layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-color":"hsl(0, 0%, 0%)","line-width":["interpolate",["exponential",1.5],["zoom"],9,0,18,2],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,31],"line-opacity":["step",["zoom"],0,7,.5,10,1]}},{id:"primary",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:7,filter:["match",["get","highway"],["primary","primary_link"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.5],["zoom"],7,.1,18,32]}},{id:"trunk border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:8,filter:["match",["get","highway"],["trunk","trunk_link"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"#232324","line-width":["interpolate",["exponential",1.96],["zoom"],0,2,18,55]}},{id:"motorway border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:5,filter:["match",["get","highway"],["motorway","motorway_link"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"#232324","line-width":["interpolate",["exponential",1.96],["zoom"],0,2,18,55]}},{id:"highways",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:5,filter:["match",["get","highway"],["trunk","trunk_link","motorway","motorway_link"],!0,!1],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.96],["zoom"],0,1,18,50]}},{id:"footways bridge",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"bridge",minzoom:14,filter:["match",["get","highway"],["footway","steps","path"],!0,!1],layout:{"line-cap":"square"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,8]}},{id:"pedestrain bridge",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"bridge",minzoom:14,filter:["match",["get","highway"],["pedestrian"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,10]}},{id:"cycleway bridge border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"bridge",filter:["match",["get","highway"],["cycleway"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"#b3b3b3","line-width":["interpolate",["exponential",1.96],["zoom"],13,1,18,6],"line-opacity":["interpolate",["linear"],["zoom"],13,.1,15,1]}},{id:"cycleway bridge",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"bridge",filter:["match",["get","highway"],["cycleway"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"rgb(85, 115, 69)","line-width":["interpolate",["exponential",1.96],["zoom"],16,1e-8,18,4],"line-opacity":["interpolate",["linear"],["zoom"],15,1]}},{id:"residential-bridge border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"bridge",minzoom:14,filter:["match",["get","highway"],["residential","service","unclassified","living_street"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"hsl(240, 5%, 18%)","line-width":["interpolate",["exponential",1.96],["zoom"],14,.1,18,20]}},{id:"residential-bridge",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"bridge",minzoom:14,filter:["match",["get","highway"],["residential","service","unclassified","living_street"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.96],["zoom"],14,.1,18,18]}},{id:"tertiary bridge border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"bridge",minzoom:13,filter:["match",["get","highway"],["tertiary_link","tertiary"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"#010101","line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,24]}},{id:"tertiary bridge",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"bridge",minzoom:11,filter:["match",["get","highway"],["tertiary_link","tertiary"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,23]}},{id:"secondary bridge border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"bridge",minzoom:13,filter:["match",["get","highway"],["secondary","secondary_link"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"#010101","line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,24]}},{id:"secondary bridge",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"bridge",minzoom:10,filter:["match",["get","highway"],["secondary_link","secondary"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,28]}},{id:"primary bridge border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"bridge",minzoom:13,filter:["match",["get","highway"],["primary","primary_link"],!0,!1],layout:{"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-color":"#010101","line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,32],"line-opacity":["step",["zoom"],0,10,1]}},{id:"primary bridge",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"bridge",minzoom:10,filter:["match",["get","highway"],["primary","primary_link"],!0,!1],paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,32]}},{id:"highways bridge border",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"bridge",minzoom:8,filter:["match",["get","highway"],["trunk","trunk_link","motorway","motorway_link"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"#232324","line-width":["interpolate",["exponential",1.96],["zoom"],0,.1,18,60]}},{id:"highway bridge",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"bridge",minzoom:8,filter:["match",["get","highway"],["trunk","trunk_link","motorway","motorway_link"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"rgb(44, 44, 48)","line-width":["interpolate",["exponential",1.96],["zoom"],0,1,18,50]}},{id:"traffic-minor",type:"line",source:"neshanTrafficSource","source-layer":"iran_traffic",minzoom:14,filter:["match",["get","highway"],["tertiary","tertiary_link","secondary_link","residential","primary_link","secondary"],!0,!1],layout:{"line-cap":"round","line-join":"round",visibility:"none"},paint:{"line-color":["match",["get","traffic"],[1],"hsl(118, 47%, 48%)",[2],"#f8830b",[3],"#ff0c00",[4],"#920403","#000000"],"line-width":["interpolate",["exponential",1.36],["zoom"],9,1,22,6],"line-offset":["interpolate",["exponential",1.11],["zoom"],10,.5,22,0]}},{id:"traffic-primary",type:"line",source:"neshanTrafficSource","source-layer":"iran_traffic",minzoom:7,filter:["match",["get","highway"],["primary","trunk_link","motorway_link"],!0,!1],layout:{"line-cap":"round",visibility:"none"},paint:{"line-color":["match",["get","traffic"],[1],"hsl(118, 47%, 48%)",[2],"#f8830b",[3],"#ff0c00",[4],"#920403","#000000"],"line-width":["interpolate",["exponential",1.36],["zoom"],12,1,22,10],"line-offset":["interpolate",["exponential",1.11],["zoom"],12,.8,22,0]}},{id:"traffic-highway",type:"line",source:"neshanTrafficSource","source-layer":"iran_traffic",minzoom:7,filter:["match",["get","highway"],["trunk","motorway"],!0,!1],layout:{"line-cap":"round","line-join":"round",visibility:"none"},paint:{"line-color":["match",["get","traffic"],[1],"rgb(55, 131, 52)",[2],"rgb(203, 78, 6)",[3],"rgb(219, 11, 0)",[4],"#920403","#000000"],"line-width":["interpolate",["exponential",1.26],["zoom"],6,.8,22,10],"line-offset":["interpolate",["exponential",1.11],["zoom"],10,1.5,22,0]}},{id:"explore_cities_line",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"landuse",minzoom:1,maxzoom:14,filter:["match",["get","hash_id"],["b5e3b77b3886e30f21c689e538b1cebe"],!0,!1],paint:{"line-color":"rgb(240, 0, 134)","line-width":2},layout:{visibility:"none"}},{id:"explore_cities_fill",type:"fill",source:"neshanBaseMapVectorNightSource","source-layer":"landuse",minzoom:1,maxzoom:14,filter:["match",["get","hash_id"],["b5e3b77b3886e30f21c689e538b1cebe"],!0,!1],paint:{"fill-color":"rgba(240, 0, 134, 0.1)","fill-outline-color":"rgb(240, 0, 134)"},layout:{visibility:"none"}},{id:"highways tunnel label",type:"symbol",source:"neshanBaseMapVectorNightSource","source-layer":"tunnel",minzoom:7,filter:["match",["get","highway"],["trunk","motorway"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"symbol-placement":"line","text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["cubic-bezier",1,.5,.8,1],["zoom"],0,1,17,17],"text-pitch-alignment":"viewport","symbol-spacing":["interpolate",["linear"],["zoom"],0,250,22,500]},paint:{"text-color":"rgb(230, 230, 230)","text-halo-color":"rgba(0, 0, 0, 0.5)","text-halo-width":2}},{id:"cycleway label",type:"symbol",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:17,filter:["match",["get","highway"],["cycleway"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"symbol-placement":"line","text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["linear"],["zoom"],16,10,22,15],"text-pitch-alignment":"viewport","symbol-spacing":["interpolate",["linear"],["zoom"],17,550,18,700],"text-offset":[0,1]},paint:{"text-halo-color":"#222222","text-color":"rgb(139, 195, 74)"}},{id:"residential label",type:"symbol",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:15,filter:["match",["get","highway"],["residential","service","pedestrian","living_street","footway","unclassified"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"symbol-placement":"line","text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["linear"],["zoom"],16,10,22,15],"text-pitch-alignment":"viewport","symbol-spacing":["interpolate",["linear"],["zoom"],0,250,22,400]},paint:{"text-halo-width":1,"text-color":"rgb(230, 230, 230)","text-halo-color":"rgba(0, 0, 0, 0.5)"}},{id:"tertiary label",type:"symbol",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:13,filter:["match",["get","highway"],["tertiary","road"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"symbol-placement":"line","text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["linear"],["zoom"],13,5,16,14],"text-pitch-alignment":"viewport","symbol-spacing":["interpolate",["linear"],["zoom"],0,250,22,400]},paint:{"text-halo-width":2,"text-halo-color":"rgba(0, 0, 0, 0.5)","text-color":"rgb(230, 230, 230)"}},{id:"secondary label",type:"symbol",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:12,filter:["match",["get","highway"],["secondary"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"symbol-placement":"line","text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["linear"],["zoom"],13,6,16,14],"symbol-spacing":["interpolate",["exponential",.91],["zoom"],0,250,20,500]},paint:{"text-halo-color":"rgba(0, 0, 0, 0.5)","text-halo-width":2,"text-color":"rgb(230, 230, 230)"}},{id:"primary label",type:"symbol",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:10,filter:["match",["get","highway"],["primary"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"symbol-placement":"line","text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["linear"],["zoom"],13,12,16,15],"text-pitch-alignment":"viewport","symbol-spacing":["interpolate",["exponential",.91],["zoom"],0,250,20,500]},paint:{"text-halo-width":2,"text-halo-color":"rgba(0, 0, 0, 0.5)","text-color":"rgb(230, 230, 230)"}},{id:"primary bridge label",type:"symbol",source:"neshanBaseMapVectorNightSource","source-layer":"bridge",minzoom:10,filter:["match",["get","highway"],["primary"],!0,!1],layout:{"symbol-placement":"line","text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-pitch-alignment":"viewport","text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"text-size":["interpolate",["linear"],["zoom"],13,12,16,15]},paint:{"text-halo-width":2,"text-halo-color":"rgba(0, 0, 0, 0.5)","text-color":"rgb(230, 230, 230)"}},{id:"highways label",type:"symbol",source:"neshanBaseMapVectorNightSource","source-layer":"street",minzoom:7,filter:["match",["get","highway"],["trunk","motorway"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"symbol-placement":"line","text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["cubic-bezier",1,.5,.8,1],["zoom"],0,1,17,17],"text-pitch-alignment":"viewport","symbol-spacing":["interpolate",["exponential",.91],["zoom"],0,100,20,400]},paint:{"text-color":"rgb(230, 230, 230)","text-halo-color":"rgba(0, 0, 0, 0.5)","text-halo-width":2}},{id:"highways bridge label",type:"symbol",source:"neshanBaseMapVectorNightSource","source-layer":"bridge",minzoom:7,filter:["match",["get","highway"],["trunk","motorway"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"symbol-placement":"line","text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["cubic-bezier",1,.5,.8,1],["zoom"],0,1,17,17],"text-pitch-alignment":"viewport","symbol-spacing":["interpolate",["exponential",.91],["zoom"],0,100,20,400]},paint:{"text-color":"rgb(230, 230, 230)","text-halo-color":"rgba(0, 0, 0, 0.5)","text-halo-width":2}},{id:"point-label",type:"symbol",source:"neshanBaseMapVectorNightSource","source-layer":"point_label",minzoom:13,layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":10,"text-pitch-alignment":"viewport"},paint:{"text-color":"#ccc","text-halo-color":"#000000"}},{id:"place-label",type:"symbol",source:"neshanBaseMapVectorNightSource","source-layer":"place_label",minzoom:8,maxzoom:16,layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["linear"],["zoom"],11,["match",["get","type"],["village"],8,12],13,["match",["get","type"],["neighbourhood"],10,12],16,["match",["get","type"],["village"],14,12]],"text-pitch-alignment":"viewport"},paint:{"text-color":["match",["get","type"],["neighbourhood","suburb","subrub2","locality"],"rgb(54, 161, 161)","rgb(217, 217, 217)"],"text-opacity":["interpolate",["linear"],["zoom"],0,1,13,1,18,["match",["get","type"],["","locality"],.5,0]]}},{id:"city label",type:"symbol",source:"neshanBaseMapVectorNightSource","source-layer":"place_label",minzoom:5,maxzoom:12,filter:["match",["get","type"],["city"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"text-font":["step",["zoom"],["literal",["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"]],8,["literal",["Vazir FD Bold","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"]]],"text-size":["interpolate",["linear"],["zoom"],4,7,10,16],"text-anchor":"top-left","text-offset":[.3,0],"symbol-avoid-edges":!0,"text-pitch-alignment":"viewport","icon-image":"dot"},paint:{"text-color":"rgb(217, 217, 217)","text-opacity":["interpolate",["linear"],["zoom"],5,1,14,.5],"icon-opacity":["interpolate",["linear"],["zoom"],5,1,14,.5]}},{id:"state label",type:"symbol",source:"neshanBaseMapVectorNightSource","source-layer":"place_label",minzoom:4,maxzoom:10,filter:["match",["get","type"],["state"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"text-font":["Vazir FD Bold","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["linear"],["zoom"],4,8,10,20],"text-pitch-alignment":"viewport"},paint:{"text-color":"rgb(217, 217, 217)","text-opacity":["interpolate",["linear"],["zoom"],4,1,12,0]}},{id:"country label",type:"symbol",source:"neshanBaseMapVectorNightSource","source-layer":"country_label",minzoom:2,maxzoom:10,layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"text-font":["step",["zoom"],["literal",["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"]],3,["literal",["Vazir FD Bold","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"]]],"text-size":["interpolate",["linear"],["zoom"],1,5,10,20],"text-pitch-alignment":"viewport"},paint:{"text-color":"rgb(217, 217, 217)","text-opacity":["interpolate",["linear"],["zoom"],4,1,12,0]}},{id:"sea-name",type:"symbol",source:"neshanBaseMapVectorNightSource","source-layer":"sea_name",layout:{"text-field":["to-string",["get","name"]],"text-font":["step",["zoom"],["literal",["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"]],7,["literal",["Vazir FD Bold","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"]]],"text-size":["interpolate",["exponential",.95],["zoom"],0,8,22,20]},paint:{"text-color":"rgb(217, 217, 217)"}},{id:"transport",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"transport",minzoom:10,layout:{visibility:"none"},paint:{"line-width":["interpolate",["exponential",1.16],["zoom"],10,3,22,12],"line-color":["get","color"]}},{id:"transport white",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"transport",minzoom:10,layout:{visibility:"none"},paint:{"line-color":"rgba(255, 255, 255, 0.9)","line-width":["interpolate",["exponential",1.16],["zoom"],10,2,22,10],"line-dasharray":["step",["zoom"],["literal",[2,1]],11,["literal",[3,2]],14,["literal",[4,2]]]}},{id:"fill",type:"fill",source:"neshanBaseMapVectorNightSource","source-layer":"landuse",minzoom:9,filter:["match",["get","type"],["odd_even_zone","traffic_zone"],!0,!1],layout:{visibility:"none"},paint:{"fill-color":["match",["get","type"],["odd_even_zone"],"#4a57c9",["traffic_zone"],"#a06131","rgba(0, 0, 0, 0)"],"fill-opacity":.1}},{id:"zones",type:"line",source:"neshanBaseMapVectorNightSource","source-layer":"zones",minzoom:9,layout:{visibility:"none"},paint:{"line-color":["match",["get","type"],["odd_even_zone"],"rgb(94, 105, 207)",["traffic_zone"],"#a06131","rgba(0, 0, 0, 0)"],"line-width":["interpolate",["linear"],["zoom"],9,.5,16,3],"line-dasharray":["step",["zoom"],["literal",[1,0]],14,["literal",[5,1]]]}},{id:"name",type:"symbol",source:"neshanBaseMapVectorNightSource","source-layer":"zones",minzoom:11,layout:{"text-field":["to-string",["get","name"]],"text-size":["interpolate",["linear"],["zoom"],9,4,16,12],"symbol-placement":"line","symbol-spacing":["interpolate",["linear"],["zoom"],0,250,22,600],"text-offset":[0,-1],"text-font":["Vazir FD Bold","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],visibility:"none"},paint:{"text-color":["match",["get","type"],["odd_even_zone"],"rgb(129, 138, 217)",["traffic_zone"],"rgb(214, 162, 122)","rgba(0, 0, 0, 0)"]}},{id:"3d",type:"fill-extrusion",source:"neshanBaseMapVectorNightSource","source-layer":"landuse",minzoom:14,filter:["all",["match",["get","type"],["building"],!0,!1],[">",["get","height"],0]],layout:{},paint:{"fill-extrusion-height":["get","height"],"fill-extrusion-base":["get","min_height"],"fill-extrusion-color":"#ccc4b8","fill-extrusion-opacity":["interpolate",["linear"],["zoom"],14,.1,15,.5]}},{id:"points",type:"symbol",source:"neshanPoiSource","source-layer":"points",layout:{visibility:"none","text-size":["interpolate",["linear"],["zoom"],13,11,22,13],"icon-image":["to-string",["get","type"]],"icon-allow-overlap":!1,"icon-ignore-placement":!1,"symbol-avoid-edges":!0,"text-allow-overlap":!1,"text-ignore-placement":!1,"text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-offset":["interpolate",["linear"],["zoom"],10,["literal",[0,.7]],22,["literal",[0,1.2]]],"icon-size":["interpolate",["linear"],["zoom"],12,.3,22,.5],"text-anchor":"top","text-field":["step",["zoom"],"",14,["case",["any",["==",["has","name_fa"],!1],["==",["get","name_fa"],""]],["to-string",["get","name"]],["to-string",["get","name_fa"]]]]},paint:{"text-color":"white","text-halo-color":"#000000","text-halo-width":.5}}]},neshanDayVectorStyle:{version:8,name:"Neshan Base Map",light:{anchor:"map",color:"hsl(0, 0%, 100%)"},sprite:"https://static.neshan.org/sdk/mapboxgl/sprites/sprite",glyphs:"https://static.neshan.org/sdk/mapboxgl/fontstack/{fontstack}/{range}.pbf",sources:{neshanBaseMapVectorDaySource:{type:"vector",tiles:["https://vts.neshan.org/basemap/v2/{z}/{x}/{y}/platform"],minzoom:1,maxzoom:14,sourceType:"basemap"},neshanPoiSource:{type:"vector",tiles:["https://vts.neshan.org/poi/v3/{z}/{x}/{y}/platform"],minzoom:1,maxzoom:19,sourceType:"poi"},neshanTrafficSource:{type:"vector",tiles:["https://tvts.neshan.org/traffic/v4/{z}/{x}/{y}/platform"],minzoom:9,maxzoom:14,sourceType:"traffic"}},layers:[{id:"background",type:"background",layout:{},paint:{"background-color":"hsl(65, 12%, 91%)"}},{id:"waterway",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"waterway",minzoom:15,layout:{},paint:{"line-color":"#9fdcfb"}},{id:"state border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"admin",minzoom:4,filter:["match",["get","admin_level"],[4],!0,!1],layout:{},paint:{"line-color":"#67666e","line-width":["interpolate",["exponential",1.41],["zoom"],0,.01,8,.5],"line-dasharray":[10,5]}},{id:"country borders",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"admin",minzoom:1,filter:["match",["get","admin_level"],[2],!0,!1],layout:{},paint:{"line-color":"rgb(120, 120, 120)","line-width":["interpolate",["exponential",1.41],["zoom"],0,.3,8,2]}},{id:"residential",type:"fill",source:"neshanBaseMapVectorDaySource","source-layer":"landuse",minzoom:1,filter:["match",["get","type"],["residential"],!0,!1],layout:{},paint:{"fill-color":"rgba(209, 209, 209, 0.63)","fill-opacity":["interpolate",["linear"],["zoom"],7,1,14,.01]}},{id:"landuse",type:"fill",source:"neshanBaseMapVectorDaySource","source-layer":"landuse",minzoom:1,paint:{"fill-color":["case",["match",["get","type"],["wood","national_park"],!0,!1],"#a5dfb6",["match",["get","type"],["park","heath","scrub","orchard","wood","national_park","grass"],!0,!1],"hsla(138, 48%, 76%, 0.4)",["match",["get","type"],["hospital"],!0,!1],"rgba(233, 196, 196, 0.65)",["match",["get","type"],["military","police","prison"],!0,!1],"hsla(33, 13%, 86%, 0.5)",["match",["get","type"],["aerodrome"],!0,!1],"rgba(218, 220, 214, 0.59)",["match",["get","type"],["fair","yard"],!0,!1],"#d7d9d8",["match",["get","type"],["cemetery"],!0,!1],"#e0e0e0",["match",["get","type"],["recreation_ground"],!0,!1],"hsla(120, 61%, 90%, 0.4)",["match",["get","type"],["bus_station","parking"],!0,!1],"#ddddd4",["match",["get","type"],["farmland"],!0,!1],"hsla(40, 51%, 76%, 0.25)",["match",["get","type"],["wetland"],!0,!1],"hsla(176, 51%, 69%, 0.1)",["match",["get","type"],["school"],!0,!1],"rgba(165, 188, 207, 0.12)",["match",["get","type"],["sports_centre"],!0,!1],"#d6f5d6",["match",["get","type"],["pitch"],!0,!1],"#82D382",["match",["get","type"],["building"],!0,!1],"#e1e1da",["match",["get","type"],["industrial"],!0,!1],"rgba(236, 228, 198, 0.71)","rgba(255, 255, 255, 0)"],"fill-opacity":["interpolate",["linear"],["zoom"],7,.4,14,1]}},{id:"water",type:"fill",source:"neshanBaseMapVectorDaySource","source-layer":"water",minzoom:1,layout:{},paint:{"fill-color":"hsl(200, 92%, 80%)"}},{id:"taxiway",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:11,filter:["match",["get","highway"],["taxiway","parking_position"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":["interpolate",["linear"],["zoom"],13,"hsl(50, 19%, 81%)",16,"hsl(230, 10%, 74%)"],"line-translate":[0,0],"line-width":["interpolate",["exponential",1.56],["zoom"],7,1,20,5]}},{id:"runway",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:11,filter:["match",["get","highway"],["runway"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":["interpolate",["linear"],["zoom"],13,"hsl(50, 19%, 81%)",16,"hsl(230, 10%, 74%)"],"line-translate":[0,0],"line-width":["interpolate",["exponential",1.56],["zoom"],7,5,20,20]}},{id:"rail",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:11,filter:["match",["get","highway"],["rail"],!0,!1],layout:{"line-join":"round",visibility:"none"},paint:{"line-color":["interpolate",["linear"],["zoom"],13,"hsl(50, 19%, 81%)",16,"hsl(230, 10%, 74%)"],"line-translate":[0,0],"line-width":["interpolate",["exponential",1.56],["zoom"],14,.5,20,1]}},{id:"rail track",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:10,filter:["match",["get","highway"],["rail"],!0,!1],layout:{"line-join":"round",visibility:"none"},paint:{"line-color":["interpolate",["linear"],["zoom"],11,"hsl(50, 19%, 81%)",16,"hsl(230, 10%, 74%)"],"line-dasharray":[.1,2],"line-translate":[0,0],"line-width":["interpolate",["exponential",1.56],["zoom"],14,4,20,8]}},{id:"ferry",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:8,filter:["match",["get","highway"],["ferry"],!0,!1],layout:{},paint:{"line-color":"#00b4d8","line-dasharray":["step",["zoom"],["literal",[5,1]],16,["literal",[10,2]]]}},{id:"footways tunnel border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"tunnel",minzoom:14,filter:["match",["get","highway"],["footway","steps"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(225, 224, 224)","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,10],"line-opacity":["interpolate",["linear"],["zoom"],13,.5,15,1]}},{id:"footways tunnel",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"tunnel",minzoom:14,filter:["match",["get","highway"],["footway","steps"],!0,!1],layout:{"line-cap":"square"},paint:{"line-color":"hsl(0, 0%, 100%)","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,8],"line-opacity":["interpolate",["linear"],["zoom"],13,.5,15,1],"line-dasharray":[1,1.5]}},{id:"pedestrain tunnel",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"tunnel",minzoom:14,filter:["match",["get","highway"],["pedestrian"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(255, 255, 255)","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,10],"line-opacity":["match",["get","hidden"],[1],.1,1]}},{id:"residential-tunnel border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"tunnel",minzoom:14,filter:["match",["get","highway"],["residential","unclassified","service","living_street"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"#b3b3b3","line-width":["interpolate",["exponential",1.96],["zoom"],14,.1,18,20],"line-opacity":["match",["get","hidden"],[1],.1,1]}},{id:"residential-tunnel",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"tunnel",minzoom:14,filter:["match",["get","highway"],["residential","unclassified","service","living_street"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"hsl(0, 0%, 100%)","line-width":["interpolate",["exponential",1.96],["zoom"],14,.1,18,18],"line-opacity":["match",["get","hidden"],[1],.1,1]}},{id:"tertiary tunnel border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"tunnel",minzoom:14,filter:["match",["get","highway"],["tertiary_link","tertiary","unclassified"],!0,!1],paint:{"line-color":"#b3b3b3","line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-dasharray":["step",["zoom"],["literal",[1]],14,["literal",[3,1]]],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],15,.75,18,24],"line-opacity":["match",["get","hidden"],[1],.1,1]}},{id:"tertiary tunnel",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"tunnel",minzoom:14,filter:["match",["get","highway"],["tertiary_link","tertiary","unclassified"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"hsl(15, 0%, 100%)","line-width":["interpolate",["exponential",1.5],["zoom"],15,.75,18,23],"line-opacity":["match",["get","hidden"],[1],.1,1]}},{id:"secondary tunnel border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"tunnel",minzoom:10,filter:["match",["get","highway"],["secondary","secondary_link"],!0,!1],paint:{"line-color":"#b3b3b3","line-width":["interpolate",["exponential",1.5],["zoom"],11,0,18,2],"line-dasharray":["step",["zoom"],["literal",[1]],14,["literal",[5,1.5]]],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,28],"line-opacity":["match",["get","hidden"],[1],.1,1]}},{id:"secondary tunnel",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"tunnel",minzoom:10,filter:["match",["get","highway"],["secondary_link","secondary"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"hsl(15, 0%, 100%)","line-width":["interpolate",["exponential",1.5],["zoom"],10,.1,18,28],"line-opacity":["match",["get","hidden"],[1],.1,1]}},{id:"primary tunnel border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"tunnel",minzoom:10,filter:["match",["get","highway"],["primary","primary_link"],!0,!1],paint:{"line-color":"#b3b3b3","line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-dasharray":["step",["zoom"],["literal",[1]],14,["literal",[5,1.5]]],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,32],"line-opacity":["match",["get","hidden"],[1],.1,1]}},{id:"primary tunnel",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"tunnel",minzoom:10,filter:["match",["get","highway"],["primary","primary_link"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"hsl(15, 0%, 100%)","line-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,32],"line-opacity":["match",["get","hidden"],[1],.1,1]}},{id:"highways tunnel border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"tunnel",minzoom:8,filter:["match",["get","highway"],["trunk","trunk_link","motorway","motorway_link"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"#c26f56","line-width":["interpolate",["exponential",1.96],["zoom"],0,.1,18,60],"line-dasharray":["step",["zoom"],["literal",[2,.2]],15,["literal",[1,.2]],18,["literal",[.4,.1]]],"line-opacity":["match",["get","hidden"],[1],.1,1]}},{id:"highways tunnel",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"tunnel",minzoom:8,filter:["match",["get","highway"],["trunk","trunk_link","motorway","motorway_link"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"hsl(15, 100%, 88%)","line-width":["interpolate",["exponential",1.96],["zoom"],0,1,18,50],"line-opacity":["match",["get","hidden"],[1],.1,1]}},{id:"cycleway",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:15,filter:["match",["get","highway"],["cycleway"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"#8bc34a","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,2],"line-opacity":["interpolate",["linear"],["zoom"],13,.5,15,1]}},{id:"track path",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:14,filter:["match",["get","highway"],["path","track"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgba(185, 166, 131, 0.7)","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,6],"line-opacity":["interpolate",["linear"],["zoom"],13,.5,15,1]}},{id:"footways border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:14,filter:["match",["get","highway"],["footway","steps"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"#b3b3b3","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,9],"line-opacity":["interpolate",["linear"],["zoom"],13,.5,15,1]}},{id:"footways",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:14,filter:["match",["get","highway"],["footway","steps"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"#fff","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,8],"line-opacity":["interpolate",["linear"],["zoom"],13,.5,15,1]}},{id:"pedestrain",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:14,filter:["match",["get","highway"],["pedestrian"],!0,!1],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"rgb(255, 255, 255)","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,10],"line-opacity":["interpolate",["linear"],["zoom"],13,.5,15,1]}},{id:"residential-street border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:14,filter:["match",["get","highway"],["residential","unclassified","service","living_street"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"#b3b3b3","line-width":["interpolate",["exponential",1.96],["zoom"],14,.1,18,20]}},{id:"residential-street",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:14,filter:["match",["get","highway"],["residential","unclassified","service","living_street"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"hsl(0, 0%, 100%)","line-width":["interpolate",["exponential",1.96],["zoom"],14,.1,18,18]}},{id:"tertiary border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:10,filter:["match",["get","highway"],["tertiary_link","tertiary"],!0,!1],layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-color":"#cfcfcf","line-width":["interpolate",["exponential",1.5],["zoom"],11,0,18,2],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,22],"line-opacity":["step",["zoom"],0,10,1]}},{id:"tertiary",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:10,filter:["match",["get","highway"],["tertiary_link","tertiary"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"hsl(15, 0%, 100%)","line-width":["interpolate",["exponential",1.5],["zoom"],10,.1,18,23]}},{id:"secondary border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:7,filter:["match",["get","highway"],["secondary","secondary_link"],!0,!1],layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-color":"hsl(0, 0%, 81%)","line-width":["interpolate",["exponential",1.5],["zoom"],11,0,18,2],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,27],"line-opacity":["step",["zoom"],0,10,1]}},{id:"secondary",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:10,filter:["match",["get","highway"],["secondary_link","secondary"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"hsl(15, 0%, 100%)","line-width":["interpolate",["exponential",1.5],["zoom"],10,.1,18,28]}},{id:"primary border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:6,filter:["match",["get","highway"],["primary","primary_link"],!0,!1],layout:{"line-cap":["step",["zoom"],"butt",16,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-color":"#cfcfcf","line-width":["interpolate",["exponential",1.5],["zoom"],9,0,18,2],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,31],"line-opacity":["step",["zoom"],0,7,.5,10,1]}},{id:"primary",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:7,filter:["match",["get","highway"],["primary","primary_link"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"hsl(15, 0%, 100%)","line-width":["interpolate",["exponential",1.5],["zoom"],7,.1,18,32]}},{id:"trunk border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:8,filter:["match",["get","highway"],["trunk","trunk_link"],!0,!1],layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#ed977e","line-width":["interpolate",["exponential",1.96],["zoom"],0,2,18,55]}},{id:"motorway border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:5,filter:["match",["get","highway"],["motorway","motorway_link"],!0,!1],layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#ed977e","line-width":["interpolate",["exponential",1.96],["zoom"],0,2,18,55]}},{id:"highways",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:5,filter:["match",["get","highway"],["trunk","trunk_link","motorway","motorway_link"],!0,!1],layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#ffd1c2","line-width":["interpolate",["exponential",1.96],["zoom"],0,1,18,50]}},{id:"footways bridge border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"bridge",minzoom:14,filter:["match",["get","highway"],["footway","steps","path"],!0,!1],layout:{"line-cap":"square"},paint:{"line-color":"#b3b3b3","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,10],"line-opacity":["interpolate",["linear"],["zoom"],13,.5,15,1]}},{id:"footways bridge",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"bridge",minzoom:14,filter:["match",["get","highway"],["footway","steps","path"],!0,!1],layout:{"line-cap":"square"},paint:{"line-color":"hsl(0, 0%, 100%)","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,8],"line-opacity":["interpolate",["linear"],["zoom"],13,.5,15,1]}},{id:"pedestrain bridge",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"bridge",minzoom:14,filter:["match",["get","highway"],["pedestrian"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"rgb(255, 255, 255)","line-width":["interpolate",["exponential",1.96],["zoom"],13,1e-4,18,10],"line-opacity":["interpolate",["linear"],["zoom"],13,.5,15,1]}},{id:"cycleway bridge border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"bridge",minzoom:15,filter:["match",["get","highway"],["cycleway"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"#b3b3b3","line-width":["interpolate",["exponential",1.96],["zoom"],13,1,18,6],"line-opacity":["interpolate",["linear"],["zoom"],13,.1,15,1]}},{id:"cycleway bridge",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"bridge",minzoom:15,filter:["match",["get","highway"],["cycleway"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"#8bc34a","line-width":["interpolate",["exponential",1.96],["zoom"],16,1e-8,18,2],"line-opacity":["interpolate",["linear"],["zoom"],15,1]}},{id:"residential-bridge border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"bridge",minzoom:14,filter:["match",["get","highway"],["residential","unclassified","service","living_street"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"#b3b3b3","line-width":["interpolate",["exponential",1.96],["zoom"],14,.1,18,20]}},{id:"residential-bridge",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"bridge",minzoom:14,filter:["match",["get","highway"],["residential","unclassified","service","living_street"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"hsl(0, 0%, 100%)","line-width":["interpolate",["exponential",1.96],["zoom"],14,.1,18,18]}},{id:"tertiary bridge border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"bridge",minzoom:13,filter:["match",["get","highway"],["tertiary_link","tertiary"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"#b3b3b3","line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,24]}},{id:"tertiary bridge",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"bridge",minzoom:11,filter:["match",["get","highway"],["tertiary_link","tertiary"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"hsl(15, 0%, 100%)","line-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,23]}},{id:"secondary bridge border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"bridge",minzoom:13,filter:["match",["get","highway"],["secondary","secondary_link"],!0,!1],layout:{"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-color":"#b3b3b3","line-width":["interpolate",["exponential",1.5],["zoom"],11,0,18,2],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,28],"line-opacity":["interpolate",["linear"],["zoom"],11,.02,13,1]}},{id:"secondary bridge",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"bridge",minzoom:11,filter:["match",["get","highway"],["secondary_link","secondary"],!0,!1],layout:{"line-cap":"round"},paint:{"line-color":"hsl(15, 0%, 100%)","line-width":["interpolate",["exponential",1.5],["zoom"],10,.1,18,28],"line-opacity":["interpolate",["linear"],["zoom"],11,.02,13,1]}},{id:"primary bridge border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"bridge",minzoom:13,filter:["match",["get","highway"],["primary","primary_link"],!0,!1],layout:{"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-color":"#b3b3b3","line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,2],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,32],"line-opacity":["interpolate",["linear"],["zoom"],11,.02,13,1]}},{id:"primary bridge",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"bridge",minzoom:11,filter:["match",["get","highway"],["primary","primary_link"],!0,!1],paint:{"line-color":"#ffffff","line-width":["interpolate",["exponential",1.5],["zoom"],5,.75,18,32],"line-opacity":["interpolate",["linear"],["zoom"],11,.02,13,1]}},{id:"highways bridge border",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"bridge",minzoom:8,filter:["match",["get","highway"],["trunk","trunk_link","motorway","motorway_link"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"#c26f56","line-width":["interpolate",["exponential",1.96],["zoom"],0,.1,18,60]}},{id:"highway bridge",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"bridge",minzoom:8,filter:["match",["get","highway"],["trunk","trunk_link","motorway","motorway_link"],!0,!1],layout:{"line-join":"round"},paint:{"line-color":"#ffd1c2","line-width":["interpolate",["exponential",1.96],["zoom"],0,1,18,50]}},{id:"traffic-minor",type:"line",source:"neshanTrafficSource","source-layer":"iran_traffic",minzoom:14,filter:["match",["get","highway"],["tertiary","tertiary_link","secondary_link","residential","primary_link","secondary"],!0,!1],layout:{"line-cap":"round","line-join":"round",visibility:"none"},paint:{"line-color":["match",["get","traffic"],[1],"hsl(118, 47%, 48%)",[2],"#f8830b",[3],"#ff0c00",[4],"#920403","#000000"],"line-width":["interpolate",["exponential",1.36],["zoom"],9,1,22,6],"line-offset":["interpolate",["exponential",1.11],["zoom"],10,.5,22,0]}},{id:"traffic-primary",type:"line",source:"neshanTrafficSource","source-layer":"iran_traffic",minzoom:7,filter:["match",["get","highway"],["primary","trunk_link","motorway_link"],!0,!1],layout:{"line-join":"round","line-cap":"round",visibility:"none"},paint:{"line-color":["match",["get","traffic"],[1],"hsl(118, 47%, 48%)",[2],"#f8830b",[3],"#ff0c00",[4],"#920403","#000000"],"line-offset":["interpolate",["exponential",1.11],["zoom"],12,.8,22,0],"line-width":["interpolate",["exponential",1.36],["zoom"],12,1,22,10]}},{id:"traffic-highway",type:"line",source:"neshanTrafficSource","source-layer":"iran_traffic",minzoom:7,filter:["match",["get","highway"],["trunk","motorway"],!0,!1],layout:{"line-cap":"round","line-join":"round",visibility:"none"},paint:{"line-color":["match",["get","traffic"],[1],"hsl(118, 47%, 48%)",[2],"#f8830b",[3],"#ff0c00",[4],"#920403","#000000"],"line-width":["interpolate",["exponential",1.26],["zoom"],6,.8,22,10],"line-offset":["interpolate",["exponential",1.11],["zoom"],10,1.5,22,0]}},{id:"explore_cities_line",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"landuse",minzoom:1,maxzoom:14,filter:["match",["get","hash_id"],["b5e3b77b3886e30f21c689e538b1cebe"],!0,!1],paint:{"line-color":"rgb(240, 0, 134)","line-width":2},layout:{visibility:"none"}},{id:"explore_cities_fill",type:"fill",source:"neshanBaseMapVectorDaySource","source-layer":"landuse",minzoom:1,maxzoom:14,filter:["match",["get","hash_id"],["b5e3b77b3886e30f21c689e538b1cebe"],!0,!1],paint:{"fill-color":"rgba(240, 0, 134, 0.1)","fill-outline-color":"rgb(240, 0, 134)"},layout:{visibility:"none"}},{id:"highways tunnel label",type:"symbol",source:"neshanBaseMapVectorDaySource","source-layer":"tunnel",minzoom:1,filter:["all",["match",["get","highway"],["trunk","motorway"],!0,!1],["==",["get","hidden"],0]],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"symbol-placement":"line","text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["cubic-bezier",1,.5,.8,1],["zoom"],0,1,17,17],"text-pitch-alignment":"viewport","symbol-spacing":["interpolate",["linear"],["zoom"],0,250,22,500]},paint:{"text-color":"#555555","text-halo-color":"#eae9e4","text-halo-width":1.4}},{id:"cycleway label",type:"symbol",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:17,filter:["match",["get","highway"],["cycleway"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"symbol-placement":"line","text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["linear"],["zoom"],16,10,22,15],"text-pitch-alignment":"viewport","symbol-spacing":["interpolate",["linear"],["zoom"],17,550,18,700],"text-offset":[0,1]},paint:{"text-halo-width":1,"text-color":"#8bc34a"}},{id:"residential label",type:"symbol",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:15,filter:["match",["get","highway"],["residential","service","pedestrian","living_street","footway","unclassified"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"symbol-placement":"line","text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["linear"],["zoom"],16,10,22,15],"text-pitch-alignment":"viewport","symbol-spacing":["interpolate",["linear"],["zoom"],0,250,22,400]},paint:{"text-halo-color":"#fcfcfc","text-halo-width":1}},{id:"tertiary label",type:"symbol",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:14,filter:["match",["get","highway"],["tertiary","road"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"symbol-placement":"line","text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["linear"],["zoom"],13,5,16,14],"text-pitch-alignment":"viewport","symbol-spacing":["interpolate",["linear"],["zoom"],0,250,22,400]},paint:{"text-halo-width":2,"text-halo-color":"#fcfcfc"}},{id:"secondary label",type:"symbol",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:14,filter:["match",["get","highway"],["secondary"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"symbol-placement":"line","text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["linear"],["zoom"],13,6,16,14],"text-pitch-alignment":"viewport","symbol-spacing":["interpolate",["exponential",.91],["zoom"],0,250,20,500]},paint:{"text-halo-color":"#fcfcfc","text-halo-width":2}},{id:"primary label",type:"symbol",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:13,filter:["match",["get","highway"],["primary"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"symbol-placement":"line","text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["linear"],["zoom"],13,12,16,15],"text-pitch-alignment":"viewport","symbol-spacing":["interpolate",["exponential",.91],["zoom"],0,250,20,500]},paint:{"text-halo-width":2,"text-halo-color":"#fcfcfc"}},{id:"primary bridge label",type:"symbol",source:"neshanBaseMapVectorDaySource","source-layer":"bridge",minzoom:13,filter:["match",["get","highway"],["primary"],!0,!1],layout:{"text-field":["step",["zoom"],["to-string",["get","name"]],13,["to-string",["get","name"]]],"symbol-placement":"line","text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["linear"],["zoom"],13,12,16,15],"text-pitch-alignment":"viewport"},paint:{"text-halo-width":2,"text-halo-color":"#eae9e4"}},{id:"highways label",type:"symbol",source:"neshanBaseMapVectorDaySource","source-layer":"street",minzoom:1,filter:["match",["get","highway"],["trunk","motorway"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"symbol-placement":"line","text-font":["Vazir FD Bold","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["cubic-bezier",1,.5,.8,1],["zoom"],0,1,17,17],"text-pitch-alignment":"viewport","symbol-spacing":["interpolate",["exponential",.91],["zoom"],0,100,20,400],"text-allow-overlap":["step",["zoom"],!1,12,!0]},paint:{"text-color":"#555555","text-halo-color":"#eae9e4","text-halo-width":1.4}},{id:"highways bridge label",type:"symbol",source:"neshanBaseMapVectorDaySource","source-layer":"bridge",minzoom:1,filter:["match",["get","highway"],["trunk","motorway"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"symbol-placement":"line","text-font":["Vazir FD Bold","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["cubic-bezier",1,.5,.8,1],["zoom"],0,1,17,17],"text-pitch-alignment":"viewport","symbol-spacing":["interpolate",["exponential",.91],["zoom"],0,100,20,400]},paint:{"text-color":"#555555","text-halo-color":"#e6e6e6","text-halo-width":1.4}},{id:"point-label",type:"symbol",source:"neshanBaseMapVectorDaySource","source-layer":"point_label",minzoom:13,layout:{"text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":10,"text-pitch-alignment":"viewport","text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]]},paint:{"text-color":"#555555"}},{id:"place-label",type:"symbol",source:"neshanBaseMapVectorDaySource","source-layer":"place_label",minzoom:1,layout:{"text-size":["interpolate",["linear"],["zoom"],11,["match",["get","type"],["village"],8,12],13,["match",["get","type"],["neighbourhood"],10,12],16,["match",["get","type"],["village"],14,12]],"text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"symbol-avoid-edges":!0,"text-padding":10,"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]]},paint:{"text-color":["match",["get","type"],["neighbourhood","suburb","subrub2","locality"],"hsl(188, 84%, 24%)","hsl(0, 0%, 25%)"],"text-opacity":["interpolate",["linear"],["zoom"],0,1,13,1,18,["match",["get","type"],["","locality"],.5,0]]}},{id:"city label",type:"symbol",source:"neshanBaseMapVectorDaySource","source-layer":"place_label",minzoom:5,maxzoom:12,filter:["match",["get","type"],["city"],!0,!1],layout:{"text-font":["step",["zoom"],["literal",["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"]],8,["literal",["Vazir FD Bold","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"]]],"text-size":["interpolate",["linear"],["zoom"],4,7,10,16],"icon-image":"dot","text-anchor":"top-left","text-offset":[.3,0],"symbol-avoid-edges":!0,"text-pitch-alignment":"viewport","text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]]},paint:{"text-color":"#555555","text-opacity":["interpolate",["linear"],["zoom"],5,1,14,.5],"icon-opacity":["interpolate",["linear"],["zoom"],5,1,14,.5]}},{id:"state label",type:"symbol",source:"neshanBaseMapVectorDaySource","source-layer":"place_label",minzoom:4,maxzoom:10,filter:["match",["get","type"],["state"],!0,!1],layout:{"text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]],"text-font":["Vazir FD Bold","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["linear"],["zoom"],4,8,10,20],"text-pitch-alignment":"viewport"},paint:{"text-color":"hsl(0, 0%, 33%)","text-opacity":["interpolate",["linear"],["zoom"],4,1,12,0]}},{id:"country label",type:"symbol",source:"neshanBaseMapVectorDaySource","source-layer":"country_label",minzoom:1,maxzoom:10,layout:{"text-font":["step",["zoom"],["literal",["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"]],3,["literal",["Vazir FD Bold","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"]]],"text-size":["interpolate",["linear"],["zoom"],1,5,10,20],"text-pitch-alignment":"viewport","text-field":["case",["!=",["get","name_fa"],""],["get","name_fa"],["get","name"]]},paint:{"text-color":"#555555","text-opacity":["interpolate",["linear"],["zoom"],4,1,12,0]}},{id:"sea-name",type:"symbol",source:"neshanBaseMapVectorDaySource","source-layer":"sea_name",layout:{"text-field":["to-string",["get","name"]],"text-font":["step",["zoom"],["literal",["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"]],7,["literal",["Vazir FD Bold","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"]]],"text-size":["interpolate",["exponential",.95],["zoom"],0,8,22,20]},paint:{}},{id:"transport",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"transport",minzoom:10,layout:{visibility:"none"},paint:{"line-color":["get","color"],"line-width":["interpolate",["exponential",1.16],["zoom"],10,3,22,12]}},{id:"transport white",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"transport",minzoom:10,layout:{visibility:"none"},paint:{"line-width":["interpolate",["exponential",1.16],["zoom"],10,2,22,10],"line-color":"hsla(0, 74%, 100%, 0.9)","line-dasharray":["step",["zoom"],["literal",[2,1]],11,["literal",[3,2]],14,["literal",[4,2]]]}},{id:"fill",type:"fill",source:"neshanBaseMapVectorDaySource","source-layer":"landuse",minzoom:9,filter:["match",["get","type"],["odd_even_zone","traffic_zone"],!0,!1],layout:{visibility:"none"},paint:{"fill-color":["match",["get","type"],["odd_even_zone"],"#4a57c9",["traffic_zone"],"#a06131","rgba(0, 0, 0, 0)"],"fill-opacity":.1}},{id:"lines",type:"line",source:"neshanBaseMapVectorDaySource","source-layer":"zones",minzoom:9,layout:{visibility:"none"},paint:{"line-color":["match",["get","type"],["odd_even_zone"],"#4a57c9",["traffic_zone"],"#a06131","rgba(0, 0, 0, 0)"],"line-dasharray":["step",["zoom"],["literal",[1,0]],14,["literal",[5,1]]],"line-width":["interpolate",["linear"],["zoom"],9,.5,16,3]}},{id:"name",type:"symbol",source:"neshanBaseMapVectorDaySource","source-layer":"zones",minzoom:11,layout:{"text-field":["to-string",["get","name"]],"text-font":["Vazir FD Bold","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-size":["interpolate",["linear"],["zoom"],9,4,16,12],"symbol-placement":"line","text-offset":[0,-1],"symbol-spacing":["interpolate",["linear"],["zoom"],0,250,22,600],visibility:"none"},paint:{"text-color":["match",["get","type"],["odd_even_zone"],"#4a57c9",["traffic_zone"],"#a06131","rgba(0, 0, 0, 0)"]}},{id:"3d",type:"fill-extrusion",source:"neshanBaseMapVectorDaySource","source-layer":"landuse",minzoom:14,filter:["all",["match",["get","type"],["building"],!0,!1],[">",["get","height"],0]],layout:{},paint:{"fill-extrusion-height":["get","height"],"fill-extrusion-base":["get","min_height"],"fill-extrusion-color":"#ccc5b9","fill-extrusion-opacity":["interpolate",["linear"],["zoom"],14,.1,15,.5]}},{id:"points",type:"symbol",source:"neshanPoiSource","source-layer":"points",minzoom:11,layout:{visibility:"none","text-size":["interpolate",["linear"],["zoom"],13,11,22,13],"icon-image":["to-string",["get","type"]],"icon-allow-overlap":!1,"icon-ignore-placement":!1,"symbol-avoid-edges":!0,"text-allow-overlap":!1,"text-ignore-placement":!1,"text-font":["Vazir FD Regular","Droid Sans Regular","Droid Sans Fallback Regular","Droid Sans Thai Regular"],"text-offset":["interpolate",["linear"],["zoom"],10,["literal",[0,.7]],22,["literal",[0,1.2]]],"icon-size":["interpolate",["linear"],["zoom"],12,.3,22,.5],"text-anchor":"top","text-field":["step",["zoom"],"",14,["case",["any",["==",["has","name_fa"],!1],["==",["get","name_fa"],""]],["to-string",["get","name"]],["to-string",["get","name_fa"]]]]},paint:{"text-color":["get","color"],"text-halo-color":"#ffffff","text-halo-width":1}}]},neshanNightRasterStyle:{version:8,sprite:"https://static.neshan.org/sdk/mapboxgl/sprites/sprite",glyphs:"https://static.neshan.org/sdk/mapboxgl/fontstack/{fontstack}/{range}.pbf",sources:{neshanBaseMapRasterNightSource:{type:"raster",tiles:["https://tile1.neshan.org/","https://tile2.neshan.org/","https://tile3.neshan.org/","https://tile4.neshan.org/","https://tile5.neshan.org/","https://tile6.neshan.org/","https://tile7.neshan.org/","https://tile8.neshan.org/"],tileSize:256,tileCode:105,maxzoom:18,sourceType:"raster"},neshanBaseMapTextSource:{type:"raster",tiles:["https://tile1.neshan.org/","https://tile2.neshan.org/","https://tile3.neshan.org/","https://tile4.neshan.org/","https://tile5.neshan.org/","https://tile6.neshan.org/","https://tile7.neshan.org/","https://tile8.neshan.org/"],tileSize:256,tileCode:203,maxzoom:18,sourceType:"raster"},neshanPoiSource:{type:"vector",tiles:["https://vts.neshan.org/poi/v3/{z}/{x}/{y}/platform"],minzoom:1,maxzoom:19,sourceType:"poi"},neshanTrafficSource:{type:"vector",tiles:["https://tvts.neshan.org/traffic/v4/{z}/{x}/{y}/platform"],minzoom:9,maxzoom:14,sourceType:"traffic"}},layers:[{id:"simple-tiles",type:"raster",source:"neshanBaseMapRasterNightSource",paint:{},minzoom:1,maxzoom:22},{id:"simple-tiles-text",type:"raster",source:"neshanBaseMapTextSource",paint:{},minzoom:1,maxzoom:22},{id:"traffic-minor",type:"line",source:"neshanTrafficSource","source-layer":"iran_traffic",minzoom:14,filter:["match",["get","highway"],["tertiary","tertiary_link","secondary_link","residential","primary_link","secondary"],!0,!1],layout:{"line-cap":"round","line-join":"round",visibility:"none"},paint:{"line-color":["match",["get","traffic"],[1],"hsl(118, 47%, 48%)",[2],"#f8830b",[3],"#ff0c00",[4],"#920403","#000000"],"line-width":["interpolate",["exponential",1.36],["zoom"],9,1,22,6],"line-offset":["interpolate",["exponential",1.11],["zoom"],10,.5,22,0]}},{id:"traffic-primary",type:"line",source:"neshanTrafficSource","source-layer":"iran_traffic",minzoom:7,filter:["match",["get","highway"],["primary","trunk_link","motorway_link"],!0,!1],layout:{"line-cap":"round",visibility:"none"},paint:{"line-color":["match",["get","traffic"],[1],"hsl(118, 47%, 48%)",[2],"#f8830b",[3],"#ff0c00",[4],"#920403","#000000"],"line-width":["interpolate",["exponential",1.36],["zoom"],12,1,22,10],"line-offset":["interpolate",["exponential",1.11],["zoom"],12,.8,22,0]}},{id:"traffic-highway",type:"line",source:"neshanTrafficSource","source-layer":"iran_traffic",minzoom:7,filter:["match",["get","highway"],["trunk","motorway"],!0,!1],layout:{"line-cap":"round","line-join":"round",visibility:"none"},paint:{"line-color":["match",["get","traffic"],[1],"rgb(55, 131, 52)",[2],"rgb(203, 78, 6)",[3],"rgb(219, 11, 0)",[4],"#920403","#000000"],"line-width":["interpolate",["exponential",1.26],["zoom"],6,.8,22,10],"line-offset":["interpolate",["exponential",1.11],["zoom"],10,1.5,22,0]}},{id:"points",type:"symbol",source:"neshanPoiSource","source-layer":"points",layout:{visibility:"none","text-size":["interpolate",["linear"],["zoom"],13,11,22,13],"icon-image":["to-string",["get","type"]],"icon-allow-overlap":!1,"icon-ignore-placement":!1,"symbol-avoid-edges":!0,"text-allow-overlap":!1,"text-ignore-placement":!1,"text-font":["Vazir FD Regular"],"text-offset":["interpolate",["linear"],["zoom"],10,["literal",[0,.7]],22,["literal",[0,1.2]]],"icon-size":["interpolate",["linear"],["zoom"],12,.3,22,.5],"text-anchor":"top","text-field":["step",["zoom"],"",14,["to-string",["get","name"]]]},paint:{"text-color":"white","text-halo-color":"#000000","text-halo-width":.5}}]},neshanDayRasterStyle:{version:8,sprite:"https://static.neshan.org/sdk/mapboxgl/sprites/sprite",glyphs:"https://static.neshan.org/sdk/mapboxgl/fontstack/{fontstack}/{range}.pbf",sources:{neshanBaseMapRasterDaySource:{type:"raster",tiles:["https://tile1.neshan.org/","https://tile2.neshan.org/","https://tile3.neshan.org/","https://tile4.neshan.org/","https://tile5.neshan.org/","https://tile6.neshan.org/","https://tile7.neshan.org/","https://tile8.neshan.org/"],tileSize:256,tileCode:101,maxzoom:18,sourceType:"raster"},neshanBaseMapTextSource:{type:"raster",tiles:["https://tile1.neshan.org/","https://tile2.neshan.org/","https://tile3.neshan.org/","https://tile4.neshan.org/","https://tile5.neshan.org/","https://tile6.neshan.org/","https://tile7.neshan.org/","https://tile8.neshan.org/"],tileSize:256,tileCode:201,maxzoom:18,sourceType:"raster"},neshanPoiSource:{type:"vector",tiles:["https://vts.neshan.org/poi/v3/{z}/{x}/{y}/platform"],minzoom:1,maxzoom:19,sourceType:"poi"},neshanTrafficSource:{type:"vector",tiles:["https://tvts.neshan.org/traffic/v4/{z}/{x}/{y}/platform"],minzoom:9,maxzoom:14,sourceType:"traffic"}},layers:[{id:"simple-tiles",type:"raster",source:"neshanBaseMapRasterDaySource",paint:{},minzoom:1,maxzoom:22},{id:"simple-tiles-text",type:"raster",source:"neshanBaseMapTextSource",paint:{},minzoom:1,maxzoom:22},{id:"traffic-minor",type:"line",source:"neshanTrafficSource","source-layer":"iran_traffic",minzoom:14,filter:["match",["get","highway"],["tertiary","tertiary_link","secondary_link","residential","primary_link","secondary"],!0,!1],layout:{"line-cap":"round","line-join":"round",visibility:"none"},paint:{"line-color":["match",["get","traffic"],[1],"hsl(118, 47%, 48%)",[2],"#f8830b",[3],"#ff0c00",[4],"#920403","#000000"],"line-width":["interpolate",["exponential",1.36],["zoom"],9,1,22,6],"line-offset":["interpolate",["exponential",1.11],["zoom"],10,.5,22,0]}},{id:"traffic-primary",type:"line",source:"neshanTrafficSource","source-layer":"iran_traffic",minzoom:7,filter:["match",["get","highway"],["primary","trunk_link","motorway_link"],!0,!1],layout:{"line-join":"round","line-cap":"round",visibility:"none"},paint:{"line-color":["match",["get","traffic"],[1],"hsl(118, 47%, 48%)",[2],"#f8830b",[3],"#ff0c00",[4],"#920403","#000000"],"line-offset":["interpolate",["exponential",1.11],["zoom"],12,.8,22,0],"line-width":["interpolate",["exponential",1.36],["zoom"],12,1,22,10]}},{id:"traffic-highway",type:"line",source:"neshanTrafficSource","source-layer":"iran_traffic",minzoom:7,filter:["match",["get","highway"],["trunk","motorway"],!0,!1],layout:{"line-cap":"round","line-join":"round",visibility:"none"},paint:{"line-color":["match",["get","traffic"],[1],"hsl(118, 47%, 48%)",[2],"#f8830b",[3],"#ff0c00",[4],"#920403","#000000"],"line-width":["interpolate",["exponential",1.26],["zoom"],6,.8,22,10],"line-offset":["interpolate",["exponential",1.11],["zoom"],10,1.5,22,0]}},{id:"points",type:"symbol",source:"neshanPoiSource","source-layer":"points",minzoom:11,layout:{visibility:"none","text-size":["interpolate",["linear"],["zoom"],13,11,22,13],"icon-image":["to-string",["get","type"]],"icon-allow-overlap":!1,"icon-ignore-placement":!1,"symbol-avoid-edges":!0,"text-allow-overlap":!1,"text-ignore-placement":!1,"text-font":["Vazir FD Regular"],"text-offset":["interpolate",["linear"],["zoom"],10,["literal",[0,.7]],22,["literal",[0,1.2]]],"icon-size":["interpolate",["linear"],["zoom"],12,.3,22,.5],"text-anchor":"top","text-field":["step",["zoom"],"",14,["to-string",["get","name"]]]},paint:{"text-color":["get","color"],"text-halo-color":"#ffffff","text-halo-width":1}}]}}),Oe=function(e,n){return t.emitValidationErrors(e,n&&n.filter((function(t){return"source.canvas"!==t.identifier})))},Pe=Object.keys(Ae).reduce((function(t,e){var n=Object.keys(Ae[e].sources);return t.concat(n)}),[]),De=Array.from(new Set(Pe)),ze=t.pick(Pt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Le=t.pick(Pt,["setCenter","setZoom","setBearing","setPitch"]),Re=function(){var e={},n=t.styleSpec.$version;for(var r in t.styleSpec.$root){var i,o=t.styleSpec.$root[r];o.required&&null!=(i="version"===r?n:"array"===o.type?[]:{})&&(e[r]=i)}return e}(),We=function(e){function n(i,o){var a=this;void 0===o&&(o={}),e.call(this),this.map=i,this.dispatcher=new m(Mt(),this),this.imageManager=new r,this.imageManager.setEventedParent(this),this.glyphManager=new c(i._requestManager,o.localIdeographFontFamily),this.lineAtlas=new f(256,512),this.crossTileSymbolIndex=new Me,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());var s=this;this._rtlTextPluginCallback=n.registerForPluginStateChange((function(e){s.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:e.pluginStatus,pluginURL:e.pluginURL},(function(e,n){if(t.triggerPluginCompletionEvent(e),n&&n.every((function(t){return t})))for(var r in s.sourceCaches)s.sourceCaches[r].reload()}))})),this.on("data",(function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=a.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var r in a._layers){var i=a._layers[r];i.source===n.id&&a._validateLayer(i)}}}}))}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadURL=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof n.validate?n.validate:!t.isMapboxURL(e);e=this.map._requestManager.normalizeStyleURL(e,n.accessToken);var o=this.map._requestManager.transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(o,(function(e,n){r._request=null,e?r.fire(new t.ErrorEvent(e)):n&&r._load(n,i)}))},n.prototype.loadJSON=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame((function(){r._request=null,r._load(e,!1!==n.validate)}))},n.prototype.loadEmpty=function(){this.fire(new t.Event("dataloading",{dataType:"style"})),this._load(Re,!1)},n.prototype._load=function(e,n){if(!n||!Oe(this,t.validateStyle(e))){for(var r in this._loaded=!0,this.stylesheet=e,e.sources)this.addSource(r,e.sources[r],{validate:!1});e.sprite?this._loadSprite(e.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var i=Ot(this.stylesheet.layers);this._order=i.map((function(t){return t.id})),this._layers={},this._serializedLayers={};for(var o=0,a=i;o<a.length;o+=1){var s=a[o];(s=t.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new h(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},n.prototype._loadSprite=function(e){var n=this;this._spriteRequest=function(e,n,r){var i,o,a,s=t.browser.devicePixelRatio>1?"@2x":"",l=t.getJSON(n.transformRequest(n.normalizeSpriteURL(e,s,".json"),t.ResourceType.SpriteJSON),(function(t,e){l=null,a||(a=t,i=e,c())})),u=t.getImage(n.transformRequest(n.normalizeSpriteURL(e,s,".png"),t.ResourceType.SpriteImage),(function(t,e){u=null,a||(a=t,o=e,c())}));function c(){if(a)r(a);else if(i&&o){var e=t.browser.getImageData(o),n={};for(var s in i){var l=i[s],u=l.width,c=l.height,p=l.x,d=l.y,h=l.sdf,f=l.pixelRatio,m=l.stretchX,g=l.stretchY,y=l.content,v=new t.RGBAImage({width:u,height:c});t.RGBAImage.copy(e,v,{x:p,y:d},{x:0,y:0},{width:u,height:c}),n[s]={data:v,pixelRatio:f,sdf:h,stretchX:m,stretchY:g,content:y}}r(null,n)}}return{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}}}(e,this.map._requestManager,(function(e,r){if(n._spriteRequest=null,e)n.fire(new t.ErrorEvent(e));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.fire(new t.Event("data",{dataType:"style"}))}))},n.prototype._validateLayer=function(e){var n=this.sourceCaches[e.source];if(n){var r=e.sourceLayer;if(r){var i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+i.id+'" as specified by style layer "'+e.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(t){for(var e=[],n=0,r=t;n<r.length;n+=1){var i=this._layers[r[n]];"custom"!==i.type&&e.push(i.serialize())}return e},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(e){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var o in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}var l={};for(var u in this.sourceCaches){var c=this.sourceCaches[u];l[u]=c.used,c.used=!1}for(var p=0,d=this._order;p<d.length;p+=1){var h=this._layers[d[p]];h.recalculate(e,this._availableImages),!h.isHidden(e.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}for(var f in l){var m=this.sourceCaches[f];l[f]!==m.used&&m.fire(new t.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:f}))}this.light.recalculate(e),this.z=e.zoom,n&&this.fire(new t.Event("data",{dataType:"style"}))}},n.prototype._updateTilesForChangedImages=function(){var t=Object.keys(this._changedImages);if(t.length){for(var e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}},n.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},n.prototype.setState=function(e){var n=this;if(this._checkLoaded(),Oe(this,t.validateStyle(e)))return!1;(e=t.clone$1(e)).layers=Ot(e.layers);var r=function(e,n){if(!e)return[{command:Pt.setStyle,args:[n]}];var r=[];try{if(!t.deepEqual(e.version,n.version))return[{command:Pt.setStyle,args:[n]}];t.deepEqual(e.center,n.center)||r.push({command:Pt.setCenter,args:[n.center]}),t.deepEqual(e.zoom,n.zoom)||r.push({command:Pt.setZoom,args:[n.zoom]}),t.deepEqual(e.bearing,n.bearing)||r.push({command:Pt.setBearing,args:[n.bearing]}),t.deepEqual(e.pitch,n.pitch)||r.push({command:Pt.setPitch,args:[n.pitch]}),t.deepEqual(e.sprite,n.sprite)||r.push({command:Pt.setSprite,args:[n.sprite]}),t.deepEqual(e.glyphs,n.glyphs)||r.push({command:Pt.setGlyphs,args:[n.glyphs]}),t.deepEqual(e.transition,n.transition)||r.push({command:Pt.setTransition,args:[n.transition]}),t.deepEqual(e.light,n.light)||r.push({command:Pt.setLight,args:[n.light]});var i={},o=[];!function(e,n,r,i){var o;for(o in n=n||{},e=e||{})e.hasOwnProperty(o)&&(n.hasOwnProperty(o)||zt(o,r,i));for(o in n)n.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t.deepEqual(e[o],n[o])||("geojson"===e[o].type&&"geojson"===n[o].type&&Rt(e,n,o)?r.push({command:Pt.setGeoJSONSourceData,args:[o,n[o].data]}):Lt(o,n,r,i)):Dt(o,n,r))}(e.sources,n.sources,o,i);var a=[];e.layers&&e.layers.forEach((function(t){i[t.source]?r.push({command:Pt.removeLayer,args:[t.id]}):a.push(t)})),r=r.concat(o),function(e,n,r){n=n||[];var i,o,a,s,l,u,c,p=(e=e||[]).map(Bt),d=n.map(Bt),h=e.reduce(jt,{}),f=n.reduce(jt,{}),m=p.slice(),g=Object.create(null);for(i=0,o=0;i<p.length;i++)f.hasOwnProperty(a=p[i])?o++:(r.push({command:Pt.removeLayer,args:[a]}),m.splice(m.indexOf(a,o),1));for(i=0,o=0;i<d.length;i++)m[m.length-1-i]!==(a=d[d.length-1-i])&&(h.hasOwnProperty(a)?(r.push({command:Pt.removeLayer,args:[a]}),m.splice(m.lastIndexOf(a,m.length-o),1)):o++,r.push({command:Pt.addLayer,args:[f[a],u=m[m.length-i]]}),m.splice(m.length-i,0,a),g[a]=!0);for(i=0;i<d.length;i++)if(s=h[a=d[i]],l=f[a],!g[a]&&!t.deepEqual(s,l))if(t.deepEqual(s.source,l.source)&&t.deepEqual(s["source-layer"],l["source-layer"])&&t.deepEqual(s.type,l.type)){for(c in Wt(s.layout,l.layout,r,a,null,Pt.setLayoutProperty),Wt(s.paint,l.paint,r,a,null,Pt.setPaintProperty),t.deepEqual(s.filter,l.filter)||r.push({command:Pt.setFilter,args:[a,l.filter]}),t.deepEqual(s.minzoom,l.minzoom)&&t.deepEqual(s.maxzoom,l.maxzoom)||r.push({command:Pt.setLayerZoomRange,args:[a,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Wt(s[c],l[c],r,a,c.slice(6),Pt.setPaintProperty):t.deepEqual(s[c],l[c])||r.push({command:Pt.setLayerProperty,args:[a,c,l[c]]}));for(c in l)l.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Wt(s[c],l[c],r,a,c.slice(6),Pt.setPaintProperty):t.deepEqual(s[c],l[c])||r.push({command:Pt.setLayerProperty,args:[a,c,l[c]]}))}else r.push({command:Pt.removeLayer,args:[a]}),u=m[m.lastIndexOf(a)+1],r.push({command:Pt.addLayer,args:[l,u]})}(a,n.layers,r)}catch(t){console.warn("Unable to compute style diff:",t),r=[{command:Pt.setStyle,args:[n]}]}return r}(this.serialize(),e).filter((function(t){return!(t.command in Le)}));if(0===r.length)return!1;var i=r.filter((function(t){return!(t.command in ze)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(t){return t.command})).join(", ")+".");return r.forEach((function(t){"setTransition"!==t.command&&n[t.command].apply(n,t.args)})),this.stylesheet=e,!0},n.prototype.addImage=function(e,n){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,n),this._afterImageUpdated(e)},n.prototype.updateImage=function(t,e){this.imageManager.updateImage(t,e)},n.prototype.getImage=function(t){return this.imageManager.getImage(t)},n.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this._afterImageUpdated(e)},n.prototype._afterImageUpdated=function(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new t.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(e,n,r){var i=this;if(void 0===r&&(r={}),this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(t.validateStyle.source,"sources."+e,n,null,r))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[e]=new xt(e,n,this.dispatcher);o.style=this,o.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:o.serialize(),sourceId:e}})),o.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+n+'" is using it.')));var r=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],r.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},n.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},n.prototype.addLayer=function(e,n,r){void 0===r&&(r={}),this._checkLoaded();var i=e.id;if(this.getLayer(i))this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var o;if("custom"===e.type){if(Oe(this,t.validateCustomStyleLayer(e)))return;o=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(i,e.source),e=t.clone$1(e),e=t.extend(e,{source:i})),this._validate(t.validateStyle.layer,"layers."+i,e,{arrayIndex:-1},r))return;o=t.createStyleLayer(e),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[o.id]=o.serialize()}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},n.prototype.moveLayer=function(e,n){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==n){var r=this._order.indexOf(e);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(i,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(e){this._checkLoaded();var n=this._layers[e];if(n){n.setEventedParent(null);var r=this._order.indexOf(e);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(t){return this._layers[t]},n.prototype.hasLayer=function(t){return t in this._layers},n.prototype.setLayerZoomRange=function(e,n,r){this._checkLoaded();var i=this.getLayer(e);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(e,n,r){void 0===r&&(r={}),this._checkLoaded();var i=this.getLayer(e);if(i){if(!t.deepEqual(i.filter,n))return null==n?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(t.validateStyle.filter,"layers."+i.id+".filter",n,null,r)||(i.filter=t.clone$1(n),this._updateLayer(i)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(e){return t.clone$1(this.getLayer(e).filter)},n.prototype.setLayoutProperty=function(e,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getLayoutProperty(n),r)||(o.setLayoutProperty(n,r,i),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(e,n){var r=this.getLayer(e);if(r)return r.getLayoutProperty(n);this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(e,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getPaintProperty(n),r)||(o.setPaintProperty(n,r,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},n.prototype.setFeatureState=function(e,n){this._checkLoaded();var r=e.source,i=e.sourceLayer,o=this.sourceCaches[r];if(void 0!==o){var a=o.getSource().type;"geojson"===a&&i?this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||i?(void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),o.setFeatureState(i,e.id,n)):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(e,n){this._checkLoaded();var r=e.source,i=this.sourceCaches[r];if(void 0!==i){var o=i.getSource().type,a="vector"===o?e.sourceLayer:void 0;"vector"!==o||a?n&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(a,e.id,n):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(e){this._checkLoaded();var n=e.source,r=e.sourceLayer,i=this.sourceCaches[n];if(void 0!==i){if("vector"!==i.getSource().type||r)return void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(r,e.id);this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,(function(t){return t.serialize()})),layers:this._serializeLayers(this._order)},(function(t){return void 0!==t}))},n.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&"raster"!==this.sourceCaches[t.source].getSource().type&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(t){for(var e=this,n=function(t){return"fill-extrusion"===e._layers[t].type},r={},i=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(n(a)){r[a]=o;for(var s=0,l=t;s<l.length;s+=1){var u=l[s][a];if(u)for(var c=0,p=u;c<p.length;c+=1)i.push(p[c])}}}i.sort((function(t,e){return e.intersectionZ-t.intersectionZ}));for(var d=[],h=this._order.length-1;h>=0;h--){var f=this._order[h];if(n(f))for(var m=i.length-1;m>=0;m--){var g=i[m].feature;if(r[g.layer.id]<h)break;d.push(g),i.pop()}else for(var y=0,v=t;y<v.length;y+=1){var _=v[y][f];if(_)for(var b=0,x=_;b<x.length;b+=1)d.push(x[b].feature)}}return d},n.prototype.queryRenderedFeatures=function(e,n,r){n&&n.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var s=a[o],l=this._layers[s];if(!l)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[l.source]=!0}}var u=[];for(var c in n.availableImages=this._availableImages,this.sourceCaches)n.layers&&!i[c]||u.push(I(this.sourceCaches[c],this._layers,this._serializedLayers,e,n,r));return this.placement&&u.push(function(t,e,n,r,i,o,a){for(var s={},l=o.queryRenderedSymbols(r),u=[],c=0,p=Object.keys(l).map(Number);c<p.length;c+=1)u.push(a[p[c]]);u.sort(M);for(var d=function(){var n=f[h],r=n.featureIndex.lookupSymbolFeatures(l[n.bucketInstanceId],e,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,t);for(var o in r){var a=s[o]=s[o]||[],u=r[o];u.sort((function(t,e){var r=n.featureSortOrder;if(r){var i=r.indexOf(t.featureIndex);return r.indexOf(e.featureIndex)-i}return e.featureIndex-t.featureIndex}));for(var c=0,p=u;c<p.length;c+=1)a.push(p[c])}},h=0,f=u;h<f.length;h+=1)d();var m=function(e){s[e].forEach((function(r){var i=r.feature,o=n[t[e].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}))};for(var g in s)m(g);return s}(this._layers,this._serializedLayers,this.sourceCaches,e,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(u).filter((function(t){return!De.includes(t.source)}))},n.prototype.querySourceFeatures=function(e,n){if(De.includes(e))return[];n&&n.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var r=this.sourceCaches[e];return r?function(t,e){for(var n=t.getRenderableIds().map((function(e){return t.getTileByID(e)})),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,e))}return r}(r,n):[]},n.prototype.addSourceType=function(t,e,r){return n.getSourceType(t)?r(new Error('A source type called "'+t+'" already exists.')):(n.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},r):r(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(e,n){void 0===n&&(n={}),this._checkLoaded();var r=this.light.getLight(),i=!1;for(var o in e)if(!t.deepEqual(e[o],r[o])){i=!0;break}if(i){var a={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(a)}},n.prototype._validate=function(e,n,r,i,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&Oe(this,e.call(t.validateStyle,t.extend({key:n,style:this.serialize(),value:r,styleSpec:t.styleSpec},i)))},n.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[e].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},n.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},n.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},n.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},n.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},n.prototype._updatePlacement=function(e,n,r,i,o){void 0===o&&(o=!1);for(var a=!1,s=!1,l={},u=0,c=this._order;u<c.length;u+=1){var p=this._layers[c[u]];if("symbol"===p.type){if(!l[p.source]){var d=this.sourceCaches[p.source];l[p.source]=d.getRenderableIds(!0).map((function(t){return d.getTileByID(t)})).sort((function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)}))}var h=this.crossTileSymbolIndex.addLayer(p,l[p.source],e.center.lng);a=a||h}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((o=o||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now(),e.zoom))&&(this.pauseablePlacement=new Se(e,this._order,o,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.browser.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(var f=0,m=this._order;f<m.length;f+=1){var g=this._layers[m[f]];"symbol"===g.type&&this.placement.updateLayerOpacities(g,l[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},n.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n),this._updateTilesForChangedImages();var r=this.sourceCaches[e.source];r&&r.setDependencies(e.tileID.key,e.type,e.icons)},n.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},n.prototype.getResource=function(e,n,r){return t.makeRequest(n,r)},n}(t.Evented);We.getSourceType=function(t){return E[t]},We.setSourceType=function(t,e){E[t]=e},We.registerForPluginStateChange=t.registerForPluginStateChange;var Be=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),je=dn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Ne=dn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Fe=dn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Ue=dn("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Ve=dn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),qe=dn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),He=dn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Ge=dn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Ze=dn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Ke=dn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),Qe=dn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Xe=dn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Ye=dn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Je=dn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),$e=dn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),tn=dn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),en=dn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),nn=dn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),rn=dn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),on=dn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),an=dn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),sn=dn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),ln=dn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),un=dn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),cn=dn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),pn=dn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function dn(t,e){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=e.match(/attribute ([\w]+) ([\w]+)/g),i=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(i):i,s={};return{fragmentSource:t=t.replace(n,(function(t,e,n,r,i){return s[i]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),vertexSource:e=e.replace(n,(function(t,e,n,r,i){var o="float"===r?"vec2":"vec4",a=i.match(/color/)?"color":o;return s[i]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),staticAttributes:r,staticUniforms:a}}var hn=Object.freeze({__proto__:null,prelude:je,background:Ne,backgroundPattern:Fe,circle:Ue,clippingMask:Ve,heatmap:qe,heatmapTexture:He,collisionBox:Ge,collisionCircle:Ze,debug:Ke,fill:Qe,fillOutline:Xe,fillOutlinePattern:Ye,fillPattern:Je,fillExtrusion:$e,fillExtrusionPattern:tn,hillshadePrepare:en,hillshade:nn,line:rn,lineGradient:on,linePattern:an,lineSDF:sn,raster:ln,symbolIcon:un,symbolSDF:cn,symbolTextAndIcon:pn}),fn=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function mn(t){for(var e=[],n=0;n<t.length;n++)if(null!==t[n]){var r=t[n].split(" ");e.push(r.pop())}return e}fn.prototype.bind=function(t,e,n,r,i,o,a,s){this.context=t;for(var l=this.boundPaintVertexBuffers.length!==r.length,u=0;!l&&u<r.length;u++)this.boundPaintVertexBuffers[u]!==r[u]&&(l=!0);t.extVertexArrayObject&&this.vao&&this.boundProgram===e&&this.boundLayoutVertexBuffer===n&&!l&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(e,n,r,i,o,a,s)},fn.prototype.freshBind=function(t,e,n,r,i,o,a){var s,l=t.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=u.currentNumAttributes||0;for(var p=l;p<s;p++)c.disableVertexAttribArray(p)}e.enableAttributes(c,t);for(var d=0,h=n;d<h.length;d+=1)h[d].enableAttributes(c,t);o&&o.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,i);for(var f=0,m=n;f<m.length;f+=1){var g=m[f];g.bind(),g.setVertexAttribPointers(c,t,i)}o&&(o.bind(),o.setVertexAttribPointers(c,t,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,i)),u.currentNumAttributes=l},fn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var gn=function(t,e,n,r,i,o){var a=t.gl;this.program=a.createProgram();for(var s=mn(n.staticAttributes),l=r?r.getBinderAttributes():[],u=s.concat(l),c=n.staticUniforms?mn(n.staticUniforms):[],p=r?r.getBinderUniforms():[],d=[],h=0,f=c.concat(p);h<f.length;h+=1){var m=f[h];d.indexOf(m)<0&&d.push(m)}var g=r?r.defines():[];o&&g.push("#define OVERDRAW_INSPECTOR;");var y=g.concat(je.fragmentSource,n.fragmentSource).join("\n"),v=g.concat(je.vertexSource,n.vertexSource).join("\n"),_=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(_,y),a.compileShader(_),a.attachShader(this.program,_);var b=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(b,v),a.compileShader(b),a.attachShader(this.program,b),this.attributes={};var x={};this.numAttributes=u.length;for(var w=0;w<this.numAttributes;w++)u[w]&&(a.bindAttribLocation(this.program,w,u[w]),this.attributes[u[w]]=w);a.linkProgram(this.program),a.deleteShader(b),a.deleteShader(_);for(var k=0;k<d.length;k++){var S=d[k];if(S&&!x[S]){var C=a.getUniformLocation(this.program,S);C&&(x[S]=C)}}this.fixedUniforms=i(t,x),this.binderUniforms=r?r.getUniforms(t,x):[]}}};function yn(t,e,n){var r=1/re(n,1,e.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,e.transform.tileZoom)/i,a=o*(n.tileID.canonical.x+n.tileID.wrap*i),s=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}gn.prototype.draw=function(t,e,n,r,i,o,a,s,l,u,c,p,d,h,f,m){var g,y=t.gl;if(!this.failedToCreate){for(var v in t.program.set(this.program),t.setDepthMode(n),t.setStencilMode(r),t.setColorMode(i),t.setCullFace(o),this.fixedUniforms)this.fixedUniforms[v].set(a[v]);h&&h.setUniforms(t,this.binderUniforms,p,{zoom:d});for(var _=(g={},g[y.LINES]=2,g[y.TRIANGLES]=3,g[y.LINE_STRIP]=1,g)[e],b=0,x=c.get();b<x.length;b+=1){var w=x[b],k=w.vaos||(w.vaos={});(k[s]||(k[s]=new fn)).bind(t,this,l,h?h.getPaintVertexBuffers():[],u,w.vertexOffset,f,m),y.drawElements(e,w.primitiveLength*_,y.UNSIGNED_SHORT,w.primitiveOffset*_*2)}}};var vn=function(e,n,r,i){var o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],l=t.create$1();"viewport"===o.properties.get("anchor")&&t.fromRotation(l,-n.transform.angle),t.transformMat3(s,s,l);var u=o.properties.get("color");return{u_matrix:e,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[u.r,u.g,u.b],u_vertical_gradient:+r,u_opacity:i}},_n=function(e,n,r,i,o,a,s){return t.extend(vn(e,n,r,i),yn(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},bn=function(t){return{u_matrix:t}},xn=function(e,n,r,i){return t.extend(bn(e),yn(r,n,i))},wn=function(t,e){return{u_matrix:t,u_world:e}},kn=function(e,n,r,i,o){return t.extend(xn(e,n,r,i),{u_world:o})},Sn=function(e,n,r,i){var o,a,s=e.transform;if("map"===i.paint.get("circle-pitch-alignment")){var l=re(r,1,s.zoom);o=!0,a=[l,l]}else o=!1,a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(n.posMatrix,r,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:t.browser.devicePixelRatio,u_extrude_scale:a}},Cn=function(t,e,n){var r=re(n,1,e.zoom),i=Math.pow(2,e.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[e.pixelsToGLUnits[0]/(r*i),e.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:o}},En=function(t,e,n){return{u_matrix:t,u_inv_matrix:e,u_camera_to_center_distance:n.cameraToCenterDistance,u_viewport_size:[n.width,n.height]}},Tn=function(t,e,n){return void 0===n&&(n=1),{u_matrix:t,u_color:e,u_overlay:0,u_overlay_scale:n}},In=function(t){return{u_matrix:t}},Mn=function(t,e,n,r){return{u_matrix:t,u_extrude_scale:re(e,1,n),u_intensity:r}},An=function(e,n,r){var i=e.transform;return{u_matrix:Ln(e,n,r),u_ratio:1/re(n,1,i.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},On=function(e,n,r,i){return t.extend(An(e,n,r),{u_image:0,u_image_height:i})},Pn=function(e,n,r,i){var o=e.transform,a=zn(n,o);return{u_matrix:Ln(e,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/re(n,1,o.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_image:0,u_scale:[a,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Dn=function(e,n,r,i,o){var a=e.lineAtlas,s=zn(n,e.transform),l="round"===r.layout.get("line-cap"),u=a.getDash(i.from,l),c=a.getDash(i.to,l),p=u.width*o.fromScale,d=c.width*o.toScale;return t.extend(An(e,n,r),{u_patternscale_a:[s/p,-u.height/2],u_patternscale_b:[s/d,-c.height/2],u_sdfgamma:a.width/(256*Math.min(p,d)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:u.y,u_tex_y_b:c.y,u_mix:o.t})};function zn(t,e){return 1/re(t,1,e.tileZoom)}function Ln(t,e,n){return t.translatePosMatrix(e.tileID.posMatrix,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Rn=function(t,e,n,r,i){return{u_matrix:t,u_tl_parent:e,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Wn(i.paint.get("raster-hue-rotate"))};var o,a};function Wn(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}var Bn,jn=function(t,e,n,r,i,o,a,s,l,u){var c=i.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+r,u_texsize:u,u_texture:0}},Nn=function(e,n,r,i,o,a,s,l,u,c,p){var d=o.transform;return t.extend(jn(e,n,r,i,o,a,s,l,u,c),{u_gamma_scale:i?Math.cos(d._pitch)*d.cameraToCenterDistance:1,u_device_pixel_ratio:t.browser.devicePixelRatio,u_is_halo:+p})},Fn=function(e,n,r,i,o,a,s,l,u,c){return t.extend(Nn(e,n,r,i,o,a,s,l,!0,u,!0),{u_texsize_icon:c,u_texture_icon:1})},Un=function(t,e,n){return{u_matrix:t,u_opacity:e,u_color:n}},Vn=function(e,n,r,i,o,a){return t.extend(function(t,e,n,r){var i=n.imageManager.getPattern(t.from.toString()),o=n.imageManager.getPattern(t.to.toString()),a=n.imageManager.getPixelSize(),s=a.width,l=a.height,u=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/u,p=c*(r.tileID.canonical.x+r.tileID.wrap*u),d=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,l],u_mix:e.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/re(r,1,n.transform.tileZoom),u_pixel_coord_upper:[p>>16,d>>16],u_pixel_coord_lower:[65535&p,65535&d]}}(i,a,r,o),{u_matrix:e,u_opacity:n})},qn={fillExtrusion:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fillExtrusionPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,n.u_height_factor),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fill:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},fillPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},fillOutline:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world)}},fillOutlinePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},circle:function(e,n){return{u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,n.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},collisionBox:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,n.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,n.u_overscale_factor)}},collisionCircle:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_inv_matrix:new t.UniformMatrix4f(e,n.u_inv_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_viewport_size:new t.Uniform2f(e,n.u_viewport_size)}},debug:function(e,n){return{u_color:new t.UniformColor(e,n.u_color),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_overlay:new t.Uniform1i(e,n.u_overlay),u_overlay_scale:new t.Uniform1f(e,n.u_overlay_scale)}},clippingMask:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmap:function(e,n){return{u_extrude_scale:new t.Uniform1f(e,n.u_extrude_scale),u_intensity:new t.Uniform1f(e,n.u_intensity),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmapTexture:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_opacity:new t.Uniform1f(e,n.u_opacity)}},hillshade:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_latrange:new t.Uniform2f(e,n.u_latrange),u_light:new t.Uniform2f(e,n.u_light),u_shadow:new t.UniformColor(e,n.u_shadow),u_highlight:new t.UniformColor(e,n.u_highlight),u_accent:new t.UniformColor(e,n.u_accent)}},hillshadePrepare:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_dimension:new t.Uniform2f(e,n.u_dimension),u_zoom:new t.Uniform1f(e,n.u_zoom),u_unpack:new t.Uniform4f(e,n.u_unpack)}},line:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels)}},lineGradient:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_image:new t.Uniform1i(e,n.u_image),u_image_height:new t.Uniform1f(e,n.u_image_height)}},linePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_texsize:new t.Uniform2f(e,n.u_texsize),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_image:new t.Uniform1i(e,n.u_image),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},lineSDF:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,n.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,n.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,n.u_sdfgamma),u_image:new t.Uniform1i(e,n.u_image),u_tex_y_a:new t.Uniform1f(e,n.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,n.u_tex_y_b),u_mix:new t.Uniform1f(e,n.u_mix)}},raster:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_tl_parent:new t.Uniform2f(e,n.u_tl_parent),u_scale_parent:new t.Uniform1f(e,n.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,n.u_buffer_scale),u_fade_t:new t.Uniform1f(e,n.u_fade_t),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image0:new t.Uniform1i(e,n.u_image0),u_image1:new t.Uniform1i(e,n.u_image1),u_brightness_low:new t.Uniform1f(e,n.u_brightness_low),u_brightness_high:new t.Uniform1f(e,n.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,n.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,n.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,n.u_spin_weights)}},symbolIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture)}},symbolSDF:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}},symbolTextAndIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texsize_icon:new t.Uniform2f(e,n.u_texsize_icon),u_texture:new t.Uniform1i(e,n.u_texture),u_texture_icon:new t.Uniform1i(e,n.u_texture_icon),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}},background:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_color:new t.UniformColor(e,n.u_color)}},backgroundPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image:new t.Uniform1i(e,n.u_image),u_pattern_tl_a:new t.Uniform2f(e,n.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,n.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,n.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,n.u_pattern_br_b),u_texsize:new t.Uniform2f(e,n.u_texsize),u_mix:new t.Uniform1f(e,n.u_mix),u_pattern_size_a:new t.Uniform2f(e,n.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,n.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,n.u_scale_a),u_scale_b:new t.Uniform1f(e,n.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,n.u_tile_units_to_pixels)}}};function Hn(e,n,r,i,o,a,s){for(var l=e.context,u=l.gl,c=e.useProgram("collisionBox"),p=[],d=0,h=0,f=0;f<i.length;f++){var m=i[f],g=n.getTile(m),y=g.getBucket(r);if(y){var v=m.posMatrix;0===o[0]&&0===o[1]||(v=e.translatePosMatrix(m.posMatrix,g,o,a));var _=s?y.textCollisionBox:y.iconCollisionBox,b=y.collisionCircleArray;if(b.length>0){var x=t.create(),w=v;t.mul(x,y.placementInvProjMatrix,e.transform.glCoordMatrix),t.mul(x,x,y.placementViewportMatrix),p.push({circleArray:b,circleOffset:h,transform:w,invTransform:x}),h=d+=b.length/4}_&&c.draw(l,u.LINES,gt.disabled,yt.disabled,e.colorModeForRenderPass(),_t.disabled,Cn(v,e.transform,g),r.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,null,e.transform.zoom,null,null,_.collisionVertexBuffer)}}if(s&&p.length){var k=e.useProgram("collisionCircle"),S=new t.StructArrayLayout2f1f2i16;S.resize(4*d),S._trim();for(var C=0,E=0,T=p;E<T.length;E+=1)for(var I=T[E],M=0;M<I.circleArray.length/4;M++){var A=4*M,O=I.circleArray[A+0],P=I.circleArray[A+1],D=I.circleArray[A+2],z=I.circleArray[A+3];S.emplace(C++,O,P,D,z,0),S.emplace(C++,O,P,D,z,1),S.emplace(C++,O,P,D,z,2),S.emplace(C++,O,P,D,z,3)}(!Bn||Bn.length<2*d)&&(Bn=function(e){var n=2*e,r=new t.StructArrayLayout3ui6;r.resize(n),r._trim();for(var i=0;i<n;i++){var o=6*i;r.uint16[o+0]=4*i+0,r.uint16[o+1]=4*i+1,r.uint16[o+2]=4*i+2,r.uint16[o+3]=4*i+2,r.uint16[o+4]=4*i+3,r.uint16[o+5]=4*i+0}return r}(d));for(var L=l.createIndexBuffer(Bn,!0),R=l.createVertexBuffer(S,t.collisionCircleLayout.members,!0),W=0,B=p;W<B.length;W+=1){var j=B[W],N=En(j.transform,j.invTransform,e.transform);k.draw(l,u.TRIANGLES,gt.disabled,yt.disabled,e.colorModeForRenderPass(),_t.disabled,N,r.id,R,L,t.SegmentVector.simpleSegment(0,2*j.circleOffset,j.circleArray.length,j.circleArray.length/2),null,e.transform.zoom,null,null,null)}R.destroy(),L.destroy()}}var Gn=t.identity(new Float32Array(16));function Zn(e,n,r,i,o,a){var s=t.getAnchorAlignment(e),l=-(s.horizontalAlign-.5)*n,u=-(s.verticalAlign-.5)*r,c=t.evaluateVariableOffset(e,i);return new t.Point((l/o+c[0])*a,(u/o+c[1])*a)}function Kn(e,n,r,i,o,a,s,l,u,c,p){var d=e.text.placedSymbolArray,h=e.text.dynamicLayoutVertexArray,f=e.icon.dynamicLayoutVertexArray,m={};h.clear();for(var g=0;g<d.length;g++){var y=d.get(g),v=y.hidden||!y.crossTileID||e.allowVerticalPlacement&&!y.placedOrientation?null:i[y.crossTileID];if(v){var _=new t.Point(y.anchorX,y.anchorY),b=qt(_,r?l:s),x=Ht(a.cameraToCenterDistance,b.signedDistanceFromCamera),w=o.evaluateSizeForFeature(e.textSizeData,c,y)*x/t.ONE_EM;r&&(w*=e.tilePixelRatio/u);for(var k=Zn(v.anchor,v.width,v.height,v.textOffset,v.textBoxScale,w),S=r?qt(_.add(k),s).point:b.point.add(n?k.rotate(-a.angle):k),C=e.allowVerticalPlacement&&y.placedOrientation===t.WritingMode.vertical?Math.PI/2:0,E=0;E<y.numGlyphs;E++)t.addDynamicAttributes(h,S,C);p&&y.associatedIconIndex>=0&&(m[y.associatedIconIndex]={shiftedAnchor:S,angle:C})}else te(y.numGlyphs,h)}if(p){f.clear();for(var T=e.icon.placedSymbolArray,I=0;I<T.length;I++){var M=T.get(I);if(M.hidden)te(M.numGlyphs,f);else{var A=m[I];if(A)for(var O=0;O<M.numGlyphs;O++)t.addDynamicAttributes(f,A.shiftedAnchor,A.angle);else te(M.numGlyphs,f)}}e.icon.dynamicLayoutVertexBuffer.updateData(f)}e.text.dynamicLayoutVertexBuffer.updateData(h)}function Qn(t,e,n){return n.iconsInText&&e?"symbolTextAndIcon":t?"symbolSDF":"symbolIcon"}function Xn(e,n,r,i,o,a,s,l,u,c,p,d){for(var h=e.context,f=h.gl,m=e.transform,g="map"===l,y="map"===u,v=g&&"point"!==r.layout.get("symbol-placement"),_=g&&!y&&!v,b=void 0!==r.layout.get("symbol-sort-key").constantOr(1),x=!1,w=e.depthModeForSublayer(0,gt.ReadOnly),k=r.layout.get("text-variable-anchor"),S=[],C=0,E=i;C<E.length;C+=1){var T=E[C],I=n.getTile(T),M=I.getBucket(r);if(M){var A=o?M.text:M.icon;if(A&&A.segments.get().length){var O=A.programConfigurations.get(r.id),P=o||M.sdfIcons,D=o?M.textSizeData:M.iconSizeData,z=y||0!==m.pitch,L=e.useProgram(Qn(P,o,M),O),R=t.evaluateSizeForZoom(D,m.zoom),W=void 0,B=[0,0],j=void 0,N=void 0,F=null,U=void 0;if(o)j=I.glyphAtlasTexture,N=f.LINEAR,W=I.glyphAtlasTexture.size,M.iconsInText&&(B=I.imageAtlasTexture.size,F=I.imageAtlasTexture,U=z||e.options.rotating||e.options.zooming||"composite"===D.kind||"camera"===D.kind?f.LINEAR:f.NEAREST);else{var V=1!==r.layout.get("icon-size").constantOr(0)||M.iconsNeedLinear;j=I.imageAtlasTexture,N=P||e.options.rotating||e.options.zooming||V||z?f.LINEAR:f.NEAREST,W=I.imageAtlasTexture.size}var q=re(I,1,e.transform.zoom),H=Ut(T.posMatrix,y,g,e.transform,q),G=Vt(T.posMatrix,y,g,e.transform,q),Z=k&&M.hasTextData(),K="none"!==r.layout.get("icon-text-fit")&&Z&&M.hasIconData();v&&Zt(M,T.posMatrix,e,o,H,G,y,c);var Q=e.translatePosMatrix(T.posMatrix,I,a,s),X=v||o&&k||K?Gn:H,Y=e.translatePosMatrix(G,I,a,s,!0),J=P&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),$={program:L,buffers:A,uniformValues:P?M.iconsInText?Fn(D.kind,R,_,y,e,Q,X,Y,W,B):Nn(D.kind,R,_,y,e,Q,X,Y,o,W,!0):jn(D.kind,R,_,y,e,Q,X,Y,o,W),atlasTexture:j,atlasTextureIcon:F,atlasInterpolation:N,atlasInterpolationIcon:U,isSDF:P,hasHalo:J};if(b&&M.canOverlap){x=!0;for(var tt=0,et=A.segments.get();tt<et.length;tt+=1){var nt=et[tt];S.push({segments:new t.SegmentVector([nt]),sortKey:nt.sortKey,state:$})}}else S.push({segments:A.segments,sortKey:0,state:$})}}}x&&S.sort((function(t,e){return t.sortKey-e.sortKey}));for(var rt=0,it=S;rt<it.length;rt+=1){var ot=it[rt],at=ot.state;if(h.activeTexture.set(f.TEXTURE0),at.atlasTexture.bind(at.atlasInterpolation,f.CLAMP_TO_EDGE),at.atlasTextureIcon&&(h.activeTexture.set(f.TEXTURE1),at.atlasTextureIcon&&at.atlasTextureIcon.bind(at.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),at.isSDF){var st=at.uniformValues;at.hasHalo&&(st.u_is_halo=1,Yn(at.buffers,ot.segments,r,e,at.program,w,p,d,st)),st.u_is_halo=0}Yn(at.buffers,ot.segments,r,e,at.program,w,p,d,at.uniformValues)}}function Yn(t,e,n,r,i,o,a,s,l){var u=r.context;i.draw(u,u.gl.TRIANGLES,o,a,s,_t.disabled,l,n.id,t.layoutVertexBuffer,t.indexBuffer,e,n.paint,r.transform.zoom,t.programConfigurations.get(n.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function Jn(t,e,n,r,i,o,a){var s,l,u,c,p,d=t.context.gl,h=n.paint.get("fill-pattern"),f=h&&h.constantOr(1),m=n.getCrossfadeParameters();a?(l=f&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=d.LINES):(l=f?"fillPattern":"fill",s=d.TRIANGLES);for(var g=0,y=r;g<y.length;g+=1){var v=y[g],_=e.getTile(v);if(!f||_.patternsLoaded()){var b=_.getBucket(n);if(b){var x=b.programConfigurations.get(n.id),w=t.useProgram(l,x);f&&(t.context.activeTexture.set(d.TEXTURE0),_.imageAtlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE),x.updatePaintBuffers(m));var k=h.constantOr(null);if(k&&_.imageAtlas){var S=_.imageAtlas,C=S.patternPositions[k.to.toString()],E=S.patternPositions[k.from.toString()];C&&E&&x.setConstantPatternPositions(C,E)}var T=t.translatePosMatrix(v.posMatrix,_,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){c=b.indexBuffer2,p=b.segments2;var I=[d.drawingBufferWidth,d.drawingBufferHeight];u="fillOutlinePattern"===l&&f?kn(T,t,m,_,I):wn(T,I)}else c=b.indexBuffer,p=b.segments,u=f?xn(T,t,m,_):bn(T);w.draw(t.context,s,i,t.stencilModeForClipping(v),o,_t.disabled,u,n.id,b.layoutVertexBuffer,c,p,n.paint,t.transform.zoom,x)}}}}function $n(t,e,n,r,i,o,a){for(var s=t.context,l=s.gl,u=n.paint.get("fill-extrusion-pattern"),c=u.constantOr(1),p=n.getCrossfadeParameters(),d=n.paint.get("fill-extrusion-opacity"),h=0,f=r;h<f.length;h+=1){var m=f[h],g=e.getTile(m),y=g.getBucket(n);if(y){var v=y.programConfigurations.get(n.id),_=t.useProgram(c?"fillExtrusionPattern":"fillExtrusion",v);c&&(t.context.activeTexture.set(l.TEXTURE0),g.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),v.updatePaintBuffers(p));var b=u.constantOr(null);if(b&&g.imageAtlas){var x=g.imageAtlas,w=x.patternPositions[b.to.toString()],k=x.patternPositions[b.from.toString()];w&&k&&v.setConstantPatternPositions(w,k)}var S=t.translatePosMatrix(m.posMatrix,g,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),C=n.paint.get("fill-extrusion-vertical-gradient"),E=c?_n(S,t,C,d,m,p,g):vn(S,t,C,d);_.draw(s,s.gl.TRIANGLES,i,o,a,_t.backCCW,E,n.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,n.paint,t.transform.zoom,v)}}}function tr(e,n,r,i,o,a){var s=e.context,l=s.gl,u=n.fbo;if(u){var c=e.useProgram("hillshade");s.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,u.colorAttachment.get());var p=function(e,n,r){var i=r.paint.get("hillshade-shadow-color"),o=r.paint.get("hillshade-highlight-color"),a=r.paint.get("hillshade-accent-color"),s=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);var l,u,c,p=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(n.tileID.toUnwrapped(),p),u_image:0,u_latrange:(l=n.tileID,u=Math.pow(2,l.canonical.z),c=l.canonical.y,[new t.MercatorCoordinate(0,c/u).toLngLat().lat,new t.MercatorCoordinate(0,(c+1)/u).toLngLat().lat]),u_light:[r.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:o,u_accent:a}}(e,n,r);c.draw(s,l.TRIANGLES,i,o,a,_t.disabled,p,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function er(e,n,r,i,o,a){var s=e.context,l=s.gl,u=n.dem;if(u&&u.data){var c=u.dim,p=u.stride,d=u.getPixels();if(s.activeTexture.set(l.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(p),n.demTexture){var h=n.demTexture;h.update(d,{premultiply:!1}),h.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else n.demTexture=new t.Texture(s,d,l.RGBA,{premultiply:!1}),n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);s.activeTexture.set(l.TEXTURE0);var f=n.fbo;if(!f){var m=new t.Texture(s,{width:c,height:c,data:null},l.RGBA);m.bind(l.LINEAR,l.CLAMP_TO_EDGE),(f=n.fbo=s.createFramebuffer(c,c,!0)).colorAttachment.set(m.texture)}s.bindFramebuffer.set(f.framebuffer),s.viewport.set([0,0,c,c]),e.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,i,o,a,_t.disabled,function(e,n){var r=n.stride,i=t.create();return t.ortho(i,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(i,i,[0,-t.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:e.overscaledZ,u_unpack:n.getUnpackVector()}}(n.tileID,u),r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function nr(e,n,r,i,o){var a=i.paint.get("raster-fade-duration");if(a>0){var s=t.browser.now(),l=(s-e.timeAdded)/a,u=n?(s-n.timeAdded)/a:-1,c=r.getSource(),p=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),d=!n||Math.abs(n.tileID.overscaledZ-p)>Math.abs(e.tileID.overscaledZ-p),h=d&&e.refreshedUponExpiration?1:t.clamp(d?l:1-u,0,1);return e.refreshedUponExpiration&&l>=1&&(e.refreshedUponExpiration=!1),n?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}var rr=new t.Color(1,0,0,1),ir=new t.Color(0,1,0,1),or=new t.Color(0,0,1,1),ar=new t.Color(1,0,1,1),sr=new t.Color(0,1,1,1);function lr(t,e,n,r){cr(t,0,e+n/2,t.transform.width,n,r)}function ur(t,e,n,r){cr(t,e-n/2,0,n,t.transform.height,r)}function cr(e,n,r,i,o,a){var s=e.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(n*t.browser.devicePixelRatio,r*t.browser.devicePixelRatio,i*t.browser.devicePixelRatio,o*t.browser.devicePixelRatio),s.clear({color:a}),l.disable(l.SCISSOR_TEST)}function pr(e,n,r){var i=e.context,o=i.gl,a=r.posMatrix,s=e.useProgram("debug"),l=gt.disabled,u=yt.disabled,c=e.colorModeForRenderPass();i.activeTexture.set(o.TEXTURE0),e.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s.draw(i,o.LINE_STRIP,l,u,c,_t.disabled,Tn(a,t.Color.red),"$debug",e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);var p=n.getTileByID(r.key).latestRawTileData,d=Math.floor((p&&p.byteLength||0)/1024),h=n.getTile(r).tileSize,f=512/Math.min(h,512)*(r.overscaledZ/e.transform.zoom)*.5,m=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(m+=" => "+r.overscaledZ),function(t,e){t.initDebugOverlayCanvas();var n=t.debugOverlayCanvas,r=t.context.gl,i=t.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(e,5,5),i.strokeText(e,5,5),t.debugOverlayTexture.update(n),t.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(e,m+" "+d+"kb"),s.draw(i,o.TRIANGLES,l,u,vt.alphaBlended,_t.disabled,Tn(a,t.Color.transparent,f),"$debug",e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments)}var dr={symbol:function(e,n,r,i,o){if("translucent"===e.renderPass){var a=yt.disabled,s=e.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(e,n,r,i,o,a,s){for(var l=n.transform,u="map"===o,c="map"===a,p=0,d=e;p<d.length;p+=1){var h=d[p],f=i.getTile(h),m=f.getBucket(r);if(m&&m.text&&m.text.segments.get().length){var g=t.evaluateSizeForZoom(m.textSizeData,l.zoom),y=re(f,1,n.transform.zoom),v=Ut(h.posMatrix,c,u,n.transform,y),_="none"!==r.layout.get("icon-text-fit")&&m.hasIconData();if(g){var b=Math.pow(2,l.zoom-f.tileID.overscaledZ);Kn(m,u,c,s,t.symbolSize,l,v,h.posMatrix,b,g,_)}}}}(i,e,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),o),0!==r.paint.get("icon-opacity").constantOr(1)&&Xn(e,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),a,s),0!==r.paint.get("text-opacity").constantOr(1)&&Xn(e,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(Hn(e,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Hn(e,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),l=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var u=e.context,c=u.gl,p=e.depthModeForSublayer(0,gt.ReadOnly),d=yt.disabled,h=e.colorModeForRenderPass(),f=[],m=0;m<i.length;m++){var g=i[m],y=n.getTile(g),v=y.getBucket(r);if(v){var _=v.programConfigurations.get(r.id),b={programConfiguration:_,program:e.useProgram("circle",_),layoutVertexBuffer:v.layoutVertexBuffer,indexBuffer:v.indexBuffer,uniformValues:Sn(e,g,y,r)};if(l)for(var x=0,w=v.segments.get();x<w.length;x+=1){var k=w[x];f.push({segments:new t.SegmentVector([k]),sortKey:k.sortKey,state:b})}else f.push({segments:v.segments,sortKey:0,state:b})}}l&&f.sort((function(t,e){return t.sortKey-e.sortKey}));for(var S=0,C=f;S<C.length;S+=1){var E=C[S],T=E.state;T.program.draw(u,c.TRIANGLES,p,d,h,_t.disabled,T.uniformValues,r.id,T.layoutVertexBuffer,T.indexBuffer,E.segments,r.paint,e.transform.zoom,T.programConfiguration)}}}},heatmap:function(e,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var o=e.context,a=o.gl,s=yt.disabled,l=new vt([a.ONE,a.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,n){var r=t.gl;t.activeTexture.set(r.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),t.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4,!1),function(t,e,n,r){var i=t.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,e.width/4,e.height/4,0,i.RGBA,t.extRenderToTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(t,e,o,i)}}(o,e,r),o.clear({color:t.Color.transparent});for(var u=0;u<i.length;u++){var c=i[u];if(!n.hasRenderableParent(c)){var p=n.getTile(c),d=p.getBucket(r);if(d){var h=d.programConfigurations.get(r.id);e.useProgram("heatmap",h).draw(o,a.TRIANGLES,gt.disabled,s,l,_t.disabled,Mn(c.posMatrix,p,e.transform.zoom,r.paint.get("heatmap-intensity")),r.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,r.paint,e.transform.zoom,h)}}}o.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,n){var r=e.context,i=r.gl,o=n.heatmapFbo;if(o){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new t.Texture(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(r,i.TRIANGLES,gt.disabled,yt.disabled,e.colorModeForRenderPass(),_t.disabled,function(e,n){var r=t.create();t.ortho(r,0,e.width,e.height,0,0,1);var i=e.context.gl;return{u_matrix:r,u_world:[i.drawingBufferWidth,i.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(e,n),n.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,n.paint,e.transform.zoom)}}(e,r))},line:function(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=e.depthModeForSublayer(0,gt.ReadOnly),l=e.colorModeForRenderPass(),u=r.paint.get("line-dasharray"),c=r.paint.get("line-pattern"),p=c.constantOr(1),d=r.paint.get("line-gradient"),h=r.getCrossfadeParameters(),f=p?"linePattern":u?"lineSDF":d?"lineGradient":"line",m=e.context,g=m.gl,y=!0,v=0,_=i;v<_.length;v+=1){var b=_[v],x=n.getTile(b);if(!p||x.patternsLoaded()){var w=x.getBucket(r);if(w){var k=w.programConfigurations.get(r.id),S=e.context.program.get(),C=e.useProgram(f,k),E=y||C.program!==S,T=c.constantOr(null);if(T&&x.imageAtlas){var I=x.imageAtlas,M=I.patternPositions[T.to.toString()],A=I.patternPositions[T.from.toString()];M&&A&&k.setConstantPatternPositions(M,A)}var O=p?Pn(e,x,r,h):u?Dn(e,x,r,u,h):d?On(e,x,r,w.lineClipsArray.length):An(e,x,r);if(p)m.activeTexture.set(g.TEXTURE0),x.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),k.updatePaintBuffers(h);else if(u&&(E||e.lineAtlas.dirty))m.activeTexture.set(g.TEXTURE0),e.lineAtlas.bind(m);else if(d){var P=w.gradients[r.id],D=P.texture;if(r.gradientVersion!==P.version){var z=256;if(r.stepInterpolant){var L=n.getSource().maxzoom,R=b.canonical.z===L?Math.ceil(1<<e.transform.maxZoom-b.canonical.z):1;z=t.clamp(t.nextPowerOfTwo(w.maxLineLength/t.EXTENT*1024*R),256,m.maxTextureSize)}P.gradient=t.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:z,image:P.gradient||void 0,clips:w.lineClipsArray}),P.texture?P.texture.update(P.gradient):P.texture=new t.Texture(m,P.gradient,g.RGBA),P.version=r.gradientVersion,D=P.texture}m.activeTexture.set(g.TEXTURE0),D.bind(r.stepInterpolant?g.NEAREST:g.LINEAR,g.CLAMP_TO_EDGE)}C.draw(m,g.TRIANGLES,s,e.stencilModeForClipping(b),l,_t.disabled,O,r.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,r.paint,e.transform.zoom,k,w.layoutVertexBuffer2),y=!1}}}}},fill:function(e,n,r,i){var o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.colorModeForRenderPass(),l=r.paint.get("fill-pattern"),u=e.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(t.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(e.renderPass===u){var c=e.depthModeForSublayer(1,"opaque"===e.renderPass?gt.ReadWrite:gt.ReadOnly);Jn(e,n,r,i,c,s,!1)}if("translucent"===e.renderPass&&r.paint.get("fill-antialias")){var p=e.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,gt.ReadOnly);Jn(e,n,r,i,p,s,!0)}}},"fill-extrusion":function(t,e,n,r){var i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===t.renderPass){var o=new gt(t.context.gl.LEQUAL,gt.ReadWrite,t.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))$n(t,e,n,r,o,yt.disabled,vt.disabled),$n(t,e,n,r,o,t.stencilModeFor3D(),t.colorModeForRenderPass());else{var a=t.colorModeForRenderPass();$n(t,e,n,r,o,yt.disabled,a)}}},hillshade:function(t,e,n,r){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var i=t.context,o=t.depthModeForSublayer(0,gt.ReadOnly),a=t.colorModeForRenderPass(),s="translucent"===t.renderPass?t.stencilConfigForOverlap(r):[{},r],l=s[0],u=0,c=s[1];u<c.length;u+=1){var p=c[u],d=e.getTile(p);d.needsHillshadePrepare&&"offscreen"===t.renderPass?er(t,d,n,o,yt.disabled,a):"translucent"===t.renderPass&&tr(t,d,n,o,l[p.overscaledZ],a)}i.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,n,r){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity")&&r.length)for(var i=t.context,o=i.gl,a=e.getSource(),s=t.useProgram("raster"),l=t.colorModeForRenderPass(),u=a instanceof k?[{},r]:t.stencilConfigForOverlap(r),c=u[0],p=u[1],d=p[p.length-1].overscaledZ,h=!t.options.moving,f=0,m=p;f<m.length;f+=1){var g=m[f],y=t.depthModeForSublayer(g.overscaledZ-d,1===n.paint.get("raster-opacity")?gt.ReadWrite:gt.ReadOnly,o.LESS),v=e.getTile(g),_=t.transform.calculatePosMatrix(g.toUnwrapped(),h);v.registerFadeDuration(n.paint.get("raster-fade-duration"));var b=e.findLoadedParent(g,0),x=nr(v,b,e,n,t.transform),w=void 0,S=void 0,C="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),v.texture.bind(C,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),b?(b.texture.bind(C,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),w=Math.pow(2,b.tileID.overscaledZ-v.tileID.overscaledZ),S=[v.tileID.canonical.x*w%1,v.tileID.canonical.y*w%1]):v.texture.bind(C,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var E=Rn(_,S||[0,0],w||1,x,n);a instanceof k?s.draw(i,o.TRIANGLES,y,yt.disabled,l,_t.disabled,E,n.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):s.draw(i,o.TRIANGLES,y,c[g.overscaledZ],l,_t.disabled,E,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function(t,e,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var o=t.context,a=o.gl,s=t.transform,l=s.tileSize,u=n.paint.get("background-pattern");if(!t.isPatternMissing(u)){var c=!u&&1===r.a&&1===i&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass===c){var p=yt.disabled,d=t.depthModeForSublayer(0,"opaque"===c?gt.ReadWrite:gt.ReadOnly),h=t.colorModeForRenderPass(),f=t.useProgram(u?"backgroundPattern":"background"),m=s.coveringTiles({tileSize:l});u&&(o.activeTexture.set(a.TEXTURE0),t.imageManager.bind(t.context));for(var g=n.getCrossfadeParameters(),y=0,v=m;y<v.length;y+=1){var _=v[y],b=t.transform.calculatePosMatrix(_.toUnwrapped()),x=u?Vn(b,i,t,u,{tileID:_,tileSize:l},g):Un(b,i,r);f.draw(o,a.TRIANGLES,d,p,h,_t.disabled,x,n.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}}}},debug:function(t,e,n){for(var r=0;r<n.length;r++)pr(t,e,n[r])},custom:function(t,e,n){var r=t.context,i=n.implementation;if("offscreen"===t.renderPass){var o=i.prerender;o&&(t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),o.call(i,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),r.setStencilMode(yt.disabled);var a="3d"===i.renderingMode?new gt(t.context.gl.LEQUAL,gt.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,gt.ReadOnly);r.setDepthMode(a),i.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null)}}},hr=function(t,e){this.context=new bt(t),this.transform=e,this._tileTextures={},this.setup(),this.numSublayers=xt.maxUnderzooming+xt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Me,this.gpuTimers={}};hr.prototype.resize=function(e,n){if(this.width=e*t.browser.devicePixelRatio,this.height=n*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,i=this.style._order;r<i.length;r+=1)this.style._layers[i[r]].resize()},hr.prototype.setup=function(){var e=this.context,n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(n,Be.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var r=new t.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(t.EXTENT,0),r.emplaceBack(0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(r,Be.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var i=new t.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(t.EXTENT,0,t.EXTENT,0),i.emplaceBack(0,t.EXTENT,0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(i,w.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var o=new t.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(o,Be.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(a);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s),this.emptyTexture=new t.Texture(e,{width:1,height:1,data:new Uint8Array([0,0,0,0])},e.gl.RGBA);var l=this.context.gl;this.stencilClearMode=new yt({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)},hr.prototype.clearStencil=function(){var e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=t.create();t.ortho(r,0,this.width,this.height,0,0,1),t.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,n.TRIANGLES,gt.disabled,this.stencilClearMode,vt.disabled,_t.disabled,In(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},hr.prototype._renderTileClippingMasks=function(t,e){if(this.currentStencilSource!==t.source&&t.isTileClipped()&&e&&e.length){this.currentStencilSource=t.source;var n=this.context,r=n.gl;this.nextStencilID+e.length>256&&this.clearStencil(),n.setColorMode(vt.disabled),n.setDepthMode(gt.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=e;o<a.length;o+=1){var s=a[o],l=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,gt.disabled,new yt({func:r.ALWAYS,mask:0},l,255,r.KEEP,r.KEEP,r.REPLACE),vt.disabled,_t.disabled,In(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},hr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,e=this.context.gl;return new yt({func:e.NOTEQUAL,mask:255},t,255,e.KEEP,e.KEEP,e.REPLACE)},hr.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new yt({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},hr.prototype.stencilConfigForOverlap=function(t){var e,n=this.context.gl,r=t.sort((function(t,e){return e.overscaledZ-t.overscaledZ})),i=r[r.length-1].overscaledZ,o=r[0].overscaledZ-i+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();for(var a={},s=0;s<o;s++)a[s+i]=new yt({func:n.GEQUAL,mask:255},s+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[a,r]}return[(e={},e[i]=yt.disabled,e),r]},hr.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new vt([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?vt.unblended:vt.alphaBlended},hr.prototype.depthModeForSublayer=function(t,e,n){if(!this.opaquePassEnabledForLayer())return gt.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new gt(n||this.context.gl.LEQUAL,e,[r,r])},hr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},hr.prototype.render=function(e,n){var r=this;this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now()),this.imageManager.beginFrame();var i=this.style._order,o=this.style.sourceCaches;for(var a in o){var s=o[a];s.used&&s.prepare(this.context)}var l,u,c={},p={},d={};for(var h in o){var f=o[h];c[h]=f.getVisibleCoordinates(),p[h]=c[h].slice().reverse(),d[h]=f.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var m=0;m<i.length;m++)if(this.style._layers[i[m]].is3D()){this.opaquePassCutoff=m;break}this.renderPass="offscreen";for(var g=0,y=i;g<y.length;g+=1){var v=this.style._layers[y[g]];if(v.hasOffscreenPass()&&!v.isHidden(this.transform.zoom)){var _=p[v.source];("custom"===v.type||_.length)&&this.renderLayer(this,o[v.source],v,_)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var b=this.style._layers[i[this.currentLayer]],x=o[b.source],w=c[b.source];this._renderTileClippingMasks(b,w),this.renderLayer(this,x,b,w)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var k=this.style._layers[i[this.currentLayer]],S=o[k.source],C=("symbol"===k.type?d:p)[k.source];this._renderTileClippingMasks(k,c[k.source]),this.renderLayer(this,S,k,C)}this.options.showTileBoundaries&&(t.values(this.style._layers).forEach((function(t){t.source&&!t.isHidden(r.transform.zoom)&&(t.source!==(u&&u.id)&&(u=r.style.sourceCaches[t.source]),(!l||l.getSource().maxzoom<u.getSource().maxzoom)&&(l=u))})),l&&dr.debug(this,l,l.getVisibleCoordinates())),this.options.showPadding&&function(t){var e=t.transform.padding;lr(t,t.transform.height-(e.top||0),3,rr),lr(t,e.bottom||0,3,ir),ur(t,e.left||0,3,or),ur(t,t.transform.width-(e.right||0),3,ar);var n=t.transform.centerPoint;!function(t,e,n,r){cr(t,e-1,n-10,2,20,r),cr(t,e-10,n-1,20,2,r)}(t,n.x,t.transform.height-n.y,sr)}(this),this.context.setDefault()},hr.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,this.gpuTimingStart(n),dr[n.type](t,e,n,r,this.style.placement.variableOffsets),this.gpuTimingEnd())},hr.prototype.gpuTimingStart=function(t){if(this.options.gpuTiming){var e=this.context.extTimerQuery,n=this.gpuTimers[t.id];n||(n=this.gpuTimers[t.id]={calls:0,cpuTime:0,query:e.createQueryEXT()}),n.calls++,e.beginQueryEXT(e.TIME_ELAPSED_EXT,n.query)}},hr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var t=this.context.extTimerQuery;t.endQueryEXT(t.TIME_ELAPSED_EXT)}},hr.prototype.collectGpuTimers=function(){var t=this.gpuTimers;return this.gpuTimers={},t},hr.prototype.queryGpuTimers=function(t){var e={};for(var n in t){var r=t[n],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),e[n]=o}return e},hr.prototype.translatePosMatrix=function(e,n,r,i,o){if(!r[0]&&!r[1])return e;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);r=[r[0]*l-r[1]*s,r[0]*s+r[1]*l]}var u=[o?r[0]:re(n,r[0],this.transform.zoom),o?r[1]:re(n,r[1],this.transform.zoom),0],c=new Float32Array(16);return t.translate(c,e,u),c},hr.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},hr.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},hr.prototype.isPatternMissing=function(t){if(!t)return!1;if(!t.from||!t.to)return!0;var e=this.imageManager.getPattern(t.from.toString()),n=this.imageManager.getPattern(t.to.toString());return!e||!n},hr.prototype.useProgram=function(t,e){this.cache=this.cache||{};var n=""+t+(e?e.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new gn(this.context,t,hn[t],e,qn[t],this._showOverdrawInspector)),this.cache[n]},hr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},hr.prototype.setBaseState=function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)},hr.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=t.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new t.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},hr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var fr=function(t,e){this.points=t,this.planes=e};fr.fromInvProjectionMatrix=function(e,n,r){var i=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(n){return t.transformMat4([],n,e)})).map((function(e){return t.scale$1([],e,1/e[3]/n*i)})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(e){var n=t.sub([],o[e[0]],o[e[1]]),r=t.sub([],o[e[2]],o[e[1]]),i=t.normalize([],t.cross([],n,r)),a=-t.dot(i,o[e[1]]);return i.concat(a)}));return new fr(o,a)};var mr=function(e,n){this.min=e,this.max=n,this.center=t.scale$2([],t.add([],this.min,this.max),.5)};mr.prototype.quadrant=function(e){for(var n=[e%2==0,e<2],r=t.clone$2(this.min),i=t.clone$2(this.max),o=0;o<n.length;o++)r[o]=n[o]?this.min[o]:this.center[o],i[o]=n[o]?this.center[o]:this.max[o];return i[2]=this.max[2],new mr(r,i)},mr.prototype.distanceX=function(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]},mr.prototype.distanceY=function(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]},mr.prototype.intersects=function(e){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],r=!0,i=0;i<e.planes.length;i++){for(var o=e.planes[i],a=0,s=0;s<n.length;s++)a+=t.dot$1(o,n[s])>=0;if(0===a)return 0;a!==n.length&&(r=!1)}if(r)return 2;for(var l=0;l<3;l++){for(var u=Number.MAX_VALUE,c=-Number.MAX_VALUE,p=0;p<e.points.length;p++){var d=e.points[p][l]-this.min[l];u=Math.min(u,d),c=Math.max(c,d)}if(c<0||u>this.max[l]-this.min[l])return 0}return 1};var gr=function(t,e,n,r){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),isNaN(t)||t<0||isNaN(e)||e<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=e,this.left=n,this.right=r};gr.prototype.interpolate=function(e,n,r){return null!=n.top&&null!=e.top&&(this.top=t.number(e.top,n.top,r)),null!=n.bottom&&null!=e.bottom&&(this.bottom=t.number(e.bottom,n.bottom,r)),null!=n.left&&null!=e.left&&(this.left=t.number(e.left,n.left,r)),null!=n.right&&null!=e.right&&(this.right=t.number(e.right,n.right,r)),this},gr.prototype.getCenter=function(e,n){var r=t.clamp((this.left+e-this.right)/2,0,e),i=t.clamp((this.top+n-this.bottom)/2,0,n);return new t.Point(r,i)},gr.prototype.equals=function(t){return this.top===t.top&&this.bottom===t.bottom&&this.left===t.left&&this.right===t.right},gr.prototype.clone=function(){return new gr(this.top,this.bottom,this.left,this.right)},gr.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var yr=function(e,n,r,i,o){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||o,this._minZoom=e||0,this._maxZoom=n||22,this._minPitch=null==r?0:r,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new gr,this._posMatrixCache={},this._alignedPosMatrixCache={}},vr={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};yr.prototype.clone=function(){var t=new yr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._edgeInsets=this._edgeInsets.clone(),t._calcMatrices(),t},vr.minZoom.get=function(){return this._minZoom},vr.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},vr.maxZoom.get=function(){return this._maxZoom},vr.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},vr.minPitch.get=function(){return this._minPitch},vr.minPitch.set=function(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))},vr.maxPitch.get=function(){return this._maxPitch},vr.maxPitch.set=function(t){this._maxPitch!==t&&(this._maxPitch=t,this.pitch=Math.min(this.pitch,t))},vr.renderWorldCopies.get=function(){return this._renderWorldCopies},vr.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},vr.worldSize.get=function(){return this.tileSize*this.scale},vr.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},vr.size.get=function(){return new t.Point(this.width,this.height)},vr.bearing.get=function(){return-this.angle/Math.PI*180},vr.bearing.set=function(e){var n=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=t.create$2(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},vr.pitch.get=function(){return this._pitch/Math.PI*180},vr.pitch.set=function(e){var n=t.clamp(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},vr.fov.get=function(){return this._fov/Math.PI*180},vr.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},vr.zoom.get=function(){return this._zoom},vr.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},vr.center.get=function(){return this._center},vr.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},vr.padding.get=function(){return this._edgeInsets.toJSON()},vr.padding.set=function(t){this._edgeInsets.equals(t)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,t,1),this._calcMatrices())},vr.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},yr.prototype.isPaddingEqual=function(t){return this._edgeInsets.equals(t)},yr.prototype.interpolatePadding=function(t,e,n){this._unmodified=!1,this._edgeInsets.interpolate(t,e,n),this._constrain(),this._calcMatrices()},yr.prototype.coveringZoomLevel=function(t){var e=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,e)},yr.prototype.getVisibleUnwrappedCoordinates=function(e){var n=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new t.Point(0,0)),i=this.pointCoordinate(new t.Point(this.width,0)),o=this.pointCoordinate(new t.Point(this.width,this.height)),a=this.pointCoordinate(new t.Point(0,this.height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),l=Math.floor(Math.max(r.x,i.x,o.x,a.x)),u=s-1;u<=l+1;u++)0!==u&&n.push(new t.UnwrappedTileID(u,e));return n},yr.prototype.coveringTiles=function(e){var n=this.coveringZoomLevel(e),r=n;if(void 0!==e.minzoom&&n<e.minzoom)return[];void 0!==e.maxzoom&&n>e.maxzoom&&(n=e.maxzoom);var i=t.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=[o*i.x,o*i.y,0],s=fr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),l=e.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(l=n);var u=function(t){return{aabb:new mr([t*o,0,0],[(t+1)*o,o,0]),zoom:0,x:0,y:0,wrap:t,fullyVisible:!1}},c=[],p=[],d=n,h=e.reparseOverscaled?r:n;if(this._renderWorldCopies)for(var f=1;f<=3;f++)c.push(u(-f)),c.push(u(f));for(c.push(u(0));c.length>0;){var m=c.pop(),g=m.x,y=m.y,v=m.fullyVisible;if(!v){var _=m.aabb.intersects(s);if(0===_)continue;v=2===_}var b=m.aabb.distanceX(a),x=m.aabb.distanceY(a),w=Math.max(Math.abs(b),Math.abs(x));if(m.zoom===d||w>3+(1<<d-m.zoom)-2&&m.zoom>=l)p.push({tileID:new t.OverscaledTileID(m.zoom===d?h:m.zoom,m.wrap,m.zoom,g,y),distanceSq:t.sqrLen([a[0]-.5-g,a[1]-.5-y])});else for(var k=0;k<4;k++){var S=(g<<1)+k%2,C=(y<<1)+(k>>1);c.push({aabb:m.aabb.quadrant(k),zoom:m.zoom+1,x:S,y:C,wrap:m.wrap,fullyVisible:v})}}return p.sort((function(t,e){return t.distanceSq-e.distanceSq})).map((function(t){return t.tileID}))},yr.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},vr.unmodified.get=function(){return this._unmodified},yr.prototype.zoomScale=function(t){return Math.pow(2,t)},yr.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},yr.prototype.project=function(e){var n=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(n)*this.worldSize)},yr.prototype.unproject=function(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()},vr.point.get=function(){return this.project(this.center)},yr.prototype.setLocationAtPoint=function(e,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(e),a=new t.MercatorCoordinate(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},yr.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},yr.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},yr.prototype.locationCoordinate=function(e){return t.MercatorCoordinate.fromLngLat(e)},yr.prototype.coordinateLocation=function(t){return t.toLngLat()},yr.prototype.pointCoordinate=function(e){var n=[e.x,e.y,0,1],r=[e.x,e.y,1,1];t.transformMat4(n,n,this.pixelMatrixInverse),t.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],a=n[1]/i,s=r[1]/o,l=n[2]/i,u=r[2]/o,c=l===u?0:(0-l)/(u-l);return new t.MercatorCoordinate(t.number(n[0]/i,r[0]/o,c)/this.worldSize,t.number(a,s,c)/this.worldSize)},yr.prototype.coordinatePoint=function(e){var n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix),new t.Point(n[0]/n[3],n[1]/n[3])},yr.prototype.getBounds=function(){return(new t.LngLatBounds).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},yr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},yr.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},yr.prototype.calculatePosMatrix=function(e,n){void 0===n&&(n=!1);var r=e.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var o=e.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*e.wrap,l=t.identity(new Float64Array(16));return t.translate(l,l,[s*a,o.y*a,0]),t.scale(l,l,[a/t.EXTENT,a/t.EXTENT,1]),t.multiply(l,n?this.alignedProjMatrix:this.projMatrix,l),i[r]=new Float32Array(l),i[r]},yr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},yr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,n,r,i,o=-90,a=90,s=-180,l=180,u=this.size,c=this._unmodified;if(this.latRange){var p=this.latRange;o=t.mercatorYfromLat(p[1])*this.worldSize,e=(a=t.mercatorYfromLat(p[0])*this.worldSize)-o<u.y?u.y/(a-o):0}if(this.lngRange){var d=this.lngRange;s=t.mercatorXfromLng(d[0])*this.worldSize,n=(l=t.mercatorXfromLng(d[1])*this.worldSize)-s<u.x?u.x/(l-s):0}var h=this.point,f=Math.max(n||0,e||0);if(f)return this.center=this.unproject(new t.Point(n?(l+s)/2:h.x,e?(a+o)/2:h.y)),this.zoom+=this.scaleZoom(f),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var m=h.y,g=u.y/2;m-g<o&&(i=o+g),m+g>a&&(i=a-g)}if(this.lngRange){var y=h.x,v=u.x/2;y-v<s&&(r=s+v),y+v>l&&(r=l-v)}void 0===r&&void 0===i||(this.center=this.unproject(new t.Point(void 0!==r?r:h.x,void 0!==i?i:h.y))),this._unmodified=c,this._constraining=!1}},yr.prototype._calcMatrices=function(){if(this.height){var e=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var n=Math.PI/2+this._pitch,r=this._fov*(.5+e.y/this.height),i=Math.sin(r)*this.cameraToCenterDistance/Math.sin(t.clamp(Math.PI-n-r,.01,Math.PI-.01)),o=this.point,a=o.x,s=o.y,l=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),u=this.height/50,c=new Float64Array(16);t.perspective(c,this._fov,this.width/this.height,u,l),c[8]=2*-e.x/this.width,c[9]=2*e.y/this.height,t.scale(c,c,[1,-1,1]),t.translate(c,c,[0,0,-this.cameraToCenterDistance]),t.rotateX(c,c,this._pitch),t.rotateZ(c,c,this.angle),t.translate(c,c,[-a,-s,0]),this.mercatorMatrix=t.scale([],c,[this.worldSize,this.worldSize,this.worldSize]),t.scale(c,c,[1,1,t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=c,this.invProjMatrix=t.invert([],this.projMatrix);var p=this.width%2/2,d=this.height%2/2,h=Math.cos(this.angle),f=Math.sin(this.angle),m=a-Math.round(a)+h*p+f*d,g=s-Math.round(s)+h*d+f*p,y=new Float64Array(c);if(t.translate(y,y,[m>.5?m-1:m,g>.5?g-1:g,0]),this.alignedProjMatrix=y,c=t.create(),t.scale(c,c,[this.width/2,-this.height/2,1]),t.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=t.create(),t.scale(c,c,[1,-1,1]),t.translate(c,c,[-1,-1,0]),t.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(c=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=c,this._posMatrixCache={},this._alignedPosMatrixCache={}}},yr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)),n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},yr.prototype.getCameraPoint=function(){var e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.Point(0,e))},yr.prototype.getCameraQueryGeometry=function(e){var n=this.getCameraPoint();if(1===e.length)return[e[0],n];for(var r=n.x,i=n.y,o=n.x,a=n.y,s=0,l=e;s<l.length;s+=1){var u=l[s];r=Math.min(r,u.x),i=Math.min(i,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}return[new t.Point(r,i),new t.Point(o,i),new t.Point(o,a),new t.Point(r,a),new t.Point(r,i)]},Object.defineProperties(yr.prototype,vr);var _r=function(e){var n,r,i,o;this._hashName=e&&encodeURIComponent(e),t.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(n=this._updateHashUnthrottled.bind(this),r=!1,i=null,o=function(){i=null,r&&(n(),i=setTimeout(o,300),r=!1)},function(){return r=!0,i||o(),i})};_r.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},_r.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},_r.prototype.getHashString=function(e){var n=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,i),a=Math.round(n.lng*o)/o,s=Math.round(n.lat*o)/o,l=this._map.getBearing(),u=this._map.getPitch(),c="";if(c+=e?"/"+a+"/"+s+"/"+r:r+"/"+s+"/"+a,(l||u)&&(c+="/"+Math.round(10*l)/10),u&&(c+="/"+Math.round(u)),this._hashName){var p=this._hashName,d=!1,h=t.window.location.hash.slice(1).split("&").map((function(t){var e=t.split("=")[0];return e===p?(d=!0,e+"="+c):t})).filter((function(t){return t}));return d||h.push(p+"="+c),"#"+h.join("&")}return"#"+c},_r.prototype._getCurrentHash=function(){var e,n=this,r=t.window.location.hash.replace("#","");return this._hashName?(r.split("&").map((function(t){return t.split("=")})).forEach((function(t){t[0]===n._hashName&&(e=t)})),(e&&e[1]||"").split("/")):r.split("/")},_r.prototype._onHashChange=function(){var t=this._getCurrentHash();if(t.length>=3&&!t.some((function(t){return isNaN(t)}))){var e=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0}return!1},_r.prototype._updateHashUnthrottled=function(){var e=t.window.location.href.replace(/(#.+)?$/,this.getHashString());try{t.window.history.replaceState(t.window.history.state,null,e)}catch(t){}};var br={linearity:.3,easing:t.bezier(0,0,.3,1)},xr=t.extend({deceleration:2500,maxSpeed:1400},br),wr=t.extend({deceleration:20,maxSpeed:1400},br),kr=t.extend({deceleration:1e3,maxSpeed:360},br),Sr=t.extend({deceleration:1e3,maxSpeed:90},br),Cr=function(t){this._map=t,this.clear()};function Er(t,e){(!t.duration||t.duration<e.duration)&&(t.duration=e.duration,t.easing=e.easing)}function Tr(e,n,r){var i=r.maxSpeed,o=r.linearity,a=r.deceleration,s=t.clamp(e*o/(n/1e3),-i,i),l=Math.abs(s)/(a*o);return{easing:r.easing,duration:1e3*l,amount:s*(l/2)}}Cr.prototype.clear=function(){this._inertiaBuffer=[]},Cr.prototype.record=function(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:t.browser.now(),settings:e})},Cr.prototype._drainInertiaBuffer=function(){for(var e=this._inertiaBuffer,n=t.browser.now();e.length>0&&n-e[0].time>160;)e.shift()},Cr.prototype._onMoveEnd=function(e){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var n={zoom:0,bearing:0,pitch:0,pan:new t.Point(0,0),pinchAround:void 0,around:void 0},r=0,i=this._inertiaBuffer;r<i.length;r+=1){var o=i[r].settings;n.zoom+=o.zoomDelta||0,n.bearing+=o.bearingDelta||0,n.pitch+=o.pitchDelta||0,o.panDelta&&n.pan._add(o.panDelta),o.around&&(n.around=o.around),o.pinchAround&&(n.pinchAround=o.pinchAround)}var a=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(n.pan.mag()){var l=Tr(n.pan.mag(),a,t.extend({},xr,e||{}));s.offset=n.pan.mult(l.amount/n.pan.mag()),s.center=this._map.transform.center,Er(s,l)}if(n.zoom){var u=Tr(n.zoom,a,wr);s.zoom=this._map.transform.zoom+u.amount,Er(s,u)}if(n.bearing){var c=Tr(n.bearing,a,kr);s.bearing=this._map.transform.bearing+t.clamp(c.amount,-179,179),Er(s,c)}if(n.pitch){var p=Tr(n.pitch,a,Sr);s.pitch=this._map.transform.pitch+p.amount,Er(s,p)}if(s.zoom||s.bearing){var d=void 0===n.pinchAround?n.around:n.pinchAround;s.around=d?this._map.unproject(d):this._map.getCenter()}return this.clear(),t.extend(s,{noMoveStart:!0})}};var Ir=function(e){function n(n,r,i,o){void 0===o&&(o={});var a=t.DOM.mousePos(r.getCanvasContainer(),i),s=r.unproject(a);e.call(this,n,t.extend({point:a,lngLat:s,originalEvent:i},o)),this._defaultPrevented=!1,this.target=r}e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n;var r={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,r),n}(t.Event),Mr=function(e){function n(n,r,i){var o="touchend"===n?i.changedTouches:i.touches,a=t.DOM.touchPos(r.getCanvasContainer(),o),s=a.map((function(t){return r.unproject(t)})),l=a.reduce((function(t,e,n,r){return t.add(e.div(r.length))}),new t.Point(0,0)),u=r.unproject(l);e.call(this,n,{points:a,point:l,lngLats:s,lngLat:u,originalEvent:i}),this._defaultPrevented=!1}e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n;var r={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,r),n}(t.Event),Ar=function(t){function e(e,n,r){t.call(this,e,{originalEvent:r}),this._defaultPrevented=!1}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,n),e}(t.Event),Or=function(t,e){this._map=t,this._clickTolerance=e.clickTolerance};Or.prototype.reset=function(){delete this._mousedownPos},Or.prototype.wheel=function(t){return this._firePreventable(new Ar(t.type,this._map,t))},Or.prototype.mousedown=function(t,e){return this._mousedownPos=e,this._firePreventable(new Ir(t.type,this._map,t))},Or.prototype.mouseup=function(t){this._map.fire(new Ir(t.type,this._map,t))},Or.prototype.click=function(t,e){this._mousedownPos&&this._mousedownPos.dist(e)>=this._clickTolerance||this._map.fire(new Ir(t.type,this._map,t))},Or.prototype.dblclick=function(t){return this._firePreventable(new Ir(t.type,this._map,t))},Or.prototype.mouseover=function(t){this._map.fire(new Ir(t.type,this._map,t))},Or.prototype.mouseout=function(t){this._map.fire(new Ir(t.type,this._map,t))},Or.prototype.touchstart=function(t){return this._firePreventable(new Mr(t.type,this._map,t))},Or.prototype.touchmove=function(t){this._map.fire(new Mr(t.type,this._map,t))},Or.prototype.touchend=function(t){this._map.fire(new Mr(t.type,this._map,t))},Or.prototype.touchcancel=function(t){this._map.fire(new Mr(t.type,this._map,t))},Or.prototype._firePreventable=function(t){if(this._map.fire(t),t.defaultPrevented)return{}},Or.prototype.isEnabled=function(){return!0},Or.prototype.isActive=function(){return!1},Or.prototype.enable=function(){},Or.prototype.disable=function(){};var Pr=function(t){this._map=t};Pr.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Pr.prototype.mousemove=function(t){this._map.fire(new Ir(t.type,this._map,t))},Pr.prototype.mousedown=function(){this._delayContextMenu=!0},Pr.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ir("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Pr.prototype.contextmenu=function(t){this._delayContextMenu?this._contextMenuEvent=t:this._map.fire(new Ir(t.type,this._map,t)),this._map.listens("contextmenu")&&t.preventDefault()},Pr.prototype.isEnabled=function(){return!0},Pr.prototype.isActive=function(){return!1},Pr.prototype.enable=function(){},Pr.prototype.disable=function(){};var Dr=function(t,e){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=e.clickTolerance||1};function zr(t,e){for(var n={},r=0;r<t.length;r++)n[t[r].identifier]=e[r];return n}Dr.prototype.isEnabled=function(){return!!this._enabled},Dr.prototype.isActive=function(){return!!this._active},Dr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Dr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Dr.prototype.mousedown=function(e,n){this.isEnabled()&&e.shiftKey&&0===e.button&&(t.DOM.disableDrag(),this._startPos=this._lastPos=n,this._active=!0)},Dr.prototype.mousemoveWindow=function(e,n){if(this._active){var r=n;if(!(this._lastPos.equals(r)||!this._box&&r.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=r,this._box||(this._box=t.DOM.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var o=Math.min(i.x,r.x),a=Math.max(i.x,r.x),s=Math.min(i.y,r.y),l=Math.max(i.y,r.y);t.DOM.setTransform(this._box,"translate("+o+"px,"+s+"px)"),this._box.style.width=a-o+"px",this._box.style.height=l-s+"px"}}},Dr.prototype.mouseupWindow=function(e,n){var r=this;if(this._active&&0===e.button){var i=this._startPos,o=n;if(this.reset(),t.DOM.suppressClick(),i.x!==o.x||i.y!==o.y)return this._map.fire(new t.Event("boxzoomend",{originalEvent:e})),{cameraAnimation:function(t){return t.fitScreenCoordinates(i,o,r._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",e)}},Dr.prototype.keydown=function(t){this._active&&27===t.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",t))},Dr.prototype.blur=function(){this.reset()},Dr.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(t.DOM.remove(this._box),this._box=null),t.DOM.enableDrag(),delete this._startPos,delete this._lastPos},Dr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,{originalEvent:n}))};var Lr=function(t){this.reset(),this.numTouches=t.numTouches};Lr.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Lr.prototype.touchstart=function(e,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),r.length===this.numTouches&&(this.centroid=function(e){for(var n=new t.Point(0,0),r=0,i=e;r<i.length;r+=1)n._add(i[r]);return n.div(e.length)}(n),this.touches=zr(r,n)))},Lr.prototype.touchmove=function(t,e,n){if(!this.aborted&&this.centroid){var r=zr(n,e);for(var i in this.touches){var o=r[i];(!o||o.dist(this.touches[i])>30)&&(this.aborted=!0)}}},Lr.prototype.touchend=function(t,e,n){if((!this.centroid||t.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}};var Rr=function(t){this.singleTap=new Lr(t),this.numTaps=t.numTaps,this.reset()};Rr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Rr.prototype.touchstart=function(t,e,n){this.singleTap.touchstart(t,e,n)},Rr.prototype.touchmove=function(t,e,n){this.singleTap.touchmove(t,e,n)},Rr.prototype.touchend=function(t,e,n){var r=this.singleTap.touchend(t,e,n);if(r){var i=t.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(r)<30;if(i&&o||this.reset(),this.count++,this.lastTime=t.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}};var Wr=function(){this._zoomIn=new Rr({numTouches:1,numTaps:2}),this._zoomOut=new Rr({numTouches:2,numTaps:1}),this.reset()};Wr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Wr.prototype.touchstart=function(t,e,n){this._zoomIn.touchstart(t,e,n),this._zoomOut.touchstart(t,e,n)},Wr.prototype.touchmove=function(t,e,n){this._zoomIn.touchmove(t,e,n),this._zoomOut.touchmove(t,e,n)},Wr.prototype.touchend=function(t,e,n){var r=this,i=this._zoomIn.touchend(t,e,n),o=this._zoomOut.touchend(t,e,n);return i?(this._active=!0,t.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()+1,around:e.unproject(i)},{originalEvent:t})}}):o?(this._active=!0,t.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()-1,around:e.unproject(o)},{originalEvent:t})}}):void 0},Wr.prototype.touchcancel=function(){this.reset()},Wr.prototype.enable=function(){this._enabled=!0},Wr.prototype.disable=function(){this._enabled=!1,this.reset()},Wr.prototype.isEnabled=function(){return this._enabled},Wr.prototype.isActive=function(){return this._active};var Br={0:1,2:2},jr=function(t){this.reset(),this._clickTolerance=t.clickTolerance||1};jr.prototype.blur=function(){this.reset()},jr.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},jr.prototype._correctButton=function(t,e){return!1},jr.prototype._move=function(t,e){return{}},jr.prototype.mousedown=function(e,n){if(!this._lastPoint){var r=t.DOM.mouseButton(e);this._correctButton(e,r)&&(this._lastPoint=n,this._eventButton=r)}},jr.prototype.mousemoveWindow=function(t,e){var n=this._lastPoint;if(n)if(t.preventDefault(),function(t,e){var n=Br[e];return void 0===t.buttons||(t.buttons&n)!==n}(t,this._eventButton))this.reset();else if(this._moved||!(e.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=e,this._move(n,e)},jr.prototype.mouseupWindow=function(e){this._lastPoint&&t.DOM.mouseButton(e)===this._eventButton&&(this._moved&&t.DOM.suppressClick(),this.reset())},jr.prototype.enable=function(){this._enabled=!0},jr.prototype.disable=function(){this._enabled=!1,this.reset()},jr.prototype.isEnabled=function(){return this._enabled},jr.prototype.isActive=function(){return this._active};var Nr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.mousedown=function(e,n){t.prototype.mousedown.call(this,e,n),this._lastPoint&&(this._active=!0)},e.prototype._correctButton=function(t,e){return 0===e&&!t.ctrlKey},e.prototype._move=function(t,e){return{around:e,panDelta:e.sub(t)}},e}(jr),Fr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._correctButton=function(t,e){return 0===e&&t.ctrlKey||2===e},e.prototype._move=function(t,e){var n=.8*(e.x-t.x);if(n)return this._active=!0,{bearingDelta:n}},e.prototype.contextmenu=function(t){t.preventDefault()},e}(jr),Ur=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._correctButton=function(t,e){return 0===e&&t.ctrlKey||2===e},e.prototype._move=function(t,e){var n=-.5*(e.y-t.y);if(n)return this._active=!0,{pitchDelta:n}},e.prototype.contextmenu=function(t){t.preventDefault()},e}(jr),Vr=function(t){this._minTouches=1,this._clickTolerance=t.clickTolerance||1,this.reset()};Vr.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new t.Point(0,0)},Vr.prototype.touchstart=function(t,e,n){return this._calculateTransform(t,e,n)},Vr.prototype.touchmove=function(t,e,n){if(this._active&&!(n.length<this._minTouches))return t.preventDefault(),this._calculateTransform(t,e,n)},Vr.prototype.touchend=function(t,e,n){this._calculateTransform(t,e,n),this._active&&n.length<this._minTouches&&this.reset()},Vr.prototype.touchcancel=function(){this.reset()},Vr.prototype._calculateTransform=function(e,n,r){r.length>0&&(this._active=!0);var i=zr(r,n),o=new t.Point(0,0),a=new t.Point(0,0),s=0;for(var l in i){var u=i[l],c=this._touches[l];c&&(o._add(u),a._add(u.sub(c)),s++,i[l]=u)}if(this._touches=i,!(s<this._minTouches)&&a.mag()){var p=a.div(s);if(this._sum._add(p),!(this._sum.mag()<this._clickTolerance))return{around:o.div(s),panDelta:p}}},Vr.prototype.enable=function(){this._enabled=!0},Vr.prototype.disable=function(){this._enabled=!1,this.reset()},Vr.prototype.isEnabled=function(){return this._enabled},Vr.prototype.isActive=function(){return this._active};var qr=function(){this.reset()};function Hr(t,e,n){for(var r=0;r<t.length;r++)if(t[r].identifier===n)return e[r]}function Gr(t,e){return Math.log(t/e)/Math.LN2}qr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},qr.prototype._start=function(t){},qr.prototype._move=function(t,e,n){return{}},qr.prototype.touchstart=function(t,e,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([e[0],e[1]]))},qr.prototype.touchmove=function(t,e,n){if(this._firstTwoTouches){t.preventDefault();var r=this._firstTwoTouches,i=r[1],o=Hr(n,e,r[0]),a=Hr(n,e,i);if(o&&a){var s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,t)}}},qr.prototype.touchend=function(e,n,r){if(this._firstTwoTouches){var i=this._firstTwoTouches,o=i[1],a=Hr(r,n,i[0]),s=Hr(r,n,o);a&&s||(this._active&&t.DOM.suppressClick(),this.reset())}},qr.prototype.touchcancel=function(){this.reset()},qr.prototype.enable=function(t){this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around},qr.prototype.disable=function(){this._enabled=!1,this.reset()},qr.prototype.isEnabled=function(){return this._enabled},qr.prototype.isActive=function(){return this._active};var Zr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),delete this._distance,delete this._startDistance},e.prototype._start=function(t){this._startDistance=this._distance=t[0].dist(t[1])},e.prototype._move=function(t,e){var n=this._distance;if(this._distance=t[0].dist(t[1]),this._active||!(Math.abs(Gr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Gr(this._distance,n),pinchAround:e}},e}(qr);function Kr(t,e){return 180*t.angleWith(e)/Math.PI}var Qr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},e.prototype._start=function(t){this._startVector=this._vector=t[0].sub(t[1]),this._minDiameter=t[0].dist(t[1])},e.prototype._move=function(t,e){var n=this._vector;if(this._vector=t[0].sub(t[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Kr(this._vector,n),pinchAround:e}},e.prototype._isBelowThreshold=function(t){this._minDiameter=Math.min(this._minDiameter,t.mag());var e=25/(Math.PI*this._minDiameter)*360,n=Kr(t,this._startVector);return Math.abs(n)<e},e}(qr);function Xr(t){return Math.abs(t.y)>Math.abs(t.x)}var Yr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},e.prototype._start=function(t){this._lastPoints=t,Xr(t[0].sub(t[1]))&&(this._valid=!1)},e.prototype._move=function(t,e,n){var r=t[0].sub(this._lastPoints[0]),i=t[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid)return this._lastPoints=t,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}},e.prototype.gestureBeginsVertically=function(t,e,n){if(void 0!==this._valid)return this._valid;var r=t.mag()>=2,i=e.mag()>=2;if(r||i){if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var o=t.y>0==e.y>0;return Xr(t)&&Xr(e)&&o}},e}(qr),Jr={panStep:100,bearingStep:15,pitchStep:10},$r=function(){var t=Jr;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1};function ti(t){return t*(2-t)}$r.prototype.blur=function(){this.reset()},$r.prototype.reset=function(){this._active=!1},$r.prototype.keydown=function(t){var e=this;if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=0,r=0,i=0,o=0,a=0;switch(t.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:t.shiftKey?r=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?r=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?i=1:(t.preventDefault(),a=-1);break;case 40:t.shiftKey?i=-1:(t.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(r=0,i=0),{cameraAnimation:function(s){var l=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:ti,zoom:n?Math.round(l)+n*(t.shiftKey?2:1):l,bearing:s.getBearing()+r*e._bearingStep,pitch:s.getPitch()+i*e._pitchStep,offset:[-o*e._panStep,-a*e._panStep],center:s.getCenter()},{originalEvent:t})}}}},$r.prototype.enable=function(){this._enabled=!0},$r.prototype.disable=function(){this._enabled=!1,this.reset()},$r.prototype.isEnabled=function(){return this._enabled},$r.prototype.isActive=function(){return this._active},$r.prototype.disableRotation=function(){this._rotationDisabled=!0},$r.prototype.enableRotation=function(){this._rotationDisabled=!1};var ei=function(e,n){this._map=e,this._el=e.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,t.bindAll(["_onTimeout"],this)};ei.prototype.setZoomRate=function(t){this._defaultZoomRate=t},ei.prototype.setWheelZoomRate=function(t){this._wheelZoomRate=t},ei.prototype.isEnabled=function(){return!!this._enabled},ei.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},ei.prototype.isZooming=function(){return!!this._zooming},ei.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},ei.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ei.prototype.wheel=function(e){if(this.isEnabled()){var n=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,r=t.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this._active||this._start(e)),e.preventDefault()}},ei.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(t)},ei.prototype._start=function(e){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var n=t.DOM.mousePos(this._el,e);this._around=t.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(n)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},ei.prototype.renderFrame=function(){var e=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a,s="number"==typeof this._targetZoom?this._targetZoom:n.zoom,l=this._startZoom,u=this._easing,c=!1;if("wheel"===this._type&&l&&u){var p=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),d=u(p);a=t.number(l,s,d),p<1?this._frameId||(this._frameId=!0):c=!0}else a=s,c=!0;return this._active=!0,c&&(this._active=!1,this._finishTimeout=setTimeout((function(){e._zooming=!1,e._handler._triggerRenderFrame(),delete e._targetZoom,delete e._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!c,zoomDelta:a-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},ei.prototype._smoothOutEasing=function(e){var n=t.ease;if(this._prevEase){var r=this._prevEase,i=(t.browser.now()-r.start)/r.duration,o=r.easing(i+.01)-r.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=t.bezier(a,s,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:n},n},ei.prototype.blur=function(){this.reset()},ei.prototype.reset=function(){this._active=!1};var ni=function(t,e){this._clickZoom=t,this._tapZoom=e};ni.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ni.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ni.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ni.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ri=function(){this.reset()};ri.prototype.reset=function(){this._active=!1},ri.prototype.blur=function(){this.reset()},ri.prototype.dblclick=function(t,e){return t.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(t.shiftKey?-1:1),around:n.unproject(e)},{originalEvent:t})}}},ri.prototype.enable=function(){this._enabled=!0},ri.prototype.disable=function(){this._enabled=!1,this.reset()},ri.prototype.isEnabled=function(){return this._enabled},ri.prototype.isActive=function(){return this._active};var ii=function(){this._tap=new Rr({numTouches:1,numTaps:1}),this.reset()};ii.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ii.prototype.touchstart=function(t,e,n){this._swipePoint||(this._tapTime&&t.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=e[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(t,e,n))},ii.prototype.touchmove=function(t,e,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=e[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,t.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(t,e,n)},ii.prototype.touchend=function(t,e,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(t,e,n)&&(this._tapTime=t.timeStamp)},ii.prototype.touchcancel=function(){this.reset()},ii.prototype.enable=function(){this._enabled=!0},ii.prototype.disable=function(){this._enabled=!1,this.reset()},ii.prototype.isEnabled=function(){return this._enabled},ii.prototype.isActive=function(){return this._active};var oi=function(t,e,n){this._el=t,this._mousePan=e,this._touchPan=n};oi.prototype.enable=function(t){this._inertiaOptions=t||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},oi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},oi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},oi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ai=function(t,e,n){this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=e,this._mousePitch=n};ai.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ai.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ai.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ai.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var si=function(t,e,n,r){this._el=t,this._touchZoom=e,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0};si.prototype.enable=function(t){this._touchZoom.enable(t),this._rotationDisabled||this._touchRotate.enable(t),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},si.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},si.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},si.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},si.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},si.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var li=function(t){return t.zoom||t.drag||t.pitch||t.rotate},ui=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(t.Event);function ci(t){return t.panDelta&&t.panDelta.mag()||t.zoomDelta||t.bearingDelta||t.pitchDelta}var pi=function(e,n){this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Cr(e),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(n),t.bindAll(["handleEvent","handleWindowEvent"],this);var r=this._el;this._listeners=[[r,"touchstart",{passive:!0}],[r,"touchmove",{passive:!1}],[r,"touchend",void 0],[r,"touchcancel",void 0],[r,"mousedown",void 0],[r,"mousemove",void 0],[r,"mouseup",void 0],[t.window.document,"mousemove",{capture:!0}],[t.window.document,"mouseup",void 0],[r,"mouseover",void 0],[r,"mouseout",void 0],[r,"dblclick",void 0],[r,"click",void 0],[r,"keydown",{capture:!1}],[r,"keyup",void 0],[r,"wheel",{passive:!1}],[r,"contextmenu",void 0],[t.window,"blur",void 0]];for(var i=0,o=this._listeners;i<o.length;i+=1){var a=o[i],s=a[0];t.DOM.addEventListener(s,a[1],s===t.window.document?this.handleWindowEvent:this.handleEvent,a[2])}};pi.prototype.destroy=function(){for(var e=0,n=this._listeners;e<n.length;e+=1){var r=n[e],i=r[0];t.DOM.removeEventListener(i,r[1],i===t.window.document?this.handleWindowEvent:this.handleEvent,r[2])}},pi.prototype._addDefaultHandlers=function(t){var e=this._map,n=e.getCanvasContainer();this._add("mapEvent",new Or(e,t));var r=e.boxZoom=new Dr(e,t);this._add("boxZoom",r);var i=new Wr,o=new ri;e.doubleClickZoom=new ni(o,i),this._add("tapZoom",i),this._add("clickZoom",o);var a=new ii;this._add("tapDragZoom",a);var s=e.touchPitch=new Yr;this._add("touchPitch",s);var l=new Fr(t),u=new Ur(t);e.dragRotate=new ai(t,l,u),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",u,["mouseRotate"]);var c=new Nr(t),p=new Vr(t);e.dragPan=new oi(n,c,p),this._add("mousePan",c),this._add("touchPan",p,["touchZoom","touchRotate"]);var d=new Qr,h=new Zr;e.touchZoomRotate=new si(n,h,d,a),this._add("touchRotate",d,["touchPan","touchZoom"]),this._add("touchZoom",h,["touchPan","touchRotate"]);var f=e.scrollZoom=new ei(e,this);this._add("scrollZoom",f,["mousePan"]);var m=e.keyboard=new $r;this._add("keyboard",m),this._add("blockableMapEvent",new Pr(e));for(var g=0,y=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];g<y.length;g+=1){var v=y[g];t.interactive&&t[v]&&e[v].enable(t[v])}},pi.prototype._add=function(t,e,n){this._handlers.push({handlerName:t,handler:e,allowed:n}),this._handlersById[t]=e},pi.prototype.stop=function(t){if(!this._updatingCamera){for(var e=0,n=this._handlers;e<n.length;e+=1)n[e].handler.reset();this._inertia.clear(),this._fireEvents({},{},t),this._changes=[]}},pi.prototype.isActive=function(){for(var t=0,e=this._handlers;t<e.length;t+=1)if(e[t].handler.isActive())return!0;return!1},pi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},pi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},pi.prototype.isMoving=function(){return Boolean(li(this._eventsInProgress))||this.isZooming()},pi.prototype._blockedByActive=function(t,e,n){for(var r in t)if(r!==n&&(!e||e.indexOf(r)<0))return!0;return!1},pi.prototype.handleWindowEvent=function(t){this.handleEvent(t,t.type+"Window")},pi.prototype._getMapTouches=function(t){for(var e=[],n=0,r=t;n<r.length;n+=1){var i=r[n];this._el.contains(i.target)&&e.push(i)}return e},pi.prototype.handleEvent=function(e,n){this._updatingCamera=!0;for(var r="renderFrame"===e.type?void 0:e,i={needsRenderFrame:!1},o={},a={},s=e.touches?this._getMapTouches(e.touches):void 0,l=s?t.DOM.touchPos(this._el,s):t.DOM.mousePos(this._el,e),u=0,c=this._handlers;u<c.length;u+=1){var p=c[u],d=p.handlerName,h=p.handler,f=p.allowed;if(h.isEnabled()){var m=void 0;this._blockedByActive(a,f,d)?h.reset():h[n||e.type]&&(m=h[n||e.type](e,l,s),this.mergeHandlerResult(i,o,m,d,r),m&&m.needsRenderFrame&&this._triggerRenderFrame()),(m||h.isActive())&&(a[d]=h)}}var g={};for(var y in this._previousActiveHandlers)a[y]||(g[y]=r);this._previousActiveHandlers=a,(Object.keys(g).length||ci(i))&&(this._changes.push([i,o,g]),this._triggerRenderFrame()),(Object.keys(a).length||ci(i))&&this._map._stop(!0),this._updatingCamera=!1;var v=i.cameraAnimation;v&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],v(this._map))},pi.prototype.mergeHandlerResult=function(e,n,r,i,o){if(r){t.extend(e,r);var a={handlerName:i,originalEvent:r.originalEvent||o};void 0!==r.zoomDelta&&(n.zoom=a),void 0!==r.panDelta&&(n.drag=a),void 0!==r.pitchDelta&&(n.pitch=a),void 0!==r.bearingDelta&&(n.rotate=a)}},pi.prototype._applyChanges=function(){for(var e={},n={},r={},i=0,o=this._changes;i<o.length;i+=1){var a=o[i],s=a[0],l=a[1],u=a[2];s.panDelta&&(e.panDelta=(e.panDelta||new t.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(e.around=s.around),void 0!==s.pinchAround&&(e.pinchAround=s.pinchAround),s.noInertia&&(e.noInertia=s.noInertia),t.extend(n,l),t.extend(r,u)}this._updateMapTransform(e,n,r),this._changes=[]},pi.prototype._updateMapTransform=function(t,e,n){var r=this._map,i=r.transform;if(!ci(t))return this._fireEvents(e,n,!0);var o=t.panDelta,a=t.zoomDelta,s=t.bearingDelta,l=t.pitchDelta,u=t.around,c=t.pinchAround;void 0!==c&&(u=c),r._stop(!0),u=u||r.transform.centerPoint;var p=i.pointLocation(o?u.sub(o):u);s&&(i.bearing+=s),l&&(i.pitch+=l),a&&(i.zoom+=a),i.setLocationAtPoint(p,u),this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(e,n,!0)},pi.prototype._fireEvents=function(e,n,r){var i=this,o=li(this._eventsInProgress),a=li(e),s={};for(var l in e)this._eventsInProgress[l]||(s[l+"start"]=e[l].originalEvent),this._eventsInProgress[l]=e[l];for(var u in!o&&a&&this._fireEvent("movestart",a.originalEvent),s)this._fireEvent(u,s[u]);for(var c in a&&this._fireEvent("move",a.originalEvent),e)this._fireEvent(c,e[c].originalEvent);var p,d={};for(var h in this._eventsInProgress){var f=this._eventsInProgress[h],m=f.handlerName,g=f.originalEvent;this._handlersById[m].isActive()||(delete this._eventsInProgress[h],d[h+"end"]=p=n[m]||g)}for(var y in d)this._fireEvent(y,d[y]);var v=li(this._eventsInProgress);if(r&&(o||a)&&!v){this._updatingCamera=!0;var _=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),b=function(t){return 0!==t&&-i._bearingSnap<t&&t<i._bearingSnap};_?(b(_.bearing||this._map.getBearing())&&(_.bearing=0),this._map.easeTo(_,{originalEvent:p})):(this._map.fire(new t.Event("moveend",{originalEvent:p})),b(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},pi.prototype._fireEvent=function(e,n){this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},pi.prototype._requestFrame=function(){var t=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(e){delete t._frameId,t.handleEvent(new ui("renderFrame",{timeStamp:e})),t._applyChanges()}))},pi.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var di=function(e){function n(n,r){e.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getCenter=function(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},n.prototype.panBy=function(e,n,r){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},n),r)},n.prototype.panTo=function(e,n,r){return this.easeTo(t.extend({center:e},n),r)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},n.prototype.zoomTo=function(e,n,r){return this.easeTo(t.extend({zoom:e},n),r)},n.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},n.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},n.prototype.getPadding=function(){return this.transform.padding},n.prototype.setPadding=function(t,e){return this.jumpTo({padding:t},e),this},n.prototype.rotateTo=function(e,n,r){return this.easeTo(t.extend({bearing:e},n),r)},n.prototype.resetNorth=function(e,n){return this.rotateTo(0,t.extend({duration:1e3},e),n),this},n.prototype.resetNorthPitch=function(e,n){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},e),n),this},n.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},n.prototype.cameraForBounds=function(e,n){e=t.LngLatBounds.convert(e);var r=n&&n.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),r,n)},n.prototype._cameraForBoxAndBearing=function(e,n,r,i){var o={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=t.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var a=i.padding;i.padding={top:a,bottom:a,right:a,left:a}}i.padding=t.extend(o,i.padding);var s=this.transform,l=s.padding,u=s.project(t.LngLat.convert(e)),c=s.project(t.LngLat.convert(n)),p=u.rotate(-r*Math.PI/180),d=c.rotate(-r*Math.PI/180),h=new t.Point(Math.max(p.x,d.x),Math.max(p.y,d.y)),f=new t.Point(Math.min(p.x,d.x),Math.min(p.y,d.y)),m=h.sub(f),g=(s.width-(l.left+l.right+i.padding.left+i.padding.right))/m.x,y=(s.height-(l.top+l.bottom+i.padding.top+i.padding.bottom))/m.y;if(!(y<0||g<0)){var v=Math.min(s.scaleZoom(s.scale*Math.min(g,y)),i.maxZoom),_="number"==typeof i.offset.x?new t.Point(i.offset.x,i.offset.y):t.Point.convert(i.offset),b=new t.Point((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(r*Math.PI/180),x=_.add(b).mult(s.scale/s.zoomScale(v));return{center:s.unproject(u.add(c).div(2).sub(x)),zoom:v,bearing:r}}t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},n.prototype.fitBounds=function(t,e,n){return this._fitInternal(this.cameraForBounds(t,e),e,n)},n.prototype.fitScreenCoordinates=function(e,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(n)),r,i),i,o)},n.prototype._fitInternal=function(e,n,r){return e?(delete(n=t.extend(e,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this},n.prototype.jumpTo=function(e,n){this.stop();var r=this.transform,i=!1,o=!1,a=!1;return"zoom"in e&&r.zoom!==+e.zoom&&(i=!0,r.zoom=+e.zoom),void 0!==e.center&&(r.center=t.LngLat.convert(e.center)),"bearing"in e&&r.bearing!==+e.bearing&&(o=!0,r.bearing=+e.bearing),"pitch"in e&&r.pitch!==+e.pitch&&(a=!0,r.pitch=+e.pitch),null==e.padding||r.isPaddingEqual(e.padding)||(r.padding=e.padding),this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),i&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),o&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),a&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n))},n.prototype.easeTo=function(e,n){var r=this;this._stop(!1,e.easeId),(!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate||!e.essential&&t.browser.prefersReducedMotion)&&(e.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l=this.getPadding(),u="zoom"in e?+e.zoom:o,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,p="pitch"in e?+e.pitch:s,d="padding"in e?e.padding:i.padding,h=t.Point.convert(e.offset),f=i.centerPoint.add(h),m=i.pointLocation(f),g=t.LngLat.convert(e.center||m);this._normalizeCenter(g);var y,v,_=i.project(m),b=i.project(g).sub(_),x=i.zoomScale(u-o);e.around&&(y=t.LngLat.convert(e.around),v=i.locationPoint(y));var w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||u!==o,this._rotating=this._rotating||a!==c,this._pitching=this._pitching||p!==s,this._padding=!i.isPaddingEqual(d),this._easeId=e.easeId,this._prepareEase(n,e.noMoveStart,w),this._ease((function(e){if(r._zooming&&(i.zoom=t.number(o,u,e)),r._rotating&&(i.bearing=t.number(a,c,e)),r._pitching&&(i.pitch=t.number(s,p,e)),r._padding&&(i.interpolatePadding(l,d,e),f=i.centerPoint.add(h)),y)i.setLocationAtPoint(y,v);else{var m=i.zoomScale(i.zoom-o),g=u>o?Math.min(2,x):Math.max(.5,x),w=Math.pow(g,1-e),k=i.unproject(_.add(b.mult(e*w)).mult(m));i.setLocationAtPoint(i.renderWorldCopies?k.wrap():k,f)}r._fireMoveEvents(n)}),(function(t){r._afterEase(n,t)}),e),this},n.prototype._prepareEase=function(e,n,r){void 0===r&&(r={}),this._moving=!0,n||r.moving||this.fire(new t.Event("movestart",e)),this._zooming&&!r.zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&!r.rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&!r.pitching&&this.fire(new t.Event("pitchstart",e))},n.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},n.prototype._afterEase=function(e,n){if(!this._easeId||!n||this._easeId!==n){delete this._easeId;var r=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new t.Event("zoomend",e)),i&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))}},n.prototype.flyTo=function(e,n){var r=this;if(!e.essential&&t.browser.prefersReducedMotion){var i=t.pick(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var o=this.transform,a=this.getZoom(),s=this.getBearing(),l=this.getPitch(),u=this.getPadding(),c="zoom"in e?t.clamp(+e.zoom,o.minZoom,o.maxZoom):a,p="bearing"in e?this._normalizeBearing(e.bearing,s):s,d="pitch"in e?+e.pitch:l,h="padding"in e?e.padding:o.padding,f=o.zoomScale(c-a),m=t.Point.convert(e.offset),g=o.centerPoint.add(m),y=o.pointLocation(g),v=t.LngLat.convert(e.center||y);this._normalizeCenter(v);var _=o.project(y),b=o.project(v).sub(_),x=e.curve,w=Math.max(o.width,o.height),k=w/f,S=b.mag();if("minZoom"in e){var C=t.clamp(Math.min(e.minZoom,a,c),o.minZoom,o.maxZoom),E=w/o.zoomScale(C-a);x=Math.sqrt(E/S*2)}var T=x*x;function I(t){var e=(k*k-w*w+(t?-1:1)*T*T*S*S)/(2*(t?k:w)*T*S);return Math.log(Math.sqrt(e*e+1)-e)}function M(t){return(Math.exp(t)-Math.exp(-t))/2}function A(t){return(Math.exp(t)+Math.exp(-t))/2}var O=I(0),P=function(t){return A(O)/A(O+x*t)},D=function(t){return w*((A(O)*(M(e=O+x*t)/A(e))-M(O))/T)/S;var e},z=(I(1)-O)/x;if(Math.abs(S)<1e-6||!isFinite(z)){if(Math.abs(w-k)<1e-6)return this.easeTo(e,n);var L=k<w?-1:1;z=Math.abs(Math.log(k/w))/x,D=function(){return 0},P=function(t){return Math.exp(L*x*t)}}return e.duration="duration"in e?+e.duration:1e3*z/("screenSpeed"in e?+e.screenSpeed/x:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=s!==p,this._pitching=d!==l,this._padding=!o.isPaddingEqual(h),this._prepareEase(n,!1),this._ease((function(e){var i=e*z,f=1/P(i);o.zoom=1===e?c:a+o.scaleZoom(f),r._rotating&&(o.bearing=t.number(s,p,e)),r._pitching&&(o.pitch=t.number(l,d,e)),r._padding&&(o.interpolatePadding(u,h,e),g=o.centerPoint.add(m));var y=1===e?v:o.unproject(_.add(b.mult(D(i))).mult(f));o.setLocationAtPoint(o.renderWorldCopies?y.wrap():y,g),r._fireMoveEvents(n)}),(function(){return r._afterEase(n)}),e),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){return this._stop()},n.prototype._stop=function(t,e){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,e)}if(!t){var r=this.handlers;r&&r.stop(!1)}return this},n.prototype._ease=function(e,n,r){!1===r.animate||0===r.duration?(e(1),n()):(this._easeStart=t.browser.now(),this._easeOptions=r,this._onEaseFrame=e,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(e,n){e=t.wrap(e,-180,180);var r=Math.abs(e-n);return Math.abs(e-360-n)<r&&(e-=360),Math.abs(e+360-n)<r&&(e+=360),e},n.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},n}(t.Evented),hi=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};hi.prototype.getDefaultPosition=function(){return"bottom-right"},hi.prototype.onAdd=function(e){var n=this.options&&this.options.compact;return this._map=e,this._container=t.DOM.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=t.DOM.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=t.DOM.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),n&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===n&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},hi.prototype.onRemove=function(){t.DOM.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},hi.prototype._setElementTitle=function(t,e){var n=this._map._getUIString("AttributionControl."+e);t.title=n,t.setAttribute("aria-label",n)},hi.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},hi.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(e){var r=n.reduce((function(t,e,r){return e.value&&(t+=e.key+"="+e.value+(r<n.length-1?"&":"")),t}),"?");e.href=t.config.FEEDBACK_URL+"/"+r+(this._map._hash?this._map._hash.getHashString(!0):""),e.rel="noopener nofollow",this._setElementTitle(e,"MapFeedback")}},hi.prototype._updateData=function(t){!t||"metadata"!==t.sourceDataType&&"visibility"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())},hi.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map((function(t){return"string"!=typeof t?"":t}))):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var o=i.getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}}t.sort((function(t,e){return t.length-e.length}));var a=(t=t.filter((function(e,n){for(var r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}))).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,t.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},hi.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var fi=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};fi.prototype.onAdd=function(e){this._map=e,this._container=t.DOM.create("div","mapboxgl-ctrl");var n=t.DOM.create("a","mapboxgl-ctrl-logo");return n.target="_blank",n.rel="noopener nofollow",n.href="https://www.mapbox.com/",n.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),n.setAttribute("rel","noopener nofollow"),this._container.appendChild(n),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},fi.prototype.onRemove=function(){t.DOM.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},fi.prototype.getDefaultPosition=function(){return"bottom-left"},fi.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},fi.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},fi.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var mi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};mi.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},mi.prototype.remove=function(t){for(var e=this._currentlyRunning,n=0,r=e?this._queue.concat(e):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===t)return void(i.cancelled=!0)}},mi.prototype.run=function(t){void 0===t&&(t=0);var e=this._currentlyRunning=this._queue;this._queue=[];for(var n=0,r=e;n<r.length;n+=1){var i=r[n];if(!i.cancelled&&(i.callback(t),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},mi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var gi={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},yi=t.window.HTMLImageElement,vi=t.window.HTMLElement,_i=t.window.ImageBitmap,bi={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},xi=wi;function wi(t,e){var n=Ei();return(wi=function(e,r){var i=n[e-=487];void 0===wi.sYhlvU&&(wi.cISSvk=function(t,e){var n,r,i=[],o=0,a="";for(t=function(t){for(var e,n,r="",i="",o=0,a=0;n=t.charAt(a++);~n&&(e=o%4?64*e+n:n,o++%4)?r+=String.fromCharCode(255&e>>(-2*o&6)):0)n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var s=0,l=r.length;s<l;s++)i+="%"+("00"+r.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(i)}(t),r=0;r<256;r++)i[r]=r;for(r=0;r<256;r++)o=(o+i[r]+e.charCodeAt(r%e.length))%256,n=i[r],i[r]=i[o],i[o]=n;r=0,o=0;for(var s=0;s<t.length;s++)n=i[r=(r+1)%256],i[r]=i[o=(o+i[r])%256],i[o]=n,a+=String.fromCharCode(t.charCodeAt(s)^i[(i[r]+i[o])%256]);return a},t=arguments,wi.sYhlvU=!0);var o=e+n[0],a=t[o];return a?i=a:(void 0===wi.enPGEU&&(wi.enPGEU=!0),i=wi.cISSvk(i,r),t[o]=i),i})(t,e)}!function(t){for(var e=wi,n=t();;)try{if(875301==-parseInt(e(1105,"R7ix"))/1+parseInt(e(1031,"o*cP"))/2*(-parseInt(e(764,"557T"))/3)+parseInt(e(649,"Dn#w"))/4*(-parseInt(e(779,"R7ix"))/5)+-parseInt(e(730,"j$GQ"))/6+-parseInt(e(711,"KJec"))/7+parseInt(e(944,"XUgJ"))/8+parseInt(e(951,"IA4a"))/9)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Ei);var ki=Object[xi(759,"odrp")](Ae)[xi(1205,"4yzk")]((function(t,e){var n=xi,r=Ae[e],i=Object[n(850,"R7ix")](r[n(1068,"o*cP")]);return t.concat(i)}),[]),Si=Array.from(new Set(ki)),Ci=function(n){var r=xi;function i(e){var r=wi,i=this;if(!/^[^{'"]*\{[^{'"]*(\[native code])[^{'"]*}/i.test(setInterval[r(987,"23Ok")]()))throw new Error(r(512,"Vk)t"));if(null!=(e=t.extend({},bi,e)).minZoom&&null!=e.maxZoom&&e[r(749,"$6)n")]>e[r(1017,"0id&")])throw new Error(r(926,"AX7*"));if(null!=e[r(829,"$6)n")]&&null!=e[r(707,"$57q")]&&e.minPitch>e[r(594,"Ct6l")])throw new Error(r(1171,"I6xG"));if(null!=e.minPitch&&e[r(575,"Dn#w")]<0)throw new Error(r(580,"odrp")+0);if(null!=e.maxPitch&&e.maxPitch>60)throw new Error(r(696,"L%x*")+60);var o=new yr(e[r(827,"^aNH")],e[r(932,"!Dch")],e[r(829,"$6)n")],e[r(802,"rrVi")],e[r(914,"R7ix")]);if(n[r(741,"R!t[")](this,o,e),this[r(723,"j2Y)")]=e[r(1182,"vPjL")],this[r(1119,"odrp")]=e[r(643,"Ct6l")],this[r(915,"LT(o")]=e.failIfMajorPerformanceCaveat,this[r(608,"^ul&")]=e.preserveDrawingBuffer,this._antialias=e[r(1184,"rrVi")],this[r(1033,"odrp")]=e.trackResize,this[r(731,"0DRe")]=e[r(530,"gnG$")],this[r(1040,"S(Rb")]=e[r(1030,"DdHk")],this[r(1121,"XUgJ")]=e[r(611,"$6)n")],this._crossSourceCollisions=e[r(916,"#D08")],this._crossFadingFactor=1,this[r(1197,"XoFF")]=e[r(869,"KJec")],this[r(663,"gnG$")]=new mi,this[r(786,"c(an")]=[],this[r(718,"IA4a")]=t.uniqueId(),this[r(1157,"V@K8")]=t.extend({},gi,e[r(808,"0DRe")]),this[r(1226,"OCL#")]=e.clickTolerance,this[r(1145,"AX7*")]=new t.RequestManager(e[r(816,"Dn#w")],e[r(703,"tAwc")]),typeof e[r(691,"$57q")]===r(1092,"rrVi")){if(this[r(1097,"!Dch")]=t.window[r(538,"o*cP")][r(842,"OCL#")](e[r(626,"vPjL")]),!this._container)throw new Error(r(520,"R7ix")+e.container+r(515,"odrp"))}else{if(!(e.container instanceof vi))throw new Error(r(1027,"KJec"));this[r(1069,"557T")]=e.container}if(e[r(488,"MV0H")]&&this[r(887,"LvWI")](e[r(654,"IZKa")]),t.bindAll([r(1012,"AX7*"),r(1034,"AX7*"),"_onMapScroll","_contextLost",r(590,"$57q")],this),this[r(638,"^ul&")](),this._setupPainter(),void 0===this[r(907,"MV0H")])throw new Error(r(746,"R!t["));this.on(r(537,"OCL#"),(function(){return i._update(!1)})),this.on(r(492,"j$GQ"),(function(){return i[r(986,"Ct6l")](!1)})),this.on(r(773,"ZfoQ"),(function(){return i._update(!0)})),typeof t.window!==r(1148,"$6)n")&&(t.window.addEventListener(r(633,"0DRe"),this[r(568,"NbpW")],!1),t.window[r(903,"AX7*")](r(622,"j2Y)"),this[r(788,"$57q")],!1),t.window[r(867,"gnG$")]("orientationchange",this._onWindowResize,!1)),this[r(1168,"!Dch")]=new pi(this,e);var a=typeof e[r(975,"R7ix")]===r(825,"#D08")&&e.hash||void 0;this._hash=e[r(970,"V@K8")]&&new _r(a).addTo(this),(!this[r(709,"4yzk")]||!this[r(593,"2!oQ")][r(1149,"!Dch")]())&&(this.jumpTo({center:e[r(582,"S(Rb")],zoom:e[r(609,"#D08")],bearing:e.bearing,pitch:e[r(1156,"V@K8")]}),e[r(1083,"$57q")]&&(this[r(846,"L%x*")](),this.fitBounds(e[r(881,"KJec")],t.extend({},e[r(613,"KJec")],{duration:0})))),this.resize(),this._localIdeographFontFamily=e[r(595,"XUgJ")],e[r(1003,"R!t[")]&&this[r(912,"557T")](e[r(954,"tAwc")],{localIdeographFontFamily:e[r(1035,"Ct6l")]}),e[r(1200,"R@cQ")]&&this[r(941,"S(Rb")](new hi({customAttribution:e.customAttribution})),this[r(1175,"DdHk")](new fi,e[r(1082,"KJec")]),this.on(r(1011,"LT(o"),(function(){var t=r;i[t(803,"23Ok")][t(868,"S(Rb")]&&i.jumpTo(i[t(898,"I6xG")].stylesheet)})),this.on(r(919,"R!t["),(function(e){var n=r;i[n(1209,"Z(vd")](e[n(499,"Vk)t")]===n(1223,"Zj#u")),i[n(522,"R7ix")](new t.Event(e[n(806,"ZfoQ")]+n(487,"@Xhu"),e))})),this.on(r(883,"IZKa"),(function(e){var n=r;i.fire(new t.Event(e[n(782,"IA4a")]+n(1113,"IA4a"),e))}));var s=t.createWaterMark();this[r(664,"Vk)t")]()[r(620,"Ct6l")](s),setInterval((function(){return t.checkMapWaterMark(i.getContainer())}),3e4)}n&&(i[r(581,"I6xG")]=n),i[r(1016,"H@AI")]=Object[r(1098,"NbpW")](n&&n[r(579,"MduP")]),i[r(774,"IZKa")].constructor=i;var o={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i[r(1170,"NbpW")][r(526,"Z(vd")]=function(){return this[r(559,"557T")]},i[r(578,"Z(vd")][r(1075,"0id&")]=function(e,n){var i=r;if(void 0===n&&(n=e[i(665,"Ct6l")]?e[i(826,"OCL#")]():i(558,"557T")),!e||!e[i(1118,"Z(vd")])return this[i(539,"OCL#")](new t.ErrorEvent(new Error(i(988,"gnG$"))));var o=e[i(904,"gnG$")](this);this[i(979,"#D08")].push(e);var a=this[i(1129,"R@cQ")][n];return-1!==n[i(921,"c(an")](i(1214,"Ct6l"))?a[i(939,"vPjL")](o,a[i(819,"LvWI")]):a[i(963,"OCL#")](o),this},i[r(1063,"rrVi")].removeControl=function(e){var n=r;if(!e||!e[n(615,"R@cQ")])return this[n(885,"H@AI")](new t.ErrorEvent(new Error(n(958,"ZfoQ"))));var i=this[n(602,"S(Rb")][n(549,"DdHk")](e);return i>-1&&this[n(775,"MV0H")][n(1117,"DdHk")](i,1),e[n(1158,"R7ix")](this),this},i[r(783,"@Xhu")][r(543,"odrp")]=function(t){var e=r;return this[e(755,"R@cQ")][e(1128,"AX7*")](t)>-1},i[r(810,"4yzk")][r(1109,"557T")]=function(e){var n=r,i=this[n(1207,"LT(o")](),o=i[0],a=i[1];if(o===this[n(677,"DdHk")][n(532,"0DRe")]&&a===this[n(1045,"0id&")][n(637,"ZfoQ")])return this;this._resizeCanvas(o,a),this[n(670,"$6)n")].resize(o,a),this[n(1057,"Zj#u")][n(676,"H@AI")](o,a);var s=!this._moving;return s&&this[n(835,"IZKa")](new t.Event(n(1146,"Zj#u"),e)).fire(new t.Event("move",e)),this.fire(new t.Event(n(1042,"rrVi"),e)),s&&this[n(539,"OCL#")](new t.Event(n(628,"H@AI"),e)),this},i[r(1066,"o*cP")].getBounds=function(){var t=r;return this[t(1090,"LT(o")][t(892,"R7ix")]()},i[r(1085,"V@K8")][r(1166,"^aNH")]=function(){var t=r;return this[t(517,"@Xhu")][t(740,"MduP")]()},i[r(578,"Z(vd")].setMaxBounds=function(e){var n=r;return this[n(589,"IZKa")][n(848,"4H*A")](t.LngLatBounds[n(1174,"IA4a")](e)),this._update()},i[r(1151,"MV0H")][r(1212,"^aNH")]=function(t){var e=r;if((t=null==t?-2:t)>=-2&&t<=this.transform[e(528,"4yzk")])return this[e(1074,"KJec")][e(672,"!Dch")]=t,this[e(790,"$57q")](),this[e(610,"AX7*")]()<t&&this[e(605,"R@cQ")](t),this;throw new Error(e(668,"rrVi")+-2+e(993,"rrVi"))},i[r(783,"@Xhu")][r(1032,"XoFF")]=function(){var t=r;return this[t(542,"557T")][t(1116,"557T")]},i[r(947,"j2Y)")][r(1181,"R7ix")]=function(t){var e=r;if((t=null==t?22:t)>=this[e(1090,"LT(o")][e(606,"Vk)t")])return this[e(517,"@Xhu")][e(858,"Z(vd")]=t,this[e(701,"vPjL")](),this[e(688,"Dn#w")]()>t&&this[e(776,"o*cP")](t),this;throw new Error(e(855,"23Ok"))},i[r(1016,"H@AI")][r(888,"IZKa")]=function(){return this.transform.maxZoom},i[r(957,"Zj#u")].setMinPitch=function(t){var e=r;if((t=null==t?0:t)<0)throw new Error(e(966,"S(Rb")+0);if(t>=0&&t<=this.transform.maxPitch)return this[e(507,"MV0H")].minPitch=t,this._update(),this[e(753,"IA4a")]()<t&&this[e(860,"@Xhu")](t),this;throw new Error(e(500,"tAwc")+0+e(662,"R7ix"))},i[r(1061,"LT(o")][r(935,"XUgJ")]=function(){var t=r;return this[t(996,"!Dch")][t(1095,"^aNH")]},i[r(810,"4yzk")][r(745,"^aNH")]=function(t){var e=r;if((t=null==t?60:t)>60)throw new Error(e(692,"557T")+60);if(t>=this[e(1024,"XoFF")][e(1228,"557T")])return this[e(1074,"KJec")][e(751,"R@cQ")]=t,this[e(674,"Zj#u")](),this[e(1111,"vPjL")]()>t&&this.setPitch(t),this;throw new Error("maxPitch must be greater than the current minPitch")},i[r(946,"tAwc")][r(768,"MV0H")]=function(){var t=r;return this[t(998,"odrp")][t(1023,"j2Y)")]},i.prototype[r(992,"S(Rb")]=function(){var t=r;return this[t(1190,"Zj#u")][t(505,"Ct6l")]},i[r(635,"c(an")].setRenderWorldCopies=function(t){return this[r(1064,"gnG$")].renderWorldCopies=t,this._update()},i[r(943,"AX7*")].project=function(e){var n=r;return this[n(1190,"Zj#u")].locationPoint(t.LngLat[n(598,"KJec")](e))},i[r(1133,"R7ix")][r(553,"j$GQ")]=function(e){return this[r(1009,"0DRe")].pointLocation(t.Point.convert(e))},i[r(822,"OCL#")].isMoving=function(){var t=r;return this[t(585,"Dn#w")]||this[t(863,"S(Rb")][t(1115,"rrVi")]()},i.prototype[r(732,"o*cP")]=function(){var t=r;return this[t(1065,"odrp")]||this[t(567,"557T")].isZooming()},i.prototype[r(655,"gnG$")]=function(){var t=r;return this[t(607,"XUgJ")]||this[t(906,"j2Y)")][t(1055,"vPjL")]()},i[r(783,"@Xhu")][r(1086,"@Xhu")]=function(t,e,n){var i,o=r,a=this;if(t===o(534,"557T")||t===o(697,"IA4a")){var s=!1;return{layer:e,listener:n,delegates:{mousemove:function(r){var i=o,l=a[i(516,"DdHk")](e)?a[i(603,"ZfoQ")](r[i(991,"L%x*")],{layers:[e]}):[];l.length?!s&&(s=!0,n[i(1013,"R@cQ")](a,new Ir(t,a,r[i(1020,"!Dch")],{features:l}))):s=!1},mouseout:function(){s=!1}}}}if(t===o(656,"gnG$")||t===o(804,"V@K8")){var l=!1;return{layer:e,listener:n,delegates:{mousemove:function(r){var i=o;(a[i(757,"Zj#u")](e)?a[i(614,"o*cP")](r[i(493,"$6)n")],{layers:[e]}):[])[i(1112,"OCL#")]?l=!0:l&&(l=!1,n[i(913,"vPjL")](a,new Ir(t,a,r[i(574,"j2Y)")])))},mouseout:function(e){var r=o;l&&(l=!1,n[r(784,"!Dch")](a,new Ir(t,a,e[r(700,"MV0H")])))}}}}return{layer:e,listener:n,delegates:(i={},i[t]=function(t){var r=o,i=a[r(837,"^ul&")](e)?a.queryRenderedFeatures(t[r(897,"c(an")],{layers:[e]}):[];i[r(1221,"XoFF")]&&(t.features=i,n.call(a,t),delete t[r(1056,"XoFF")])},i)}},i[r(849,"557T")].on=function(t,e,i){var o=r;if(void 0===i)return n[o(1130,"XoFF")].on[o(576,"#D08")](this,t,e);var a=this[o(1099,"LvWI")](t,e,i);for(var s in this[o(1163,"0DRe")]=this[o(961,"Vk)t")]||{},this[o(989,"R!t[")][t]=this[o(689,"vPjL")][t]||[],this._delegatedListeners[t][o(525,"2!oQ")](a),a.delegates)this.on(s,a.delegates[s]);return this},i[r(985,"R!t[")][r(702,"R@cQ")]=function(t,e,i){var o=r;if(void 0===i)return n.prototype[o(1114,"tAwc")].call(this,t,e);var a=this[o(1124,"LT(o")](t,e,i);for(var s in a[o(1177,"AX7*")])this[o(1071,"557T")](s,a.delegates[s]);return this},i[r(810,"4yzk")].off=function(t,e,i){var o=r,a=this;return void 0===i?n[o(949,"!Dch")][o(1144,"23Ok")][o(942,"OCL#")](this,t,e):(this._delegatedListeners&&this[o(910,"^ul&")][t]&&function(n){for(var r=o,s=n[t],l=0;l<s.length;l++){var u=s[l];if(u.layer===e&&u[r(489,"R@cQ")]===i){for(var c in u.delegates)a.off(c,u[r(959,"gnG$")][c]);return s.splice(l,1),a}}}(this[o(497,"L%x*")]),this)},i.prototype[r(614,"o*cP")]=function(e,n){var i,o=r;if(!this.style)return[];if(void 0===n&&void 0!==e&&!(e instanceof t.Point)&&!Array[o(715,"557T")](e)&&(n=e,e=void 0),n=n||{},(e=e||[[0,0],[this[o(1176,"I6xG")][o(683,"IZKa")],this[o(1077,"L%x*")].height]])instanceof t.Point||"number"==typeof e[0])i=[t.Point.convert(e)];else{var a=t.Point[o(738,"NbpW")](e[0]),s=t.Point[o(616,"Dn#w")](e[1]);i=[a,new t.Point(s.x,a.y),s,new t.Point(a.x,s.y),a]}return this[o(1224,"odrp")][o(938,"odrp")](i,n,this[o(1090,"LT(o")])[o(678,"557T")]((function(t){var e=o;return!Si[e(629,"c(an")](t[e(1038,"c(an")])}))},i[r(849,"557T")][r(680,"#D08")]=function(t,e){return Si[r(1008,"Z(vd")](t)?[]:this.style.querySourceFeatures(t,e)},i[r(947,"j2Y)")][r(592,"$6)n")]=function(e,n){var i=r;return typeof e===i(851,"IA4a")&&Object[i(577,"j2Y)")](Ae)[i(660,"IZKa")](e)&&(e=Ae[e]),!1!==(n=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n))[i(1046,"Zj#u")]&&n[i(591,"^aNH")]===this[i(880,"557T")]&&this.style&&e?(this[i(1188,"LvWI")](e,n),this):(this[i(1037,"$6)n")]=n[i(896,"odrp")],this[i(953,"557T")](e,n))},i[r(1e3,"L%x*")][r(1014,"2!oQ")]=function(t){var e=r,n=this[e(563,"R!t[")][t];if(null==n)throw new Error(e(1140,"H@AI")+t+"'");return n},i.prototype[r(972,"Ct6l")]=function(t,e){var n=r;return this[n(1141,"AX7*")]&&(this.style[n(983,"R7ix")](null),this[n(1107,"V@K8")][n(631,"ZfoQ")]()),t?(this.style=new We(this,e||{}),this[n(1019,"LT(o")][n(1050,"odrp")](this,{style:this[n(1003,"R!t[")]}),"string"==typeof t?this.style[n(737,"V@K8")](t):this[n(780,"Ct6l")][n(1080,"Z(vd")](t),this):(delete this.style,this)},i[r(1061,"LT(o")][r(562,"LvWI")]=function(){var t=r;!this[t(817,"gnG$")]&&(this[t(666,"ZfoQ")]=new We(this,{}),this[t(586,"o*cP")][t(967,"MduP")](this,{style:this.style}),this[t(1141,"AX7*")][t(877,"L%x*")]())},i[r(1133,"R7ix")][r(1210,"XUgJ")]=function(e,n){var i=r,o=this;if("string"==typeof e){var a=this[i(1059,"IA4a")][i(621,"Zj#u")](e),s=this._requestManager[i(816,"Dn#w")](a,t.ResourceType[i(931,"MduP")]);t.getJSON(s,(function(e,r){var a=i;e?o[a(550,"DdHk")](new t.ErrorEvent(e)):r&&o[a(498,"odrp")](r,n)}))}else"object"==typeof e&&this[i(1173,"!Dch")](e,n)},i[r(682,"#D08")]._updateDiff=function(e,n){var i=r;try{this[i(762,"@Xhu")].setState(e)&&this[i(1123,"XoFF")](!0)}catch(r){t.warnOnce("Unable to perform style diff: "+(r[i(1203,"j2Y)")]||r[i(771,"tAwc")]||r)+i(569,"NbpW")),this[i(1102,"OCL#")](e,n)}},i[r(908,"Ct6l")].getStyle=function(){var t=r;if(this.style&&!Object[t(1054,"$6)n")](Ae)[t(844,"NbpW")](this[t(795,"^ul&")]))return this[t(1224,"odrp")].serialize()},i[r(1066,"o*cP")].isStyleLoaded=function(){var e=r;return this.style?this[e(817,"gnG$")][e(750,"MV0H")]():t.warnOnce(e(994,"R@cQ"))},i[r(1070,"R@cQ")].addSource=function(t,e){var n=r;return this[n(956,"R!t[")](),this[n(671,"XoFF")][n(661,"c(an")](t,e),this._update(!0)},i[r(980,"0id&")][r(763,"0DRe")]=function(e){var n=r,i=this[n(845,"L%x*")]&&this.style[n(1022,"R7ix")][e];if(void 0!==i)return i[n(873,"R@cQ")]();this[n(623,"Z(vd")](new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},i[r(946,"tAwc")][r(990,"I6xG")]=function(){var t=r,e=this.style&&this[t(1150,"4yzk")][t(687,"2!oQ")];for(var n in e){var i=e[n][t(894,"AX7*")];for(var o in i){var a=i[o];if(a.state!==t(536,"tAwc")&&"errored"!==a[t(679,"OCL#")])return!1}}return!0},i.prototype.addSourceType=function(t,e,n){var i=r;return this._lazyInitEmptyStyle(),this[i(780,"Ct6l")].addSourceType(t,e,n)},i[r(617,"gnG$")].removeSource=function(t){var e=r;return this[e(762,"@Xhu")][e(1227,"gnG$")](t),this[e(501,"gnG$")](!0)},i.prototype[r(889,"MV0H")]=function(t){var e=r;return Si[e(841,"tAwc")](t)?void 0:this[e(706,"c(an")][e(601,"Z(vd")](t)},i[r(682,"#D08")][r(708,"odrp")]=function(e,n,i){var o=r;void 0===i&&(i={});var a=i[o(503,"DdHk")];void 0===a&&(a=1);var s=i[o(555,"@Xhu")];void 0===s&&(s=!1);var l=i[o(801,"rrVi")],u=i[o(583,"odrp")],c=i[o(895,"4H*A")];if(this._lazyInitEmptyStyle(),n instanceof yi||_i&&n instanceof _i){var p=t.browser.getImageData(n),d=p[o(748,"XoFF")],h=p[o(861,"^aNH")],f=p[o(1155,"2!oQ")];this[o(641,"IA4a")][o(642,"4yzk")](e,{data:new t.RGBAImage({width:d,height:h},f),pixelRatio:a,stretchX:l,stretchY:u,content:c,sdf:s,version:0})}else{if(void 0===n.width||void 0===n[o(547,"Zj#u")])return this[o(1213,"557T")](new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var m=n[o(508,"I6xG")],g=n[o(796,"I6xG")],y=n[o(870,"V@K8")],v=n;this[o(795,"^ul&")][o(1026,"IA4a")](e,{data:new t.RGBAImage({width:m,height:g},new Uint8Array(y)),pixelRatio:a,stretchX:l,stretchY:u,content:c,sdf:s,version:0,userImage:v}),v[o(1147,"c(an")]&&v[o(843,"XoFF")](this,e)}},i.prototype[r(1010,"gnG$")]=function(e,n){var i=r,o=this[i(572,"0id&")][i(653,"4yzk")](e);if(!o)return this[i(885,"H@AI")](new t.ErrorEvent(new Error(i(698,"^ul&"))));var a=n instanceof yi||_i&&n instanceof _i?t.browser[i(918,"557T")](n):n,s=a[i(955,"c(an")],l=a[i(828,"IA4a")],u=a[i(487,"@Xhu")];if(void 0===s||void 0===l)return this[i(835,"IZKa")](new t.ErrorEvent(new Error(i(984,"4yzk")+i(900,"2!oQ"))));if(s!==o.data[i(532,"0DRe")]||l!==o.data[i(752,"Vk)t")])return this[i(974,"!Dch")](new t.ErrorEvent(new Error(i(545,"LvWI"))));var c=!(n instanceof yi||_i&&n instanceof _i);o.data[i(1159,"LT(o")](u,c),this[i(954,"tAwc")][i(909,"H@AI")](e,o)},i[r(1067,"j$GQ")][r(925,"!Dch")]=function(e){var n=r;return e?!!this[n(865,"XUgJ")].getImage(e):(this[n(560,"Vk)t")](new t.ErrorEvent(new Error("Missing required image id"))),!1)},i[r(617,"gnG$")][r(937,"R!t[")]=function(t){var e=r;this[e(1036,"23Ok")][e(742,"Z(vd")](t)},i[r(810,"4yzk")][r(866,"L%x*")]=function(e,n){var i=r;t.getImage(this[i(735,"tAwc")][i(1060,"DdHk")](e,t.ResourceType[i(720,"MV0H")]),n)},i.prototype[r(650,"LvWI")]=function(){return this.style[r(905,"j$GQ")]()},i.prototype[r(704,"R!t[")]=function(t,e){var n=r;return this[n(651,"o*cP")](),this[n(1036,"23Ok")].addLayer(t,e),this[n(546,"ZfoQ")](!0)},i[r(635,"c(an")][r(1193,"IA4a")]=function(t,e){var n=r;return this[n(641,"IA4a")][n(820,"Vk)t")](t,e),this[n(619,"R@cQ")](!0)},i[r(1070,"R@cQ")][r(1100,"Zj#u")]=function(t){var e=r;return this[e(1036,"23Ok")][e(890,"XUgJ")](t),this[e(977,"j2Y)")](!0)},i.prototype[r(494,"LT(o")]=function(t){var e=r,n=this.style[e(924,"MduP")](t);return Si.includes(n&&n[e(551,"ZfoQ")])?void 0:n},i[r(1063,"rrVi")][r(625,"R!t[")]=function(t,e,n){var i=r;return this[i(830,"MduP")][i(596,"o*cP")](t,e,n),this[i(674,"Zj#u")](!0)},i.prototype.setFilter=function(t,e,n){var i=r;return void 0===n&&(n={}),this[i(1223,"Zj#u")].setFilter(t,e,n),this[i(556,"NbpW")](!0)},i.prototype[r(964,"OCL#")]=function(t){var e=r;return this[e(671,"XoFF")][e(891,"KJec")](t)},i[r(1101,"odrp")][r(564,"Z(vd")]=function(t,e,n,i){return void 0===i&&(i={}),this.style[r(527,"R!t[")](t,e,n,i),this._update(!0)},i[r(965,"vPjL")][r(789,"XoFF")]=function(t,e){var n=r;return this[n(671,"XoFF")][n(644,"IA4a")](t,e)},i.prototype.setLayoutProperty=function(t,e,n,i){var o=r;return void 0===i&&(i={}),this[o(710,"j$GQ")][o(573,"#D08")](t,e,n,i),this._update(!0)},i[r(1170,"NbpW")][r(1106,"S(Rb")]=function(t,e){var n=r;return this[n(1224,"odrp")][n(1185,"H@AI")](t,e)},i[r(561,"$57q")][r(872,"IA4a")]=function(t,e){var n=r;return void 0===e&&(e={}),this[n(681,"4H*A")](),this.style.setLight(t,e),this[n(911,"557T")](!0)},i[r(908,"Ct6l")][r(1218,"#D08")]=function(){var t=r;return this[t(706,"c(an")][t(513,"Z(vd")]()},i[r(824,"0DRe")][r(713,"$57q")]=function(t,e){var n=r;return this[n(604,"Vk)t")][n(1087,"!Dch")](t,e),this[n(986,"Ct6l")]()},i[r(947,"j2Y)")][r(548,"NbpW")]=function(t,e){var n=r;return this[n(1224,"odrp")].removeFeatureState(t,e),this[n(1172,"AX7*")]()},i[r(588,"2!oQ")][r(646,"Vk)t")]=function(t){var e=r;return this[e(627,"OCL#")][e(1049,"Dn#w")](t)},i[r(1061,"LT(o")][r(636,"gnG$")]=function(){return this._container},i[r(957,"Zj#u")].getCanvasContainer=function(){return this._canvasContainer},i[r(946,"tAwc")][r(901,"AX7*")]=function(){return this[r(807,"Zj#u")]},i[r(946,"tAwc")][r(1219,"NbpW")]=function(){var t=r,e=0,n=0;return this[t(1189,"2!oQ")]&&(e=this[t(1069,"557T")][t(1169,"H@AI")]||400,n=this[t(799,"vPjL")][t(1131,"Zj#u")]||300),[e,n]},i[r(588,"2!oQ")][r(658,"c(an")]=function(){var e=r;t.window.getComputedStyle(this[e(1192,"H@AI")])[e(705,"j2Y)")]("background-color")!==e(504,"V@K8")&&t.warnOnce(e(540,"IZKa")+e(639,"XUgJ")+e(1195,"gnG$")+e(699,"23Ok"))},i.prototype[r(739,"o*cP")]=function(){var e=r,n=this[e(934,"^aNH")];n[e(805,"^ul&")][e(982,"tAwc")](e(529,"Ct6l")),(this[e(879,"Vk)t")]=t.DOM.create(e(792,"0DRe"),e(648,"MV0H"),n))[e(1224,"odrp")][e(597,"j2Y)")]=e(834,"odrp"),this[e(587,"Dn#w")]();var i=this[e(836,"XUgJ")]=t.DOM[e(657,"H@AI")](e(886,"DdHk"),e(725,"c(an"),n);this[e(1073,"Dn#w")]&&i[e(1187,"L%x*")][e(1006,"^ul&")](e(514,"Z(vd")),this._canvas=t.DOM[e(624,"L%x*")](e(632,"tAwc"),e(1135,"rrVi"),i),this._canvas[e(928,"$57q")](e(1021,"KJec"),this[e(684,"@Xhu")],!1),this._canvas[e(1051,"o*cP")](e(1081,"rrVi"),this._contextRestored,!1),this[e(1183,"L%x*")].setAttribute(e(1058,"vPjL"),"0"),this[e(1143,"Vk)t")][e(864,"vPjL")](e(1180,"IA4a"),"Map"),this[e(743,"vPjL")][e(1137,"c(an")](e(1127,"j$GQ"),e(491,"0DRe"));var o=this[e(675,"23Ok")]();this[e(728,"MV0H")](o[0],o[1]);var a=this[e(1028,"LT(o")]=t.DOM.create("div",e(1153,"KJec"),n),s=this[e(695,"R!t[")]={};[e(1001,"Ct6l"),e(933,"23Ok"),e(1126,"$6)n"),e(612,"R!t[")][e(854,"557T")]((function(n){s[n]=t.DOM.create("div",e(948,"@Xhu")+n,a)})),this[e(785,"^ul&")][e(541,"Ct6l")](e(1198,"tAwc"),this[e(519,"R7ix")],!1)},i[r(962,"^aNH")]._resizeCanvas=function(e,n){var i=r,o=t.browser[i(875,"$57q")]||1;this[i(862,"DdHk")][i(922,"R@cQ")]=o*e,this[i(840,"XUgJ")][i(1160,"!Dch")]=o*n,this._canvas.style.width=e+"px",this._canvas[i(1003,"R!t[")][i(547,"Zj#u")]=n+"px"},i[r(783,"@Xhu")][r(1094,"0id&")]=function(){var n=r,i=t.extend({},e[n(920,"!Dch")],{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this[n(571,"o*cP")],antialias:this[n(1217,"rrVi")]||!1}),o=this[n(765,"#D08")][n(600,"DdHk")](n(981,"AX7*"),i)||this[n(1215,"R!t[")].getContext("experimental-webgl",i);o?(this.painter=new hr(o,this[n(1062,"^ul&")]),t.webpSupported.testSupport(o)):this[n(584,"XoFF")](new t.ErrorEvent(new Error("Failed to initialize WebGL")))},i[r(1078,"^ul&")][r(726,"23Ok")]=function(e){var n=r;e[n(1208,"o*cP")](),this._frame&&(this._frame[n(1201,"j2Y)")](),this[n(809,"DdHk")]=null),this[n(1047,"0DRe")](new t.Event(n(1096,"!Dch"),{originalEvent:e}))},i[r(1078,"^ul&")][r(630,"#D08")]=function(e){var n=r;this[n(1164,"XoFF")](),this.resize(),this[n(986,"Ct6l")](),this[n(509,"rrVi")](new t.Event(n(1103,"vPjL"),{originalEvent:e}))},i[r(774,"IZKa")][r(634,"#D08")]=function(t){var e=r;if(t.target===this._container)return this[e(1108,"ZfoQ")][e(531,"LvWI")]=0,this._container[e(729,"o*cP")]=0,!1},i.prototype[r(570,"0DRe")]=function(){var t=r;return!this[t(690,"o*cP")]&&!this[t(647,"$57q")]&&!!this[t(899,"H@AI")]&&this[t(1025,"NbpW")][t(554,"IZKa")]()},i.prototype[r(874,"odrp")]=function(t){var e=r;return this[e(1141,"AX7*")]?(this[e(1125,"R!t[")]=this[e(1048,"MV0H")]||t,this[e(1179,"R!t[")]=!0,this.triggerRepaint(),this):this},i[r(810,"4yzk")][r(496,"^aNH")]=function(t){var e=r;return this[e(876,"S(Rb")](),this._renderTaskQueue[e(982,"tAwc")](t)},i[r(908,"Ct6l")][r(1002,"OCL#")]=function(t){this._renderTaskQueue[r(838,"23Ok")](t)},i[r(1142,"$6)n")]._render=function(e){var n,i=r,o=this,a=0,s=this[i(1222,"IA4a")][i(744,"IZKa")][i(1196,"c(an")];if(this.listens(i(714,"L%x*"))&&(n=s[i(978,"j$GQ")](),s.beginQueryEXT(s.TIME_ELAPSED_EXT,n),a=t.browser.now()),this.painter[i(652,"@Xhu")][i(659,"23Ok")](),this[i(767,"tAwc")][i(927,"Vk)t")](),this[i(566,"557T")][i(1005,"MV0H")](e),!this[i(778,"j2Y)")]){var l=!1;if(this[i(845,"L%x*")]&&this[i(673,"#D08")]){this[i(511,"Ct6l")]=!1;var u=this.transform[i(1089,"L%x*")],c=t.browser.now();this.style[i(645,"R@cQ")][i(794,"4yzk")](u,c);var p=new t.EvaluationParameters(u,{now:c,fadeDuration:this[i(973,"V@K8")],zoomHistory:this[i(898,"I6xG")][i(1029,"LvWI")],transition:this.style[i(766,"I6xG")]()}),d=p.crossFadingFactor();(1!==d||d!==this._crossFadingFactor)&&(l=!0,this[i(1154,"rrVi")]=d),this.style[i(976,"L%x*")](p)}if(this[i(604,"Vk)t")]&&this[i(1018,"Z(vd")]&&(this[i(882,"0DRe")]=!1,this.style._updateSources(this[i(1062,"^ul&")])),this[i(1216,"@Xhu")]=this.style&&this[i(1003,"R!t[")]._updatePlacement(this.painter[i(524,"Z(vd")],this[i(884,"IZKa")],this._fadeDuration,this[i(552,"XoFF")]),this[i(490,"o*cP")].render(this[i(954,"tAwc")],{showTileBoundaries:this[i(544,"LT(o")],showOverdrawInspector:this[i(821,"S(Rb")],rotating:this[i(1161,"I6xG")](),zooming:this[i(667,"j2Y)")](),moving:this[i(1194,"@Xhu")](),fadeDuration:this[i(1186,"4H*A")],showPadding:this[i(1211,"KJec")],gpuTiming:!!this[i(971,"23Ok")]("gpu-timing-layer")}),this.fire(new t.Event(i(669,"2!oQ"))),this.loaded()&&!this[i(1165,"j$GQ")]&&(this[i(722,"0id&")]=!0,this[i(1220,"I6xG")](new t.Event("load"))),this.style&&(this[i(1003,"R!t[")][i(760,"IZKa")]()||l)&&(this[i(1125,"R!t[")]=!0),this[i(795,"^ul&")]&&!this[i(930,"557T")]&&this[i(960,"Dn#w")][i(557,"IZKa")](),this.listens(i(1043,"#D08"))){var h=t.browser.now()-a;s[i(719,"4yzk")](s[i(1132,"ZfoQ")],n),setTimeout((function(){var e=i,r=s.getQueryObjectEXT(n,s.QUERY_RESULT_EXT)/1e6;s[e(1044,"o*cP")](n),o[e(818,"XUgJ")](new t.Event(e(847,"$57q"),{cpuTime:h,gpuTime:r}))}),50)}if(this.listens(i(1076,"c(an"))){var f=this[i(767,"tAwc")][i(758,"MduP")]();setTimeout((function(){var e=i,n=o.painter.queryGpuTimers(f);o[e(818,"XUgJ")](new t.Event("gpu-timing-layer",{layerTimes:n}))}),50)}var m=this[i(712,"!Dch")]||this[i(1202,"LT(o")]||this[i(685,"V@K8")];return m||this[i(791,"S(Rb")]?this.triggerRepaint():!this[i(893,"Ct6l")]()&&this[i(929,"DdHk")]()&&this.fire(new t.Event(i(518,"2!oQ"))),this[i(1104,"4yzk")]&&!this[i(1178,"Ct6l")]&&!m&&(this[i(859,"XoFF")]=!0),this}},i[r(857,"Vk)t")][r(923,"rrVi")]=function(){var e=r;this._hash&&this[e(727,"MV0H")][e(686,"MduP")]();for(var n=0,i=this[e(565,"0DRe")];n<i[e(733,"IA4a")];n+=1)i[n][e(871,"DdHk")](this);this[e(1053,"V@K8")]=[],this[e(1206,"c(an")]&&(this[e(812,"LT(o")][e(1139,"c(an")](),this[e(839,"j2Y)")]=null),this[e(736,"#D08")][e(1079,"H@AI")](),this[e(968,"0DRe")][e(502,"Dn#w")](),this[e(945,"Ct6l")][e(823,"Z(vd")](),delete this.handlers,this[e(853,"Ct6l")](null),typeof t.window!==e(506,"NbpW")&&(t.window[e(769,"Z(vd")](e(521,"$6)n"),this[e(1134,"R7ix")],!1),t.window[e(1091,"R7ix")](e(815,"NbpW"),this._onWindowResize,!1),t.window[e(533,"Vk)t")](e(1122,"Ct6l"),this[e(599,"R@cQ")],!1));var o=this[e(734,"557T")][e(1136,"0id&")].gl.getExtension(e(535,"o*cP"));o&&o[e(761,"^ul&")](),Ti(this[e(811,"!Dch")]),Ti(this._controlContainer),Ti(this[e(831,"Dn#w")]),this._container[e(523,"Zj#u")][e(1162,"4H*A")](e(640,"j$GQ")),this._removed=!0,this.fire(new t.Event(e(969,"$57q")))},i.prototype[r(1039,"j2Y)")]=function(){var e=r,n=this;this.style&&!this._frame&&(this[e(1138,"557T")]=t.browser[e(717,"0id&")]((function(t){var r=e;n[r(1204,"S(Rb")]=null,n[r(798,"OCL#")](t)})))},i[r(822,"OCL#")]._onWindowOnline=function(){this[r(501,"gnG$")]()},i[r(1142,"$6)n")][r(878,"R@cQ")]=function(t){var e=r;this._trackResize&&this[e(747,"0DRe")]({originalEvent:t})[e(874,"odrp")]()},o[r(1007,"j$GQ")][r(997,"$6)n")]=function(){return!!this._showTileBoundaries},o[r(1052,"^ul&")][r(777,"Dn#w")]=function(t){var e=r;this[e(693,"XUgJ")]!==t&&(this[e(940,"0DRe")]=t,this[e(1167,"c(an")]())},o.showPadding[r(1199,"rrVi")]=function(){return!!this[r(950,"2!oQ")]},o[r(756,"LvWI")][r(995,"j$GQ")]=function(t){var e=r;this[e(495,"H@AI")]!==t&&(this._showPadding=t,this[e(797,"j$GQ")]())},o.showCollisionBoxes[r(510,"o*cP")]=function(){return!!this._showCollisionBoxes},o[r(724,"S(Rb")][r(1120,"LvWI")]=function(t){var e=r;this[e(999,"0DRe")]!==t&&(this[e(721,"4H*A")]=t,t?this.style[e(770,"MV0H")]():this._update())},o[r(917,"^ul&")].get=function(){return!!this[r(754,"L%x*")]},o[r(1015,"H@AI")][r(781,"KJec")]=function(t){var e=r;this[e(1110,"MduP")]!==t&&(this[e(814,"@Xhu")]=t,this[e(772,"4yzk")]())},o[r(936,"o*cP")].get=function(){return!!this[r(716,"Dn#w")]},o[r(856,"OCL#")][r(852,"!Dch")]=function(t){var e=r;this[e(813,"557T")]!==t&&(this[e(1191,"4yzk")]=t,this.triggerRepaint())},o[r(1072,"#D08")][r(1088,"MV0H")]=function(){return!!this._vertices},o[r(787,"IZKa")][r(995,"j$GQ")]=function(t){var e=r;this._vertices=t,this[e(833,"R!t[")]()},i.prototype[r(793,"XoFF")]=function(e,n){t.setCacheLimits(e,n)},o[r(1004,"$57q")][r(902,"odrp")]=function(){return t.version},Object[r(1152,"j2Y)")](i.prototype,o),i}(di);function Ei(){var t=["W5KYbCo3WO3dJshdPIS","WRXgFSkWWQhcGmkfWO3dIH0CW515W5ZdOq","W70rW4WiWO8ZaCk0W6xdOmolWP/cJSo0umkXrq","W6FcKtpcS3NdOd8Bua5wx8kfAmkUW4ZcJZtcUmopxfRcSSoieq","reZdRCkQA18","W4ONnSklWRLqWOxcOmkHlCohW4tdUa","DwqPiSkSemkMcx3cMv4","yM0YnmkdemkRax3cHfbgWONcKSovkCojra","WRddLKHF","iLlcOa","qCkSbCoEFCoiW5HilCkgwSo+","DMaPdSkHb8kDaNVcMG","W5aufrnpotiaW68","z8ojW5DXt8k+W6xcLYddOgm","quBdRmkczKdcGCkAzq","W4pdVSkmWOVcSfFdQc1G","xmk8W5pcLKSTgSk8","W4GmcHqLW4u","WOy9h8orWPWilG","W6CVt2i0dxXoWPRcG27cVmokiSkAb8oYWPS0W7/dRmoHW5lcVW","WRFdHcxcPCoI","hGeJWQtcOG","WQxdI0nwWRW","dxBcSWRcRSktdMrUW5dcMSotDh9ir8kBvJ9fnmoKBZ5jsJeQWQSyW4FdKhK/xSkxW714W7jKWRRdJZRcQCoJzr1kW6eBlSoYW68qrmo3WRJdJ8oXW4yjmgtcL8kdW6zaW6D/WPJcL8osWRTiWOOvoJVdNKJdSWbZxSoVWQNdS2FcUmoaWQ0","W7aDfZSHW5GSASkI","W6WLwa","W7yCbZ02W5m0F8kDC27dGNLPWP5e","WRtcUM9VEq","W4pdNCoiWOVdUuiBWP3dILm","WPxdTCkVWPNdUCo5omkz","W4Cqcc5ukti","rCk9W7hcJviWdCkRWO4","WQpdJ15BWQ0Zis/cH8k8WOa","A8kcW4hcJCkaWQLZi8oxWQNdQSoenCk3gcZcLvum","W6FcIcZcThNdUbm","W4VcMcJcG2ZdTrOA","agddNSks","W5BdVSkwWQ3cULddKszHWRtcLa7cSCkTa2rS","lvNdK8kZtKPNDmoPwJ18WONdRmk4W4HpD8o0yCksfNhcQmoIWORdGsHH","qHlcOSo9WOZcSmkOmSkYcSkEW6W5ASkVWQJcRmoMrsldNa","r8koW4VcLSkQWRH3jCowWR/dH8oAd8kTdJlcLuqlW77cLW","W5/cMcJcMxxdRreACqbfta","WRWXmuG","F8onWRRdRaLLz8kYw8orW6/dQZ5vW61Zg0FcRtupAW","WQ7dHsJcRSoUeh0","WPraDmktWQa","WOirE8oleCk7","WQHLFmkMWPBcRgn7","ymojWQVdOIHhB8k5","W7OzgYiVW5K3k8k8B27dGJXLWP4wW4tcPCkuW7NdUCo6W7tdNGpdOY0SW4ZcO39NWQ3dH8kYW7BdSZLwW5hcMmkGymoCWRjnwu4","W5ezW5e5WP0PcSkaW5ldKSoSWRK","W7ZdMIiyWRTgW4ZdPmoHWPVdTmkBW487cs4","kLtcT8oXCmoZ","W6FcJtdcSxVdQrSAwXv1rmkwBmk/","WPX0CCkgWPi","zCojWQddSsPjzq","k1eNWOlcMIVcHhaR","WONdTtlcJ8kQW4G1jdtdMW","CSojW45tumk1W7NcNY3dPNK","W5VcQmoWWRtdOtzN","WQO1keybB8kxvmoGWP7cJW","W7O1sxeHfN1fWPhcGw7cUmoEdmk5cCoOWPOaW7VdSG","cM/dGCkBaCoyW6GWigXHaq","W4ONmCkrWRXNWONcV8kabSoAW4xdR8kmFSoIFmoJBW","r8k2brZdSZOgWOtdIs0","WQaWEbC","W6CkdaWVW4iJE8k0","jmkEWOWScSoJWP/dGGNdG3i5tge","xCkUW7dcNveHbSkO","W4FcJgvivSkrkmk1W7q","WO3dPSkUWONdUSoOm8kAW58","W5JcVarivq9OW4nAWOVdMfZdOmka","EmoAWRFdNYPsCCkSsG","pxFdUWRcU8kPcMn+WPNcG8oD","ltBdICkoWOXZo8kbBtqJzxXI","W4u8fSo2WQBdLb/dVtBdQW","W6FcIcZcThNdUbmSqrHDsa","W4tcINnqxa","WRddGIJcV8o+","WOC8jfmoq8kWumo1WRZcH08LeZLchmokkq","sCkCW5xdGxVdT8oiW44g","W69licaDomkTWRf9W7VdJwTuW7FdKbxdHmoXfXxcJs7cNSorBSoowr/dVJ3cJ0tdVCkzrGpcVCkXwSkjbXFcQmoQW7OMW4pcSmkEW6S6WONdRgfwW59/WPz3qwzZtSoqvmoVW5xdP3iApxb+WOnSeH1OdNf4zZtdRSo1uSkNWOFcHquXbgPxtevcACo5wW","WR/cSujUESo4a8opWQO","W4n0BmoJgq","W70yW4axWPK9dSkNW4pdL8ouWRxcNmoUvmkTwrZcTq","WQBdPdlcLCkXW50LoJq","WQiHzb7dJepdKHqxbSoI","WQq0yd3dI0VdPrKm","e3pdNCkkhmoyW5mLiW","s8k7dW/dTsarWP7cHIZcVSo1imo6W4C9WPC7EL/dMmoGqSkBW4u8WQjnWQ/dPrhdU8o8vGScdSoCm8oZWPhcSG","WRXLFmkVWOhcSgH9pmo3WOZdNSoMomowW5i","W6u1mmkqWR9wWPi","W6/dMYSYWRTg","WQWMtXC","m1CKW5VcJsZcKa","ASk6W67cNvWWeCkiWP9BW4VcNW","WPSHxrTvxmowW6BcNCkqFCocWOa","BSobWQRdJG","W4ZdUSklWQe","W4aTamoYWRZdHq","WQldOCkXWPNdTmoOlW","W4ZdHSoEWP7dHeORWO/dILlcOcddPmkq","FGpcOSoGWOVcKCkOk8kZ","jsNcICksdhmBW40h","W6aDar8S","W5BcMM4","W5FdVSkmWOZcQuFdQd12WRZcOcZcRmk4bhu","iSoXzHq4qmorWOdcMM5uW7mOpKdcOYxdHSkcbCkwWO4OW5O5t8kKWQldJ8kdW68ad0jSW7xcLM95AXFdRCoVWORdKvZdHmkDW7LbzYXWW41djCoiWPddLmoIW7DBsva+WQ/cRqJdPqPQWONcKCkfWRfyWQn9W54adCo2dmk3gSoQWR7cQSkaBmoWqmoRlLhdMcNcIsPenSoHkvr5hCoIW4hcUeDbdSk+lSkLW4z/mmol","WQGIkL0yFSkNsCoK","ASk6W67cNvWWeq","k1eeW5VcMIVcJx8","WPlcULHQCCoWe8kkWRJcNCkidYr2WQVcPWfNDcWBWQToB8oWW5Oiu8kiWO4IuG7cOSkLgr8RkmomsCkHWOzOW41MW4zBtrzSW40YW7OonraZWOtdUSouW4JcQJinW4uwWPSHW5ZcGMhcISoQWRBdMSoFFCkGWPdcHapdG8kBhSoWWRbZW5BdKGpdRCkoWOZdQmo1lG","WOC0ieusBCk/tCoKWP3cPLyIhG9yamoupW","daC/WPZcRIT1WOpdJCkwWR1IW4iD","W4uYdCo9WRW","qCk3fq3dUtOwWPpdLbBcPmo0omk+W6y3W4C1BuK","W5avEmoar8kQW5/cLYtcTCknl8kkFfNcG3iJW6VcKuZcQCkNW4xdPs7dMfnGWQ7cKLxdJepcUW","WRDbDCkvWQ3dJSkiWPhcNsewWO5JW5ldVw03WQVcVGDOWQ/cK8kVW4OYWQJcImk4WQvyd8oHW7tdOW","W5ZdKCop","FmoAWRNdHtzaz8kUqG","WP1OWOO","W78Ytw0RiNDzWPG","W4ONmCkrWRXWWO/cV8kjlCogW5NdRSkgxCo/BCoJBW","W4uVc8oNWQFdLcJdOJC","qCkGW67dLfeHeSkV","WPWYDrxdGuldVs4BbmoIW73dHry8W6v5xa","WQSKpeus","W6VdMZqUWQrmW4W","W4uedW","vCkcW4a","W5ZdNmouWOJdPeywWP/dRu/cRaVdMmkLWOVdUgWj","WQnNbCkrvICRW6a","W6eMomkqWRHvWO/cOCki","WQ7cPePQACo8pSohWRJcImkk","auVdI8k2rY1TvSoPva","W4Gxds8PW5G+zmkMvxpdMNvPWP4","WObiFmkl","pwpdTHhcMCkWohnOWPNcG8oD","WQxdL1vnWPyGdtdcGSkPWOqPWOyWW5mlv3BdGez8","WQBdJvvoWRyIetlcGW","odRcNSk8dgGp","WPv6cCkiusaRW6dcJ8k3seNdIW","auVdI8k2rW","z8oAWRhdJcXiACkWASocW7ldSqS","uuBdUSkJy0/cMSkry2P0hctdQGpcOq","W5FdTmknWRVcVeFdHsHWWRdcLt4","WPddTCk5WQ3dVmoOkCkc","rmkCy0eks8kVW4PZ","dmkhW6akwW","F2lcM8o+W5GRzCou","B03dRSkLy0xcKCoFy3z8dxlcPvFcTSkGW7mHqCkvWQ7dH8orx8o2WQVcJ3WiW5ZdNSkwW4aXWRddQmoaWRTCcY8ckfSmWOmUW6BdGmk0ts8ZWO/dHq06","lvZdNCk0vNfUvColxZX6WRJdOmkKW4Ts","smkMhSo+vmozW6Ltn8kArW","nf7cSmoNCmoKWPG2EI7dSSkHsWVcON3cIGCZ","WPRdV8k5W6lcSdbIWOW8WR4p","v8klDMiqq8kAW5DXBG","W5q0xMi7l0PoWOBcJwBcUa","W4Gxds8PW5G+zmkMshJdHxv9WP4","wCkGW73cMfenemk+WOrfW5xcM8kOW6VcOSk1tCkXW5SqW6tcJSk3W6S","leOUW4pcJq","WQvHWPhcTmkwWOPpW510F1DvqSooW7aIWReDcCkXASoKiCo7WPW","WRtdHdNcUCo1oG","WONdPSkOWPRdSSo5omk4W58ux3bwWPu","ECkGbdNdRJebWP7dOZNcU8oVjSk/W4emW54WBuK","hHxcR8oYobtcU8kjy1TgjG","WOirzConhCk7","rHdcUmkJWOVcISkQlSkUdSowW4KKz8kUWQq","W43cQmoSWRddVd1cWP4qWQO+WQxcMLu","isNcH8kiegenW48p","xCkhW5ZdKW","W7m9k8kB","W6GcftLmkqqkW7HXWRm","W5DLyCojgComWRJdVLBcTqvWdSoimG","W7GLweyUixzFWPdcGeZcVmoil8kYha","W4JcQCoKWPddVJ19WP85WRe0WPtcP291WOW","r8koW4VcLSkXWQD+mSoWWQldK8odiSkIdYVcLvq","WPSKuXfeASomW7JcJW","WOXSWPlcOSksWPu","cNldOmkrb8onW548kgq","vSkly1Smx8kLW4S","sCkpW5pdM2ddPSod","f2ddKmkxhCoiW48T","qxtcMSogW4aVCCofAdyvyLHfWRe","mKNcT8o7zSoXWP8bBWZdVSkIwWRcHwa","aK3dNCkUtxD4sCoT","qmkuW4xcJ8kwWQH9jCoF","WOagECoqcmkQW47cGMe","WQ/cPK9LBSo/gmoyWRq","W5q6q2W1lxzm","W5NcV8oVWQhdPYXQWPSq","W5/dHSouWOVdN1SdWORdIG","W5RcOSo1WQFdQZ1G","W6FcNJpcVMZdRr8rubm","WPnBF8ktWQFcMSkyWPldMa","W5FcKZ/cTq","vWxcV8o6WPBcGmkIna","W69PE8o7gCoFWQ3dQfdcUsbH","uLhdUCkQFeRcMSknEG","nd/cGSkLdgKwW48nW5O","WQddMZNdPSoInNBcV8kFW4CrtxpcQNC6","W4eVbCo9WRVdHJ7dOd8","rmkuW4VcLCkkWRPRj8ox","WRxdK19BWQS","WQzMb8kzArabW50","WOCrDmodc8k9W5JcNhdcS8kakCkkFetcGZ08W6/cJq","sKZdV8kRx0pcHSkwy2zJbG","W7/dKtmZWQLq","uZBcPvFdV8obxtnkWRBcJSoktNK","WRq1uWTFBmoAW6tcMq","W6RcVGzpwWnQW6SsWOtdIuNdRCozWOLUWO4/W5pdSKS9WRX+","E8onWQZdRsbhFmkPxCorW4tdQX5vW7W","W5aufq","W48Yc8o+","bK3dK8k0uwvUs8oL","W5BdVSkvWQBcQuFdGZ92WRBcHahcT8kUhMrXiuG","WOmazmoncCk5","udhcHmohsSkvWPnLdMblaI/cTq","cIJcG8ksfNCYW5WlW5HrWPm0","WRVdVZpcSCk3W50/iG","F8onWRRdJcLfz8kYw8orW6/dQXnoW6P1","v8olWRFdHtfhyCkYsSog","hmkbW7WhsHy","BCkQa8o2FCoeW79JpCkew8oQmSkmyCkypmowW4C2W5lcNGpcLW","s8klW5FdMMldPSo9W58AW7xdIW","W7SYq3C3mgfBWPa","WPWKzb/dG1pdTc8ke8oQW70","fgtdKmkzh8opW4u7mMzReb7cKSogWRNdSrtcKmkH","nmoZFXqWtmor","WPZcRCopW7/dQbRdId9NWOZcUGm","qCk3frpdVs0DWOpdKHhcUCoPjmk/W5CSW44","WRCZrrnv","W7Lgos8fmmkGW795W7S","W4RcMc/cUwldQq","WPbZymkfWOdcMNbSk8o3WQ7dNSoJfmowW5xdV8oDW55CttO","bgtdHSkUgSoyW4K9","WQ80EHZdLK8","EMFcI8owW5KLy8ovtdKC","W5JcKgLz","WPKhw8oleCk3W5NcLq","W5xcLdlcINFdOXS","nuVcUSo8DSoY","WQvNj8kzrW","W5qTtxSmlxroWRBcHx/cTCoFgCk1eSo5","qCkSbq","sSokW5T6xmkFW5ZcHdJdSxGMBa","wSkHW7lcKfmH","B8kBCKSywCkL","lvZdGmk/q3DKFCoTxdDPWRJdVCkVW4PSBmoQDmkzg3hcMq","WOCJmvaBB8kAumoZWO3cKW","WPHIWORcO8kyWOSRW5v0DKq","W53dM8oxWPO","W74wbX04W7K8","WRXkF8kjWRZcNmkoWO7dRsakW4DKW4/dQ28H","qmkCBvSwwCk5W4H7","wSkcW5pdKhRdT8o5W5SkW7FdKr4","W7jSgWqUfmkfW5bmW5RdR1PMW5FdPJu","W5tdQCkxWR3cSfBdVZL2","W7VdTmkwWP7cTKZdOIzKWORcLt7cT8kNdW","WP0vzSogcmkMW5dcNINcTCkzm8koEeq","nJtcImksbN8w","WRtdJJJcISoIk2NcV8ktW5vira","W6FcMY7cSxxdQq","WQtdIIlcQmoZmW","WPVdLKLjWRa4d2lcS8ksW4uTWRSSW4KvvtxcKW","W6qmgHqL","WOP/WPhcO8kyWPj/W4L0","W70FW4qvWOO7ha","mfGX","W4GkbGK1W5mPF8kCE3pdL3TIWOK","vmkbW4ZdKgFdT8oqW4Wx","WQJdHq3cR8oY","WO9JWPRcSSkrWO9OW5X1","v8ohWRBdOYrvymkFr8ovW7NdUbO","gmoRArKX","W4CddJrpodKtW68","WPNdSCkNWPtdU8o5gSkyW5uuw2TmWOJcSMK","s0ldQmkMyftcKSktoMXJbJZdTX/cUCoIW746tSkiWQhdI8onhCkK","WQ8xzmolfmkTW7hcK2dcV8kwoSk+EftcGZ08","bMxdPWq","WRqUsbXy","WPSRuXXrDmog","W4VdTCkQWQZcSK3dScW","afRdGSk2q2bK","ymonWRhdJc1s","bayiWQFcSYzKWPNdR8kE","WPC3hmokWO8d","W4OWpmksWQ5uWOhcP8kaimo5W5NdSSkCESo+Cmo0BW","B8kDz1SmxCkqW5L3BqLFAW","W7ddMmouWP7dLeOE","WRhdSYNcRmk/W5eEjstdH1zE","WPJdNJZcR8o3k34","ymojWRBdJYLdESkV","WRxdK1nFWRCIpYVcGSkVWO0","d8kbW7ysuqC0WQmM","abqIWPJcRJnZWPJcOCkuWQL1W5nzW5beaX/dR8o9txNcTKdcGxFdVSoIWQHWWOBdTmk/W53cUCkjWO/cVCkxaHVdPgRcMSkzW7FdJhVcIK4","W4GneXWHW4i/","v8oDWQJdJYrsBCkyrSosW7e","FwNcKCobW5a4DG","j1/cSSowESo5WOqbBti","gqC7WQBcTcf/WOldRa","W7mDdX0NW5CUBSkI","ASkPW6VcLve9omk0WOPgW4lcNG","WOCJkLWfACk7sSofWPdcMeSO","F3tcLSowWPGMy8otqdS","W5FdVSkmWOtcVLRdNcz8WRu","cM/dHSkBaConW4KHl3v2","W6O+bCo9WR7dGsi","WPeAySonbSkYW57cK3C","WRhdMK52WRGVbZFcKSklWPCXWR87W5ipsW","WRO0emobWPWIl8kTW73dRGpcOmkV","W5yXbCoGWRVdRdJdOsy","BCkTgmo1ESoJW65Enmkn","pwFdVaVcUmkyaML/WOi","tCkCW5VdM2FdPCoEW4Wo","nmoTDqu1qmoBW5q","WONdKLnjWQO/bIxcPCkiWRyDWQ4WW4ejsW","C2NcICosW7KRE8ouvW","W5ZcRJLftb5HW4G","WOVcUeTQBSo8v8opWRFcNmkAccWZWRZcVfrHo3WxWQ1ByCo4W5apFmksWOqZu0hcO8oSqfnKeCktsCk4W4vUW5bHW4Owwry4WOK1W6XnjLKYWO7dSmka","WQldKZJcN8o/mN7cPmkGW5vzu2S","B8knBumvsmkJW4XmzG5vBeHOESo/WPi3W4inWRO","W4tcNxHtvCkj","WPCryG","WOjDzmkvWQhcJmkuWPBdLcaxW61/W4JdShm9W6C","WP7dTCkVWP7dSmoW","luZdHSkJtMzfumo6rcS","WPddSCkYWO7dTmo7lW","ECk0eZ7dSte","gCo6Daa3ta","WPJdJt7cQSo7oG","lvZdNCk0vMjOv8oTqHzNWRtdRmkKW51jASo3CW","W5NcV8oLWQpdRtzNWQ8qWR4MWPxcRNu","WPv8fSkzqJCR","sSoiW5n4x8kiW53cJZxdOa","vuVdT8kZx03cKCkBFMfR","WQxdSYNcRmk3W4Cgjt7dHa","W57cLc7cTq","v8kGW6RcJviP","WOCZjeCbA8kT","W6RcRrHlwrjIW4OzWPZdQeFdVSozWPu","WQ8vEmoqdSk/W5VcM2xcPq","rGxcUCocWPBcHmkVmW","imkqW7yisHiKWR0MW6NdO8kqW7DOnLSyi0JdSG","cXWOWQ0","xmklBeGnrq","BMFcLSozW4eVCa","sSkAW4pdMxe","W7G0vw89","W6fOFbfppSkwumoUWO7cQ2O","WPWYEbldGuZdHrmsd8o0W7NdMtmR","WQNcSunKA8o8jmofWQZcNCkmhW","W5xcLdlcGhhdUbux","W5hcVabl","W5Oqgqjpos4hW7K","WO9ay8ktWQ3cGmkeWPa","W5NcRmoPWRVdVd1H","W6CXpSkxWQrD","W4ldM8onWPRdLueE","WOPIWPFcUCkd","fvRdHSkwq3PKsW","WONdJfjvWQ4gcsBcGSkYWOS5","WONdPdJcKmkRW4WVpGpdJfXjhSkGW4qooSoWaW","W6O5aCo/WQ3dHZddPJFdQLVcTYGlW4JdHSoVW7DG","W5q1xgC5mh1VWPZcGNO","W4yDW5eAWQGJh8k2","W5RcL2rSumkrmSkTWRhdGSoLdWNdT8odWPZdQSo8c3ZcTGvkps0","WOtcOv5VFmoTeG","W5rLzSo7dSocWRu","nLlcRSoWECofWPehAZe","WRyGxLCclCktWRJdNmovjSkvW4lcQhZcMCkyW6i","r8kQW7dcNvG2i8k0WPLoW4pcUCk3W7pcJCk/ua","cSkDW70dwbOJWRyN","W4mdac5tkI8rW6C","gHW+WRZcRW","WPyDzmob","W47cQmo0","ASk8W6RcGfeHmmkYWPLwW54","W6WzW5ytWP00iSkYW5BcK8oXWRlcHSoUeCkgtHZcQtFcQmk6lSoWWRBcRSocq8k0fvddLcZdNqWeW5lcSZHNW5Xcf8oeW69wESoyk28Lq8onWR/cKmk/WQdcSCo3nCoFdCkmWQVdLKqIW7xdVmokWO1TC8oMmq","WQ1SeSkXsIqMW6C","WQDOfSkFtdSPW7/dPSk3veNdLX7dRCo+sMBcHCoK","WQXGqMWSzh5eWOdcINJdSW","iv7cOSozDmoUWPub","W4hcRXvesrfGW50A","c2ddVWa","W7VdTmkwWOtcVLldLsPHWRFcNce","W6FdTmkwWR3cVKVdQcXHW7JdLW","WOHOWO3cVSknWOm","W4ldSSkkWQW","wSkcW5VdHMFdJ8oyW40x","WR57b8ktucuHW6hcPG","eNhdOa0","WPvUa8kjBIi+W5RcRW","WQS1mxKwy8kWtCorWOVcHu80gb5p","bSo+Ac87rSoy","wmkUW67cM1i8e8k3W4zpW4BcIG","WRNcSu95Dmo3emo5WRFcJSkF","qCkQa8o8CmoCW45ika","W6i9pCkkWQm","W5azW4GuWOO/kSkLW4pdNCoSWPdcHSoPrCkMuGVcTa","W5xcKINcO33dQrGlubm","W77cImocWPldHaD/WOqgWR0yWOpcRw9KWPSFjW","W5VcKwTyxmkb","WQ4+yH4","W43cOSoJWQddPt19WP8","WQu4zH4","rw00mmoGd8kMcNhdL1HzWPFcTCoBi8oFf0BdOSkvCCkWc8oEFSkxbW3dUIHUBaFcQCkmo2RdTI8XqaCLpaZcNJtcGZGzgH8","vmkRW7RcVeSHgSkVWQDlW5tcJSk9W63cGCkO","W4ZcJZ3cVMVdQHKnwa","W6mHx0a3kMXzWPRcIa","avFdNCkTDMPTxmokxYDGWR3dQmk4W4DfDG","zSkHfmkZA8ozW75tmmoix8oJn8oyBmkzgCoyW5W2WPFcNWddHCkPy8oLW5RcT8kismkkn8k1FXOsh2/dNmkQWOutdfzyW6tdU1ldRYhdSsRdGSoVmmkxW6xcU1VdRmoieNdcGgvEuZpdRWldPLVcMSo/DwaDW5HCf8oTW75iy2zrnmoAWQ5cWOiqbr/cUq","W7LqjIuqjCkS","uCklW5pdKNZdTW","dCkwW7qjsbylWRyIW6/dKSklW79EleKfkq","l1xcSSoWBCoyWPy","iflcPmoW","W5vkiZmsna","B8knCeakxSktW5DRCr5FwLvNC8ocWOGZW4qnWQ4","W5RdMSolWO3dN0uFWPNdMW","FwO8j8kLgW","W4BcUri","imkgW6KcxWCO","tNC4l8kLhSk0ceFcJLrlWOJcVmo8mmoiuMBdPmozDSkM","W4ZcKIZdVwRdPrexqq","W6FcKd3cOfhdQa","W4qvW5CE","W63dJcKPWQjxW5VdOmoi","BCkLemoPzCo5W7rolmkTu8o9j8kbv8kicCotW5e","WOC8kKOwzSk7","WRLSeSkTqIOGW6FcM8kSvu3dLX7dUmoK","W4O3nSkqWR9bWO/cV8kw","W6FcJZNcVNZdQqqRvbjAFmkrFCkZW68","W5dcNdlcThtdQqqm","imkCW7CXvX0PWRW0W5tdICkvW7nJpq","uCotWRK0wXe4WROVW7/dJSkxW70TleauBfxdTr7dPSoZW4VdRHNdMuldJr5XW47cSvWyAmok","W7K7omkAWQ5x","W7BcVCoYWRddUZ1HWP0qWPW1WOhcTwH+WPKLjHDLW4ldOq","jI/cN8kkbG","uGxcUCocWP7cMSkOmSk0oCkjW4aMy8kXWRxcPG","WPldPSkOWPRdVmoYk8kgW78sw3Dm","W51PE8oFfCozWQ/dOW","qGhcOCoI","WPBdSCk4WO4","WRP7cCkjtdC3W6pcRG","WR9Yz8kEWPJcOx95pa","W6yPqLmXmhTdW5xcIwNcRSooASk+dCk8WOGaW7VdOmo8W5VcTmk0WQJcQ1PEW7VcN2VdNGjOWP8grCkipZ7cLG","mIOQWRRcQdn/WQ/dNG","rCk3dYVdUsy","W7G0xMySj3bY","vSkhCeO","W69TESo5fCodWQS","W5RcUCo5WRNdRq","W69KCmo7gCooWRJdHK3cOYvTaCoBfmo7WRW","eNBdVbhcO8kneND/","zxC8lCkZgCkOh3K","W4ldNsKZWRLgW5RdPmo/WPFdTmkBW4uNctG","WRRdUt7cGmkYW6a4lZ7dJKbmc8k6W4qtnCoPimo0WP7cUmo+Aq","WOLOWORcHmkdWP9QW5W","pwZdSHBcPa","wmkUW6BcQvqWf8kZ","ECodW5L/vCksW43cKZBdOMmOCMFcVSkaW5aYuLhcTcJdL8kU","W5RcQmo0WPNdQsf2WPKVWRCOWO3cKgb+WPKc","WOVdVCkYWPtdT8o1jSkdW44D","ruZdTSkYAL7cGq","WRXgFSkWWQhcGmkfWO3dIGaxW4j5W4JdOq","iv7cOSowESo5WOqwEIO","WQ1SeSkUtdy8W7dcRG","ECkXdJhdQcyDWPRdLq","W5DqmZmia8kSW794W6ZdMhTDW5tdMWdcKmoWcLdcKW","W5eiW5WxWPK","WPbmzmk9WQFcGCkm","W48vW4SHWPm1aG","sSoEW5vQwmkVW4dcMd4","A8kwW5BcHmkwWQTGiCoxWONdLmommCkQeYxcSLizW7FcGmoW","wW/cOSoJ","W7aDfYiVW5K3","WPXSWPRcSSkZWPn0W5HLEv9j","WRO/mv0yz8oZs8oOWP7cGKS","qeRdRmkgyfNcM8kBzeb8hchdQH7cPG","W5JcUmoLWQFdSqP2WOurWR01WOxcPKD1WP8tjGnMW5q","WOXhqSkcWQxcGCkxWOC","W5nVE8o5gCoFWRG","WQVcPKf/CSoTdSoAWRW","rSkdW4NcJSktWQTrp8oBWQhdGG","WRXCymkdWQNcMSke","vmk/W67cNfmGn8kZWOjoW4m","v8kbW4JdMhxdR8oyW4qgW4pdJrpdT0OFgCk6","WO/dSCkYWPtdR8o5","WQXGfmky","W5yVaCoYWRZdHq","WQS1mwuwC8k7s8oBWPBcHvidcWrraa","ag7dNmkkeSofW4qWna","WRaLBrFdHW","WRVdKeXFWRW4da","WQ7dHs/cP8oJo37cPq","FGpcOSoGWOVcHSk/m8ksdmkiW5S5DmkMWQu","W7LxmYWEj8kS","W5tcN2rkwmkw","W7O6nCkxWQvw","FG/cO8odWP7cK8kujmkYbSkxW4m","WRFdMspcV8o5k2lcPSku","WRZcSvPiCSo3a8olWRdcGCkkca","W45apYyzjq","A8kvW4hcLCkqWR5romoCWRNdH8oekmkMdW","wmonW4P8vSkJWONcSrxcPvSAlI/cJ8khW5CLFbdcTcddGSo3WRZcJ8k2WO0AoSkdW47cSCotdwJcGSktW53dMt3cN0JdOSoTxCoiBhxdQNLtgCorW78rv18Pq8kQra","W4ldLColWP3dN1CDWPBcGK3cUbu","BxlcHSoBW5a","cSo7DdW5smosW4u","wmkUW6BcRvqOeCkyWOPbW4/cN8klW6RcNSk/","EwpcI8oNW5qJBmofDsuuC1PsWRFcVa","WPLgF8kkWOdcH8ksWPBdKJ0a","W4uzW5e9WPK7g8kMW5tdLSolWQJcJSoUva","W4ldJsKOWR9aW4FdO8oPWPVdTCkBW5m","W5OqesjpncCpWQDMWQVdLCojq1i","WOqYiSk5l8olWPVdNKNcUG","xSkGaSoNvCoDW7TapCkB","W7BcOCoHWQ/dSrf9WOibWP0QWPdcTNHdWOOEpXq","W5BcSHPExW97","dmo6zdW5smosW4u","FgqLaCkVcSkPcwC","WRlcP3XKACo4a8odWRFcIa","WRBcU1T4Emo1eSolWQ/cIG","WRxdJv9BWQ0Z","WPJdJYNcV8oZpg/cM8kyW5npshZcTfeBlW","lfSJW6VcGtdcL2e","EgS+l8k1g8kIhG","WQBdJYJcMmo5kMNcTCku","WOtdUSkwWQ3dV1BdRIWZWRVcHt/cRmk4bhu/kvVdJ8okW5VdRhddLsZdK8kSWRBdVGVcL8kfiaNdLq","WOtcPKTLECo8bCo+WRJcNmkekZX2WRdcTG","W4uzW5e4WPm0g8kYW4/dNCo9WQ4","uSkQW6RcVvGIfCkUWODwW7FcLCkRW6RcKmkZtmkR","W5vrlY0u","WPtdP8kBWPldUSoXi8keW50","WP0DEmo+cmkXW5RdKMNcO8klkCoyE1ldLZaRW77cNNpcO8kMWOG","eghdVqhcQCkl","WO5/WP/cUCkeWObPW4T8","q8kAE0mC","zCobWRBdSsPjzq","FHpcUCo3WPpcHSkdlSkYhCkc","zSkBW4RdKxxdT8ou","af04W4hcNcpcINy6W5SxEJbYt8kmECk7W5OR","WQtdMKLtWQmZ","mKNcT8o7zSoXWP8bBW","W57cLddcPh3dVG","WRaLDq/dHW","ubxcQmo8WOBcSmkOmSkYcSkEW6KZz8k3WRtcRCoQwq","WRO+emoFWOaVnmk2W6JdNWFcV8k1pmo+WQldJmkjW4y","urlcOSo6WPdcL8k+n8kL","zMW5n8kO","W6RcVHTetHj3W5S7WOFdN1O","WPS3ub5tFCooW7hcKSkqumoeWPZdVdq","WR1LzCkfWOhcSa","ewVdPHFcR8kCkgz5WPJcImoj","W5DLyCove8ocWQe","pgxdL8ksfSolW4SHi2DFdr/cG8oqWQpdUXtcHG","W7BcVSo0WQZdPd1xWOihWQW+","W77dKsGPWQXkW4ZdTCoF","W5xcNctcGhhdUbuxfqXexSkqomkKW6/dGdBcQCo6tHFcR8omcCo0Er3dLmocumo9W4TYW4BdJZ/cPca","sSoFW5jXtSkpW4dcMJZdH348BgVcMCkDW5CJzW","erlcQCoXDNtcG8k3qxC","WOCZkKCdEmkXvCorWPBcMvyLaWvyfG","W5G8hmodWQhdLdldUNldO2lcRs9FW4/dJCkQW6L2e8oearionmk3W6L2mqxcMvZdSc96WPqqia8","C2NcISoeW5aLDmouvW","ymkoW4hdGCkiWQ9ID8oAWQZdLCknkmkSxsVcNuyyW7tdHCo1kSkIs38xhmkxWR1EW6GfBCkLW43dQCoCW6FdVuzQW5ddNrZcRqVdVCoTBdnkwSoWp1/dLCkfW75df8oWbw1BW40XCa9MqYj2mSkqlNtcKSkNWQFdNmk1WQNdLKTFd8kKneddLdRcTmonW4OIW68","nLb3W4FcNdBcK2TLWOz8zcPGd8ksCCkKW5y3W5ddSxBdTCosfH7dS8oqWQeJj3VcUvu2b8kTv8ohEhjyEW","W5GdccDjiIepW49ZWQ/dLCoC","phtdGSkAeSoyW48","WOXhC8kc","W5BcNwLzsSkwbCkQW7RdISo+","WRK0iwuwC8k7sW","WPRdSCk1WQ3dP8oZoSkpW4Gqr09zWO3cON8","WRtdNZxcP8oZ","W7ddNZ4nWQrxW4hdUa","W6OKseO1jx9o","nmo3Cqy8","W5ZdGmocWPpdLq","hXVcOCo8nXJcVCkwEhHnpq","v8oBWRFdNJDfBCkVA8oDW6xdQWy","W67dMZiBWQHcW5BdPCoFWPFdLmkBW4SHcq","W5iTeCk+WRZdItZdUZZdQtRcUcKEW4ddJq","W5hcJH3cOMRdRq8","W69YCmo/hCoeWQldVW","mYNcH8klbG","qwVcNSohW7WU","dSoXDcqHtmohW5NcVKrN","W74CacDf","WROHgCokWO4LnCkZW7ddSXNcPSkUk8oVWRNdJCkaW5a","cJFcICkhb2ig","WQldVCkVWONdSmoUk8kjW44nshW","vCk6dIJdNZSEWPRdJZlcOSoPoSkyW4OGW5iV","WQRdIJZcQCo5j3ZcUSoCW4nDt2tcSMfLh297WRm0uSkrW6uv","af04W4hcNcFcM2WtW4yGzW","W6Gzadni","W6GdbdnjnIuGW6TRWRZdMSoB","W5RcRSoYWRRdPdrFWO4tWQW","WPBcGmklW43cGrPmWRVdHMxcJHxdLq","W4O2pmkFWRLAWO7cTmk2kSouW4a","W4dcVSoAWRRdPZv6WOus","CMpcKCoqW4eI","W4JcNdxcVMZdQqq","W6JcJg9ntmkaiSkXW5ZdJSo+hrRcSSot","FHlcQmoGWPVcHSk1e8kHgSkqW74Jy8k2WQq","WQGOxrTLsSoV","hmkCW7CqwWe5","W7BcVSoLWQhdVsHqWOqBWQWMWONcRgrI","WQHLFmkNWPBcRurMlmo9WRJdJa","WRSXkuu","WRHSc8ksvsyhW77cQSk5xW","pgldK8kqbConW5K","CMOZn8kLb8kZ","WQxdSYNcRmk/W5emiYxdILO","WP4XleusBSo+tCoUW5NcG1e4hGnxcCopnLGAW6xcQN3dO8oTnW","W6CXkSkxWRfw","r8khzLSr","WPDKWPdcJCkyWOLR","W5SEacrfka","WO5iAmk3WQhcMSkcWOO","W4OzW4WCWPqU","EwpcI8oNW5W+yCoz","W6OUdmo8WR/dRYFdTYddQMxcVYW2W4pdM8o6W6bWfmoyuW","WRXkF8kjWRZcNmkoWO7dJG","qCkHhSoKtmorW75dmCkgwq","xSklW47dUxxdUSouW4W","WQXVzmkgWPlcTNjokCoMWOJdLSo5omokW5u","W6aLvxa","EwqUf8kYhSkPhN3cG1bgWONcOW","wmkjW5FcHmkMWQf8i8oxWRxdKG","W4BcQq1gxW","W7WNcSkrWR5bWOpcTSkPk8ouW5tdPmkm","WOVcNJ3cGxNdOI4","FGpcRmoGWONcGSk0","cHaUWPZcTsz+WOpdQmknWRvPW4K","W4FcN2nstCkaiW","W5aufq1bnbakW75MWQi","WRHSc8ksvsylW6xcRSkWtNhdMX/dUmo4ugRcGq","W6Gwbc5fpIexW69gWQxdL8oewfG1W5FcVCoPr8kunmos","W5lcJhHtsW","nmoQybe1xCoq","W5XkosW","yxCYn8kVc8k+hxe","W6GsdI5upI8pW7K","W5RcQmo0WO/dPZD+","W4nLyq","WQldPSkKWPddUSoQl8ko","WPpcQSojW7ZcPNRdSaffWQa","rSk7W6FcLvG","vuBdRa","EMFcI8owW6eZCSou","W4xcRXTEvqn2W58s","A8ojWRtdHW","A8kfW4VcJ8krWQ97oCoxWR8","WPJdIcpcPCoIlxtcUSkc","z2aVn8kPhmkIhG","W4ldKsGkWQrnW4BdV8oAWQddOSkCW4mVcq","v8klDN8yrmkUW4XoCrjkFeH/zG","W4ldIZy5WQXxW4C","ECkGbc/dVt0CWOi","W7e9lW","B8kDz1S6tmkJW5b7tXrxCe54","hSoVDbqGta","r8ksW53cJCka","braZWQ/cRZm","W7ddGColWPVdKvSF","WPWJCrxdHKldOW","pgldNCkqb8onW4m7i3e","W7tdIc3cMSo3mum","WOmazmobe8k9W5/cQG","WP0vBSo0dSkQW5tcMG","k0W2W4hcMYtcJgOY","WQKOsqXvD8owW6a","v8kkW4xcKSkwWOj7jmog","W4jeiIaLkmk5W7q","zSknW5VdM2ldOSoc","W7K7oSkFWQDw","gv3cPmo0EmoY","g8oTFWe7xComW5dcNG","v8olWRNdHtnhE8kFqmoAW6pdVHzpW7XZ","lvNdGmk7t2y","W6FcJZNcOhNdPrGl","W6RcRHXfttH5W4OfWOZdNK/dU8oKWOj5WRiZW4pdSKeH","emkbW7aduaCSWQCQW7tdICkAW7jSnK8u","W4rYDmoHd8olWQpdUuNcGJn1gSozjmoC","WQJcOfDNEa","C8ofW4H7","vmkGa8oGAmoZW7jonmkm","W48tW5mEWRa7fSk2W5q","ECkHctddQXSeWPpdLcxcUCoNi8ktW4SRW4C5A07dLSoM","WRmJEW/dJvpdQaWB","WQ5SfCkjusW3","W6uMnSkkWQrhWPNcO8ka","uHtcV8oNWPhcHa","WQq0yd/dH0hdSaKshSowW7FdHdK6W617vW","WRVdVZpcU8kXW4yX","DMpcLSoqW50+","WPDKWPdcH8kEWPjLW5e","WRX0CCkgWPi","W69TFmo8d8oeWQldRgFcGWvhdSosnSoAWPy","ywqVjSkUc8kjaNdcKG","WOCLnu0wFSk7","W6mPsgC9kG","D2WVjG","sSopW5TWt8k6W5RcTtBdQ2uOA2hcNCkD","u8kdW5dcRCkeWRD3jq","lvS6W4dcNIC","WQldSSkZWPZdUmo5","sSopW5TWt8k6W5O","W57cKgLqtmkbnmk2","WQq0yd7dJKldVbKqhSoeW6hdVJq","x8kaq0SD","fSkDW7OksXCOWQa","W4yPhCo/WQ0","W4C4f8o6WRldHq","W7RdJJnWWRLkW4/dUCodWPxcQSkjW5G0atK","WPy3bCoOWPGEgmkWW6NdTa7cVa","W4JcJZpcPhFdUa8pua","W4/dVSkbWRO","BxlcJCoEW5ST","E8onWQW","rSkQW6RcQKK9gmk+","W57cKI7cLxNdRX4","mL8VW7xcHY3cJJGYW5WGz311rmoFD8kMW5e5W5ZcUMFcUSolurldVmkaWRCKoNBcVuXPh8k7fSoskhyEoXtcOZJcVq","WRe0zbRdI0NdPq","W5ioW4OpWPmUfSkJW4m","WQDOhSkNtcWJ","B8kiD0mvvmkmW5D/zXHE","W4BcUab6uWnSW4C","WR7dSZtcHSk2W50","gvJcT8o7y8o2WOm","tSkZdZVdSdeaWOu","egtdHSk/b8oyW5G8jhzNaq","zSoyW4nYxa","W5KYbCo3WOhdJtddTtC","WRRcSePoA8o8gCoEWPxcHSkCdIX9WQdcOq","u8k8ddddUd0uWP/dGYu","ruZdTmkOAK/cGCkTCNXJhtRdPHxcGCkMW7a8tSkB","WQaMsb4","kvxcHmoWEmo4WOyw","BwpcI8o7W5WTASof","WO9gCCkdWQ3cIG","W5q1xgC5mh0","W7NdMZa0WQ5gW7ldUCovWPFdQ8k9W4SHbtm","ECkNetVdVsax"];return(Ei=function(){return t})()}function Ti(t){var e=xi;t[e(952,"L%x*")]&&t[e(832,"IZKa")][e(618,"^ul&")](t)}var Ii={showCompass:!0,showZoom:!0,visualizePitch:!1},Mi=function(e){var n=this;this.options=t.extend({},Ii,e),this._container=t.DOM.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.options.showZoom&&(t.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(t){return n._map.zoomIn({},{originalEvent:t})})),t.DOM.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(t){return n._map.zoomOut({},{originalEvent:t})})),t.DOM.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(t){n.options.visualizePitch?n._map.resetNorthPitch({},{originalEvent:t}):n._map.resetNorth({},{originalEvent:t})})),this._compassIcon=t.DOM.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Mi.prototype._updateZoomButtons=function(){var t=this._map.getZoom(),e=t===this._map.getMaxZoom(),n=t===this._map.getMinZoom();this._zoomInButton.disabled=e,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",e.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())},Mi.prototype._rotateCompassArrow=function(){var t=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=t},Mi.prototype.onAdd=function(t){return this._map=t,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ai(this._map,this._compass,this.options.visualizePitch)),this._container},Mi.prototype.onRemove=function(){t.DOM.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Mi.prototype._createButton=function(e,n){var r=t.DOM.create("button",e,this._container);return r.type="button",r.addEventListener("click",n),r},Mi.prototype._setButtonTitle=function(t,e){var n=this._map._getUIString("NavigationControl."+e);t.title=n,t.setAttribute("aria-label",n)};var Ai=function(e,n,r){void 0===r&&(r=!1),this._clickTolerance=10,this.element=n,this.mouseRotate=new Fr({clickTolerance:e.dragRotate._mouseRotate._clickTolerance}),this.map=e,r&&(this.mousePitch=new Ur({clickTolerance:e.dragRotate._mousePitch._clickTolerance})),t.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),t.DOM.addEventListener(n,"mousedown",this.mousedown),t.DOM.addEventListener(n,"touchstart",this.touchstart,{passive:!1}),t.DOM.addEventListener(n,"touchmove",this.touchmove),t.DOM.addEventListener(n,"touchend",this.touchend),t.DOM.addEventListener(n,"touchcancel",this.reset)};function Oi(e,n,r){if(e=new t.LngLat(e.lng,e.lat),n){var i=new t.LngLat(e.lng-360,e.lat),o=new t.LngLat(e.lng+360,e.lat),a=r.locationPoint(e).distSqr(n);r.locationPoint(i).distSqr(n)<a?e=i:r.locationPoint(o).distSqr(n)<a&&(e=o)}for(;Math.abs(e.lng-r.center.lng)>180;){var s=r.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;e.lng>r.center.lng?e.lng-=360:e.lng+=360}return e}Ai.prototype.down=function(e,n){this.mouseRotate.mousedown(e,n),this.mousePitch&&this.mousePitch.mousedown(e,n),t.DOM.disableDrag()},Ai.prototype.move=function(t,e){var n=this.map,r=this.mouseRotate.mousemoveWindow(t,e);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(t,e);i&&i.pitchDelta&&n.setPitch(n.getPitch()+i.pitchDelta)}},Ai.prototype.off=function(){var e=this.element;t.DOM.removeEventListener(e,"mousedown",this.mousedown),t.DOM.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),t.DOM.removeEventListener(e,"touchmove",this.touchmove),t.DOM.removeEventListener(e,"touchend",this.touchend),t.DOM.removeEventListener(e,"touchcancel",this.reset),this.offTemp()},Ai.prototype.offTemp=function(){t.DOM.enableDrag(),t.DOM.removeEventListener(t.window,"mousemove",this.mousemove),t.DOM.removeEventListener(t.window,"mouseup",this.mouseup)},Ai.prototype.mousedown=function(e){this.down(t.extend({},e,{ctrlKey:!0,preventDefault:function(){return e.preventDefault()}}),t.DOM.mousePos(this.element,e)),t.DOM.addEventListener(t.window,"mousemove",this.mousemove),t.DOM.addEventListener(t.window,"mouseup",this.mouseup)},Ai.prototype.mousemove=function(e){this.move(e,t.DOM.mousePos(this.element,e))},Ai.prototype.mouseup=function(t){this.mouseRotate.mouseupWindow(t),this.mousePitch&&this.mousePitch.mouseupWindow(t),this.offTemp()},Ai.prototype.touchstart=function(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=t.DOM.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos))},Ai.prototype.touchmove=function(e){1!==e.targetTouches.length?this.reset():(this._lastPos=t.DOM.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos))},Ai.prototype.touchend=function(t){0===t.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Ai.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Pi={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Di(t,e,n){var r=t.classList;for(var i in Pi)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+e)}var zi,Li=function(e){function n(n,r){if(e.call(this),(n instanceof t.window.HTMLElement||r)&&(n=t.extend({element:n},r)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=n&&n.anchor||"center",this._color=n&&n.color||"#3FB1CE",this._scale=n&&n.scale||1,this._draggable=n&&n.draggable||!1,this._clickTolerance=n&&n.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=n&&n.rotation||0,this._rotationAlignment=n&&n.rotationAlignment||"auto",this._pitchAlignment=n&&n.pitchAlignment&&"auto"!==n.pitchAlignment?n.pitchAlignment:this._rotationAlignment,n&&n.element)this._element=n.element,this._offset=t.Point.convert(n&&n.offset||[0,0]);else{this._defaultMarker=!0,this._element=t.DOM.create("div"),this._element.setAttribute("aria-label","Map marker");var i=t.DOM.createNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"display","block"),i.setAttributeNS(null,"height","41px"),i.setAttributeNS(null,"width","27px"),i.setAttributeNS(null,"viewBox","0 0 27 41");var o=t.DOM.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"stroke","none"),o.setAttributeNS(null,"stroke-width","1"),o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"fill-rule","evenodd");var a=t.DOM.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"fill-rule","nonzero");var s=t.DOM.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"transform","translate(3.0, 29.0)"),s.setAttributeNS(null,"fill","#000000");for(var l=0,u=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<u.length;l+=1){var c=u[l],p=t.DOM.createNS("http://www.w3.org/2000/svg","ellipse");p.setAttributeNS(null,"opacity","0.04"),p.setAttributeNS(null,"cx","10.5"),p.setAttributeNS(null,"cy","5.80029008"),p.setAttributeNS(null,"rx",c.rx),p.setAttributeNS(null,"ry",c.ry),s.appendChild(p)}var d=t.DOM.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"fill",this._color);var h=t.DOM.createNS("http://www.w3.org/2000/svg","path");h.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),d.appendChild(h);var f=t.DOM.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"opacity","0.25"),f.setAttributeNS(null,"fill","#000000");var m=t.DOM.createNS("http://www.w3.org/2000/svg","path");m.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),f.appendChild(m);var g=t.DOM.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(6.0, 7.0)"),g.setAttributeNS(null,"fill","#FFFFFF");var y=t.DOM.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(8.0, 8.0)");var v=t.DOM.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#000000"),v.setAttributeNS(null,"opacity","0.25"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962");var _=t.DOM.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#FFFFFF"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962"),y.appendChild(v),y.appendChild(_),a.appendChild(s),a.appendChild(d),a.appendChild(f),a.appendChild(g),a.appendChild(y),i.appendChild(a),i.setAttributeNS(null,"height",41*this._scale+"px"),i.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(i),this._offset=t.Point.convert(n&&n.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(t){t.preventDefault()})),this._element.addEventListener("mousedown",(function(t){t.preventDefault()})),Di(this._element,this._anchor,"marker"),this._popup=null}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},n.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),t.DOM.remove(this._element),this._popup&&this._popup.remove(),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},n.prototype.getElement=function(){return this._element},n.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},n.prototype._onKeyPress=function(t){var e=t.code,n=t.charCode||t.keyCode;"Space"!==e&&"Enter"!==e&&32!==n&&13!==n||this.togglePopup()},n.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},n.prototype.getPopup=function(){return this._popup},n.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},n.prototype._update=function(e){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Oi(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var n="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?n="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(n="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var r="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?r="rotateX(0deg)":"map"===this._pitchAlignment&&(r="rotateX("+this._map.getPitch()+"deg)"),e&&"moveend"!==e.type||(this._pos=this._pos.round()),t.DOM.setTransform(this._element,Pi[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+r+" "+n)}},n.prototype.getOffset=function(){return this._offset},n.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},n.prototype._onMove=function(e){if(!this._isDragging){var n=this._clickTolerance||this._map._clickTolerance;this._isDragging=e.point.dist(this._pointerdownPos)>=n}this._isDragging&&(this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag")))},n.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},n.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._pointerdownPos=t.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},n.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},n.prototype.isDraggable=function(){return this._draggable},n.prototype.setRotation=function(t){return this._rotation=t||0,this._update(),this},n.prototype.getRotation=function(){return this._rotation},n.prototype.setRotationAlignment=function(t){return this._rotationAlignment=t||"auto",this._update(),this},n.prototype.getRotationAlignment=function(){return this._rotationAlignment},n.prototype.setPitchAlignment=function(t){return this._pitchAlignment=t&&"auto"!==t?t:this._rotationAlignment,this._update(),this},n.prototype.getPitchAlignment=function(){return this._pitchAlignment},n}(t.Evented),Ri={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Wi=0,Bi=!1,ji=function(e){function n(n){e.call(this),this.options=t.extend({},Ri,n),t.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.onAdd=function(e){var n;return this._map=e,this._container=t.DOM.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),n=this._setupUI,void 0!==zi?n(zi):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then((function(t){n(zi="denied"!==t.state)})):n(zi=!!t.window.navigator.geolocation),this._container},n.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),t.DOM.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Wi=0,Bi=!1},n.prototype._isOutOfMapMaxBounds=function(t){var e=this._map.getMaxBounds(),n=t.coords;return e&&(n.longitude<e.getWest()||n.longitude>e.getEast()||n.latitude<e.getSouth()||n.latitude>e.getNorth())},n.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},n.prototype._onSuccess=function(e){if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.Event("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()}},n.prototype._updateCamera=function(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude),r=e.coords.accuracy,i=this._map.getBearing(),o=t.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),o,{geolocateSource:!0})},n.prototype._updateMarker=function(e){if(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},n.prototype._updateCircleRadius=function(){var t=this._map._container.clientHeight/2,e=this._map.unproject([0,t]),n=this._map.unproject([1,t]),r=e.distanceTo(n),i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"},n.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},n.prototype._onError=function(e){if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&Bi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()}},n.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},n.prototype._setupUI=function(e){var n=this;if(this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this._geolocateButton=t.DOM.create("button","mapboxgl-ctrl-geolocate",this._container),t.DOM.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===e){t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r)}else{var i=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=t.DOM.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Li(this._dotElement),this._circleElement=t.DOM.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Li({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(e){e.geolocateSource||"ACTIVE_LOCK"!==n._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),n.fire(new t.Event("trackuserlocationend")))}))},n.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Wi--,Bi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Wi>1?(e={maximumAge:6e5,timeout:0},Bi=!0):(e=this.options.positionOptions,Bi=!1),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},n.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},n}(t.Evented),Ni={maxWidth:100,unit:"metric"},Fi=function(e){this.options=t.extend({},Ni,e),t.bindAll(["_onMove","setUnit"],this)};function Ui(t,e,n){var r=n&&n.maxWidth||100,i=t._container.clientHeight/2,o=t.unproject([0,i]),a=t.unproject([r,i]),s=o.distanceTo(a);if(n&&"imperial"===n.unit){var l=3.2808*s;l>5280?Vi(e,r,l/5280,t._getUIString("ScaleControl.Miles")):Vi(e,r,l,t._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?Vi(e,r,s/1852,t._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Vi(e,r,s/1e3,t._getUIString("ScaleControl.Kilometers")):Vi(e,r,s,t._getUIString("ScaleControl.Meters"))}function Vi(t,e,n,r){var i,o,a,s=(i=n,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=(a=i/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(t){var e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(a)));t.style.width=e*(s/n)+"px",t.innerHTML=s+"&nbsp;"+r}Fi.prototype.getDefaultPosition=function(){return"bottom-left"},Fi.prototype._onMove=function(){Ui(this._map,this._container,this.options)},Fi.prototype.onAdd=function(e){return this._map=e,this._container=t.DOM.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Fi.prototype.onRemove=function(){t.DOM.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Fi.prototype.setUnit=function(t){this.options.unit=t,Ui(this._map,this._container,this.options)};var qi=function(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange")};qi.prototype.onAdd=function(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=t.DOM.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},qi.prototype.onRemove=function(){t.DOM.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},qi.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},qi.prototype._setupUI=function(){var e=this._fullscreenButton=t.DOM.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);t.DOM.create("span","mapboxgl-ctrl-icon",e).setAttribute("aria-hidden",!0),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},qi.prototype._updateTitle=function(){var t=this._getTitle();this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t},qi.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},qi.prototype._isFullscreen=function(){return this._fullscreen},qi.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},qi.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Hi={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Gi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Zi=function(e){function n(n){e.call(this),this.options=t.extend(Object.create(Hi),n),t.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.addTo=function(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this},n.prototype.isOpen=function(){return!!this._map},n.prototype.remove=function(){return this._content&&t.DOM.remove(this._content),this._container&&(t.DOM.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new t.Event("close")),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},n.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},n.prototype.getElement=function(){return this._container},n.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},n.prototype.setHTML=function(e){var n,r=t.window.document.createDocumentFragment(),i=t.window.document.createElement("body");for(i.innerHTML=e;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)},n.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},n.prototype.setMaxWidth=function(t){return this.options.maxWidth=t,this._update(),this},n.prototype.setDOMContent=function(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=t.DOM.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this},n.prototype.addClassName=function(t){this._container&&this._container.classList.add(t)},n.prototype.removeClassName=function(t){this._container&&this._container.classList.remove(t)},n.prototype.setOffset=function(t){return this.options.offset=t,this._update(),this},n.prototype.toggleClassName=function(t){if(this._container)return this._container.classList.toggle(t)},n.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=t.DOM.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},n.prototype._onMouseUp=function(t){this._update(t.point)},n.prototype._onMouseMove=function(t){this._update(t.point)},n.prototype._onDrag=function(t){this._update(t.point)},n.prototype._update=function(e){var n=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=t.DOM.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=t.DOM.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(t){return n._container.classList.add(t)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Oi(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||e)){var r=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat),i=this.options.anchor,o=function e(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new t.Point(0,0),top:new t.Point(0,n),"top-left":new t.Point(r,r),"top-right":new t.Point(-r,r),bottom:new t.Point(0,-n),"bottom-left":new t.Point(r,-r),"bottom-right":new t.Point(-r,-r),left:new t.Point(n,0),right:new t.Point(-n,0)}}if(n instanceof t.Point||Array.isArray(n)){var i=t.Point.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:t.Point.convert(n.center||[0,0]),top:t.Point.convert(n.top||[0,0]),"top-left":t.Point.convert(n["top-left"]||[0,0]),"top-right":t.Point.convert(n["top-right"]||[0,0]),bottom:t.Point.convert(n.bottom||[0,0]),"bottom-left":t.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(n["bottom-right"]||[0,0]),left:t.Point.convert(n.left||[0,0]),right:t.Point.convert(n.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!i){var a,s=this._container.offsetWidth,l=this._container.offsetHeight;a=r.y+o.bottom.y<l?["top"]:r.y>this._map.transform.height-l?["bottom"]:[],r.x<s/2?a.push("left"):r.x>this._map.transform.width-s/2&&a.push("right"),i=0===a.length?"bottom":a.join("-")}var u=r.add(o[i]).round();t.DOM.setTransform(this._container,Pi[i]+" translate("+u.x+"px,"+u.y+"px)"),Di(this._container,i,"popup")}},n.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var t=this._container.querySelector(Gi);t&&t.focus()}},n.prototype._onClose=function(){this.remove()},n}(t.Evented),Ki={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:Ci,NavigationControl:Mi,GeolocateControl:ji,AttributionControl:hi,ScaleControl:Fi,FullscreenControl:qi,Popup:Zi,Marker:Li,Style:We,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,prewarm:function(){Mt().acquire(Ct)},clearPrewarmedResources:function(){var t=Tt;t&&(t.isPreloaded()&&1===t.numActive()?(t.release(Ct),Tt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return Et.workerCount},set workerCount(t){Et.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage:function(e){t.clearTileCache(e)},workerUrl:""};return Ki})),r}()}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={id:e,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nc=void 0;var i={};return(()=>{"use strict";r.d(i,{default:()=>tt});var t=r(72),e=r.n(t),n=r(825),o=r.n(n),a=r(659),s=r.n(a),l=r(56),u=r.n(l),c=r(540),p=r.n(c),d=r(113),h=r.n(d),f=r(261),m={};m.styleTagTransform=h(),m.setAttributes=u(),m.insert=s().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=p(),e()(f.A,m),f.A&&f.A.locals&&f.A.locals;const g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAALEsAACxLAaU9lqkAAAL3UExURbu7u7i4uKGhoaWlpbOzs729vbq6usPDw0dwTMDAwKmpqbe3t8XFxW9vb6ysrJycnHFxcbCwsLm5ua+vr5iYmKWlpaioqHV1dbi4uKOjo7+/v5+fnrW1taurq8LCwsLCwnh4eL+/v5KSkry8vLy8vLy8vL29vd45Tbi4uH19fcTExLy8vM6Pl+A3S76+vsDAwMTExNdebtxHWb29vcTExNlZaN49UBQWFb+/v8mkqNVoddJ+iPr7+95AU7CwsNtMXL+/v6ysrNNlctra2qmpqd1DVdNxfeipcPX19eDg4P39/Yt9ePn5+dlNX4iIiKOgntpQYuSrethTY9xJWvLy8r6+vsPDw5CQkObm5sOrqc6xofPz8/Dw8Maamfv6+uKkd62VjM94gu6lZMeolb6WgNmUc8qHkO+kYu+5lu2lZsq6qhgYGNVaatmyjuCugryakMfHx9GZe8iYfNiwl+Smg9Okic2EjOe2leymaamgnNenha6Vhuamg9VbaduqjN6zmNyTcLoxMbkmJuDg4J+Kfq9nZ9pVZNyvkc6afl5VVdOUdTc3N1phXf/J/9L///+W0KZL//////+7HOA0Sf////K7lhwcHLoeHvCkYQAAAHBROr7Npu+jYQ9gQeingt2Tb980Sd4zSHZdTW5VRf/pGnlgUHxjUn9mVYJpWHNaSlA+Mq2FaygkInJYRuyviu+2ke2zjuqrhj8yKTksIgYFBTMnHlxKPaN3XOSukPG5lGJQRIxrVHx8e0Y4L61/Y/CkYuShfHd1dDR4WhMODsWWd4gWFrmOcYBcRCJsTYtiR2WWcxAoHzIHB9Ggf9amhU+IZuDcXY1wXdeDXuakgKSAaZd3YtyLi3Wgfl5ZV21pZx5hQ/DOzuexsZ8ZGfXlMF0PD9NubppwVNyif4aumEYLC8E0NMfRk+Ctig5UOUxKSctWVsdISOlxVsuJZ3ldSjtON/fj4wtJMtLWfNvn46K9nLPGoLDLwcLPnalzVXESEuI+S8PXz4J8fQwUsqgAAAD9dFJOU2ZDSkhEQmdAAEFHZ0FfRkxdakJGTW5tW0RvU3BobE1EWkhPYl9YW+loWDhRWfQGITKJuEsnlN7+GE19ZPjRW6wOUaRbZMRxsruG6W7RxlNan5C7zqIUPHlwcVuvlHnezmOQ6ZSf6YH08N9O2LJpfm53xq+p6apw3dN5nob1s7vD9eDtn36Npsa9jL249VpbSKR3/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////2YfrWT1AAAlpUlEQVR42sSbTWwTZxrHJ4k9ZuKRo3wqcYytbOzIsiXHUizVByty5BxiN1IuCRspUcRhOfWS9tbjlu6h26spAgSWKA3I8UooIQGFOlqgFJZNl6DSsEv4SMvHdkGwLF8t6mWf550Ze+yM7fF43sk/RArBHvv/e5+v9x3D7KpGgWi4PxT0+fZYKImRyVXlc/f4gsFQ/0S0Kke7GPXmw6GghbZ6ZQB6tF4kGAoH9AYQ7advHtUnA+Cs5ULBUFQ/AIF+n8UgeWQA7DVeyxcK6AIgGrQYJ7sMgKf2ywUnagYQNtK+xeKUAejT44K+cE0A+u0WY9UjA9CrzyUrICgHIDzAMJyxAFzyPqjXRX0BTQACvpp60Q4MAqVVphyWBBD21N6LahwEBvS7bOk8YMotvw69aMcGAbVBoAwgmuvHboMB2HUcBFRVAkUAIbfepXinBoGCvcKEWgD9dCpR1YOA7tHXrw5AqKASGVwFKQwC5QkwCv7llYg1uAry8ujTfwgJVQYQKkrEPoOLAOX0C1UCECpORKOroJvOIFCSQBGA/u0DqcHDsHxD7LfQJ8Ao+C+MwwFjawC9QUC5EhYAmFCax/zGRoAB9SdcCkBgj9IyeIwFQHUQECeigDKAgE/xXRhcBV0GvLR8KmaKGsD2ccTgKsgb8dIhJQDhUt24iiMBZywenx6fGiGaGp+OT8Zq2hBTO42IbgcQ8JXqxmqGYd4Zm54aTSQVFBmdmp7UOAhQm8PzScAoJIClyuNpZ3xqJllBo1NxlW48hnSgUDGAQOlmVL4WT46PJlVqdFpNQhjUgaJFAHyaNmWT44lkVZqpzMBpzEYkWAggXK4Wu0qk/fRoUoNG4zu5Ic5rogCAr1wtVkpebnIqktSoxEiM41QNAgxFAD45gHC5w0mlI4HJ0WRNGont2Ia4aCJmlAOgzEjO1W6fZMIkb+F3bhDIVQGmYBNkqTgM8xynh30hCjjFTOgz6ECOj+YABCtkYv5t8rxe9iUE5QcBqgdyQQlAoFImDkjuLbGRpJ6KjPMcz+/MIAAKiAD6LRUC0U/cQ/RPR5I6KzHJcbzhG2LZ0QijWAIVjgQw+WeSFAQNgeeMHwRcTrvdLwCIVhzIemH5Lc6pJB0l4oUxwNMdBNB5n7jjChMA/RUHMhYyNTaTpKYpaAeyUkBpEJA7FxUkAIIV5hGWZXooZH9BEMQ4Pl8L9L5F7nL6i51LTQYBBCrvy9m+0SRdRabBvlQKdBsEXD1+u0fRuaQAAAiX25fD6sNXPJGkLmiI0lBQ+8k4V9G5qBAACJXbl4N7lh2PJA3QTG4wrGEQUO1clA8ABMtsS8E9y4wkjVEC+yGncRCo1nmuCDC7So7KZPWts9rSX0vQRGIWDAK+qpNxDoq7x129dakIMNGSV+7F5Z/V1P0iD65efKvhedPYCziVtybReZ9m56ImmImSEQDFmJ1NaLN/FKQFASmFfIVDeYWGrlkhRnEMwnXg7aw2/79dBPe3EcGt6hNhHABwbgg9pUFAT+fSKMQoNwFcCCcb15LJD9D+tTevr2MQvNJEwMPmCfjLjzLa5e6z+3tcISaoGABQiziXFv+vcPmvvzkCugWJcPU3LQTkAPq0FPeKzgekETtYEgDPxbT6v3VE0GssBW811AE/zl8so7cKnEtHo4xPuQbA7keD/wj4v/3giKQ38NerGrLATSYQus5zALb//yeIfigBsYTG/H99JK83EAMXqwe5n7WyjB4x4O7zgPNy95j3bNtw48EPfGvy/1YW/2IWQDd4UP2F4sIeRDsBt9vj9/eoubvObC//0AE5p6b5ByL+IvH9eH19/eUv+NM1SILqQyAyy7Iak8DtsatzXgoA6YBmTac/ryAAsAD8sn4CdW8dk0BbCCRmrdYqGVTrXBEAR9xz/Lim+f81VEBc9XsnRCEBGAeua7lvIgJQgUCjc0UAJAE486Sq9/hic/POnY2Nra0nT54+evTo4MH/ChmwfiKnxzANQA5sbJy7s7n5orpjssohQJzXembGFN70wgnAXK4AvkDTW1tP0XCxAMB1eQCQEAAAR6UHPHr6ZAtZRFQWQjIOKDAo09ZqAIDlHwCYzWalA4AX6PuJguttAF7m/Z+4VwggLyRxp3xMJMRCiF80nCulACSAGQJge1Geiv/xYGVVASAPYuPc5maJMsCyVlacCSk4LwaA3Y8nAVAEIDIS93a0qwfwuBoAEoetjVGlJLCif7vTRfGTekzBFhj9u5wR+Ue89rMd7R3VAJDXgJdkEDiq4rkH/zQ7Ulx6ZoQQcPIcbwAAsgEyIwFuWuZ+N5hvBwRqAEDLv3ZEngP3hEnotioA7V0d+4vCwOpABE4MT9oAhPmfIyFgrhsn7uN+29BuAAAE2rs+UQ8g1wfvPa4KQPvw8CArD4OEw4Fl0M7xHEc9AkgBIPZbzHV1sfik3dRqszWSACgN4O7dy+/evbt//+HDh2traz+LAGASJj1QmoV/vnz57t2KABrq6+sbGhpt8VwYjDusXgDgweSkDCBXAAkCU11np8lksrU2NnaQAOjqkgFAz+B47dKlQ0XKAUAGj8UfEAD51zOX1tYe3n8HMBQBvA/+6xsb4EVtbiEMRhxeAsDN0STA5E7A4EXMXEsLZAAI/LcigGEhAbq7PgHf98H1mUOlJQeQUw6ATIACSBSC2CsAaATZbKb41Ejc4fCyDqvV2sujfZ4qAE5sATxkQF0dLH8nBoBtaGgYCmAX+P/gkAopAoC9wP9KPeGMDMTepqYmIAAIbECgtbm52YECAKyL4zlqVYDJDQFCBGANNHUODA0ODu8mFbAD179bFYBtpwGVAMg4XP4M/WMMNACA1lbRPyHgolkFZSmAM0CP3z/obnY0oxAAtMAO1RFwlOgq0UVR169WBkD0XhsBgFkA/k1CBHgdLFSBASwBlCNAuJHcy1oJ9WYJgNABqgOwXeoANIkEoBNADgwKEQAEWK8fP59Eqwgw5AZTLyPsvaHxwmsKBGD9IQJID+jupg/gg7YmEQCpgwCAIPDCJOQx4y6NVgQw4k1gMnYS5lIEkA4ICQD+gcB7X8i+CnRJLvF3fy/QmUtnykgC0IYh0NCIEYAAhCoAb4ftM5sppoDwKQByI9jKQgDASwoJ0JGbAaAItn/2BVVlwH+TEAMNUAZtjUNSG/B6rW4zx1GOADEGWHkA7M4DQH1Ol8D7bRgBAgHMAakPenFZoD9TI5BPASuEgKOwBuZToOv3ny7Q9P/572QAgAD2QSTg9cKSWDsp7gcZGQGEnSeA24AOBEAC4ON9zxbp+V/4tK0QgE0EABXA6rD2kBzgecoR4C30v1vKAQLgw1TqSjpDyf/i4X1jxH+9WAQgB4abpVHAy/rNZKvG06wBDMkB4QWb80UA5yCogV1/SAGAw+dvpmks/3L6b6k/t5EqWC9WQaENiNMgADBTGwYZWRXEGuDNjQEQA8PDw2Nj7V3t3d37AMCPh789cOD0t8ezegZCZvnK2fMAILUXE0AMgAZZH4T9EA4C5MNDFFMAvmHrac3PAYNDQ0PQkxvr63EQwgBI/Xr4uwOo0/+4ObeiA4VMdvn5j2dR6V9TqY9yPQAB2Gy5PkgGAVICONpzAH65B/3+gc46UytOI/DdUI+boQ8RwOpfDkg6/c3xbHZhcSmT0cQhk1nInr85Pz+/SvyfvbKaSu1rEkqAMAfZTEOkCQjboV4zT+1IQKyBDNOLt1k661rIaQDuhm24NW1oqB8GApgBqWfncwD+feMUAEAtgpaWkESmsu1MZmlpcRGelV1e+RIB3CT+n519BpcfE1NAOBOQ7Qfh7fHkg7SUUsDt8fh7XHgiSg7EWshpSGdnKyEAOTAGdZAASM1L/s/dOHUyLRFABksIgSibTv8AOk80B1bF3y8SLSyS5yxk0ysCAfS/emwVr75X1gThj6lZzEc8GO6hGAHCkSieiYkAWupMiMCE78IGb2cMpiEBwE8SgPlTp07OLQMClAhABAEATs5Lep5Op7PoGx62hI9ZXMDfZOFBKysrN4QcWP3+2E8iAKkFwhhgMpHNENRkAgAPbelsBxjxSFA4FRdDgJwJYRXAIjAEO2IBwGkJwA8A4OTJubmvvrrw9df/zBBlL/wrLWh57ktBz9PSby5cEB/1H3j8Mgj8rxwnAL45duz7v6ZICkgzgK0R/JsGxTHIK56M0xqFhc8EEAQ8939iriWmqT2N30Jbc6BAbYsUEOmDIk11ocRJZiYhwTCzIRdnZ2ZhNME7cWfkaoyP67i4yb2ZremGRVGMPC5DHyYqFW8DSQNhAYmvRJeyaVw461m4mO91zvmfcspL2vk31+RCgX6/8/ve3/dnEqASUFUUPgp8IGDArwRARteAGRWAZRbtgwDw+7On/1lcfA2vxcmnzwSB5eWP8q5Xr16C+ATAS9CB4mYKDgJwv0XPhZub/ciAAakIoXnuoCiwegzguTgkgMflc5EdBAD86ApACcAKjloA2DABmHolFHi6vDz7+DEI9/uzeUMFxv/9lAH4sLz8WQjw8bnOgJfv1jPJlA7Av6QY0EyqBw8gQSagEY87Vr2akFESQxAg4nQpZWEnG8Kh1tZb91UASiYAT6YBgY+fP4OET5j3z39bKW0UV9gGgLUzEIB3fQS+sPzgBSanFuB35XQALhgWsBmfvxMA6OujIgUA0FOlREAtitJsEPUFmAPoChCAejICYxVU4AlpwSsQb3YepMf/HpfkXaWNuee6FfjtAwgPUKEBePn48eyTafgd+K60AHCthQuigIDTH0QN7JeaKGIQ1apdFqetQI9uBbAyTMcPZqB+ECvDPygAZBQAJicnZ+Hf2fnZ+XmmgBktJLPyJT6zk7Ozs5OgNlNT8NMzM68VAO5fgiCIYkCIAJrxTzuCbAGoQeyuXl34O2M6gvvD3BvycTDEOuDHtPjWDyYAhhcQBFAwEF+kLSoAFIQV8M15lH4S5GcAAMP3JgD3r7ILxFqQnxTA6XBActqHGkBbW9XvDXJvhFyhz8eeQLSgHisD7YCA4QbfEQUsAAACTIGppAJAir40T9KT/AwAEWBmjt8C5/pVSQOwJ0LPP+j0+Xr6sETRSHlav1ZtAA5xa+SQRzMpwK4Q+2OYFd+5ltMFK5YBQAjM4mO2ECCZzRWY/POK/AYA6wYANwJGMRB7AiC+w+Fy9B7VB8Xc7mPVZoDG3bFDlHSJLyQEMBwaaOUG2S/JcitooQAh8DppASA3TQywEkAAWDAAuI1RMFlAcACkASC/K0YxEM/MxqrsBQxDQC+PYgb8gMAgNcja239MKjowvYUCaAenSioAmVRuk0yAHQHmkgYAFygKbuAIgIyP0+FzJYxJQbc7VnUbYE4JGgBIlxw+1RGqDbaPGpJtzNghAACsJ60ApHIrAsCkLQEYgHOcBkgMDPwPQkDu63ebKtBTEwA0PSkAVwAfAAPiIDaJG9AGAAK3krYUUBBYscifzL8FBAqkApMmAaYUApAXuKvUQvFvBiErh48QbjRHRaM1AYDVwMMA4KQIAhBkK0gdsitJJSG2QaBM/mRy6W0qlyvoADxRCPB6wQTgIqcBmAOQAwiCCYSovFsdlNRqA4CmI+DSNAkH0QgMcIek859JtSRSBsDkk2K5/Mm3hMAKIGDKTwDo8lMofNvoh6AFcDhJfvgIUR6Yd1f1NpWtC/o0LiNmEJMisYJYHR5VZFsoR0BkSi9lzDdB+IgIbE5TCGgS4L0uPyVDV6kQhDZQXKADxxQ8uDxGTqCqF3va3FDg4WDAZ07KDHaxG7hlsXAr0woCU0L/1MRE3rQBE2/eEALpuWlFAV6bqpLHMKjFKAWyCXSA+mFMGlOGZBO1BIA5gLUhh8RCYgM6b1oIvlB8P8MIvF+Rx56BZ668AwB4Q1qQ3iy+Z/ln3hUzFj+RuqdrgJ+iYIyBfKiDnpi7BtfJ2N1RIQODekIA4dkQAaBGAkasU9rYWDAlSk9MLJUBMPGWEMhmMta3GjbwgtTCmtkEIAGAAfApEu4aXKu2DQBYFwhyfXjgCM9K3bqS3P7krQAsIQBL6AzT6Wze5v050oAW0wlC8EEWwAUsrMnNpjYAYPGBoyEH1UcBgHM8LNep+gH781YFIF9cW1uFs7b2oriZztrgpcfBdWQCRQNcZAI1T/j/BAA3IjEv5hYBREKD1CkGBEYri14qrhQ+La5++qJ87dO4eT4VM1sVCAAY4m4A1QKDCIDPxa1ArSbXqtnfUyNzo9IkAOXsarU1g8ZZL8wbkhrtg+TcuOW8KJX/GJtA0QA/VgJNAA7V5lo1ewA0HQCKzHBiVObl7CmwvmgVdJ0ZYf0qnNWNZHmukLok84EEAGVBBAAmZTW5Vs0WABkbxLFpKYwNtfLEbLsdBQrjuz1lCIAPuBfgTJAYgO0IAQAj0ppcq1aBAZpaGfM3N58jG4DjMlspsDa++zNfKjOBlwLKWAyFgT4OA7EAUItr1b47VMkPSjDIkcBgFzPAxhEUxvdyXlgJcIOH4xpYfkqDfOIEtNrcr7qdCnCjkEOhIxIMtneWxQLr43s7WdUFXOfBmDoOAoKmBeChsFr4wUq3lXmoPOqQ+nhDA40M8cSYVQk+7RGAFdUFXJLBKBqJ8Af1TFgvgtfiftUKv1dTrACZwSGZmessV4JK5g6iHzyrFXUgqysANQSkGuxwkgLorXC7lcmOcC3iAD0Ukl65v3mgS2oCCIGiBKUy+dY+/bfw5cuEejbXi4XFtfIoIUMK0BKoM6pBnAr6fJpLHwjTovY7s70HCEIFL6CWxykUGuwSK4AAXDUR2DAN/GKhWJrYcpbS8sDXVwqLq6tzpge4fkkfDdRrAVgN9lEmiKWZcO82e8PRWLiqDNC3CDUX98p5f6xVpiYDphnIrrLwc1wOzZmCL6Vy2Uy+UtKEdZBIREwgtUT9QgAJAzp23BqPHtOqaATNHTrhwGHeICQEAhEzLy4VXqysZy2F4HRFudUscDQiLqCOBsTRBHIUAH+4O7arKwOiHd3V8wLw4japdAmHDpMZxGCw81wk8mPyWw5GAJGIjkBDvd4RxDBAc3XHdn1xQrSjagzQ8yGZGvMP8P4EGYFLkW9CIJ+zyM8tUamGgQJ0UEN4txdHRI9VBwBpFjIF8AzwEilbgci3IIDy344QAPqeFJdDSQHCPdgP3sutIbHu6gGgmUZgkMfn2RNGtkMgn8mmc5VKQGQl7o7S4w8YGxJcDDL6YXu8PyYargYAmmkGeVZCX6JCDgQCiMCoXYEsD9KD8Ok0gmADAQbAV+X5t7TUmYkQUiAYa3Tv5/6YjmoyAJLioEMAkGAIrSCckeGtCOSNJ09EyNrQ/+LwiAqAkQg6HeGeo+7GfV2gE6sCANQzp2jQRWWRAVyjEgqcAwaMhJqavDe2Mlx96hlrITCPJbDL8GPxiLEgQeVgrgaG8d6URrMZsqfrg7RqAOChHpFEgwOHu+QyAUAgEIm3eb1N3qY7O9SJM2UVwIs/g/xw4pGWQEAUAAHAWghOxLAJsMpm3p4R7k9Uulsu2n3gAJhJMfrB4KCs0VBKNBJqawMEvEiCK7uz/Sj+XXj8JH9bGyCgtgSdzjDNRPW5rfeoxbYOx3QnbGPkqFYNAHhUwOXC6WneJSQAzodCJD8i0DT8y87iZ6gNPvbVkL+tLRRR+wHBMC1HWE1gb6KCUN0d0YPSgu3TbGmTcixwVDeDrZ3nv4IAbawEBMGV7R9+jsQfbhL5vfDDoVBIDQJxKK6RB2MN8bdtiCaiB2MJtwdAxkV8Dl8wGBzQd+mOnD//FVXA4ABAcPlmpaAgTcOgFy+T+MbzBwDiI3X1kggHcTK4D6cizVv0dmyHdhyIN9zeC3goIfAhBOQGhAPnzw+HdASa6AUwDN+7aRMQpSzSqwDE4/EGIwaK8aK06QJiu+Bz9xYSHDt4BujBgMPpSMguWSsAAEbA4ACrAfHgDoCQz2SyEAex6Km7F3+981X/vvAftQflH+E9YT+NxeKeuHl92C674R3f7gp2sAG0qiJWoP+ovlRvAtBmAYDOz3cuj41dgzM2dvnOsOVbXuX5hwgAuivA2X/kp+OPjn//j0YJgncf2/aX14oO3AjK3TIO9IXGRmknGIE42TGxA+UgNG35/yZSExDfKwYATl29tIPOnHxE5ydiwJ6eY7hMDRIHCwA3SnFmCtPiHuNeBXAD8bjJAa+NvOV4MFCGAYQToZEAiDBOsPgPHz48iwDsjcdlhmDP0cAOAMgmDY7NuRwDxs0KrZ3AAARA4UDTtihY5Q+R/A2kAEHncQOAk39371mPu7/NF+5UbicGeNgOJminsot2ajuRASG2BAKAdxsIFPFF/gAvB4EGnBL5EYKz+7BjYSsC4YMG4BBvEYAv7DcW6wGBupF4SLeEOgi2uuBVH39I+B/h7SiKgXUCPAAKfO/exzhY4lvs4I4NF5wgBxrgJk3QuF0EzMBgXUtEIDDUwIiLRGwL+cX94fOPyHocxYCn5PmD+A8eft+xn6Ho3v1R4I9/PvW30zsD4NH3yXw+ZbW+axBTuQjRAANbBQHz1eRVDgkP/m8kwhvCxP+gaQEePQAAzu4rofHs0QqA5GdO/+HkAzy7aLlp0i33OXr7DASODOBesWBgVQOvCob+8PHpk/Q8D4N1UG4F/PWRwQDQgRP7y2kTu3UEJ/505vRfjj9Qzi4A8PBNUwBBQr9fARgwhHvFeCCrBRDiKKLXDgTJ/eIjIxGjBlbf8L/mzq0nseQJ4AeVy/FPMOuYLCFGwjrCLsp1hAiExSURn/zHSySBxEz0QePEcd8mk032db4ALzz44HwSvtB+gn3avp7TDQfo2zlOZ8aZTKJD/aq6qru6q5oeB69Vv9MYAOSvqqY1ssu2BAe9SoeXXBgASo1hI/iAauuJEeDKYgQAjq2tX/4POPwGGWASPyPNwyUvzoBv4QYRuEkKuhUJADQc8YH8I0UDmIoE2ZmJTsx9pASAMIDr4cw2QyCByuuRDaxQBmBAWX8hYwuPDZL+ctSP24VBBxCqYPHRKmBUVc9tZmdvlEFzb+dGS4YYAJocYruM/AGLCsk82KBmsOFKTMRHXDao+lGfpNV1VBuLjsJOkPivaKgbAG8CN82at7lrWABKDMTD77cjDoDfE6i2etV1BZjAxhY/CJsVUhjnnIQm0Y2gAgYA7f9VwwDIVYJB9+xKVHIZADAvgBDsRdxeY7+vvXuXYAi4duAg2KDSO/l/XBuPpz8sDOl9J+qHLqCpAwDujC9H8kPw5omNU6T7ZApABNtra7DKD/eZWF1ZZfwh+c0ITwCgykCcAoP639ys4T0AGgWtM760mvyiAHDL2TjM3G//D3Wa2f7pXRK33VxHvoBawQoxeGT0WPPkABBt/nACKInKIkKhzRMqPTCBE71TzvfdkY8AcDCMh1HHNdzg6qc/kskksOZ1VGFNZsL6iudYpeKvk7rQJDwJBWvLHBJ9hL5U9ACk2r4CICfmu5DAr3gi7KMCP9h8NoH6DGAIjkcgmie6T+BuqSj2JWlZSLhB/T8k0NKSP74jL3yhfvYkA4A8gUTbDu7hujp4kRTLh5wBuvW6Dn3CKvMPCVwWnEhiAwiRS/G97+4M0HMBIOxLSt69H8AHCqQswLZTEQtWNCMv8J4UVABXkITxwAmLVO5VhwcI/KgvBvb99D5kONx05R+1de96CEmeu7oEkqNe9bbYdpg/KfwQIV3HoCsI4YIK3IUXyEeaL6H+S6vY5gmWRALXA+GiQGz+EEHtdYTSAPCznegCWLwAgJLf/pmaeXtG7gKmnXZaD4IFQTJEi+zxfVogJIkKSPBEwjF9dPiJjZ+WhMDbcOFzNP/xJzzXBdCea+7d2pfhvMc4JG+gxnfx6R1seb29D3PFWDJcVwDtAF4sRvb+DqsdF8RTSqEQKYrCpZEd7P7MAKjOmnun8mWITpbnd2GSBZClnefArz1UYQx1GqIUYOcV4BGA3Hi1t4a/Oq4/FHKEh0uLqiO+dhTkAZzUmgdA8PTy/JLsHeSU04Q2Aru9bqKWM9QXJJOurtdcy1hzdO9MfhvfCK+68psFUFmkdC0AO7QDK/i6C5uxoxMDZAMkKlJ9E9HhkgfVAwNjgb05iP7hGD5fjfwDYCop6pWFp32I02Fyf4AYAm5ClpyyAiB+Etn+JrkHG7Y/fb44/frw8vIP85m1fcBJIADYLqzWB3KPDJ0cYYeAOcBCE/o3pHtH8+Hh88Xp3fjlBfyaTFgAHZNRoOcfgKwDwLL2wzZtPASVi2YDLP1EZechZ6CEajhM1T6ZvIAxHk/GYxZAVRdAPRAAzi3uCHr8AifL7M0wnQpoouOvoU2i+c3k8Pmvj3cv7oDqhwRYAHWTK8ED/yyAKWSK7NLblM7zJLgLEfkrBALV/viAREZjggGQ8cKGbU35WyyAqH8AmORbxErHcd8RRADXF9A5EU4OL06B2sdjTvFjTn4WgOZuMFpRsyZpAOwpDGx1Gafv8xArAATSn56x2tkxQbKPHeExgH+ZT10zuA7yEUCUvai4gx/oJY24ouE4tPiPD8DPTV6mBhQX/Z6wAFgnoLkdzKmxlAcwW8+K9olpFN+IoROBqb9ztT8Zc4MDUGgYcwE9PwGkps9g7PT+3u7pAxTQkRn/MWb0DylMjxfeCVRMzQAJH6gAgCvn3MHvQg/uxkjTY6x6on1s8BCEh/AeXrBtaga0fQUQn7mfGIHyT2nW0fyi8fD19MpQHGiqmpJCRerM9cTIqYduZ+Y7Px5PL54/gR/WG5lZDD6pLYMkAdgZz5fQI49jiXH38fRi6Dyd1SiofnJ+eXamOpUEATRalc5JO1dvX13e3swQEBT9Aaj986dovx9l3vvuGDGB3a6qM10OoNGsVfl8Y717IwuAqj0cn342jZsDMvGLj0y3TPqzYQqAfQDU7n214IxD8FVW7XNzmTmltQBMUrje9FvUAIBGr7boWgUYfy92gkjtwNENaeyY+wl4E1DKCkC3PKBWepbWA4DULnLGnmOM4HE2vkG1i70IwKezKyoTAN0NeIIKK3Qlr4oyAOzlaufTzl0nNTB45OIbVHtf+CPwJlBoqckPx+3tvXTHJQwgfdD8Jnu1YjR6/dtNjvz19Q46us8qL8TyJpCTjIXcylS+asRqfKlctgtKJ8uj167zCjo8fuj3+0o+vDXSIJDRrB2zRjqjcG/tMYdtqr1/z9UJ7Fi69QJaAEa5gYkWV42p2Vdoys9/1cIxTQCjSyMtrlrTc1DskMDeM1AzpAlgdG8CQLQ2Y1oC0yAzsy1TqKMXBlCv1poHrd75dKxoGwHAbwmwETQk1a9YNyjg6dqdSsv9NM0pBD0zBOqz/mXRmshOGeoisBhADqp9ibY6ZgA0cl7//ZyJkEkZ6yFgial9AYGCGQDRA8+FWLvWmpXes4Jesf+6B4DcyXnzQMJeW74SgLo4b/ZaB3A0K+ffbgfePSRsAwAKwNP1RDak3PK9FjVFoC629uia7KFhOWrvVMQXYOm2yWNd1w90xCLSk8EuKpa42lkf3DV5rDt/UTxv3OpXjTsA1PKQ9z54QTy5hPakl7z70+mkpNiocWgkl+vpCKoibsBQEyF1ADusoppRo6MpYARuJMhq9hVUBJC58iMM0FFZiuDeUCs1ZQDxS1/CgDMPaksQ4Ei4a+DZBVUANZ/CgGsF9WWBMGvk2Q1LLYsV/eJXGGCSBJ35ZnCWTZl5d6Zv5ZW+z/YvDHAManPSlcaMLq8IIJrxMQxMQWieV9vtHBis0Zl6d6hslRWdgK9hwHuh7IfRla1Dxe/0Nwx4Dj+M7tAqGcji1YMBoHYbevEoWUeK3xlAGFiUh7k09DOvrWO1b0w3AgkDc43uytDPPLaKit8ZXBhwNwnsdshQGIhZMcUwEA0+DHClkQ0jP7IMAJQMzMiAwkDBeCbyEABQ9ILpSvBhoG48DBwBAKpO4A3CAJsr6Rr5iUUAQNUJvEEYYDOGZ2ZcAASg6ATiwYcBbtaZeHyshAAorgS4hVkwYYC9SlIwkA2IHyMAMcUNYfBhwPSsy8cwgJIBgwx+O6R/MSFeIgCKBgwy+O2QgVlXJAAU48AbhAGz26FyjAI41jfIYMIAtx3SDgPXDgBFEwg+DHDbId0wkI+5AI60DTKYMMBth3QPBY4YAGqR8A3CALsd+tOEAVAA19phwA4EALsdujVhABSAkhd4gzBgbjtEDMABoBQIgg8D3HZIKwwUpwAoLQeDDwOc29EJA4exaQBFBT/YMb09lXM7Gjcj8sUZACqTgNXHWSBekHM7Q20PyAFQmASsPp4ygZiAme1QKeYFQGESMGH5ZicQAG22XkV/AnAAYkXpuwLu2vzMt7ex58fBS8Uw0Gfk5wDIr4hTtGa5PvDtaegF2yFFo7uOzQMg7QYyVheuzQpPPj4NvWA7lNJ1ADMAZAnAXgIDWk2dDgIAtx3K6ss/DSAmeV1g18x9VcXt0I3OCmgOAEkCTE/zSDBekI2Dt7a2/LMA5AiktB450t4OZbTl9wAg5QfYusVgvCC3/JacdfFSTASADAHukZ9AFsPcdiil5f/mAohdi6+INKv2NLdDUrOufxQTBSCxKs7q1O1qb4cGiuvfpQBiRcFpwD0SvxeIE+C2Q7b49PeWfx4AsCzO/6BesK0SBvLH8+ScCyBWFIqHmcC9ILcd2tFT/0IAYp4gHrgX5LZDQmGgfLxAyEUAhObB+6AXw9x2SCAM5K8XirgYgACCPWPlSyrboaVup3y0RMBlAMCioPyDLYZZADe2uvGLAoAxMS/mBYMJA9x2aIHbyS9wfXIAoBmUyiJeMJCUAHsa0Z23+CqXjsUkEwQA7eDosPxDpAS47VDKU/ijorBY4gDw4cF16bBczvffMiXAbYcYt9PP58uHpaPjopRE/wHa4jJiKJuWFgAAAABJRU5ErkJggg==",y="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzU2XzcyMTEpIj4KPHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiByeD0iMTQiIGZpbGw9IiNDNEM0QzQiIGZpbGwtb3BhY2l0eT0iMC4yIi8+CjxtYXNrIGlkPSJtYXNrMF81Nl83MjExIiBzdHlsZT0ibWFzay10eXBlOmFscGhhIiBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIwIiB5PSIwIiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiPgo8cmVjdCB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHJ4PSIxNCIgZmlsbD0iI0RERERERCIvPgo8L21hc2s+CjxnIG1hc2s9InVybCgjbWFzazBfNTZfNzIxMSkiPgo8cGF0aCBvcGFjaXR5PSIwLjIiIGQ9Ik01NS4wMzU3IDQ1LjYzNDJDNTYuNDY2NiA1MC43NTIyIDUzLjQ3NzUgNTYuMDYxMSA0OC4zNTk1IDU3LjQ5Mk01NS4wMzU3IDQ1LjYzNDJDNTMuNjA0OSA0MC41MTYxIDQ4LjI5NTkgMzcuNTI3MSA0My4xNzc5IDM4Ljk1NzlNNTUuMDM1NyA0NS42MzQyTDY4LjExNDcgNDIuMjEzM000OC4zNTk1IDU3LjQ5MkM0My4yNDE0IDU4LjkyMjkgMzcuOTMyNSA1NS45MzM4IDM2LjUwMTcgNTAuODE1N000OC4zNTk1IDU3LjQ5Mkw1My42NzQxIDczLjg2OTZNMzYuNTAxNyA1MC44MTU3QzM1LjA3MDggNDUuNjk3NyAzOC4wNTk4IDQwLjM4ODggNDMuMTc3OSAzOC45NTc5TTM2LjUwMTcgNTAuODE1N0wyLjk0MTc2IDYwLjQxNjNNNDMuMTc3OSAzOC45NTc5TDMwLjMyNTUgLTIuNDIxODhNNjYuOTg0MyAxNC4wMTlMLTMuMzYzMzQgMzIuMjY4M00yNC44MzY5IDc3LjE5NDNMMS4zMjU1IC0yLjQyMTg4IiBzdHJva2U9IiNCM0IzQjMiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjwvZz4KPHBhdGggZD0iTTE4LjcxOCA0NS4yNTgzQzIxLjY2NDUgNDUuMjU4MyAyNC4wNTMxIDQ0LjUyMzMgMjQuMDUzMSA0My42MTY3QzI0LjA1MzEgNDIuNzEwMSAyMS42NjQ1IDQxLjk3NTEgMTguNzE4IDQxLjk3NTFDMTUuNzcxNCA0MS45NzUxIDEzLjM4MjggNDIuNzEwMSAxMy4zODI4IDQzLjYxNjdDMTMuMzgyOCA0NC41MjMzIDE1Ljc3MTQgNDUuMjU4MyAxOC43MTggNDUuMjU4M1oiIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjAuMDgiLz4KPHBhdGggZD0iTTE5LjU0MjkgNDIuNTI2NEMxOS4xNTggNDMuMTkzIDE4LjE5NTggNDMuMTkzIDE3LjgxMDkgNDIuNTI2NEwxNi44NzczIDQwLjkwOTRDMTYuNDkyNCA0MC4yNDI3IDE2Ljk3MzYgMzkuNDA5NCAxNy43NDM0IDM5LjQwOTRMMTkuNjEwNSAzOS40MDk0QzIwLjM4MDMgMzkuNDA5NCAyMC44NjE0IDQwLjI0MjcgMjAuNDc2NSA0MC45MDk0TDE5LjU0MjkgNDIuNTI2NFoiIGZpbGw9IiNENjk2MjkiLz4KPHBhdGggZD0iTTE4LjY0NzMgNDEuMzEwNkMyMy41MjA0IDQxLjMxMDYgMjcuNDcwOCAzNy4zNjAyIDI3LjQ3MDggMzIuNDg3MUMyNy40NzA4IDI3LjYxNCAyMy41MjA0IDIzLjY2MzYgMTguNjQ3MyAyMy42NjM2QzEzLjc3NDIgMjMuNjYzNiA5LjgyMzczIDI3LjYxNCA5LjgyMzczIDMyLjQ4NzFDOS44MjM3MyAzNy4zNjAyIDEzLjc3NDIgNDEuMzEwNiAxOC42NDczIDQxLjMxMDZaIiBmaWxsPSIjRjhCMzNDIi8+CjxwYXRoIGQ9Ik0xNC45Nzc1IDM2LjIyNDlIMjIuOTI0OUMyMy4xMDIzIDM2LjIxNjggMjMuMjc1NyAzNi4yNzk0IDIzLjQwNzIgMzYuMzk4OUMyMy41Mzg2IDM2LjUxODMgMjMuNjE3MyAzNi42ODUgMjMuNjI2MSAzNi44NjI0QzIzLjYxNzIgMzcuMDM5OCAyMy41Mzg0IDM3LjIwNjQgMjMuNDA3IDM3LjMyNTlDMjMuMjc1NiAzNy40NDUzIDIzLjEwMjMgMzcuNTA3OSAyMi45MjQ5IDM3LjQ5OTlIMTQuOTc3NUMxNC44MDAxIDM3LjUwNzkgMTQuNjI2NyAzNy40NDUzIDE0LjQ5NTMgMzcuMzI1OUMxNC4zNjM5IDM3LjIwNjQgMTQuMjg1MSAzNy4wMzk4IDE0LjI3NjIgMzYuODYyNEMxNC4yODUgMzYuNjg1IDE0LjM2MzggMzYuNTE4MyAxNC40OTUyIDM2LjM5ODlDMTQuNjI2NiAzNi4yNzk0IDE0LjggMzYuMjE2OCAxNC45Nzc1IDM2LjIyNDlaTTI1LjcwODYgMzIuMjQxQzI1LjU5NDMgMzIuNjk1OCAyNS4xNDkzIDMzLjc1NCAyMy41NDYyIDMzLjc1NEMyMy4yNDA2IDMzLjc1MjMgMjIuOTM1OSAzMy43MjEgMjIuNjM2MyAzMy42NjA1TDIyLjEyMDQgMzMuNTYyOEMyMS41ODgzIDM0LjE1MzUgMjAuMjg4NiAzNS4zNzQ5IDE4LjYxMTIgMzUuMzc0OUMxNS4zODEyIDM1LjM3NDkgMTMuMjEwOCAzMi42MTI1IDEzLjAwMTIgMjkuMzgyNUMxMi45OTcyIDI5LjMzNDggMTMuMDAzIDI5LjI4NjggMTMuMDE4MSAyOS4yNDE0QzEzLjAzMzIgMjkuMTk2IDEzLjA1NzQgMjkuMTU0MSAxMy4wODkyIDI5LjExODNDMTMuMTIxIDI5LjA4MjYgMTMuMTU5NyAyOS4wNTM2IDEzLjIwMzEgMjkuMDMzM0MxMy4yNDY0IDI5LjAxMjkgMTMuMjkzNCAyOS4wMDE2IDEzLjM0MTIgMjlIMjMuNjA5MUMyMy42NjI5IDI5LjAwMjcgMjMuNzE1NCAyOS4wMTY3IDIzLjc2MzUgMjkuMDQwOUMyMy44MTE1IDI5LjA2NTIgMjMuODUzOSAyOS4wOTkyIDIzLjg4OCAyOS4xNDA4QzIzLjkyMjEgMjkuMTgyNSAyMy45NDcxIDI5LjIzMDggMjMuOTYxNSAyOS4yODI2QzIzLjk3NTggMjkuMzM0NSAyMy45NzkxIDI5LjM4ODggMjMuOTcxMiAyOS40NDJDMjMuOTM2IDI5LjczNTIgMjMuODc2OSAzMC4wNDk3IDIzLjgzNzQgMzAuMjU4QzI0LjE1MzMgMzAuMjU0NSAyNC40NjU4IDMwLjMyNDUgMjQuNzUwMSAzMC40NjI0QzI1LjAzNDUgMzAuNjAwMyAyNS4yODI4IDMwLjgwMjQgMjUuNDc1NyAzMS4wNTI3QzI1LjU5ODggMzEuMjIxOSAyNS42ODM0IDMxLjQxNTkgMjUuNzIzNiAzMS42MjExQzI1Ljc2MzggMzEuODI2NCAyNS43NTg3IDMyLjAzNzkgMjUuNzA4NiAzMi4yNDFaTTI0LjMzMzggMzEuMTk3MkMyNC4wODYzIDMxLjEwOTUgMjMuODIxIDMxLjA4NDcgMjMuNTYxNSAzMS4xMjVMMjIuNzc0IDMyLjgyNUMyMi44Njg0IDMyLjg0MiAyMy4yMjI4IDMyLjg5MyAyMy4zMDU3IDMyLjg5NzJDMjQuMTcyMyAzMi45NjEgMjQuNzc0OSAzMi42OTMyIDI0Ljk0ODMgMzIuMDE3NUMyNS4wMzA3IDMxLjY5NDUgMjQuNzYzIDMxLjM1NDUgMjQuMzMzOCAzMS4xOTcyWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTIzLjQ5NDEgMzIuODY3N0MyMy41OTE5IDMyLjg4MDQgMjMuNjg1NCAzMi44ODQ3IDIzLjc3NDYgMzIuODkzMlYzMi44OTc0QzIzLjY4MDYgMzIuODkzNCAyMy41ODY5IDMyLjg4MzQgMjMuNDk0MSAzMi44Njc3WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTI0Ljg4NDMgMzEuMTk3VjMxLjIwMTJDMjQuNjE2MiAzMS4xMTE5IDI0LjMzMTEgMzEuMDg1NyAyNC4wNTEzIDMxLjEyNDdDMjQuMzMwOCAzMS4wODQ1IDI0LjYxNTggMzEuMTA5MiAyNC44ODQzIDMxLjE5N1oiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik00NC42MjUyIDI3Ljc5NzNDNDcuNTQ3MSAyNy43OTczIDQ5LjkxNTkgMjcuMDY4NSA0OS45MTU5IDI2LjE2OTRDNDkuOTE1OSAyNS4yNzAzIDQ3LjU0NzEgMjQuNTQxNSA0NC42MjUyIDI0LjU0MTVDNDEuNzAzMiAyNC41NDE1IDM5LjMzNDUgMjUuMjcwMyAzOS4zMzQ1IDI2LjE2OTRDMzkuMzM0NSAyNy4wNjg1IDQxLjcwMzIgMjcuNzk3MyA0NC42MjUyIDI3Ljc5NzNaIiBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIwLjA4Ii8+CjxwYXRoIGQ9Ik00NS41MDk3IDI1LjA3ODZDNDUuMTI0OCAyNS43NDUzIDQ0LjE2MjYgMjUuNzQ1MyA0My43Nzc3IDI1LjA3ODZMNDIuODY2NCAyMy41MDAxQzQyLjQ4MTUgMjIuODMzNSA0Mi45NjI2IDIyLjAwMDEgNDMuNzMyNCAyMi4wMDAxTDQ1LjU1NTEgMjIuMDAwMUM0Ni4zMjQ5IDIyLjAwMDEgNDYuODA2IDIyLjgzMzUgNDYuNDIxMSAyMy41MDAxTDQ1LjUwOTcgMjUuMDc4NloiIGZpbGw9IiNFNzcwNzAiLz4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAxXzU2XzcyMTEpIj4KPHBhdGggZD0iTTQ1IDIzLjI1QzQ5LjU1NjMgMjMuMjUgNTMuMjUgMTkuNTU2MyA1My4yNSAxNUM1My4yNSAxMC40NDM3IDQ5LjU1NjMgNi43NSA0NSA2Ljc1QzQwLjQ0MzcgNi43NSAzNi43NSAxMC40NDM3IDM2Ljc1IDE1QzM2Ljc1IDE5LjU1NjMgNDAuNDQzNyAyMy4yNSA0NSAyMy4yNVoiIGZpbGw9IiNGRjc5NzkiIHN0cm9rZT0iI0ZGNzk3OSIvPgo8cGF0aCBkPSJNNDQuMjUgOC42MjVWMTAuMTI1SDQyLjc1VjExLjI1SDQ0LjI1VjEyLjc1SDQ1LjM3NVYxMS4yNUg0Ni44NzVWMTAuMTI1SDQ1LjM3NVY4LjYyNUg0NC4yNVpNNDAuOTQ3IDEyQzQwLjcyOTIgMTEuOTk5OSA0MC41MjAzIDEyLjA4NjMgNDAuMzY2MiAxMi4yNDAxQzQwLjIxMiAxMi4zOTQgNDAuMTI1MyAxMi42MDI3IDQwLjEyNSAxMi44MjA1VjIwLjI1SDQ0LjI1VjE3LjYyNUg0NS43NVYyMC4yNUg0OS44NzVWMTIuODIwNUM0OS44NzQ3IDEyLjYwMjcgNDkuNzg4IDEyLjM5NCA0OS42MzM4IDEyLjI0MDFDNDkuNDc5NyAxMi4wODYzIDQ5LjI3MDggMTEuOTk5OSA0OS4wNTMgMTJINDcuMjVWMTMuMzU4NkM0Ny4yNDkgMTMuNjk0MiA0Ny4xMTUzIDE0LjAxNTcgNDYuODc4IDE0LjI1M0M0Ni42NDA3IDE0LjQ5MDMgNDYuMzE5MiAxNC42MjQgNDUuOTgzNiAxNC42MjVINDMuNjQxNEM0My4zMDU2IDE0LjYyNCA0Mi45ODM4IDE0LjQ5MDEgNDIuNzQ2NSAxNC4yNTI1QzQyLjUwOTIgMTQuMDE0OSA0Mi4zNzU2IDEzLjY5MjkgNDIuMzc1IDEzLjM1NzFWMTJINDAuOTQ3Wk00MS4yNSAxNUg0Mi43NVYxNi41SDQxLjI1VjE1Wk00Ny4yNSAxNUg0OC43NVYxNi41SDQ3LjI1VjE1Wk00MS4yNSAxNy42MjVINDIuNzVWMTkuMTI1SDQxLjI1VjE3LjYyNVpNNDcuMjUgMTcuNjI1SDQ4Ljc1VjE5LjEyNUg0Ny4yNVYxNy42MjVaIiBmaWxsPSJ3aGl0ZSIvPgo8L2c+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfNTZfNzIxMSI+CjxyZWN0IHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCIgcng9IjE0IiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8Y2xpcFBhdGggaWQ9ImNsaXAxXzU2XzcyMTEiPgo8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNiA2KSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=",v="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAyOCAzMiIgZmlsbD0iYmxhY2siIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMy41OTI1IDIuNjQxMzJMMTIuNzA3IDEuNDI2OTJMMTIuNzAzMiAxLjQyOTczTDEzLjU5MjUgMi42NDEzMlpNMi4yOTg1NiAxMC45MzEzTDMuMTgwMDEgMTIuMTQ4N0wzLjE4NzkgMTIuMTQyOUwyLjI5ODU2IDEwLjkzMTNaTTIuMjk4NTYgMTIuMTA1TDMuMTg3OTEgMTAuODkzNEwzLjE3OTk5IDEwLjg4NzdMMi4yOTg1NiAxMi4xMDVaTTEzLjU5MjUgMjAuMzk1MUwxMi43MDMyIDIxLjYwNjZMMTIuNzA3IDIxLjYwOTRMMTMuNTkyNSAyMC4zOTUxWk0xNC4wMjUgMjAuNTM2NFYxOS4wMzM0VjIwLjUzNjRaTTE0LjQ1NzUgMjAuMzk1MUwxNS4zNDMgMjEuNjA5NEwxNS4zNDY4IDIxLjYwNjZMMTQuNDU3NSAyMC4zOTUxWk0yNS43NTE0IDEyLjEwNUwyNC44Njk5IDEwLjg4NzdMMjQuODYyMSAxMC44OTM1TDI1Ljc1MTQgMTIuMTA1Wk0yNi4wNDkyIDExLjUxODJIMjQuNTQ2M0gyNi4wNDkyWk0yNS43NTE0IDEwLjkzMTNMMjQuODYyIDEyLjE0MjlMMjQuODcgMTIuMTQ4N0wyNS43NTE0IDEwLjkzMTNaTTE0LjQ1NzUgMi42NDEzMkwxNS4zNDY4IDEuNDI5NzJMMTUuMzQzIDEuNDI2OTNMMTQuNDU3NSAyLjY0MTMyWk0yLjkxMjg5IDE5LjM0MTRDMi4yNTM1IDE4LjgzNzIgMS4zMTAyNCAxOC45NjMxIDAuODA2MDYxIDE5LjYyMjRDMC4zMDE4ODQgMjAuMjgxOCAwLjQyNzcxNCAyMS4yMjUxIDEuMDg3MTEgMjEuNzI5M0wyLjkxMjg5IDE5LjM0MTRaTTEzLjYwODkgMjkuNDExNkwxMi42OTYgMzAuNjA1NUwxMi42OTY4IDMwLjYwNjFMMTMuNjA4OSAyOS40MTE2Wk0xNC40Mzk2IDI5LjQxMTZMMTUuMzUxNyAzMC42MDYxTDE1LjM1MjUgMzAuNjA1NUwxNC40Mzk2IDI5LjQxMTZaTTI2Ljk2MTQgMjEuNzI5M0MyNy42MjA4IDIxLjIyNTEgMjcuNzQ2NiAyMC4yODE4IDI3LjI0MjQgMTkuNjIyNEMyNi43MzgzIDE4Ljk2MzEgMjUuNzk1IDE4LjgzNzIgMjUuMTM1NiAxOS4zNDE0TDI2Ljk2MTQgMjEuNzI5M1pNMTIuNzAzMiAxLjQyOTczTDEuNDA5MjMgOS43MTk3NEwzLjE4NzkgMTIuMTQyOUwxNC40ODE4IDMuODUyOTFMMTIuNzAzMiAxLjQyOTczWk0xLjQxNzEzIDkuNzEzOThDMS4xMzAyNiA5LjkyMTY5IDAuODk4NDggMTAuMTk0NCAwLjczOTMyOCAxMC41MDhMMy40MTk4IDExLjg2ODNDMy4zNjQyNSAxMS45Nzc4IDMuMjgyNjMgMTIuMDc0NCAzLjE3OTk5IDEyLjE0ODdMMS40MTcxMyA5LjcxMzk4Wk0wLjczOTMyOCAxMC41MDhDMC41ODAyMjQgMTAuODIxNSAwLjQ5Nzc4MSAxMS4xNjc3IDAuNDk3NzgxIDExLjUxODJIMy41MDM2OEMzLjUwMzY4IDExLjYzOSAzLjQ3NTI5IDExLjc1OSAzLjQxOTggMTEuODY4M0wwLjczOTMyOCAxMC41MDhaTTAuNDk3NzgxIDExLjUxODJDMC40OTc3ODEgMTEuODY4NiAwLjU4MDIyNyAxMi4yMTQ5IDAuNzM5MzI4IDEyLjUyODRMMy40MTk4IDExLjE2OEMzLjQ3NTI5IDExLjI3NzQgMy41MDM2OCAxMS4zOTc0IDMuNTAzNjggMTEuNTE4MkgwLjQ5Nzc4MVpNMC43MzkzMjggMTIuNTI4NEMwLjg5ODQ3NCAxMi44NDIgMS4xMzAyNSAxMy4xMTQ3IDEuNDE3MTMgMTMuMzIyNEwzLjE3OTk5IDEwLjg4NzdDMy4yODI2NCAxMC45NjIgMy4zNjQyNiAxMS4wNTg2IDMuNDE5OCAxMS4xNjhMMC43MzkzMjggMTIuNTI4NFpNMS40MDkyMyAxMy4zMTY2TDEyLjcwMzIgMjEuNjA2NkwxNC40ODE4IDE5LjE4MzVMMy4xODc5IDEwLjg5MzVMMS40MDkyMyAxMy4zMTY2Wk0xMi43MDcgMjEuNjA5NEMxMy4wODg4IDIxLjg4NzggMTMuNTQ5OCAyMi4wMzkzIDE0LjAyNSAyMi4wMzkzVjE5LjAzMzRDMTQuMTg5OCAxOS4wMzM0IDE0LjM0ODIgMTkuMDg2IDE0LjQ3OCAxOS4xODA3TDEyLjcwNyAyMS42MDk0Wk0xNC4wMjUgMjIuMDM5M0MxNC41MDAyIDIyLjAzOTMgMTQuOTYxMiAyMS44ODc4IDE1LjM0MyAyMS42MDk0TDEzLjU3MTkgMTkuMTgwN0MxMy43MDE3IDE5LjA4NiAxMy44NjAyIDE5LjAzMzQgMTQuMDI1IDE5LjAzMzRWMjIuMDM5M1pNMTUuMzQ2OCAyMS42MDY2TDI2LjY0MDcgMTMuMzE2NkwyNC44NjIxIDEwLjg5MzVMMTMuNTY4MSAxOS4xODM1TDE1LjM0NjggMjEuNjA2NlpNMjYuNjMyOCAxMy4zMjI0QzI2LjkxOTcgMTMuMTE0NyAyNy4xNTE1IDEyLjg0MiAyNy4zMTA2IDEyLjUyODRMMjQuNjMwMiAxMS4xNjhDMjQuNjg1NyAxMS4wNTg2IDI0Ljc2NzMgMTAuOTYyIDI0Ljg3IDEwLjg4NzdMMjYuNjMyOCAxMy4zMjI0Wk0yNy4zMTA2IDEyLjUyODRDMjcuNDY5NyAxMi4yMTQ5IDI3LjU1MjIgMTEuODY4NiAyNy41NTIyIDExLjUxODJIMjQuNTQ2M0MyNC41NDYzIDExLjM5NzMgMjQuNTc0NyAxMS4yNzc0IDI0LjYzMDIgMTEuMTY4TDI3LjMxMDYgMTIuNTI4NFpNMjcuNTUyMiAxMS41MTgyQzI3LjU1MjIgMTEuMTY3NyAyNy40Njk3IDEwLjgyMTUgMjcuMzEwNiAxMC41MDhMMjQuNjMwMiAxMS44NjgzQzI0LjU3NDcgMTEuNzU5IDI0LjU0NjMgMTEuNjM5IDI0LjU0NjMgMTEuNTE4MkgyNy41NTIyWk0yNy4zMTA2IDEwLjUwOEMyNy4xNTE1IDEwLjE5NDQgMjYuOTE5NyA5LjkyMTY5IDI2LjYzMjggOS43MTM5OEwyNC44NyAxMi4xNDg3QzI0Ljc2NzMgMTIuMDc0NCAyNC42ODU3IDExLjk3NzggMjQuNjMwMiAxMS44NjgzTDI3LjMxMDYgMTAuNTA4Wk0yNi42NDA3IDkuNzE5NzRMMTUuMzQ2OCAxLjQyOTczTDEzLjU2ODEgMy44NTI5MUwyNC44NjIxIDEyLjE0MjlMMjYuNjQwNyA5LjcxOTc0Wk0xNS4zNDMgMS40MjY5M0MxNC45NjEyIDEuMTQ4NTIgMTQuNTAwMSAwLjk5NzA0OSAxNC4wMjUgMC45OTcwNDlWNC4wMDI5NUMxMy44NjAyIDQuMDAyOTUgMTMuNzAxNyAzLjk1MDM0IDEzLjU3MTkgMy44NTU3MUwxNS4zNDMgMS40MjY5M1pNMTQuMDI1IDAuOTk3MDQ5QzEzLjU0OTggMC45OTcwNDkgMTMuMDg4OCAxLjE0ODUyIDEyLjcwNyAxLjQyNjkzTDE0LjQ3OCAzLjg1NTcxQzE0LjM0ODIgMy45NTAzNCAxNC4xODk4IDQuMDAyOTUgMTQuMDI1IDQuMDAyOTVWMC45OTcwNDlaTTEuMDg3MTEgMjEuNzI5M0wxMi42OTYgMzAuNjA1NUwxNC41MjE4IDI4LjIxNzZMMi45MTI4OSAxOS4zNDE0TDEuMDg3MTEgMjEuNzI5M1pNMTIuNjk2OCAzMC42MDYxQzEzLjA3NDEgMzAuODk0MiAxMy41Mzg2IDMxLjA1NjUgMTQuMDI0MyAzMS4wNTY1VjI4LjA1MDZDMTQuMjExNyAyOC4wNTA2IDE0LjM4NTQgMjguMTEzNSAxNC41MjEgMjguMjE3TDEyLjY5NjggMzAuNjA2MVpNMTQuMDI0MyAzMS4wNTY1QzE0LjUxIDMxLjA1NjUgMTQuOTc0NCAzMC44OTQyIDE1LjM1MTcgMzAuNjA2MUwxMy41Mjc1IDI4LjIxN0MxMy42NjMgMjguMTEzNSAxMy44MzY4IDI4LjA1MDYgMTQuMDI0MyAyOC4wNTA2VjMxLjA1NjVaTTE1LjM1MjUgMzAuNjA1NUwyNi45NjE0IDIxLjcyOTNMMjUuMTM1NiAxOS4zNDE0TDEzLjUyNjcgMjguMjE3NkwxNS4zNTI1IDMwLjYwNTVaIi8+Cjwvc3ZnPgo=",_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAAA8FBMVEUgHBwoNDsqNj0wOj9CT1YREBAcGRkRFRghKzEYFxgPExUOEBEbIicUGRwBAQEWFRUYHyQvNjoWHSEUFBQlMDYhKi4lLjYgKC0eJistNz0qMzkjLjQdJSojIyUaHB0MDg8EBQYWHB8xO0ArLzImJykHCw0iICANDAzNzc4lLDAqKisHBwjg4ODW1tY8Ozt3dnZvb28wMDCsq6uBgYFKSkpCQkIrMTbHx8eenp+Xl5dgYGFGRkYuNDcqLC729vbAwMCmpqaioqKLioqGhoZnZ2c+S1FPT0+4uLh7e3tdW1xZWlo2Njbq6urZ2dmvr685Q0mGw1niAAAGeElEQVRYw42Yh2KbMBCGJbsCISGBGYbaeCV2nL2apFnde7//2xQhNDCxnb/NQOPj7nQ6yQFaNy8qzctfCYTFlO/zAofYDxgUijzwOAeW5l312NLoi2Ttlb8jCBcfl8d8gijMgzitYGS817WG93bbjIPdx97OvxdKX4C06+gHf3/7fp9DHAM6qGAUHOr5u70RaOtFU9WrXQj7zOcPFzyECQKO9BIj0Nsz7m1njWoW7EDop+U3iAAIigqWolHPcq+tJ8xyoopVqmYBNKxgObq5mSv3trIqH1DfZhHRRGENG705BOBZrAMgXWyxHCJhmDrgOawvdWSDXMwaKpYLJEwuZkK99aydnZ1ur9fd6R6oFmmCD2sxIGGufBywGDxbMa7M0o7OgJBxE2Jp2napZHJdQeqUCh3VQ4c1LaTOVo55O45JR6BKYGbm0QzWiqi3HVUvPgGoU/uIkelGIVQKqbcNlcjAe+BITcIcGHkEq/aBT4LtDsI8BoAnKvgc2EIMamG2XGdcVamUV3yoWc6K7dpR0Y9D5nneKonksn9IxeM0Vazp6qJ5NLJgnc7Lly8P8nA8Vi9DbqrTBwgdFYo1CdrBQLNEsSoJXld0eMgN+7BWXi/b0tcbspHo5uXYsKQAY7MCGvlq4jJSQxlas0FIv9NpsKAt7HpmvRQrXII18pYk6kOlzGalruUNcrWpR5vSKKZkwsQoPjKsnATAqVWuMqLKrpQjhGj5T4gSREq5xJVijE3PA+YXRx8/gY4QTP1Z2TqLoigMfaEiWihWn8OWfOVagiG9/JVByC/3AVwjPNXLxAdwOCgW00WqOie/ljSrUDwI3burAg74yde1rIRr1rTvI87fX3zgUQ6Tkon5n7d3e0Tky9UxoJ9++qUzwcla1oDrXFyk9PKCX/NTfrqX07PjV0fnry6O331lEPL9V6/59/vJ9Sjz52tZ0Gxu6i9ej2ZkNj06uaLOyXSfn52ffotfL3B4esu/HZ7dT87v+DQGGOO0/F8Jaw2Hw6nOazdin/d/nl5/3r98d//6uDTs7O3v28tPBGLv5MPJ8vsPdvH277vj9XYtMl3xGVycfvxwezbiD68e4vvr8/OvD5+vOBZ74pQSL2ZXd8CbrmdRvbl9Un4x4rIURpMIh4wwv4w2FOpnfbFb9udRH65nEb258wncKP/i5JpAuIHF9ObG0+oY6diyn3HsMfETqI6WImaStXQjglp2cagqBcbVQGA1NqtR6BqWGwMHkdSC6UmGqli628inVcpCU6UD6g/q8kLF/nZl+DUBaJR+T79UkiTFAirpKu2hSNJcxz7eIPaZO1kCtxShhWokR6gWnZplCFYP4z5yyEB309gzA9wniqFjWEPHNI+JzBg0rPftyuWiPq1XzmEi/JZfCBgFWWULU1H1mmXbVzFoyO1oEbu9ouC+DIkkGaHKcz9YqeRRmXX1VZM5thdQi4JVVRFIlB/GWsGRrCywWXrd/YZV5q5beK37YcekoW3AcoNZzky0R07bc21Xo5euNQvVoWdgRRQaH+0IOKFoaJu1twMwDdJqFVuea1azm8qbSKdlVg/A4cSvfByvsJhtF8S0tmoiasJOt9s1ZhkWTGbytgvaSWdYMJvEjrgRibR+2S2VrUZrF5g6uhou2y6h1PcFX7EIWNEI6LF5w7BATDMsLcMKQEtmbIiAvdstu4ZNVKdieW0WVllsfwgLCLRZPkls1FoWrWC6UDkVKYMNFnMQw6rcDjtwHQugzKrQ6cx1WQ6l9Fvc0umAuELiimdYbVjRPARM4VUsYg3ub2SB2IdPKFtqg5G9dzex9kYgDlsnEXYDlNRmJWildh2sYfUebwAIItigDUXhR8pFU70QliXeYrUVMAnr+1kRMheJ5SQ6JZxmAofjjSzgubVvE0/NdHVKNI8rjNay9MCBdE8Hh+mUaBb6CVCsrR8ei6B+1qtLTLAE2dGs7Z+PWX17SHVKqCKkCvN2FhjTxKq9SDzolDDBAptZxk09vpUSE3X0PJMFvFAXd5MSoWMH65ksPaXwGikhX2LOdifbzpLWqGjP7CrB5OYfHR7O56PxzvNY8io0GwPPrhJUlrLw8PDNm91dv2LlvVK7G9dyJq9qAEGTEqgPxdNNTyo3du1tNkzGWIZLcutgDdRExdoqr6hO3iBXrDyot2qu/4wqWL0nWKP5YRmCx57QSN96/Il2MaISdaCzsGIlTgv1H7zKdOIilNf0AAAAAElFTkSuQmCC";var b={neshanVector:{title:"نشان-وکتور",styleName:"neshanDayVectorStyle",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAAC8VBMVEX/0cPq6+Wd37jK5tL/////0ML+zL7+zsDn5+H7ybv0v6/2wLH7y739yrv7x7j6xrfo6eP0wLHJ5tHl5uCe3bb5xbb2vq/f39uf27X5w7Xi4dzk5N/j4t6lz6vfnIv8yLn2wrPyt6jxu6vpr5/d3Nej0q3stKTTsJnp6uni4+Ho4tyh1rCpyqetyKb9/f3p6+T9y72g2bOi1K7vtKTrrZ3K5ND71sv0uartt6jotqfpsqLtsaHP59XV1dG2waLOsZm8tJf8+vnq5uDY3NnG48/MzMnvy8H4wrPwwK/uuqqxxKPisZ++u53ZsJvJspjkopJ6enlmZmb39/fp6eXr6uTi6uHe3t704NnU3NTm2tL52c/xz8bkz8X4wLHyvK31vKzpu6ipxaLataHlrZ7nrZzDt5u5uZrbq5fgn4746ufa6dz23NLS0s7iwbWlzKisq6jltKTlsaLftKDWs5/gr5zjrpycnJriqJjWqpbgppbIqZCQkI5xcXDu7u3r6+vl6uLt5+Ho39fa2tbF2svK28bKyMTkysHBwLzKzrqh1bfsw7fhu6/tvK7gt6mswZ+vu5rcrprnqZnDs5fmppbYpZHhopHPpY/o5N7U6NnX19TL38zl1czPz8zx08vGxcGg3bi7u7ez1LSd1bPlv7K2tbKmwbHmuKXit6PQrJWWlZPRoYuCgoD25uLf6d/c497w5N3c393X4Nfe2dTy1s7a1M7N1Mzvx73yzLup0LntwLSo17Oey7Cdv6mox6S7vqCwvp29r5PFrpOJiYdsbGzx8fH78vD57erl5uXh4eDh29j02tPF08i/1MbQy8ay4sTL07/K07/hx7zOyrfOzrbSvq69y62ZwqrNvajCu6GhoZ60uZm3tJbv7+/u3tm34MTAzcSt4cHqyL6l4b2w0L3oz7v0xLfSv7ej0rXgx7KuzKvmuanUu6fQuKPMuKO9rJDFo4rXmoa/m4B1dXT/49r70MOu2b3NxbC/v6SytJa6oYTPk330/q2YAAAKkElEQVRYw6WYd1xTVxTHbx6QGLKBQAhEIAmBAsreIqOCAjLVgoAyZIjKFCgKWrfWvUerVqt11lpXq621ju5da53de+/9V8+5N+slQv18+vvwCC/vve896553L0RApdy2YLgr04tfcqhhEoISwg8ccQ9qjf6CQTXEh1j/zH7OTHtcg6wId8pSEBIlJkTSIhCM8xmEFOnv409sXOPjpZQ1/DUNssZQ1iSwK5EQt+QtAqX/kAFt0mr9IgWMxeQ5I5TC5p4GVutKC4tscCPEvQquawdA+fsblfBhZbGozaWwhV4cF1xDWb5wDDUQIkrOGsgwTz8/T/hAFk/bKCv0YY4L309ZMjgKzovAsFUY3tv6R0nOrBlWVnQnZbmBf3W1SWCYab5AiQbwQ+7p568UDMaaACyvmcRSFPtbM6QAa1eCDby7Ae4Hbg/ASqOsxzCRIYwVQEhNbXAKeBm0BKLMM8xP6z9OcHuW0pj9ImWVewErnbHkhIxZw90EL0lslWCIXfg9fRxSQXxQC9K2Z2dnv1Q63FxgHM+uMX9x3HrwknSEgVeWgf2dskrmzpnz3nOlQLEpdOEnHKexxcs9g+N0nfCHvD1MqVWyQGmVkXzSfdOIq5OGp/kdGUVrQoSJJGT0epyfa+FE3L7F0z9SoISSUvJJE7a6eBArwWrZXCNce0MHtSpjLEUhsLzWBGLprgjzU3r6Ywr4qBEeLi7OdpVup1cPiCHYrFhlIRwqAzuHpD3MR+tIOoIkZ1bpPdn08sR18OBPbjT2ogKO6gcVupk//3Y2mVnDM0ufe2/OnDmh4+aGbltgrsZVEGr13wrKIl2MpWnwxcSmVPFD7gIoxsrO3p62wAel9fOzpiYsFSLVXZtI80jqOaboH0cTUNCqMCtqKyMxluB2ykKzJmcEx9HYk1QNZ1aGN56rDW+zUalNg7PGr/CGKKVHa4pYIhODOYueXSskIPdZV9KGHBlBEYOzqvQAUOVx3FBWrBIbyyuiTo0waVLBF68uHPWfrLeTRFDjDeDYbEwcFIUXZ1N4Y6cYaSJVR8vrpxYujB+MVZWKc2+WDp7bLaKJdAvn7NXaJCFUickfv1z+6mujBmKNn/9xRQIhTdSt3VJW/F9zPGlWH4hlNJF+5Y7SF8tPfbjQw4mV9eDxXUvTwhJMz3CUJWZF8S7nqNbNKiHDqYuWlzVnhm7/8FVib9LEJck5i0tKig+eHMlRPfUkDO3mzELbhhXu82VtPECiyj1TWfY+YZTxUJ4tyWdy5mf1HSy+UXzqAxsrAMZ/h7uNvIJH1o0BwxlQLlGRqrdbVrQs0S5Im/i52/s7e7L7+vovHS7/yMZSSAdgYU7XhJiExCpFVEVZWNaMgz1p846+3t9TUlxycOexNyyT5jOIB7C+4iP4uPS1sXLClHB8b1vblqx543sWLy05WHJ457Q3bG6YWXu4QfTJR7szfuzKdVeThLK2vW19M4zHF/f39BXf2PXAB09Fh4eHx8TEBAfrdF+B4TLo+BGoYaC8vJGoc+fOjQU1NDRcv15+akb5tc0/DS0iOWEXf5lRUtJ/qeTiL23b9ty7cWNvb1PT2q78/Pb2fTV6QqIU0E7dqSQSSeBoX7VaIQ8Qi2XSKKFQlDBvXlpf396jZRVHj5KKsqV75xkX79ppnKcNqyAOmsSWFEIRGUAJe3vGQ6Ndul3b0w+nFdMTCF98Fh6KAVltxcasLcbiG22XdhFnubm5iYTCKKlMLJZ7wzkeQRLqpIrK3X3yZL0+N8lkSk1dmVZ8+OLFw8WX+vsPE4Ohft26DUWbpk4dSjV16qZNm2aB7kUZgFMNh/U63lBUtGHdunqDIdVkStKfOL5z19LXX168+ORSMgXU0ZGCMhgMcVSpqbGxQUGJ1d7e2Ea9ReAnfA7k5fTp0ysS4JhOBpdQCCwpTCRg/V/JZJBHMXRGoVNUhUKZWK7w9Z3k7V1dXT0JRzMHWa5Q+44ODJRI1PiUSB1IpZoMHAUk0T1p5cqVKnM2AzZMOXNm+fLlTzyRk5NT+UTHhrggtVgILDivrKzcsePEiVdeeaWsssibshIeBTU3N5eBf1I4Pm/OzMx8oTI3kFmrP5HpytSckyuB60yu9no+xZdQ/Wr54jdggW3qF+jpC3v0tGpFpiWhVBNTvIlNtrVJZuYOkzkWO16+h2lBJSFiFcRr2aenTz8NenhNSBDCunUajebhH5LZ/bLEuPy678gjqLNnz169evVsF21Csw7NXuRiVvyTwJoMz9p11tXdmNQL0JE2ywhI6r6xcBneTOz6ZIMcHkr6FkFW1nLIDhoy0+61FmECR7u9NLPFSEr+9p0H4E4+KyIXLpkue7jY6S09eIDvnG+COZvOg9eJtXlgL5FvtA1NdNYGuRFGk3zvwtMy3GEhSzXMjvXMPnDg5wJc5s1kNjFWdy3HdAuDONOFr8u4sEEfZWPt3xrpOEXl8G1dvP0aQLjWPGIhPvWmA+sKhiQRR0m3Xwesx2kKR8pl+5vB2H3P0tsKII75Lg6qw5TREtpXa8dqYL1R8kc8n0Xc9Lfwej0smB1djO9kezX8dcGOVcimehfkiccCVd/UcDEQFdX3DqxFtBbltB4N0bbY72cl+h3vZg8yhRpbGF0LUR5zzYH1Ft3ciln7uWkNfS/7ZsMi3s0jSJVBSoAyVgeZD3T0cZmKgKIIVUgMQ0U3SghK2uviYJdgYjL6oAppgjR0xPOvhoipRWwbKS0YqQsPDx4ZomZs1TI+axSBpfy9OLBiKGZsGd/FOIISAU6On0G96ekhQSLCtOIBM8PDYhdulPJxeDGmq4BnWJO5bYCbh/S8pgqH+xejWJim8deYXRLC/FBstFVr/DVfa7DkYxtNCGB2Vsvg15S7keWxVSDgs8L2BBImYfIVZrrHm3W56LU3q8pzmmHpNWohSF2zORXcjG1+DFgj7sNVvoeVxTYHeov5gb2L0Kj0FCna84+crfBHQinoGmeDGnXnMWLLXYE1IZJuiBzWvltwe8AkS53SmV+vplaG/EyoYvM4q3QG7EPPuz4WD0ah7uOxUC2pTu/A6gO6Q4QqztJysJvCuX6Pq+td1j0yjxU5xNMzq0XPh6mTrgeHN7Gc1EdYWdgCRb0n7VkjzCwfo1GrnDPExygYvyRJiC4mSgKkCol755+7wZ8a9u7uarV62Anoyc/ebc/aamYpwSTLl0vW0S3d5sILjXkRMZb/XEVFQd3pLB4WCoGe/iWPddt9x4MGhJkyvKwOBYJDIjoXmc4DnDQ9c78zC+uep4ndYuxVGRbWWBnb2a7XmLd8gThWK8djRW5F0jQBsPiWJeNM3r/aroFi9d9ipzFrsebWc3wW7rhHHIlEloNlHXIISL7ZpxAC3RbO1zDUARhIcSGaz8IKm+D8vyHU/HpMJvNSU4e7EzCNNftGXOjkB3NOLJQzC90MwklDvQyuYev7IGrmapyguXncnbJQqzBXhzCXrWNgdkPs66mHm9Dh9bRLn378Dllh30DE9bj/HKaCFgGZ7f79Ic6LVtYB3UOgT+dm3gkLVSWB1jjWHKAALC/0EGe74WR5+bFjx8CqO2XNT8IWCyV1CDgY7wwwsR3b2IpxKP+XkPWSUevnGSmw6V8ZQXiSmyqEtQAAAABJRU5ErkJggg=="},neshanVectorNight:{title:"نشان-وکتور-شب",styleName:"neshanNightVectorStyle",img:_},neshanRaster:{title:"نشان-رستر",styleName:"neshanDayRasterStyle",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAACK1BMVEXy8e3+2M39ybnB8rT////u7er8zsG3clz91sr90sXptqazbVj99fT+7uqta1bkqZfi08vXmYe4iHf80cS1dmK0eGW5dWLi3tfZxLvp5N7Fn5H6+ffir6Cuq57appbJiXXFgW39/Pvp5+H0yr7s6uT949vKx7rxxrrXurXUtqrqsJ62f27k493i4dj30cbrwrfIppjFmIjMkH+8kH/zu6qxrqHeoI3QjXm/fGm9eGUlJCS+8bD2wbC0fGuSOyH93NPJq6bgoo/Bn4719PP+6+Xl5eP93dO0saa8lYVbW1s8PDygTjWHKw/q6eLd29PMyrzGxLvDfGe0dWGqa1WwY0sbGxsUFBTw6eXa2NDSzsPLkX+M5XNra2u0bliick7d3NvV1NTZ1szjycPEwbXqvLC5tqyw656cnJyi6Y2EhITTkX18e3pzc3NkZGSpY0tDQ0M0NDQsKysHBwfs8Obm5+X+5+Dh7tnV08vMzMvb0cfU0cbJxbfBvrX6xbS2tKmmpKSq6pejnJGLi4uXlIWb5oSH5G2rdFindlZUVFRNS0ueWELq4tz018/108jT7Me8vLyzs7O9u7HKtai266a0w5qlopaUlJSywYuT5nu1gG/V29nGzMbDw8PswrW+6rGsrKzNraGz05qpppqpqZaIfXNUVFOmXUaLMRb35uHExMTNy8PNy8LJxsHlvLrBxq662Km7yae0saXSrqKt1Zmc1YWqqXeAb2/HgW2ud2MtIe9LAAAIRElEQVRYw42Y93vSQBiAv4sJCSRQQKBQKKugaFsLrdaC1lY7tHVr695777333nvvvbf+eSZ33B1pi/X9gSfhgZfvvpFLAIr0TMTc1I+92oYzsfakFksufrcs1YAMIn6YWwUFlO6vht5IVXNWHn8B3FXZHtvYufpY51rx6K9kqiyEZWpA2i8BZfLU3fSEc/NZ+aEDc1piIkFaacSF2mOXN25bHUN2zdYMqmK4LKekKUvpr++bOhl6I5pZaazDg5AW23M2JigWYXgGnGSVtkrYn8gvrxSgf9dR0PGh1sNnd+Ri2pKgRXADNIexLOSOT8XL2yfBf7iuztHfCkRRsmW32HnmbO4eEiqNBNZgWcmEuXOrd+Pl9e+KHQedzGCE2ttRy5U9saQgeIz8OIZhWdgdmIOX178reBznQ8WpFiztiqAjg06Vw0pydioO/+NqGXEU52FIGH9LyCOTdJNiogqHs7hr2oGrK7+OWDnt0PFy0oqSigxGchfGqSKMki0r6iqtiidMZSmzIZ0albp8EpUNIzbbzGXwfzizyECWqSsaAEKVowYR5t2d8j+qapX8dtpDXfUsQVJjKC8bGPE6+1Ul8sVXpUbqGloHjEwtyqNE/vSz0oCjAhnUpuAcc40Bjt9hYzbXwifSP3JFW1Iv1aTRedfoSVCAlMkORJQV8zYdnba0zzG45ssXyq2fjBkq5JkUMGfUG+E2lLzgvzaivLz86twqHqSUVsMIU+MFnYljqWvM3p7hN/62oAJdqyaK0pQPh2iXZWRaI9up2aDzykVdE4f0bsq7DRWokKaddrsGALP9brl2NH037CaxOljjd6WhN+frZBvqAfgaomErP6+lE9I4nQ1RHfSF9GTmxR4u09lwma2njje+F4qQmjlzXkXfrpBcNpuPZRd1rdv0rzkp82YvaDv1b9uDzKWE1eZEIh6oLnU6nXv9/jrWrCVjMhPq6txud2VlZaPX651hIHPmLek4v66+RFwAVoOKkpFZ2ZedPn16NBIZOXLdOpdr+kTqGv569OiDgokmhR5ZkGBp26rpR2InCD3go8MOJwkWTYxpFoGSXLJEayKH2mK7EJwlGkebe7l4NOwwFRTXr93wotWqCIbVLogd2zqviIoRYNu2K63iNlFAihLs7eLRUFpysba2th3tLXvsgrZg1mr7/S1tWzs3t+iBah0dsxaLs0T7A7AoxV1suK33tmqKoqDW1ZvtF99uSeTEwwvEzQ823LpYYqvKicc2iN3BNxuP2S9ACWHs2LEljKEGfLiD3Y9FTQse7u6Wdmw905a7v7i7I7fk5a2kMLAt93jjej2upsPb1h4rHhcf7o97Ns/K5WadWXyru3vt+q0dW3KdHVu2rBX1Ndovd2xoEReI6HLn+vX/cLHhHlmmBXdIMXt7qyhqdk3Er5o4EJfU3jqwqTUZfLla3Fnc1cWGu15vNYtFKE5TcONZPcriLnV6z1azmBjIsS9YEGxSFLBgrIUomKgssKs0sqmRClSUZFBrwrNdjNou3h5q2exExhFC/6a4qx4P90F+lZaGyC4FYUpmGjO+cJ4FFaD0dlkGYyrqJ+L14ZKmgLDXGyU2OQ7LZq7gG5KrYeGi0+Dz6Djq6cW+69yEMoNx49xjmEtNFWx7OJbBmUSXQjfxhtM/b4waMGAA2WJVhAmpaYnvu2PYGm1O4G8vRAYzJjykG/jpzwMwxOXFNRqmNmMTZZNAqcgA5xve+hrye6lr0VPsoS6/i+SgCkzIzGX1AEfCFttg/LroNrZwl1vBdeuxDcYjFuZqSADHi5OEDBZRDXN58M1jI5jx13NXqPB33Ijiut3LhYMO+8FMejhzWZAXOHepioXFXYko0onGwYxbsXJXtBoYC4uEdQQaJT9uLh9QWFoKXBV1vMMitM/NYY26ATbPEDxnnp4uT6ELyRIt40I97XYxmETzbpjD+gSoZpMLrzEAZrImly1fmvgpfXJ2ijro9ABzXF9An4coudvtUUaXyYVCjrTT6XerRlvbDdcy0qSc78Zs5293zS5VT0iBy7C5XC58RFzlA3rwA3AW8XWkuVCVcplcDO56nk/TfOqaD4hRW8fHsVRGBa6hitnF4xp18tEa6roDNYhhc5QCobnLWuga6ajo23XixHa4tCrvWgWNNsSw+tJx4/qphsgpdfkC7mz+Y8NqHzLX9ZOXjCahixwF4A4hTijq8TSEEWFowaPa7LTHp+OplFlc81cB5k7BDNWFUZ/Y2AbpKZiswSz3u4CwpnC2x7n6UoUc7CagktckyvI1AvI8us5cUhzStb2DUtPjhtNbsXGAYc/d502uXTQwGDR3H8CQiNlUI5dJUCnkGctvrnEFlPdFXIRUQ17iCoUjWU9mtjHcrCWc9FMk/sg0k2vAKlZHgl8msuGb/HTI5Z5PydXkMyvcZteqUUR1EihOVSGRNbI9grWEKVkDZ1aZXUeuG6Y7a7b38fDYnD/nLcGSZSCXxpmLMH+UPgC7oJBqB5nhLJmkIbwlCpPlGgLx5YZrPFC2n5x/qcgTsuLA+cmYWyIgkxS4ASZTF5NBb+Iq6S38Zd4SKfwPCM6A1SHprgPcVRx/hKTEVMaI0RITSLJ8xvoTy/t3sa+EU4UuY9vws2TpjID+XfzPHK9+lGUufGk0GDxhSml1dekhkbj6Y1xNflPyr+MtIb3CKsU9ZcqcOUuX7yauQYMGTV36L1cAD9PoDLgP8paYMBi70ssHGZRXY1e5sQwJ/oWXZF9S2QNbWT5ZNdcAc0Cirv7wh/H4NtdTV32znF8hEMYHi7niVaVTlu6bO9WIPsHuelwOgTKdzJYyjq6nXCzi+guH3FNpPrMG4gAAAABJRU5ErkJggg=="},neshanRasterNight:{title:"نشان-رستر-شب",styleName:"neshanNightRasterStyle",img:_}},x={neshanVector:"neshanVector",neshanRaster:"neshanRaster",neshanRasterNight:"neshanRasterNight",neshanVectorNight:"neshanVectorNight"},w={show:!1,position:"top-right"},k={show:!1,position:"top-right"},S={show:!0},C={mapKey:"",poi:!0,traffic:!0,poiControllerOptions:w,trafficControllerOptions:k,mapTypeControllerOptions:S};function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function T(t,e,n){return e=A(e),function(t,e){if(e&&("object"==D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return!!t}()?Reflect.construct(e,n||[],A(t).constructor):e.apply(t,n))}function I(t,e,n,r){var i=M(A(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function M(){return(M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=A(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(null,arguments)}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}function P(t,e){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W(r.key),r)}}function R(t,e,n){return e&&L(t.prototype,e),n&&L(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function W(t){var e=function(t){if("object"!=D(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==D(e)?e:e+""}var B=R((function t(){z(this,t)}),[{key:"onAdd",value:function(t){return this.map=t,this.container=document.createElement("div"),this.container.classList.add("control"),this.container}},{key:"onRemove",value:function(){this.container.parentNode.removeChild(this.container),this.map=void 0}}]),j=function(t){function e(){return z(this,e),T(this,e,arguments)}return O(e,t),R(e,[{key:"onAdd",value:function(t){I(e,"onAdd",this,3)([t]),this.container.classList.add("traffic-control"),this.container.classList.add("pointer");var n=document.createElement("img");return n.src=g,this.container.append(n),this.container.addEventListener("click",(function(e){t.toggleTrafficLayer()})),this.container}}])}(B),N=function(t){function e(){return z(this,e),T(this,e,arguments)}return O(e,t),R(e,[{key:"onAdd",value:function(t){I(e,"onAdd",this,3)([t]),this.container.classList.add("poi-control"),this.container.classList.add("pointer");var n=document.createElement("img");return n.src=y,this.container.append(n),this.container.addEventListener("click",(function(e){t.togglePoiLayer()})),this.container}}])}(B),F=function(t){function e(){return z(this,e),T(this,e,arguments)}return O(e,t),R(e,[{key:"onAdd",value:function(t){I(e,"onAdd",this,3)([t]),this.container.classList.add("map-type-control");var n=this.createToggleButton(t);this.container.appendChild(n);var r=this.createOverlay(t);if(t.isTouchPlatform){var i=document.createElement("div");i.classList.add("overlay-background","closed","pos-absolute"),i.appendChild(r),i.addEventListener("click",(function(){return t.toggleMapTypeSwitcherPopup(!1)})),r.addEventListener("click",(function(t){return t.stopPropagation()})),t.getContainer().appendChild(i)}else this.container.classList.add("pos-relative"),this.container.appendChild(r);return this.container}},{key:"onRemove",value:function(){var t=this.map.getContainer(),n=t.querySelector(".overlay-background");n&&t.removeChild(n),I(e,"onRemove",this,3)([])}},{key:"createToggleButton",value:function(t){var e=document.createElement("div");e.classList.add("toggle-button");var n=document.createElement("img");if(e.appendChild(n),n.classList.add("pointer"),e.addEventListener("click",(function(){return t.toggleMapTypeSwitcherPopup()})),t.isTouchPlatform)return n.src=v,e;e.classList.add("o-hidden","pos-relative");var r=document.createElement("div");r.classList.add("gradient","pos-absolute"),e.appendChild(r);var i=document.createElement("div");i.classList.add("button-text","pos-absolute","text-center");var o=document.createElement("span");o.innerText="لایه‌های نقشه",o.classList.add("default-text","align-center","justify-between");var a=document.createElement("img");a.src=v,a.classList.add("layer-img"),o.appendChild(a),i.appendChild(o);var s=document.createElement("span");return s.classList.add("style-name-text"),i.appendChild(s),e.appendChild(i),e}},{key:"createOverlay",value:function(t){var e=document.createElement("div");e.classList.add("overlay","pos-absolute"),t.isTouchPlatform||e.classList.add("v-hidden");var n=document.createElement("div");n.classList.add("header","pos-relative","text-center","text-xl"),n.innerText="حالت نقشه";var r=document.createElement("img");r.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE2IDcuNUw3LjUgMTYiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjxwYXRoIGQ9Ik0xNiAxNkw3LjUgNy41IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K",r.classList.add("close-img","pos-absolute","pointer"),r.addEventListener("click",(function(){return t.toggleMapTypeSwitcherPopup(!1)})),n.appendChild(r),e.appendChild(n),e.appendChild(document.createElement("hr"));var i=this.createStylesWrapper(t);e.appendChild(i);var o=document.createElement("div");o.classList.add("header","text-center","text-xl"),o.innerText="لایه‌های نقشه",e.appendChild(o),e.appendChild(document.createElement("hr"));var a=this.createLayersWrapper(t);return e.appendChild(a),e}},{key:"createStylesWrapper",value:function(t){var e=this,n=document.createElement("div");return n.classList.add("row","justify-evenly"),Object.keys(b).forEach((function(r){var i=e.tileGenerator(b[r].img,b[r].title,(function(){t.setMapType(r)}),[r]);n.appendChild(i)})),n}},{key:"createLayersWrapper",value:function(t){var e=document.createElement("div");e.classList.add("d-flex","layers-wrapper");var n=this.tileGenerator(g,"ترافیک",(function(){return t.toggleTrafficLayer()}),["traffic"]),r=this.tileGenerator(y,"مکان‌ها",(function(){return t.togglePoiLayer()}),["poi"]);return e.appendChild(n),e.appendChild(r),e}},{key:"tileGenerator",value:function(t,e,n,r){var i=document.createElement("div");i.classList.add("pointer","tile");var o=document.createElement("img");i.appendChild(o);var a,s,l=document.createElement("div");return l.innerHTML=e,o.src=t,i.append(l),i.addEventListener("click",n),r&&Array.isArray(r)&&(a=i.classList).add.apply(a,function(t){if(Array.isArray(t))return E(t)}(s=r)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(s)||function(t,e){if(t){if("string"==typeof t)return E(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(t,e):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i}}])}(B),U=r(775),V=r(775);function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t){var e=function(t){if("object"!=q(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==q(e)?e:e+""}function G(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(G=function(){return!!t})()}function Z(t,e,n,r){var i=K(Q(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function K(){return(K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Q(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(null,arguments)}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X(t,e){return(X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}"loaded"!==V.getRTLTextPluginStatus()&&V.setRTLTextPlugin("https://static.neshan.org/sdk/mapboxgl/mapbox-gl-rtl-text.js",null,!1);var Y=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e,n){return e=Q(e),function(t,e){if(e&&("object"==q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,G()?Reflect.construct(e,n||[],Q(t).constructor):e.apply(t,n))}(this,e,[t]))._user_layers=new Map,n._user_sources=new Map,n._mounted=!1,n._onMountedCallbacks=[],n._isTouchPlatform=!1,n._mapTypeProperties=b,n._mapType=x.neshanVector,n._scale=1,n._trafficLayer=C.traffic,n._poiLayer=C.poi,n._poiControllerStatus=w,n._trafficControllerStatus=k,n._mapTypeControllerStatus=S,n._trafficControl=null,n._poiControl=null,n._mapTypeControl=null,t.style||n.setMapType(t.mapType),n._updateDeviceType(t.isTouchPlatform),void 0!==t.poi&&(n._poiLayer=t.poi),void 0!==t.traffic&&(n._trafficLayer=t.traffic),void 0!==t.scale&&n.setScale(t.scale),n.setMapTypeControlOptions(t.mapTypeControllerOptions),n._setApiKeys(t.mapKey),n.on("load",n._onMounted),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X(t,e)}(e,t),n=e,(r=[{key:"container",get:function(){return this.getContainer()}},{key:"mounted",get:function(){return this._mounted}},{key:"isTouchPlatform",get:function(){return this._isTouchPlatform},set:function(t){var e=this.isTouchPlatform;this._isTouchPlatform=t,t!==e&&this._updateMapTouchClass(t)}},{key:"mapType",get:function(){return this._mapType}},{key:"trafficLayer",get:function(){return this._trafficLayer}},{key:"poiLayer",get:function(){return this._poiLayer}},{key:"poiControllerStatus",get:function(){return this._poiControllerStatus}},{key:"trafficControllerStatus",get:function(){return this._trafficControllerStatus}},{key:"mapTypeControllerStatus",get:function(){return this._mapTypeControllerStatus}},{key:"addSource",value:function(t,n){return this._user_sources.has(t)||this._user_sources.set(t,n),Z(e,"addSource",this,3)([t,n]),this}},{key:"removeSource",value:function(t){return this._user_sources.delete(t),Z(e,"removeSource",this,3)([t]),this}},{key:"addLayer",value:function(t){return this._user_layers.has(t.id)||this._user_layers.set(t.id,t),Z(e,"addLayer",this,3)([t]),this}},{key:"removeLayer",value:function(t){return this._user_layers.delete(t),Z(e,"removeLayer",this,3)([t]),this}},{key:"setStyle",value:function(t,n){var r=this;return Z(e,"setStyle",this,3)([t,n]),t&&(this._user_sources.forEach((function(t,n){Z(e,"addSource",r,3)([n,t])})),this._user_layers.forEach((function(t){Z(e,"addLayer",r,3)([t])}))),this}},{key:"setMapType",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._mapType,n=arguments.length>1?arguments[1]:void 0;if(this._mapTypeProperties.hasOwnProperty(e)){this._mapType=e;var r=this._mapTypeProperties[e].styleName;this.setStyle(r,n),document.querySelector("html").setAttribute("map-style",e),this._fetchPoiAndTrafficLayers(),this.mounted?this._updateTilesSelectedClass(e):this._onMountedCallbacks.push((function(){t._updateTilesSelectedClass(e)}))}else console.error("Maptype name ".concat(e," does not exists!"))}},{key:"getScale",value:function(){return this._scale}},{key:"setScale",value:function(t){"number"==typeof t?(this._scale=t,this.container.style.fontSize=t+"rem"):console.error(t+" is not a number.")}},{key:"_updateDeviceType",value:function(t){var e=void 0!==t?t:this._getDeviceType();this.isTouchPlatform=e,this._updateMapTouchClass(e)}},{key:"_getDeviceType",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0}},{key:"_updateMapTouchClass",value:function(t){t?this.container.classList.add("touch"):this.container.classList.remove("touch")}},{key:"_getStyleTile",value:function(t){return this.container.querySelector(".tile."+t)}},{key:"_updateTilesSelectedClass",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mapType,e=this._getStyleTile(t);e&&(e.parentElement.querySelectorAll("div").forEach((function(t){return t.classList.remove("selected")})),e.classList.add("selected"),this.isTouchPlatform||this.setDesktopLayersTileProps(t))}},{key:"_updatePoiTrafficTileSelectedClass",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this["".concat(t,"Layer")],n=this.container.querySelector(".tile.".concat(t));n&&(e?n.classList.add("selected"):n.classList.remove("selected"))}},{key:"addTrafficControl",value:function(t){this._trafficControl&&this.removeTrafficControl(),this._trafficControl=new j,Z(e,"addControl",this,3)([this._trafficControl,t]),this._trafficControllerStatus.show=!0,this._trafficControllerStatus.position=t}},{key:"removeTrafficControl",value:function(){Z(e,"removeControl",this,3)([this._trafficControl]),this._trafficControl=null,this._trafficControllerStatus.show=!1}},{key:"addPoiControl",value:function(t){this._poiControl&&this.removePoiControl(),this._poiControl=new N,Z(e,"addControl",this,3)([this._poiControl,t]),this._poiControllerStatus.show=!0,this._poiControllerStatus.position=t}},{key:"removePoiControl",value:function(){Z(e,"removeControl",this,3)([this._poiControl]),this._poiControl=null,this._poiControllerStatus.show=!1}},{key:"addMapTypeControl",value:function(t){this._mapTypeControl&&this.removeMapTypeControl(),this._mapTypeControl=new F,Z(e,"addControl",this,3)([this._mapTypeControl,t]),this._mapTypeControllerStatus.show=!0,this._mapTypeControllerStatus.position=t}},{key:"removeMapTypeControl",value:function(){Z(e,"removeControl",this,3)([this._mapTypeControl]),this._mapTypeControl=null,this._mapTypeControllerStatus.show=!1}},{key:"toggleTrafficLayer",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._trafficLayer;this._trafficLayer=e,this._updatePoiTrafficTileSelectedClass("traffic",e);var n=e?"visible":"none";this._getLayersBySourceName("neshanTrafficSource").forEach((function(e){t.setLayoutProperty(e.id,"visibility",n)}))}},{key:"togglePoiLayer",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._poiLayer;this._poiLayer=e,this._updatePoiTrafficTileSelectedClass("poi",e);var n=e?"visible":"none";this._getLayersBySourceName("neshanPoiSource").forEach((function(e){t.setLayoutProperty(e.id,"visibility",n)}))}},{key:"setDesktopLayersTileProps",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mapType,e=this.container.querySelector(".map-type-control .toggle-button img");e.src=this._mapTypeProperties[t].img,e.parentElement.querySelector("div.button-text .style-name-text").innerText=this._mapTypeProperties[t].title}},{key:"toggleMapTypeSwitcherPopup",value:function(t){this.isTouchPlatform||this._setOverlayPositioning();var e=this.container,n=e.querySelector(".overlay"),r=e.querySelector(".overlay-background");!0===t?this.isTouchPlatform?(r.classList.remove("closed"),setTimeout((function(){r.classList.add("open")}),200)):n.classList.remove("v-hidden"):!1===t?this.isTouchPlatform?(r.classList.remove("open"),setTimeout((function(){r.classList.add("closed")}),200)):n.classList.add("v-hidden"):this.isTouchPlatform?r.classList.contains("open")?(r.classList.remove("open"),setTimeout((function(){r.classList.add("closed")}),200)):(r.classList.remove("closed"),setTimeout((function(){r.classList.add("open")}),200)):n.classList.toggle("v-hidden")}},{key:"_setOverlayPositioning",value:function(){var t=this.container,e=t.querySelector(".overlay"),n=t.querySelector(".toggle-button"),r=e.clientWidth,i=e.clientHeight,o=n.getBoundingClientRect().bottom-t.getBoundingClientRect().top,a=t.clientWidth-(n.getBoundingClientRect().left-t.getBoundingClientRect().left+n.clientWidth),s=t.clientHeight-(n.getBoundingClientRect().top-t.getBoundingClientRect().top+n.clientHeight),l=n.getBoundingClientRect().left-t.getBoundingClientRect().left;r>a&&r<l?(e.style.right="calc(100% + 1em)",e.style.left="unset"):(e.style.left="calc(100% + 1em)",e.style.right="unset"),i>o&&i<s?(e.style.top="0",e.style.bottom="unset"):(e.style.bottom="0",e.style.top="unset")}},{key:"_setApiKeys",value:function(t){var e=JSON.parse(localStorage.getItem("neshan-map-auth"))||{};e.mapKey=t,localStorage.setItem("neshan-map-auth",JSON.stringify(e))}},{key:"_getLayersBySourceName",value:function(t){return this.getStyle().layers.filter((function(e){return e.source===t}))}},{key:"_handleInitialControllers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;this._handleInitialTrafficControllerOptions(t.trafficControllerOptions),this._handleInitialPoiControllerOptions(t.poiControllerOptions),this.setMapTypeControlOptions(t.mapTypeControllerOptions)}},{key:"_handleInitialTrafficControllerOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.trafficControllerStatus;if(t.show?t.show:this.trafficControllerStatus.show){var e=t.position?t.position:this.trafficControllerStatus.position;this.addTrafficControl(e)}}},{key:"_handleInitialPoiControllerOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.poiControllerStatus;if(t.show?t.show:this.poiControllerStatus.show){var e=t.position?t.position:this.poiControllerStatus.position;this.addPoiControl(e)}}},{key:"setMapTypeControlOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mapTypeControllerStatus;if(void 0!==t.show?t.show:this.mapTypeControllerStatus.show){var e=t.position?t.position:this.isTouchPlatform?"bottom-right":"bottom-left";this.addMapTypeControl(e),this._updateTilesSelectedClass(),this._updatePoiTrafficTileSelectedClass("traffic"),this._updatePoiTrafficTileSelectedClass("poi")}}},{key:"_onMounted",value:function(){this._mounted=!0,this._onMountedCallbacks=this._onMountedCallbacks.filter((function(t){t()}))}},{key:"_fetchPoiAndTrafficLayers",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this._mounted?(this.togglePoiLayer(this.poiLayer),this.toggleTrafficLayer(this.trafficLayer)):this._onMountedCallbacks.push(this._fetchPoiAndTrafficLayers.bind(this))}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(U.Map);Y.mapTypes=Object.freeze(x),Y.options=Object.freeze(C);const J=Y;var $=r(775);$.Map=J,$.version="mapboxgl:"+$.version+"--neshan_sdk:1.1.5";const tt=$;$.Map,$.version,$.supported,$.setRTLTextPlugin,$.getRTLTextPluginStatus,$.NavigationControl,$.GeolocateControl,$.AttributionControl,$.ScaleControl,$.FullscreenControl,$.Popup,$.Marker,$.LngLat,$.LngLatBounds,$.Point,$.MercatorCoordinate,$.Evented,$.prewarm,$.clearPrewarmedResources,$.accessToken,$.baseApiUrl,$.workerCount,$.maxParallelImageRequests,$.clearStorage})(),i.default})(),t.exports=n()}).call(this,n(429).Buffer)},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=u(t),a=r[0],s=r[1],l=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),c=0,p=s>0?a-4:a;for(n=0;n<p;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,l[c++]=255&e);1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e);return l},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,p=n?i-1:0,d=n?-1:1,h=t[e+p];for(p+=d,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+t[e+p],p+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+p],p+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,p=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+p>=1?d/l:d*Math.pow(2,1-p))*l>=2&&(a++,l/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(e*l-1)*Math.pow(2,i),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;t[n+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[n+h]=255&a,h+=f,a/=256,u-=8);t[n+h-f]|=128*m}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){var r=n(276),i=n(926);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){"use strict";n.r(e);var r=n(181),i=n.n(r),o=n(94),a=n.n(o),s=n(409),l=n(410),u=n(411),c=n(412),p=n(413),d=n(414),h=n(415),f=n(416),m=n(417),g=i()(!1),y=a()(s.a),v=a()(l.a),_=a()(u.a),b=a()(c.a),x=a()(p.a),w=a()(d.a),k=a()(h.a),S=a()(f.a),C=a()(m.a);g.push([t.i,'.mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-webkit-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E%3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E%3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E%3Cpath d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23ccc%27/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E%3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E%3Cpath d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23999%27/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E%3Cpath d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23ccc%27/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23aaa%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%2333b5e5%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23e58978%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%2333b5e5%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23e54e33%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23999%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%2333b5e5%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23e58978%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%2333b5e5%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23e54e33%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z%27/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23666%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E%3C/svg%3E")}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2788%27 height=%2723%27 viewBox=%270 0 88 23%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27%3E%3Cdefs%3E%3Cpath id=%27a%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E%3Cpath id=%27b%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E%3C/defs%3E%3Cmask id=%27c%27%3E%3Crect width=%27100%25%27 height=%27100%25%27 fill=%27%23fff%27/%3E%3Cuse xlink:href=%27%23a%27/%3E%3Cuse xlink:href=%27%23b%27/%3E%3C/mask%3E%3Cg opacity=%27.3%27 stroke=%27%23000%27 stroke-width=%273%27%3E%3Ccircle mask=%27url%28%23c%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E%3Cuse xlink:href=%27%23b%27 mask=%27url%28%23c%29%27/%3E%3C/g%3E%3Cg opacity=%27.9%27 fill=%27%23fff%27%3E%3Cuse xlink:href=%27%23a%27/%3E%3Cuse xlink:href=%27%23b%27/%3E%3C/g%3E%3C/svg%3E")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2788%27 height=%2723%27 viewBox=%270 0 88 23%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27%3E%3Cdefs%3E%3Cpath id=%27a%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E%3Cpath id=%27b%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E%3C/defs%3E%3Cmask id=%27c%27%3E%3Crect width=%27100%25%27 height=%27100%25%27 fill=%27%23fff%27/%3E%3Cuse xlink:href=%27%23a%27/%3E%3Cuse xlink:href=%27%23b%27/%3E%3C/mask%3E%3Cg stroke=%27%23000%27 stroke-width=%273%27%3E%3Ccircle mask=%27url%28%23c%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E%3Cuse xlink:href=%27%23b%27 mask=%27url%28%23c%29%27/%3E%3C/g%3E%3Cg fill=%27%23fff%27%3E%3Cuse xlink:href=%27%23a%27/%3E%3Cuse xlink:href=%27%23b%27/%3E%3C/g%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2788%27 height=%2723%27 viewBox=%270 0 88 23%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27%3E%3Cdefs%3E%3Cpath id=%27a%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E%3Cpath id=%27b%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E%3C/defs%3E%3Cmask id=%27c%27%3E%3Crect width=%27100%25%27 height=%27100%25%27 fill=%27%23fff%27/%3E%3Cuse xlink:href=%27%23a%27/%3E%3Cuse xlink:href=%27%23b%27/%3E%3C/mask%3E%3Cg stroke=%27%23fff%27 stroke-width=%273%27 fill=%27%23fff%27%3E%3Ccircle mask=%27url%28%23c%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E%3Cuse xlink:href=%27%23b%27 mask=%27url%28%23c%29%27/%3E%3C/g%3E%3Cuse xlink:href=%27%23a%27/%3E%3Cuse xlink:href=%27%23b%27/%3E%3C/svg%3E")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2724%27 height=%2724%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill-rule=%27evenodd%27%3E%3Cpath d=%27M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0%27/%3E%3C/svg%3E");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2724%27 height=%2724%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill-rule=%27evenodd%27 fill=%27%23fff%27%3E%3Cpath d=%27M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0%27/%3E%3C/svg%3E")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=%2724%27 height=%2724%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill-rule=%27evenodd%27%3E%3Cpath d=%27M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0%27/%3E%3C/svg%3E")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:"";position:absolute;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box;box-shadow:0 0 3px rgba(0,0,0,.35)}@keyframes mapboxgl-user-location-dot-pulse{0%{transform:scale(1);opacity:1}70%{transform:scale(3);opacity:0}to{transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}.mapboxgl-map{position:relative}.wm-container{position:absolute!important;display:flex!important;gap:4px!important;align-items:end!important;z-index:1!important;bottom:2px!important;left:15px!important;direction:ltr!important;box-sizing:border-box!important;font-size:11px!important;line-height:11px!important;visibility:visible!important;translate:none!important;transform:none!important;padding:0!important;opacity:1!important;overflow:visible!important;margin:0!important;max-height:none!important;filter:none!important;color:#000;height:20px!important;width:390px!important;min-width:390px!important;max-width:390px!important}html[map-style*=Night] .wm-container{color:#fff}.wm-container a{text-decoration:none!important;color:inherit!important}.wm-container a .water-mark-img{height:20px!important;width:62px!important;overflow:visible!important;background-image:url(https://static.neshan.org/sdk/images/neshan_water_mark.svg);background-size:contain!important;background-repeat:no-repeat!important}html[map-style*=Night] .wm-container a .water-mark-img{background-image:url(https://static.neshan.org/sdk/images/neshan_water_mark_white.svg?v=1)}.water-mark{display:inline-flex!important}\n@font-face {\n  font-family: Vazir;\n  src: url('+y+") format('woff2');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: Vazir;\n  src: url("+v+") format('woff2');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: Vazir;\n  src: url("+_+") format('woff2');\n  font-weight: 100;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: Vazir;\n  src: url("+b+") format('woff2');\n  font-weight: 200;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: Vazir;\n  src: url("+x+") format('woff2');\n  font-weight: 300;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: Vazir;\n  src: url("+y+") format('woff2');\n  font-weight: 400;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: Vazir;\n  src: url("+w+") format('woff2');\n  font-weight: 500;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: Vazir;\n  src: url("+k+") format('woff2');\n  font-weight: 600;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: Vazir;\n  src: url("+v+") format('woff2');\n  font-weight: 700;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: Vazir;\n  src: url("+S+") format('woff2');\n  font-weight: 800;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: Vazir;\n  src: url("+C+") format('woff2');\n  font-weight: 900;\n  font-style: normal;\n  font-display: swap;\n}\n\n\n\n\n\n\n:root {\n  --sm: 0.25em;\n  --md: 0.5em;\n  --lg: 1em;\n  --text-xl: 1.33em;\n  --text-lg: 1.05em;\n  --text-nm: 1em;\n  --text-sm: 0.85em;\n  --text-xs: 0.8em;\n  --text-xxs: 0.75em;\n  --primary: #03a9f4;\n}\n\n.pos-relative {\n  position: relative;\n}\n\n.pos-absolute {\n  position: absolute;\n}\n\n/* .pos-sticky {\n      position: sticky;\n    } */\n\n/* .d-block {\n      display: block;\n    } */\n\n.d-flex {\n  display: flex !important;\n}\n\n.d-none {\n  display: none !important;\n}\n.d-inline-flex {\n  display: inline-flex !important;\n}\n\n.v-hidden {\n  visibility: hidden !important;\n  opacity: 0 !important;\n}\n\n/* .flex-column {\n      flex-flow: column;\n    } */\n\n.row {\n  display: flex;\n  flex-wrap: wrap;\n}\n.row > * {\n  flex-shrink: 0;\n  width: 100%;\n  max-width: 100%;\n}\n\n.justify-between {\n  justify-content: space-between;\n}\n\n.justify-evenly {\n  justify-content: space-evenly;\n}\n\n/* .justify-center {\n      justify-content: center\n    } */\n\n.justify-around {\n  justify-content: space-around;\n}\n\n/* .align-center {\n      align-items: center;\n    } */\n.align-end {\n  align-items: end !important;\n}\n\n.text-center {\n  text-align: center;\n}\n\n.text-xl {\n  font-size: var(--text-xl);\n}\n/* .text-lg {\n    font-size: var(--text-lg);\n  } */\n/* .text-nm {\n      font-size: var(--text-nm);\n    } */\n.text-sm {\n  font-size: var(--text-sm);\n}\n/* .text-xs {\n      font-size: var(--text-xs);\n    } */\n/* .text-xxs {\n      font-size: var(--text-xxs);\n    } */\n/* .text-caption {\n      font-size: var(--text-sm);\n      color: grey;\n    } */\n\n/* .mx-auto {\n      margin-left: auto;\n      margin-right: auto;\n    } */\n\n/* .px-1 {\n      padding-left: var(--md);\n      padding-right: var(--md);\n    } */\n/* .px-2 {\n      padding-left: var(--lg);\n      padding-right: var(--lg);\n    } */\n\n/* .mt-1 {\n      margin-top: var(--sm);\n    }\n    .mt-2 {\n      margin-top: var(--md);\n    } */\n\n/* .mx-1 {\n      margin-left: var(--md);\n      margin-right: var(--md);\n    }\n    .mx-2 {\n      margin-left: var(--lg);\n      margin-right: var(--lg);\n    } */\n\n/* .my-2 {\n      margin-top: var(--md);\n      margin-bottom: var(--md);\n    }\n    \n    .box-shadow {\n      box-shadow: 0px 2px 4px 1px #a8a8a8;\n    }\n    \n    .o-auto {\n      overflow: auto;\n    } */\n\n.o-hidden {\n  overflow: hidden;\n}\n\n.pointer {\n  cursor: pointer;\n}\n\n.select-none {\n  -webkit-touch-callout: none;\n  /* iOS Safari */\n  -webkit-user-select: none;\n  /* Safari */\n  /* Konqueror HTML */\n  /* Old versions of Firefox */\n  /* Internet Explorer/Edge */\n  user-select: none;\n  /* Non-prefixed version, currently\n      supported by Chrome, Edge, Opera and Firefox */\n}\n\n.mapboxgl-map {\n  position: relative;\n}\n.water_mark_container {\n  position: absolute;\n  z-index: 1;\n  bottom: 0.4em;\n  left: 1.5em;\n  direction: ltr;\n  box-sizing: border-box;\n  /* font-size: 0.917em; */\n  font-size: 11px;\n  /* line-height: 0.917em; */\n  line-height: 11px;\n  & a {\n    text-decoration: none;\n    color: inherit;\n    margin-right: 0.4em;\n    & img {\n      /* height: 1.82em; */\n      height: 20px;\n    }\n  }\n}\n\n\n\n",""]),e.default=g},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n(10)),a=r(n(21)),s=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),l=(r(n(229)),r(n(45))),u=n(38);const c=function(){var t=(0,a.default)((function*(){return navigator.geolocation?new Promise((function(t){navigator.geolocation.getCurrentPosition((function(e){t({isSuccess:!0,lat:e.coords.latitude,lng:e.coords.longitude})}),(function(e){let n="خطای ناشناخته ای رخ داد.";switch(e.code){case e.PERMISSION_DENIED:n="لطفا برای دریافت موقعیت اجازه دسترسی به موقعیت را بدهید";break;case e.POSITION_UNAVAILABLE:n="اطلاعات موقعیت در دسترس نیست.";break;case e.TIMEOUT:n="زمان دریافت اطلاعات موقعیت به پایان رسید."}t({isSuccess:!1,message:n})}))})):{isSuccess:!1,message:"مرورگر شما از دریافت موقعیت پشتیبانی نمی‌کند."}}));return function(){return t.apply(this,arguments)}}();e.default=function(t){let{mapRef:e,autoRequest:n,title:r,functionAfterFindLocation:a}=t;const[p,d]=(0,s.useState)(!1);(0,s.useEffect)((function(){n&&c().then((function(t){t.lat&&t.lng&&(a&&a({lat:t.lat,lng:t.lng}),h(t.lat,t.lng))}))}),[]);const h=function(t,n){e.current&&e.current.flyTo({center:[n,t],zoom:17,essential:!0})};return(0,o.default)("button",{disabled:p,onClick:function(){d(!0),c().then((function(t){t.isSuccess?h(t.lat,t.lng):alert("خطا هنگام دریافت موقعیت.")})).finally((function(){return d(!1)}))},className:" location-btn"},void 0,p?i||(i=(0,o.default)(u.Spinner,{forceColor:"#222"})):r||s.default.createElement(s.default.Fragment,null,(0,o.default)(l.default,{name:"compass-f",size:"small",style:{borderLeftColor:"#222"}}),"موقعیت من"))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(10)),o=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),a=(n(391),r(n(430)));e.default=function(t){let{mapRef:e,functionAfterFindLocation:n}=t;const[r,s]=(0,o.useState)(""),l=(0,o.useRef)();return(0,i.default)(a.default,{innerRef:l,onSelectSearchList:function(t,e){n({lat:t,lng:e})}},"search")}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.Group=e.Dropdown=e.Button=e.Addon=void 0;var i=r(n(16)),o=n(42);e.Group=i.default.div.withConfig({componentId:"sc-141f8q2-0"})(["position:relative;"]);const a=e.Addon=i.default.div.withConfig({componentId:"sc-141f8q2-1"})(["font-size:",";color:",";position:absolute;top:50%;transform:translateY(-50%);margin:0;margin-left:10px;left:0;"],(function(t){return(0,o.rem)(16,t.theme.fontSize.base)}),(function(t){return t.theme.color[t.$color]}));e.Button=(0,i.default)(a).withConfig({componentId:"sc-141f8q2-2"})(["button{padding:8px 20px;}"]),e.Dropdown=i.default.div.withConfig({componentId:"sc-141f8q2-3"})(["position:absolute;top:105%;width:100%;box-shadow:0px 3px 5px 0px rgba(0,0,0,0.3);background-color:#fff;border-radius:5px;border:1px solid ",";max-height:310px;overflow-y:auto;-webkit-overflow-scrolling:touch;"],(function(t){return t.theme.color.border}))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(21)),o=r(n(13)),a=n(0),s=n(277);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.default=function(t){const[e,n]=(0,a.useState)({query:"",list:[],loading:!1}),r=(0,a.useRef)(),o=(0,a.useCallback)((function(t){clearTimeout(r.current),n((function(e){return u(u({},e),{},{query:t,loading:!0})})),p.current=!1,r.current=setTimeout(l(t),300)}),[]);(0,a.useEffect)((function(){return function(){clearTimeout(r.current)}}),[]);const l=(0,a.useCallback)((function(t){return(0,i.default)((function*(){let e=[];t&&(n((function(t){return u(u({},t),{},{loading:!0})})),e=yield(0,s.getMapSearchAddressLastResolves)(t)),n((function(t){return u(u({},t),{},{list:e,loading:!1})}))}))}),[]),c=(0,a.useCallback)((function(e){t(e.lat,e.lng),n({query:"",list:[]})}),[]),p=(0,a.useRef)(!1);return{state:e,onChange:o,onSelect:c,setClear:(0,a.useCallback)((function(){n({query:"",list:[]}),p.current=!0}),[])}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.deepMerge=void 0,e.useDebounce=function(t,e){const[n,r]=React.useState(t);return React.useEffect((function(){const n=setTimeout((function(){r(t)}),e);return function(){clearTimeout(n)}}),[t,e]),n};var i=r(n(13));function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const s=function(t,e){const n=a(a({},t),e);for(const r in e){if(!(r in t))continue;const{[r]:i}=t;if(!isPlainObject(i))continue;const{[r]:o}=e;isPlainObject(o)&&(n[r]=s(i,o))}return n};e.deepMerge=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a=r(n(10)),s=(function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e])})(t,e)}(n(0)),n(229),r(n(45)));e.default=function(t){let{mapRef:e,className:n}=t;return(0,a.default)("div",{className:"absolute bottom-6 left-6 z-10 flex flex-col zoom-control"},void 0,(0,a.default)("button",{onClick:function(){null!=e&&e.current&&e.current.zoomIn()},title:"Zoom In",type:"button",className:"zoom-in"},void 0,i||(i=(0,a.default)(s.default,{name:"plus",size:"small"}))),(0,a.default)("button",{onClick:function(){null!=e&&e.current&&e.current.zoomOut()},title:"Zoom Out",type:"button",className:"zoom-out"},void 0,o||(o=(0,a.default)(s.default,{name:"minus",size:"small"}))))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.getRestaurantMarkerUrl=void 0;r(n(0));var i=r(n(7));e.getRestaurantMarkerUrl=function(){var t;const e=(null===(t=i.default.colorPalette)||void 0===t?void 0:t.primary)||"#FF0000",n='\n<svg width="47" height="50" viewBox="0 0 47 50" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g filter="url(#filter0_dd_4385_7306)">\n<path d="M23.4737 2C34.7816 2 43.949 11.1668 43.9492 22.4746C43.9492 32.5235 36.7098 40.8804 27.1621 42.6172L24.4463 45.375C24.1065 45.72 23.9367 45.8925 23.7403 45.957C23.5674 46.0138 23.3809 46.0138 23.208 45.957C23.0115 45.8925 22.8418 45.72 22.502 45.375L19.7852 42.6172C10.2379 40.88 2.99905 32.5231 2.99905 22.4746C2.99931 11.1669 12.166 2.00025 23.4737 2Z" fill="'.concat(e,'"/>\n<path d="M19.0996 23.1001V28.7251" stroke="white" stroke-width="1.76471" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M20.9746 16.8501V21.2251C20.9746 22.2606 20.1351 23.1001 19.0996 23.1001V23.1001C18.0641 23.1001 17.2246 22.2606 17.2246 21.2251V16.8501" stroke="white" stroke-width="1.76471" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M27.2246 23.2251V28.7251" stroke="white" stroke-width="1.76471" stroke-linecap="round" stroke-linejoin="round"/>\n<ellipse cx="27.2246" cy="19.7251" rx="2.5" ry="3.5" stroke="white" stroke-width="1.76471" stroke-linecap="round" stroke-linejoin="round"/>\n</g>\n<defs>\n<filter id="filter0_dd_4385_7306" x="0.439669" y="0.293744" width="46.0699" height="49.1188" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="0.853128"/>\n<feGaussianBlur stdDeviation="0.853128"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.06 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_4385_7306"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="0.853128"/>\n<feGaussianBlur stdDeviation="1.27969"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/>\n<feBlend mode="normal" in2="effect1_dropShadow_4385_7306" result="effect2_dropShadow_4385_7306"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_4385_7306" result="shape"/>\n</filter>\n</defs>\n</svg>\n');return"data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(n))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.NoBranchErrorByFilter=e.BranchSwitcherFilters=void 0;var i,o,a=r(n(10)),s=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),l=n(284),u=n(132),c=r(n(7)),p=n(29);e.BranchSwitcherFilters={deliveryOnly:function(t){return null==t?void 0:t.deliveryAvailable},pickupOnly:function(t){return null==t?void 0:t.pickupAvailable}},e.NoBranchErrorByFilter={deliveryOnly:function(){return i||(i=(0,a.default)("p",{},void 0,"شعبه‌ای با نوع تحویل",(0,a.default)("b",{},void 0," ارسال "),"یافت نشد."))},pickupOnly:function(){return o||(o=(0,a.default)("p",{},void 0,"شعبه‌ای با نوع تحویل",(0,a.default)("b",{},void 0," حضوری "),"یافت نشد."))}};e.default=function(t){let{branchFilter:e,onBranchFilterChange:n,brandName:r=null,isMobile:i}=t;const o=(0,p.useSelector)((function(t){return t.restaurant.listArray})),{deliveryAvailableBranches:d,pickupAvailableBranches:h}=function(t){const e=[],n=[];return t.forEach((function(t){t.deliveryAvailable&&e.push(t),(t.pickupAvailable||t.diningOnSite)&&n.push(t)})),{deliveryAvailableBranches:e,pickupAvailableBranches:n}}(o);(0,s.useEffect)((function(){c.default.showBranchSwitcherGroups&&c.default.landingTemplate&&(e||n("deliveryOnly"))}),[]);const{isDarkMode:f}=(0,u.useThemeMode)(),m=function(t){return function(){t!==e&&n(t)}};return(0,a.default)(l.Wrapper,{style:{padding:i&&c.default.transparentHeader?"48px 24px":"0 24px"}},void 0,(0,a.default)("span",{style:{fontSize:"20px",fontWeight:700,textAlign:"right",color:"#222",width:"100%"}},void 0,"انتخاب مناسب‌ترین شعبه برای شما"),(0,a.default)("span",{style:{fontSize:"14px",marginTop:"24px",fontWeight:400,textAlign:"right",color:"#222",width:"100%"}},void 0,0==d.length?"این مجموعه فعلا فقط به صورت ".concat(h.length>0?"تحویل حضوری":"تحویل با پیک"," سرویس ").concat(c.default.formalSpeech?"میده.":"می‌دهد."):c.default.formalSpeech?"چطوری می‌خوای سفارشت رو تحویل بگیری؟":"چطوری می‌خواهید سفارش را تحویل بگیرید؟"),d.length>0&&(0,a.default)(l.BranchSwitcherContainer,{isTemplate3:"3"===c.default.landingTemplate,isDarkMode:f,filterButtonsCount:function(){let t=0;return d.length>0&&t++,h.length>0&&t++,t}()},void 0,c.default.preferPickUpInMap?s.default.createElement(s.default.Fragment,null,(0,a.default)("button",{disabled:"pickupOnly"===e,onClick:m("pickupOnly")},void 0,"دریافت حضوری"),(0,a.default)("button",{disabled:"deliveryOnly"===e,onClick:m("deliveryOnly")},void 0,"ارسال با پیک")):s.default.createElement(s.default.Fragment,null,(0,a.default)("button",{disabled:"deliveryOnly"===e,onClick:m("deliveryOnly")},void 0,"ارسال با پیک"),(0,a.default)("button",{disabled:"pickupOnly"===e,onClick:m("pickupOnly")},void 0,"دریافت حضوری"))),(0,a.default)("span",{style:{fontSize:"14px",marginTop:"24px",marginBottom:"-8px",fontWeight:400,textAlign:"right",color:"#222",width:"100%",direction:"rtl"}},void 0,c.default.formalSpeech?"موقعیتت رو بر روی نقشه مشخص کن یا روی شعبه مورد نظرت کلیک کن.":"موقعیت خود را بر روی نقشه مشخص یا بر روی شعبه مورد نظر کلیک کنید."))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,s,l,u,c,p,d,h,f,m,g=r(n(10)),y=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),v=r(n(176)),_=n(288),b=r(n(48)),x=r(n(179)),w=n(392),k=r(n(393)),S=n(29),C=r(n(7));e.default=function(t){var e,n,r,E,T,I,M,A;let{isMobile:O,isPickUp:P,acceptButtonText:D,selectedBranch:z,nearByResponse:L,setNearByResponse:R,setSelectedBranch:W}=t,B="",j="",N="",F="",U=!1,V=function(){},q=function(){};const H=!!L;let G=(0,S.useSelector)((function(t){return t.restaurant.listArray}));const{history:Z}=(0,x.default)(),[K,Q]=(0,y.useState)(""),[X,Y]=(0,y.useState)(!1);var J,$;if(!L||null!=L&&null!==(e=L.data)&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&null!==(r=n.nearestBranches)&&void 0!==r&&r.length||(B="خارج از محدوده",j=C.default.formalSpeech?"متاسفانه موقعیت مکانیت خارج از محدوده پوشش‌دهی مجموعه‌ست. در صورت نیاز می‌تونی موقعیت مکانیت رو ویرایش کنی.":"متاسفانه موقعیت مکانی شما خارج از محدوده پوشش‌دهی مجموعه می‌باشد. در صورت نیاز می‌توانید موقعیت مکانی خود را ویرایش کنید.",N="",F="بستن",U=!1,q=function(){R(null),W(null)},D="ویرایش موقعیت مکانی",V=function(){R(null),W(null)}),!z&&P&&null!=L&&null!==(E=L.data)&&void 0!==E&&null!==(T=E.data.nearestBranches)&&void 0!==T&&T.length)B=C.default.formalSpeech?"نزدیک‌ترین شعبه رو برات پیدا کردیم!":"نزدیک‌ترین شعبه به شما را پیدا کردیم!",j=C.default.formalSpeech?(0,g.default)("span",{},void 0,"بر اساس موقعیتت، به  ",(0,g.default)("strong",{},void 0,"شعبه ",null==L||null===(J=L.data)||void 0===J?void 0:J.data.nearestBranches[0].branchName)," منتقل میشی. این شعبه نزدیک‌ترین شعبه بهت برای تحویل حضوری سفارشته."):(0,g.default)("span",{},void 0,"بر اساس موقعیت کنونی‌تان، شما به  ",(0,g.default)("strong",{},void 0,"شعب ",null==L||null===($=L.data)||void 0===$?void 0:$.data.nearestBranches[0].branchName)," منتقل می‌شوید. این شعبه نزدیک‌ترین شعبه به شما برای تحویل حضوری سفارش‌تان است."),N=C.default.formalSpeech?(0,g.default)("span",{},void 0,"آیا می‌خوای به صفحه سفارش‌گیری ",(0,g.default)("strong",{},void 0,"شعبه ",L.data.data.nearestBranches[0].branchName)," منتقل بشی؟"):i||(i=(0,g.default)("span",{},void 0,"آیا می‌خواهید به صفحه سفارش‌گیری   منتقل شوید؟")),F="مشاهده لیست شعب",U=!1,q=function(){Y(!0)},D="بله",V=function(){Z.push("/order/".concat(L.data.data.nearestBranches[0].domain))};else if(!z&&null!=L&&null!==(I=L.data)&&void 0!==I&&null!==(M=I.data.nearestBranches)&&void 0!==M&&M.length){if(L.data.data.hasService)1==L.data.data.nearestBranches.length?(B=C.default.formalSpeech?"نزدیک‌ترین شعبه رو برات پیدا کردیم!":"نزدیک‌ترین شعبه به شما را پیدا کردیم!",j=C.default.formalSpeech?(0,g.default)("span",{},void 0,"بر اساس موقعیتت، به ",(0,g.default)("strong",{},void 0,"شعبه ",L.data.data.nearestBranches[0].branchName)," منتقل میشی. این شعبه نزدیک‌ترین شعبه بهت برای تحویل حضوری سفارشته."):(0,g.default)("span",{},void 0,"بر اساس موقعیت کنونی‌تان، شما به  ",(0,g.default)("strong",{},void 0,"شعبه ",L.data.data.nearestBranches[0].branchName)," منتقل می‌شوید. این شعبه سریع‌ترین خدمات را برای ارسال و تحویل به محل شما ارائه می‌دهد."),N=(0,g.default)("span",{},void 0,"آیا می‌خواهید به صفحه سفارش‌گیری  ",(0,g.default)("strong",{},void 0,"شعبه ",L.data.data.nearestBranches[0].branchName)," منتقل شوید؟"),F="نه، انتخاب شعبه دیگر",q=function(){R(null),W(null)},D="بله",V=function(){Z.push("/order/".concat(L.data.data.nearestBranches[0].domain))}):(B=C.default.formalSpeech?"نزدیک‌ترین شعبه‌ها رو برات پیدا کردیم!":"نزدیک‌ترین شعبه‌ها به شما را پیدا کردیم!",j=C.default.formalSpeech?o||(o=(0,g.default)("span",{},void 0,"بر اساس موقعیتت، شعب زیر به ترتیب سریع‌ترین خدمات رو برای ",(0,g.default)("strong",{},void 0,"ارسال سفارش")," به محل شما ارائه می‌دهند.")):a||(a=(0,g.default)("span",{},void 0,"بر اساس موقعیت کنونی‌تان، شعب زیر به ترتیب سریع‌ترین خدمات را برای ",(0,g.default)("strong",{},void 0,"ارسال سفارش")," به محل شما ارائه می‌دهند.")),N=(0,g.default)("div",{},void 0,C.default.formalSpeech?s||(s=(0,g.default)("span",{},void 0,"جهت انتقال به صفحه سفارش‌گیری،  شعبه دلخواهت رو انتخاب کن.")):l||(l=(0,g.default)("span",{},void 0,"جهت انتقال به صفحه سفارش‌گیری، لطفا شعبه دلخواه خود را انتخاب کنید.")),(0,g.default)(w.SelectBranchChips,{branches:L.data.data.nearestBranches})),U=!0,F="",q=function(){},D="",V=function(){});else if(L.data.data.deliverByTaxi){var tt,et;if(1==L.data.data.nearestBranches.length)U=!1,B="ارسال با آژانس",j=C.default.formalSpeech?(0,g.default)("span",{},void 0,"بر اساس موقعیتت، شعبه ",(0,g.default)("strong",{},void 0,"شعبه ",null===(tt=L.data.data.nearestBranches[0])||void 0===tt?void 0:tt.branchName),"  می‌تونه سفارشت رو از طریق ",u||(u=(0,g.default)("strong",{},void 0,"آژانس"))," ارسال بکنن."):(0,g.default)("span",{},void 0,"بر اساس موقعیت کنونی‌تان، ",(0,g.default)("strong",{},void 0,"شعبه ",null===(et=L.data.data.nearestBranches[0])||void 0===et?void 0:et.branchName)," می‌تواند سفارش‌تان را با آژانس ارسال کند. ",c||(c=(0,g.default)("strong",{},void 0,"هزینه آژانس"))," بر عهده شما می‌باشد."),N=C.default.formalSpeech?(0,g.default)("span",{},void 0,"آیا می‌خوای به صفحه سفارش‌گیری ",(0,g.default)("strong",{},void 0,"شعبه ",L.data.data.nearestBranches[0].branchName)," منتقل بشی؟"):p||(p=(0,g.default)("span",{},void 0,"آیا می‌خواهید به صفحه سفارش‌گیری   منتقل شوید؟")),F="نه، انتخاب شعبه دیگر",q=function(){R(null),W(null)},D="بله",V=function(){Z.push("/order/".concat(L.data.data.nearestBranches[0].domain))};else B="ارسال با آژانس",j=C.default.formalSpeech?d||(d=(0,g.default)("span",{},void 0,"بر اساس موقعیتت، شعب زیر به ترتیب نزدیک‌ترین شعبی هستند که می‌تونن سفارشت رو از طریق ",(0,g.default)("strong",{},void 0,"آژانس")," ارسال بکنن.")):h||(h=(0,g.default)("span",{},void 0,"بر اساس موقعیت کنونی‌تان، شعب زیر به ترتیب نزدیک‌ترین شعبی هستند که می‌توانند سفارش‌تان را از طریق ",(0,g.default)("strong",{},void 0,"آژانس")," ارسال کنند.        ")),N=(0,g.default)("div",{},void 0,(0,g.default)("span",{},void 0,C.default.formalSpeech?"جهت انتقال به صفحه سفارش‌گیری،  شعبه دلخواهت رو انتخاب کن.":"انتقال به صفحه سفارش‌گیری، لطفا شعبه دلخواه خود را انتخاب کنید."),(0,g.default)(w.SelectBranchChips,{branches:L.data.data.nearestBranches})),U=!0,F="",q=function(){},D="",V=function(){}}}else z&&null!=L&&null!==(A=L.data)&&void 0!==A&&A.data&&(L.data.data.hasService?(U=!1,B="تایید شعبه انتخابی",j=C.default.formalSpeech?(0,g.default)("span",{},void 0,"بر اساس انتخابت، به ",(0,g.default)("strong",{},void 0,"شعبه ",L.data.data.nearestBranches[0].branchName)," منتقل میشی. این شعبه آماده خدمات‌رسانی به شماست."):(0,g.default)("span",{},void 0,"بر اساس انتخاب‌تان، شما به ",(0,g.default)("strong",{},void 0,"شعبه ",L.data.data.nearestBranches[0].branchName)," منتقل می‌شوید. این شعبه آماده خدمات‌رسانی به شما است."),N="",F="انتخاب شعبه دیگر",q=function(){R(null),W(null)},D="بله",V=function(){Z.push("/order/".concat(L.data.data.nearestBranches[0].domain))}):(U=!1,B="خارج از محدوده",j=C.default.formalSpeech?(0,g.default)("span",{},void 0,"شما ",(0,g.default)("strong",{},void 0,"شعبه ",L.data.data.nearestBranches[0].branchName)," را انتخاب کردی. متاسفانه بر اساس موقعیت مکانیت روی نقشه، این شعبه به شما سرویس نمیده."):(0,g.default)("span",{},void 0,"شما ",(0,g.default)("strong",{},void 0,"شعبه ",L.data.data.nearestBranches[0].branchName)," را انتخاب کرده‌اید. متاسفانه بر اساس موقعیت مکانی‌تان بر روی نقشه، این شعبه به شما سرویس نمی‌دهد."),N=C.default.formalSpeech?(0,g.default)("span",{},void 0,"آیا می‌خوای به صفحه سفارش‌گیری ",(0,g.default)("strong",{},void 0,"شعبه ",L.data.data.nearestBranches[0].branchName)," منتقل بشی؟"):(0,g.default)("span",{},void 0,"آیا می‌خواهید به صفحه سفارش‌گیری ",(0,g.default)("strong",{},void 0,"شعبه ",L.data.data.nearestBranches[0].branchName)," منتقل شوید؟"),F="نه، انتخاب شعبه دیگر",q=function(){R(null),W(null)},D="بله",V=function(){Z.push("/order/".concat(L.data.data.nearestBranches[0].domain))}));if(!H)return f||(f=y.default.createElement(y.default.Fragment,null));const nt=G.filter((function(t){return t.branch.includes(K)})),rt=G.length>8;return(0,g.default)(v.default,{size:"md",align:"center",title:B,onClose:function(){R(null),W(null)},hasFooter:!1,boxStyle:{minHeight:"fit-content"},bodyStyle:X?{}:{height:O?"100%":"fit-content",display:"flex",alignItems:O?"start":"center",overflowX:"hidden"}},void 0,(0,g.default)(_.StyledBranchModal,{},void 0,X?(0,g.default)("div",{style:{width:"100%"}},void 0,m||(m=(0,g.default)("span",{className:""},void 0,"لطفا شعبه مورد نظر خود را جهت ثبت سفارش انتخاب کنید.")),rt&&(0,g.default)(k.default,{placeholder:"جستجو شعبه",value:K,onChange:Q,dir:"rtl",autoFocus:!0}),(0,g.default)(w.SelectBranchChips,{branches:nt,style:{paddingTop:"32px"}})):y.default.createElement(y.default.Fragment,null,j,N,!U&&y.default.createElement(y.default.Fragment,null,(0,g.default)("div",{style:{width:"100%",background:"#e4e4e4",height:"1px"}}),(0,g.default)("div",{className:"branch-selector-footer"},void 0,(0,g.default)("button",{className:"ignore-button",onClick:"function"==typeof q?q:void 0},void 0,F),(0,g.default)(b.default,{className:"accept-button",onClick:"function"==typeof V?V:void 0},void 0,D))))))}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));var r=n(0);var i=function(){return{}};function o(){var t=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(Object(r.useState)(i),2)[1];return Object(r.useCallback)((function(){t({})}),[])}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a=r(n(10)),s=r(n(21)),l=r(n(13)),u=v(n(0)),c=n(50),p=r(n(45)),d=r(n(134)),h=n(38),f=n(69),m=v(n(938)),g=n(394),y=r(n(939));function v(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(v=function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a})(t,e)}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){(0,l.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const x=(0,u.lazy)((function(){return(0,f.retry)((function(){return n.e(19).then(n.t.bind(null,958,7))}))}));e.default=(0,c.withRouter)((function(t){var e,n,r;let{closeModal:l,match:f,location:v,history:_,setModalIgnoreClose:w=function(){},calculateHeight:k=function(){}}=t;const S=(0,u.useRef)(null!==(e=f.params)&&void 0!==e&&e.id?parseInt(f.params.id,10):null).current,C=(0,u.useRef)((null===(n=v.state)||void 0===n?void 0:n.noMap)||!1).current,E=(0,u.useRef)(),{values:T,errors:I,onSetLocation:M,submitting:A,onSubmit:O,onChange:P,center:D}=(0,m.default)(S,l),[z,L]=(0,u.useState)(D),R=(0,u.useRef)();(0,u.useEffect)((function(){-1!==v.pathname.indexOf("form")?D||S?(C||w(!0),R.current=m.FORM_STEP):_.replace(b(b({},v),{},{pathname:f.url})):(w(!1),R.current=m.MAP_STEP),N()}),[v.pathname,D]);const W=(0,u.useCallback)((function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";M(t,e,(function(){_.push(b(b({},v),{},{pathname:"".concat(f.url,"/form")}))}),n)}),[]),B=(0,u.useCallback)(function(){var t=(0,s.default)((function*(t){t.preventDefault();const{success:e,message:n}=yield O(!0);!e&&n&&E.current.show(n)}));return function(e){return t.apply(this,arguments)}}(),[O]),j=(0,u.useCallback)((function(){_.push(b(b({},v),{},{pathname:f.url}))}),[]),N=function(){var t=(0,s.default)((function*(){try{if(navigator.permissions&&navigator.permissions.query){if("granted"===(yield navigator.permissions.query({name:"geolocation"})).state)return void F()}}catch(t){console.log("Error checking permissions:",t)}}));return function(){return t.apply(this,arguments)}}(),F=function(){navigator.geolocation.getCurrentPosition((function(t){console.log({position:t});const e={lat:t.coords.latitude,lng:t.coords.longitude};L(e)}),(function(t){console.log("Geolocation error:",t)}),{maximumAge:6e4,timeout:1e4})};return!S||S&&T.id?(0,a.default)(g.StyledAddress,{},void 0,R.current===m.FORM_STEP&&!C&&(0,a.default)(g.BackButton,{onClick:j},void 0,i||(i=(0,a.default)(p.default,{name:"angle-right"}))),(0,a.default)(c.Switch,{},void 0,!C&&(0,a.default)(c.Route,{exact:!0,path:f.url,render:function(){return(0,a.default)(u.Suspense,{fallback:o||(o=(0,a.default)(g.Loading,{},void 0,(0,a.default)(h.Spinner,{$size:"lg"})))},"map-component",(0,a.default)(x,{addressMode:!0,addressText:T.text,onSubmit:W,center:z,calculateHeight:k,fullscreenInMobile:!0}))}}),(0,a.default)(c.Route,{path:"".concat(f.url,"/form"),render:function(){return r||(r=(0,a.default)(y.default,{submitting:A,values:T,errors:I,onSubmit:B,onChange:P}))}})),u.default.createElement(d.default,{ref:E,key:"add-address-alert"})):null}))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.MAP_STEP=e.FORM_STEP=void 0;var i=r(n(21)),o=r(n(13)),a=n(0),s=n(29),l=(r(n(7)),n(278)),u=n(180),c=(n(431),n(277)),p=n(133);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.MAP_STEP="map",e.FORM_STEP="form";e.default=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};const n=(0,s.useDispatch)(),r=(0,s.useSelector)((function(t){return t.address.list})),[o,d]=(0,a.useState)(!1),[f,m]=(0,a.useState)({id:0,lng:0,lat:0,areaTitle:"",text:"",title:"",tel:"",pelak:"",vahed:""}),[g,y]=(0,a.useState)({text:"",title:"",vahed:"",pelak:""}),v=(0,a.useRef)(),_=((0,a.useRef)(!1),(0,a.useRef)(""),(0,a.useRef)(!1)),b=(0,p.useSupportsEntireIran)();(0,a.useEffect)((function(){if(_.current=b,t&&null!==r){let a;if(r.length&&(a=r.find((function(e){return e.id===t}))),a){if(v.current={lat:a.lat,lng:a.lng},a&&!a.pelak&&!a.vahed){var n,i,o;const t=a.text.split("|"),e=null==t||null===(n=t[0])||void 0===n?void 0:n.trim();null===(i=t[1])||void 0===i||i.replace(/(.*)پلاک:/,"").trim(),null===(o=t[2])||void 0===o||o.replace(/(.*)واحد:/,"").trim();Object.assign(a,{pelak:a.pelak,vahed:a.vahed,text:e})}m(a)}else e()}}),[t,r,b]);const x=function(t,e,n){(0,c.getMapAddressDetailsLastResolves)(t,e,!1).then((function(r){v.current={lat:t,lng:e},m((function(n){return h(h({},n),{},{areaTitle:_.current?"":r.area||"",text:r.address,lat:t,lng:e})})),n()}))},w=(0,a.useCallback)((0,i.default)((function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function*(){let r;y({text:"",title:"",pelak:""});try{const i={};if(f.title||(i.title="برای آدرس خودت عنوانی بنویسد"),f.text?f.text.length<5&&(i.text="لطفا آدرس خودت رو کامل وارد نمایید"):i.text="پر کردن این فیلد الزامی است",!f.pelak&&t&&(i.pelak="پر کردن این فیلد الزامی است"),f.vahed||(i.vahed="پر کردن این فیلد الزامی است"),Object.keys(i).length)return y((function(t){return h(h({},t),i)})),{success:!1};d(!0);const o=h(h({},f),{},{thirdPartyMap:b});f.id?(f.thirdPartyMap&&(o.thirdPartyMap=!0,o.text="".concat(f.areaTitle.trim()," | ").concat(o.text.trim())),r=yield(0,u.editUserAddress)(o)):r=yield(0,u.addUserAddress)(o);const{data:a}=r.data;return d(!1),n((0,l.setRefreshAddressAction)(!0,a.newAddressId)),e(!0),{success:!0}}catch(t){var i,o;d(!1);let e="هنگام اجرای درخواست شما خطایی رخ داد!";return"AREA_NOT_DEFINED"===(null==t||null===(i=t.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)&&(e="در این محدوده سرویس دهی نداریم!"),{success:!1,message:e}}}()})),[f]),k=(0,a.useCallback)((function(t){m((function(e){return h(h({},e),t)}))}),[]);return{center:v.current,values:f,errors:g,onSetLocation:x,submitting:o,onSubmit:w,onChange:k}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(10)),o=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),a=r(n(7)),s=r(n(155)),l=r(n(48)),u=(n(38),n(940)),c=(n(394),n(132));const p=(null===a.default||void 0===a.default?void 0:a.default.limitAddress)||210,d=(null===a.default||void 0===a.default?void 0:a.default.limitPlate)||5,h=(null===a.default||void 0===a.default?void 0:a.default.limitUnit)||5;e.default=function(t){let{submitting:e,values:n,errors:r,onSubmit:a,onChange:f,calculateHeight:m=function(){}}=t;(0,o.useEffect)((function(){m()}),[]);const{isOrderingDarkMode:g}=(0,c.useThemeMode)();return(0,i.default)(u.StyledForm,{isDarkMode:g},void 0,n.areaTitle&&(0,i.default)(u.Row,{},void 0,(0,i.default)(s.default,{disabled:!0,type:"text",name:"areaTitle",label:"محدوده",icon:"lock",value:n.areaTitle,error:r.areaTitle,onChange:function(t){return f({areaTitle:t.target.value})}})),(0,i.default)(u.Row,{},void 0,(0,i.default)(s.default,{type:"textarea",name:"text",label:"آدرس دقیق",hint:"".concat(p-n.text.length,"/").concat(p),value:n.text,error:r.text,maxLength:p,onChange:function(t){return f({text:t.target.value})}})),(0,i.default)(u.Row,{},void 0,(0,i.default)(u.Col,{},void 0,(0,i.default)(s.default,{type:"text",name:"pelak",label:"پلاک",value:n.pelak,error:r.pelak,maxLength:d,onChange:function(t){return f({pelak:t.target.value})}})),(0,i.default)(u.Col,{},void 0,(0,i.default)(s.default,{type:"text",name:"vahed",label:"واحد",value:n.vahed,error:r.vahed,maxLength:h,onChange:function(t){return f({vahed:t.target.value})}}))),(0,i.default)(u.Row,{className:"last-row"},void 0,(0,i.default)(u.Col,{},void 0,(0,i.default)(s.default,{type:"text",name:"title",label:"عنوان آدرس",hint:"برای مثال: خانه",value:n.title,error:r.title,onChange:function(t){return f({title:t.target.value})}})),(0,i.default)(u.Col,{},void 0,(0,i.default)(s.default,{type:"tel",name:"tel",label:"تلفن ثابت (اختیاری)",hint:"بدون کد شهر",value:n.tel,error:r.tel,onChange:function(t){return f({tel:t.target.value})}}))),(0,i.default)(u.ButtonHolder,{},void 0,(0,i.default)(l.default,{loading:e,onClick:a},void 0,"ذخیره")))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.StyledForm=e.Row=e.FindAddress=e.Col=e.ButtonHolder=void 0;var i,o,a=r(n(35)),s=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),l=n(33);e.StyledForm=s.default.form.withConfig({componentId:"sc-aruf7g-0"})(["padding:40px 20px 20px;text-align:right;max-width:500px;margin:0 auto;font-weight:300;"," ",""],(function(t){return t.isDarkMode&&(0,s.css)(["*:not(button,span){color:#e5e5e5;}"])}),l.breakpoint.greaterThan("tablet")(i||(i=(0,a.default)(["\n    width: 80%;\n  "])))),e.Row=s.default.div.withConfig({componentId:"sc-aruf7g-1"})(["margin-bottom:10px;float:right;width:100%;.field-group{margin-bottom:20px;}&.last-row{.field-group{margin-bottom:45px;}}"]),e.Col=s.default.div.withConfig({componentId:"sc-aruf7g-2"})(["margin:0;width:50%;padding-left:10px;float:right;position:relative;& > div{margin-bottom:45px;}"]),e.ButtonHolder=s.default.div.withConfig({componentId:"sc-aruf7g-3"})(["text-align:center;padding-top:15px;padding-bottom:20px;direction:rtl;clear:both;button{","}"],l.breakpoint.greaterThan("tablet")(o||(o=(0,a.default)(["\n      width: 250px;\n    "])))),e.FindAddress=s.default.div.withConfig({componentId:"sc-aruf7g-4"})([""])},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n(10)),a=(r(n(0)),n(440));e.default=function(){return i||(i=(0,o.default)(a.MainPlaceholder,{},void 0,(0,o.default)(a.Wrapper,{},void 0,(0,o.default)(a.InfoContainer,{},void 0,(0,o.default)(a.LogoPlaceholder,{className:"placeholder-anim"}),(0,o.default)(a.Aside,{},void 0,(0,o.default)(a.TitlePlaceholder,{className:"placeholder-anim"}),(0,o.default)(a.AddressPlaceholder,{className:"placeholder-anim"}),(0,o.default)(a.ButtonPlaceholder,{className:"placeholder-anim"}))),(0,o.default)(a.StatusWrapper,{},void 0,(0,o.default)(a.SmallTextPlaceholder,{className:"placeholder-anim"})))))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a=r(n(10)),s=(r(n(0)),n(426));const l=function(){return i||(i=(0,a.default)(s.ItemPlaceholder,{},void 0,(0,a.default)(s.ItemTitlePlaceholder,{className:"placeholder-anim"}),(0,a.default)(s.ItemPricePlaceholder,{className:"placeholder-anim"})))};e.default=function(){return o||(o=(0,a.default)(s.RestaurantCart,{},void 0,(0,a.default)(s.Header,{className:"clearfix"},void 0,(0,a.default)(s.TitlePlaceholder,{className:"placeholder-anim"})),(0,a.default)(s.Holder,{},void 0,(0,a.default)(s.ListHolder,{},void 0,(0,a.default)(s.ListPlaceholder,{},void 0,(0,a.default)(l,{}),(0,a.default)(l,{}),(0,a.default)(l,{}))))))}},function(t,e){t.exports=function(t){if(null==t)throw new TypeError("Cannot destructure "+t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a=r(n(10)),s=(r(n(0)),r(n(441))),l=n(945),u=r(n(7)),c=r(n(447));const p={default:s.default,compact:c.default},d=function(){const{menuTemplate:t}=u.default||{},e=p[t]||p.default;return(0,a.default)(e,{})};e.default=function(){return(0,a.default)(l.Wrapper,{},void 0,(0,a.default)(l.TabContainer,{},void 0,i||(i=(0,a.default)(l.Tab,{selected:!0},void 0," "))),o||(o=(0,a.default)(l.Content,{},void 0,(0,a.default)(l.TabContent,{$show:!0},void 0,(0,a.default)(d,{})))))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.Wrapper=e.TabContent=e.TabContainer=e.Tab=e.Content=void 0;var i,o,a,s,l,u,c,p,d,h,f,m,g,y,v,_,b=r(n(35)),x=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(16)),w=n(33),k=r(n(7));e.Wrapper=x.default.div.withConfig({componentId:"sc-1ltdfe9-0"})([""]),e.TabContainer=x.default.nav.withConfig({componentId:"sc-1ltdfe9-1"})(["display:flex;direction:rtl;position:relative;z-index:2;top:1px;"]),e.Tab=x.default.a.withConfig({componentId:"sc-1ltdfe9-2"})(["flex-grow:1;padding:10px 15px;text-align:center;border-radius:","px ","px 0 0;color:",";font-size:14px;line-height:18px;&:hover{color:",";}"," ",""],null===k.default||void 0===k.default||null===(i=k.default.styles)||void 0===i||null===(o=i.box)||void 0===o?void 0:o.radius,null===k.default||void 0===k.default||null===(a=k.default.styles)||void 0===a||null===(s=a.box)||void 0===s?void 0:s.radius,(function(t){return t.theme.color.grayDark}),(function(t){return t.theme.color.primary}),(function(t){return t.selected&&(0,x.css)(["background-color:",";border-width:1px 1px 0;border-style:solid;border-color:",";&:hover{color:",";}"],t.theme.color.white,t.theme.color.border,t.theme.color.grayDark)}),w.breakpoint.greaterThan("650px")(l||(l=(0,b.default)(["\n    flex-grow: 0;\n    font-size: 16px;\n    line-height: normal;\n  "])))),e.Content=x.default.div.withConfig({componentId:"sc-1ltdfe9-3"})(["background-color:",";border:1px solid ",";border-radius:","px 0 ","px ","px;"," &::after{clear:both;content:'';display:table;}"],(function(t){return t.theme.color.white}),(function(t){return t.theme.color.border}),null===k.default||void 0===k.default||null===(u=k.default.styles)||void 0===u||null===(c=u.box)||void 0===c?void 0:c.radius,null===k.default||void 0===k.default||null===(p=k.default.styles)||void 0===p||null===(d=p.box)||void 0===d?void 0:d.radius,null===k.default||void 0===k.default||null===(h=k.default.styles)||void 0===h||null===(f=h.box)||void 0===f?void 0:f.radius,w.breakpoint.lessThan("desktop")(m||(m=(0,b.default)(["\n\t\tborder-radius: 0 0 ","px ","px;\n\t"])),null===k.default||void 0===k.default||null===(g=k.default.styles)||void 0===g||null===(y=g.box)||void 0===y?void 0:y.radius,null===k.default||void 0===k.default||null===(v=k.default.styles)||void 0===v||null===(_=v.box)||void 0===_?void 0:_.radius)),e.TabContent=x.default.div.withConfig({componentId:"sc-1ltdfe9-4"})(["display:",";"],(function(t){return t.$show?"block":"none"}))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a=r(n(10)),s=(r(n(0)),r(n(48)),r(n(45)),n(448));const l=function(){return i||(i=(0,a.default)(s.Item,{},void 0,(0,a.default)(s.TitlePlaceholder,{className:"placeholder-anim"})))};e.default=function(){return o||(o=(0,a.default)(s.StyledCategoryPlaceHolder,{},void 0,(0,a.default)(s.Holder,{},"holder",(0,a.default)(l,{}),(0,a.default)(l,{}),(0,a.default)(l,{}),(0,a.default)(l,{}),(0,a.default)(l,{}),(0,a.default)(l,{}),(0,a.default)(l,{}),(0,a.default)(l,{}),(0,a.default)(l,{}),(0,a.default)(l,{}),(0,a.default)(l,{}))))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n(10)),a=(r(n(0)),n(428));e.default=function(){return i||(i=(0,o.default)(a.PlaceHolderCard,{},void 0,(0,o.default)(a.Section,{},void 0,(0,o.default)(a.Figure,{},void 0,(0,o.default)(a.DefaultImage,{src:"https://static.delino.com/images/food-default-blank.jpg"}),(0,o.default)(a.ImagePlaceholder,{className:"placeholder-anim"})),(0,o.default)(a.DetailsHolder,{},void 0,(0,o.default)(a.TitlePlaceholder,{className:"placeholder-anim"}),(0,o.default)(a.Footer,{},void 0,(0,o.default)(a.SubHolder,{},void 0,(0,o.default)(a.ButtonPlaceholder,{className:"placeholder-anim"})))))))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n(10)),a=(r(n(0)),n(450));e.default=function(){return i||(i=(0,o.default)(a.MainPlaceholder,{},void 0,(0,o.default)(a.Wrapper,{},void 0,(0,o.default)(a.InfoContainer,{},void 0,(0,o.default)(a.LogoPlaceholder,{className:"placeholder-anim"}),(0,o.default)(a.Aside,{},void 0,(0,o.default)(a.TitlePlaceholder,{className:"placeholder-anim"}),(0,o.default)(a.AddressPlaceholder,{className:"placeholder-anim"}),(0,o.default)(a.ButtonPlaceholder,{className:"placeholder-anim"}))),(0,o.default)(a.StatusWrapper,{},void 0,(0,o.default)(a.SmallTextPlaceholder,{className:"placeholder-anim"})))))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(10)),o=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),a=r(n(176));e.default=function(t){let{component:e,dialogAttr:n,history:r,location:s}=t;const l=(0,o.useCallback)((function(){var t;const e=null===(t=s.state)||void 0===t?void 0:t.background;e?r.push(e):r.goBack()}),[]);return(0,i.default)(a.default,{size:null==n?void 0:n.size,title:null==n?void 0:n.title,height:null==n?void 0:n.height,onClose:l},void 0,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(0),i=n(29),o=n(50),a=n(103);const s=function(t){let{history:e,location:{pathname:n,hash:o}}=t;const s=(0,i.useDispatch)(),l=(0,i.useSelector)((function(t){return t.app.digitalMenuMode})),u=(0,i.useSelector)((function(t){return t.restaurant.multiBrand})),c=(0,i.useSelector)((function(t){return t.restaurant.multiBranch})),p=(0,i.useSelector)((function(t){return t.restaurant.current_domain}));return(0,r.useEffect)((function(){s((0,a.restoreDigitalMenuMode)())}),[]),l&&-1===n.indexOf("/order")&&e.replace("/order".concat(u||c?"/".concat(l):"")),(0,r.useEffect)((function(){l||o.indexOf("#digitalmenu")>-1&&p&&("#digitalmenu-en"===o&&localStorage.setItem("lang","en"),s((0,a.setDigitalMenuMode)((function(t){let{success:e,message:n,mode:r}=t;e&&(window.location.href="/order".concat(u||c?"/".concat(r):""))}))))}),[o,l,p]),!0},l=function(t,e){return t.location.pathname===e.location.pathname&&t.location.hash===e.location.hash};e.default=(0,o.withRouter)((0,r.memo)(s,l))},,function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){const t=(0,s.useSelector)((function(t){var e;return null===(e=t.app.pages)||void 0===e?void 0:e.buttons})),e=(0,c.useLocation)(),{width:n}=(0,u.default)();if(null==t||!t.fabButtonTitle||null==t||!t.fabButton||e.hash.includes("#cart"))return i||(i=a.default.createElement(a.default.Fragment,null));const r=n>=1400?(n-1400)/2:null;return(0,o.default)(l.FabButtonContainer,{containerLeft:r,fabBgColor:t.fabButtonColor,outline:!0,size:"sm",className:"fabButton",onClick:function(){return window.location.href=t.fabButtonLink},noPaddingContent:!0},void 0,t.fabButtonTitle)};var i,o=r(n(10)),a=r(n(0)),s=n(29),l=n(395),u=r(n(280)),c=n(50)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){const[t,e]=(0,o.useState)(null),n=((0,u.useLocation)(),(0,a.useDispatch)()),{width:r}=(0,l.default)(),m=((0,h.default)(),(0,a.useSelector)((function(t){return t.app.kiosk})),(0,a.useSelector)((function(t){var e;return null===(e=t.cart)||void 0===e?void 0:e.kioskResetRemainTime}))),g=(0,a.useSelector)((function(t){var e,n;return null===(e=t.user)||void 0===e||null===(n=e.profile)||void 0===n?void 0:n.mobile})),y=(0,a.useSelector)((function(t){var e;return null===(e=t.cart)||void 0===e?void 0:e.items})),v=r>=1400?(r-1400)/2:null,_=function(){console.log("resetTime"),n((0,c.updateKioskRemainTime)(60))},b=function(){f.default.info("resetKiosk ".concat(g),!0),localStorage.removeItem("token"),n((0,c.emptyCartAction)()),(0,d.userLogout)(),n((0,p.authLogoutAction)()),setTimeout((function(){document.getElementById("kioskResetButton")&&(document.getElementById("kioskResetButton").style.display="block"),window.location.reload()}),400)};(0,o.useEffect)((function(){document.body.addEventListener("click",_),document.body.addEventListener("touch",_),document.body.addEventListener("drag",_),document.body.addEventListener("touchmove",_)}),[]),(0,o.useEffect)((function(){if(m>0){let t;return(g||null!=y&&y.length)&&(t=setTimeout((function(){n((0,c.updateKioskRemainTime)(m-1))}),1e3)),function(){return clearTimeout(t)}}b()}),[m,g,y]);const x=function(){const t=setTimeout((function(){console.log("called close"),window.close()}),1e4);e(t)},w=function(){clearTimeout(t)};return(0,i.default)(s.FabButtonContainer,{id:"kioskResetButton",containerLeft:v,fabBgColor:"#ff9800",outline:!0,size:"sm",className:"fabButton",onClick:b,onMouseDown:x,onMouseUp:w,onMouseLeave:w,onTouchStart:x,onTouchEnd:w,noPaddingContent:!0,isCritical:m<10,style:{minWidth:"175px",bottom:"160px",fontSize:"28px",height:"70px",borderRadius:"12px"}},void 0,"انصراف ","(".concat(m," ثانیه)"))};var i=r(n(10)),o=function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(a,e,o):a[e]=t[e]);return a}(t,e)}(n(0)),a=n(29),s=n(395),l=r(n(280)),u=n(50),c=n(110),p=n(104),d=n(105),h=r(n(179)),f=r(n(157))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(16),o=r(n(955));const a=(0,i.createGlobalStyle)(["",""],o.default);e.default=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n(35)),a=n(16),s=n(956),l=r(n(7)),u=n(42),c=n(38),p=n(33);const{hasDynamicTheme:d}=l.default,h=(0,a.css)([""," "," *{box-sizing:border-box;scroll-behavior:smooth;}.app-view > div{margin-top:0 !important;padding-top:0;}html{font-size:100%;line-height:1.5em;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;}.app-view #goftino_w{display:none !important;}html,body{-webkit-tap-highlight-color:transparent;}body{font-family:",";color:",";background-color:",";font-size:1rem;min-width:320px;overflow-x:hidden;opacity:1;margin:0;padding:0;","}.order-main{position:relative;}button,input,textarea,select,option{font-family:",";font-size:1rem;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;outline:0;}figure{margin:0;}img{border:0;}img[src='']{visibility:hidden;}a{text-decoration:none;color:",";}ul{padding:0;margin:0;list-style:none;}h1,h2,h3,h4,h5,h6,p{line-height:normal;}table{width:100%;border-collapse:collapse;direction:rtl;font-size:",";thead{tr{cursor:pointer;}th{border-bottom:2px solid ",";font-weight:700;font-size:",";padding:10px;text-align:right;}}tbody{tr{border-bottom:1px dashed ",";&:last-child{border-bottom:0 none;}&:nth-child(odd){background-color:#fff;}td{padding:10px;text-align:right;}}}}input:-webkit-autofill,input:-webkit-autofill:hover,input:-webkit-autofill:focus,textarea:-webkit-autofill,textarea:-webkit-autofill:hover,textarea:-webkit-autofill:focus,select:-webkit-autofill,select:-webkit-autofill:hover,select:-webkit-autofill:focus{transition:background-color 5000s ease-in-out 0s;}.loader{width:20px;height:20px;position:relative;animation:loader 0.8s infinite linear;border:3px solid hsla(0,0%,100%,0.2);border-left-color:#fff;display:inline-block;vertical-align:middle;border-radius:50%;}@keyframes loader{0%{transform:rotate(0deg);}50%{transform:rotate(1turn);}to{transform:rotate(2turn);}}.clearfix{&:after{content:'';display:table;clear:both;}}.icon{font-family:'DelinoIcon' !important;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;vertical-align:middle;padding-top:1px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}.thin-scrollbar{&::-webkit-scrollbar{width:5px;background-color:",";}&::-webkit-scrollbar-thumb{background-color:",";}}.en-num{font-family:Arial;}.hg-button{font-family:'IRANSans';height:80px !important;font-size:2rem;}.hg-theme-default .hg-row .hg-button-container,.hg-theme-default .hg-row .hg-button:not(:last-child){margin-right:0;}.hg-theme-default .hg-row{gap:5px;}.hg-theme-default .hg-button.hg-standardBtn{width:50%;}.placeholder-anim{animation-duration:1.7s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-timing-function:linear;animation-name:placeholderAnimate;background:",";background:linear-gradient( to right,"," 10%,"," 18%,"," 34% );background-size:600px;}.react-joyride__overlay{z-index:100000000000 !important;}.__floater{z-index:100000000001 !important;}.swiper-horizontal{touch-action:pan-y;}@keyframes placeholderAnimate{0%{background-position:300px 0;}100%{background-position:-300px 0;}}@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(204,169,44,0.4);}70%{box-shadow:0 0 0 10px rgba(204,169,44,0);}100%{box-shadow:0 0 0 0 rgba(204,169,44,0);}}"],s.normalize,c.thinScrollbarStyles,(function(t){return t.theme.fontFamily.primary}),(function(t){return t.theme.color.textColor}),d?function(t){return t.theme.color.bgColor}:"#f9fafb",p.breakpoint.lessThan("tablet")(i||(i=(0,o.default)(["\n      //#goftino_w{\n      //  left: 0px !important\n      //}\n  "]))),(function(t){return t.theme.fontFamily.primary}),(function(t){return t.theme.color.linkColor}),(function(t){return(0,u.rem)(14,t.theme.fontSize.base)}),(function(t){return t.theme.color.border}),(function(t){return(0,u.rem)(13,t.theme.fontSize.base)}),(function(t){return t.theme.color.border}),(function(t){return(0,u.lighten)(t.theme.color.graySuperlight,.05)}),(function(t){return(0,u.lighten)(t.theme.color.grayDark,.5)}),(function(t){return t.theme.color.placeholderLight}),(function(t){return t.theme.color.placeholder}),(function(t){return t.theme.color.placeholderShine}),(function(t){return t.theme.color.placeholder}));e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Normalize=e.normalize=void 0;var r=n(16),i=(0,r.css)(['html{line-height:1.15;-webkit-text-size-adjust:100%;}body{margin:0;}main{display:block;}h1{font-size:2em;margin:0.67em 0;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace,monospace;font-size:1em;}a{background-color:transparent;}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace,monospace;font-size:1em;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:list-item;}template{display:none;}[hidden]{display:none;}']);e.normalize=i;var o=(0,r.createGlobalStyle)(i);e.Normalize=o,o.displayName="Normalize";var a=i;e.default=a},function(t,e,n){"use strict";n.r(e),n.d(e,"gotoVSCode",(function(){return s})),n.d(e,"gotoVSCodeInsiders",(function(){return l})),n.d(e,"gotoWebStorm",(function(){return u})),n.d(e,"gotoServerEditor",(function(){return a})),n.d(e,"gotoEditor",(function(){return a})),n.d(e,"defaultHotkeys",(function(){return rt})),n.d(e,"Inspector",(function(){return it}));var r=n(272),i=n.n(r);const o=t=>"codeInfo"in t?t.codeInfo:t,a=t=>{if(!t)return;const e=o(t),{lineNumber:n,columnNumber:r,relativePath:a,absolutePath:s}=e,l=Boolean(a),u=l?a:s;if(!u)return void console.error("[react-dev-inspector] Cannot open editor without source fileName",e);const c={fileName:u,lineNumber:n,colNumber:r},p=l?i.a+"/relative":i.a;fetch(`${p}?${new URLSearchParams(c)}`)},s=(t,e)=>{const n=o(t);if(!n.absolutePath)return void console.error("[react-dev-inspector] Cannot open editor without source fileName",n);const{absolutePath:r,lineNumber:i,columnNumber:a}=n,s=(null==e?void 0:e.insiders)?"vscode-insiders":"vscode";window.open(`${s}://file/${r}:${i}:${a}`)},l=t=>s(t,{insiders:!0}),u=t=>{const e=o(t);if(!e.absolutePath)return void console.error("[react-dev-inspector] Cannot open editor without source fileName",e);const{absolutePath:n,lineNumber:r,columnNumber:i}=e;window.open(`webstorm://open?file=${n}&line=${r}&column=${i}`)};var c=n(273),p=n(0);
/**! 
 * hotkeys-js v3.13.15 
 * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies. 
 * 
 * Copyright (c) 2025 kenny wong <wowohoo@qq.com> 
 * https://github.com/jaywcjlove/hotkeys-js.git 
 * 
 * @website: https://jaywcjlove.github.io/hotkeys-js
 
 * Licensed under the MIT license 
 */
const d="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function h(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent("on".concat(e),n)}function f(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,r):t.detachEvent&&t.detachEvent("on".concat(e),n)}function m(t,e){const n=e.slice(0,e.length-1);for(let e=0;e<n.length;e++)n[e]=t[n[e].toLowerCase()];return n}function g(t){"string"!=typeof t&&(t="");const e=(t=t.replace(/\s/g,"")).split(",");let n=e.lastIndexOf("");for(;n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}const y={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,arrowup:38,arrowdown:40,arrowleft:37,arrowright:39,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":d?173:189,"=":d?61:187,";":d?59:186,"'":222,"{":219,"}":221,"[":219,"]":221,"\\":220},v={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,meta:91,command:91},_={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},b={16:!1,18:!1,17:!1,91:!1},x={};for(let t=1;t<20;t++)y["f".concat(t)]=111+t;let w=[],k=null,S="all";const C=new Map,E=t=>y[t.toLowerCase()]||v[t.toLowerCase()]||t.toUpperCase().charCodeAt(0);function T(t){S=t||"all"}function I(){return S||"all"}function M(t){let e=t.keyCode||t.which||t.charCode;t.key&&"capslock"===t.key.toLowerCase()&&(e=E(t.key));const n=w.indexOf(e);if(n>=0&&w.splice(n,1),t.key&&"meta"===t.key.toLowerCase()&&w.splice(0,w.length),93!==e&&224!==e||(e=91),e in b){b[e]=!1;for(const t in v)v[t]===e&&(z[t]=!1)}}function A(t){if(void 0===t)Object.keys(x).forEach(t=>{Array.isArray(x[t])&&x[t].forEach(t=>O(t)),delete x[t]}),L(null);else if(Array.isArray(t))t.forEach(t=>{t.key&&O(t)});else if("object"==typeof t)t.key&&O(t);else if("string"==typeof t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];let[i,o]=n;"function"==typeof i&&(o=i,i=""),O({key:t,scope:i,method:o,splitKey:"+"})}}const O=t=>{let{key:e,scope:n,method:r,splitKey:i="+"}=t;g(e).forEach(t=>{const e=t.split(i),o=e.length,a=e[o-1],s="*"===a?"*":E(a);if(!x[s])return;n||(n=I());const l=o>1?m(v,e):[],u=[];x[s]=x[s].filter(t=>{const e=(!r||t.method===r)&&t.scope===n&&function(t,e){const n=t.length>=e.length?t:e,r=t.length>=e.length?e:t;let i=!0;for(let t=0;t<n.length;t++)-1===r.indexOf(n[t])&&(i=!1);return i}(t.mods,l);return e&&u.push(t.element),!e}),u.forEach(t=>L(t))})};function P(t,e,n,r){if(e.element!==r)return;let i;if(e.scope===n||"all"===e.scope){i=e.mods.length>0;for(const t in b)Object.prototype.hasOwnProperty.call(b,t)&&(!b[t]&&e.mods.indexOf(+t)>-1||b[t]&&-1===e.mods.indexOf(+t))&&(i=!1);(0!==e.mods.length||b[16]||b[18]||b[17]||b[91])&&!i&&"*"!==e.shortcut||(e.keys=[],e.keys=e.keys.concat(w),!1===e.method(t,e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0)))}}function D(t,e){const n=x["*"];let r=t.keyCode||t.which||t.charCode;if(t.key&&"capslock"===t.key.toLowerCase())return;if(!z.filter.call(this,t))return;if(93!==r&&224!==r||(r=91),-1===w.indexOf(r)&&229!==r&&w.push(r),["metaKey","ctrlKey","altKey","shiftKey"].forEach(e=>{const n=_[e];t[e]&&-1===w.indexOf(n)?w.push(n):!t[e]&&w.indexOf(n)>-1?w.splice(w.indexOf(n),1):"metaKey"===e&&t[e]&&(w=w.filter(t=>t in _||t===r))}),r in b){b[r]=!0;for(const e in v)if(Object.prototype.hasOwnProperty.call(v,e)){const n=_[v[e]];z[e]=t[n]}if(!n)return}for(const e in b)Object.prototype.hasOwnProperty.call(b,e)&&(b[e]=t[_[e]]);t.getModifierState&&(!t.altKey||t.ctrlKey)&&t.getModifierState("AltGraph")&&(-1===w.indexOf(17)&&w.push(17),-1===w.indexOf(18)&&w.push(18),b[17]=!0,b[18]=!0);const i=I();if(n)for(let r=0;r<n.length;r++)n[r].scope===i&&("keydown"===t.type&&n[r].keydown||"keyup"===t.type&&n[r].keyup)&&P(t,n[r],i,e);if(!(r in x))return;const o=x[r],a=o.length;for(let n=0;n<a;n++)if(("keydown"===t.type&&o[n].keydown||"keyup"===t.type&&o[n].keyup)&&o[n].key){const r=o[n],{splitKey:a}=r,s=r.key.split(a),l=[];for(let t=0;t<s.length;t++)l.push(E(s[t]));l.sort().join("")===w.sort().join("")&&P(t,r,i,e)}}function z(t,e,n){w=[];const r=g(t);let i=[],o="all",a=document,s=0,l=!1,u=!0,c="+",p=!1,d=!1;for(void 0===n&&"function"==typeof e&&(n=e),"[object Object]"===Object.prototype.toString.call(e)&&(e.scope&&(o=e.scope),e.element&&(a=e.element),e.keyup&&(l=e.keyup),void 0!==e.keydown&&(u=e.keydown),void 0!==e.capture&&(p=e.capture),"string"==typeof e.splitKey&&(c=e.splitKey),!0===e.single&&(d=!0)),"string"==typeof e&&(o=e),d&&A(t,o);s<r.length;s++)i=[],(t=r[s].split(c)).length>1&&(i=m(v,t)),(t="*"===(t=t[t.length-1])?"*":E(t))in x||(x[t]=[]),x[t].push({keyup:l,keydown:u,scope:o,mods:i,shortcut:r[s],method:n,key:r[s],splitKey:c,element:a});if(void 0!==a&&window){if(!C.has(a)){const t=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;return D(t,a)},e=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;D(t,a),M(t)};C.set(a,{keydownListener:t,keyupListenr:e,capture:p}),h(a,"keydown",t,p),h(a,"keyup",e,p)}if(!k){const t=()=>{w=[]};k={listener:t,capture:p},h(window,"focus",t,p)}}}function L(t){const e=Object.values(x).flat();if(e.findIndex(e=>{let{element:n}=e;return n===t})<0){const{keydownListener:e,keyupListenr:n,capture:r}=C.get(t)||{};e&&n&&(f(t,"keyup",n,r),f(t,"keydown",e,r),C.delete(t))}if(e.length<=0||C.size<=0){if(Object.keys(C).forEach(t=>{const{keydownListener:e,keyupListenr:n,capture:r}=C.get(t)||{};e&&n&&(f(t,"keyup",n,r),f(t,"keydown",e,r),C.delete(t))}),C.clear(),Object.keys(x).forEach(t=>delete x[t]),k){const{listener:t,capture:e}=k;f(window,"focus",t,e),k=null}}}const R={getPressedKeyString:function(){return w.map(t=>{return e=t,Object.keys(y).find(t=>y[t]===e)||(t=>Object.keys(v).find(e=>v[e]===t))(t)||String.fromCharCode(t);var e})},setScope:T,getScope:I,deleteScope:function(t,e){let n,r;t||(t=I());for(const e in x)if(Object.prototype.hasOwnProperty.call(x,e))for(n=x[e],r=0;r<n.length;)if(n[r].scope===t){n.splice(r,1).forEach(t=>{let{element:e}=t;return L(e)})}else r++;I()===t&&T(e||"all")},getPressedKeyCodes:function(){return w.slice(0)},getAllKeyCodes:function(){const t=[];return Object.keys(x).forEach(e=>{x[e].forEach(e=>{let{key:n,scope:r,mods:i,shortcut:o}=e;t.push({scope:r,shortcut:o,mods:i,keys:n.split("+").map(t=>E(t))})})}),t},isPressed:function(t){return"string"==typeof t&&(t=E(t)),-1!==w.indexOf(t)},filter:function(t){const e=t.target||t.srcElement,{tagName:n}=e;let r=!0;const i="INPUT"===n&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(e.type);return(e.isContentEditable||(i||"TEXTAREA"===n||"SELECT"===n)&&!e.readOnly)&&(r=!1),r},trigger:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(x).forEach(n=>{x[n].filter(n=>n.scope===e&&n.shortcut===t).forEach(t=>{t&&t.method&&t.method()})})},unbind:A,keyMap:y,modifier:v,modifierMap:_};for(const t in R)Object.prototype.hasOwnProperty.call(R,t)&&(z[t]=R[t]);if("undefined"!=typeof window){const t=window.hotkeys;z.noConflict=e=>(e&&window.hotkeys===z&&(window.hotkeys=t),z),window.hotkeys=z}let W=new Set;const B=t=>{var e;return"symbol"==typeof(null===(e=null==t?void 0:t.type)||void 0===e?void 0:e.$$typeof)},j=t=>{var e;return(null===(e=null==t?void 0:t.type)||void 0===e?void 0:e.$$typeof)===Symbol.for("react.forward_ref")},N=t=>{if(!t)return;const e=(t=>{const e=Object.keys(t).find(t=>t.startsWith("__reactInternalInstance$")||t.startsWith("__reactFiber$"));if(e)return t[e]})(t);return e||N(t.parentElement)},F=t=>{const e=null==t?void 0:t.type;if(!e)return;const{displayName:n,name:r}=e;return"string"==typeof n?n:"string"==typeof r?r:void 0},U=t=>{var e,n;if(!t)return;const r=null!==(e=t._debugSource)&&void 0!==e?e:null===(n=t._debugOwner)||void 0===n?void 0:n._debugSource;if(!r)return;const{fileName:i,lineNumber:o,columnNumber:a}=r;return i&&o?{lineNumber:String(o),columnNumber:String(null!=a?a:1),absolutePath:i.match(/^<.*>$/)?i.replace(/^<|>$/g,""):i}:void 0},V=t=>{if(!(null==t?void 0:t.pendingProps))return;const{"data-inspector-line":e,"data-inspector-column":n,"data-inspector-relative-path":r}=t.pendingProps;return e&&n&&r?{lineNumber:e,columnNumber:n,relativePath:r}:void 0},q=t=>{const e=[U(t),V(t)].filter(Boolean);if(e.length)return Object.assign({},...e)},H=t=>{if(!t)return;const e=(t=>{let e=t.return;for(;e;){if(!B(e))return e;e=e.return}return null})(t);if(!e)return;const n="string"==typeof(null==(r=e)?void 0:r.type);var r;const i=!e.child.sibling;let o=!n&&i?e:t;const a=o;for(;o;){if(q(o))return o;o=o.return}return a},G=t=>{const e=N(t),n=H(e);return q(n)},Z=t=>{const e=N(t),n=H(e),r=(t=>{var e,n;let r,i=t;for(;i;){let t,o=null!==(e=i.return)&&void 0!==e?e:void 0;for(;B(o);)j(o)&&(t=o),o=null!==(n=null==o?void 0:o.return)&&void 0!==n?n:void 0;if(t&&(i=t),F(i)&&(r||(r=i),q(i)))return i;i=o}return r})(n),i=F(r),o=t.nodeName.toLowerCase();return{fiber:n,name:i,title:i?`${o} in <${i}>`:o}};var K;const Q="undefined"!=typeof window&&(null===(K=null===window||void 0===window?void 0:window.document)||void 0===K?void 0:K.createElement)?p.useLayoutEffect:p.useEffect,X=t=>{const e=Object(p.useRef)(t);e.current=Object(p.useMemo)(()=>t,[t]);const n=Object(p.useRef)();return n.current||(n.current=function(...t){var n;return null===(n=e.current)||void 0===n?void 0:n.apply(this,t)}),n.current};function Y(t){return t.getBoundingClientRect()}class J{constructor(t,e){Object.defineProperty(this,"node",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"border",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"padding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.node=t.createElement("div"),this.border=t.createElement("div"),this.padding=t.createElement("div"),this.content=t.createElement("div"),this.border.style.borderColor=nt.border,this.padding.style.borderColor=nt.padding,this.content.style.backgroundColor=nt.background,Object.assign(this.node.style,{borderColor:nt.margin,pointerEvents:"none",position:"fixed"}),this.node.style.zIndex="10000000",this.node.appendChild(this.border),this.border.appendChild(this.padding),this.padding.appendChild(this.content),e.prepend(this.node)}remove(){this.node.parentNode&&this.node.parentNode.removeChild(this.node)}update(t,e){et(e,"margin",this.node),et(e,"border",this.border),et(e,"padding",this.padding),Object.assign(this.content.style,{height:t.height-e.borderTop-e.borderBottom-e.paddingTop-e.paddingBottom+"px",width:t.width-e.borderLeft-e.borderRight-e.paddingLeft-e.paddingRight+"px"}),Object.assign(this.node.style,{top:t.top-e.marginTop+"px",left:t.left-e.marginLeft+"px"})}}class ${constructor(t,e){Object.defineProperty(this,"tip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nameSpan",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"titleDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"infoDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dimSpan",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tip=t.createElement("div"),Object.assign(this.tip.style,{display:"flex",flexFlow:"row nowrap",alignItems:"center",backgroundColor:"#333740",borderRadius:"2px",fontFamily:'"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace',fontWeight:"bold",padding:"6px 8px",pointerEvents:"none",position:"fixed",fontSize:"12px",whiteSpace:"nowrap"}),this.nameSpan=t.createElement("span"),this.tip.appendChild(this.nameSpan),Object.assign(this.nameSpan.style,{display:"flex",flexDirection:"column",borderRight:"1px solid #aaaaaa",paddingRight:"0.8rem",marginRight:"0.8rem"}),this.titleDiv=t.createElement("div"),this.nameSpan.appendChild(this.titleDiv),Object.assign(this.titleDiv.style,{color:"#ee78e6",fontSize:"16px"}),this.infoDiv=t.createElement("div"),this.nameSpan.appendChild(this.infoDiv),Object.assign(this.infoDiv.style,{color:"#ee78e6",fontSize:"14px"}),this.dimSpan=t.createElement("span"),this.tip.appendChild(this.dimSpan),Object.assign(this.dimSpan.style,{color:"#d7d7d7"}),this.tip.style.zIndex="10000000",e.appendChild(this.tip)}remove(){this.tip.parentNode&&this.tip.parentNode.removeChild(this.tip)}updateText(t,e,n,r){this.titleDiv.textContent=t,this.infoDiv.textContent=null!=e?e:"",this.dimSpan.textContent=`${Math.round(n)}px × ${Math.round(r)}px`}updatePosition(t,e){const n=this.tip.getBoundingClientRect(),r=function(t,e,n){const r=Math.max(n.height,20),i=Math.max(n.width,60);let o;o=t.top+t.height+r<=e.top+e.height?t.top+t.height<e.top+0?e.top+5:t.top+t.height+5:t.top-r<=e.top+e.height?t.top-r-5<e.top+5?e.top+5:t.top-r-5:e.top+e.height-r-5;let a=t.left+5;t.left<e.left&&(a=e.left+5);t.left+i>e.left+e.width&&(a=e.left+e.width-i-5);return{style:{top:o+"px",left:a+"px"}}}(t,e,{width:n.width,height:n.height});Object.assign(this.tip.style,r.style)}}class tt{constructor(){Object.defineProperty(this,"window",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tipBoundsWindow",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rects",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"removeCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const t=window.__REACT_DEVTOOLS_TARGET_WINDOW__||window;this.window=t;const e=window.__REACT_DEVTOOLS_TARGET_WINDOW__||window;this.tipBoundsWindow=e;const n=t.document;this.container=n.createElement("div"),this.container.style.zIndex="10000000",this.tip=new $(n,this.container),this.rects=[],this.removeCallback=()=>{},n.body.appendChild(this.container)}remove(){this.tip.remove(),this.rects.forEach(t=>{t.remove()}),this.rects.length=0,this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.removeCallback()}setRemoveCallback(t){this.removeCallback=t.bind(this)}inspect(t,e,n){var r;const i=t.filter(t=>t.nodeType===Node.ELEMENT_NODE);for(;this.rects.length>i.length;){const t=this.rects.pop();null==t||t.remove()}if(0===i.length)return;for(;this.rects.length<i.length;)this.rects.push(new J(this.window.document,this.container));const o={top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,left:Number.POSITIVE_INFINITY};if(i.forEach((t,e)=>{const n=Y(t,this.window),r=function(t){const e=window.getComputedStyle(t);return{borderLeft:Number.parseInt(e.borderLeftWidth,10),borderRight:Number.parseInt(e.borderRightWidth,10),borderTop:Number.parseInt(e.borderTopWidth,10),borderBottom:Number.parseInt(e.borderBottomWidth,10),marginLeft:Number.parseInt(e.marginLeft,10),marginRight:Number.parseInt(e.marginRight,10),marginTop:Number.parseInt(e.marginTop,10),marginBottom:Number.parseInt(e.marginBottom,10),paddingLeft:Number.parseInt(e.paddingLeft,10),paddingRight:Number.parseInt(e.paddingRight,10),paddingTop:Number.parseInt(e.paddingTop,10),paddingBottom:Number.parseInt(e.paddingBottom,10)}}(t);o.top=Math.min(o.top,n.top-r.marginTop),o.right=Math.max(o.right,n.left+n.width+r.marginRight),o.bottom=Math.max(o.bottom,n.top+n.height+r.marginBottom),o.left=Math.min(o.left,n.left-r.marginLeft);this.rects[e].update(n,r)}),!e){e=i[0].nodeName.toLowerCase();const t=i[0],n=null===(r=t.ownerDocument.defaultView)||void 0===r?void 0:r.__REACT_DEVTOOLS_GLOBAL_HOOK__;if(null==n?void 0:n.rendererInterfaces){let r=null;for(const e of n.rendererInterfaces.values()){const n=e.getFiberIDForNative(t,!0);if(null!==n){r=e.getDisplayNameForFiberID(n,!0);break}}r&&(e+=` (in ${r})`)}}this.tip.updateText(e,n,o.right-o.left,o.bottom-o.top);const a=Y(this.tipBoundsWindow.document.documentElement,this.window);this.tip.updatePosition({top:o.top,left:o.left,height:o.bottom-o.top,width:o.right-o.left},{top:a.top+this.tipBoundsWindow.scrollY,left:a.left+this.tipBoundsWindow.scrollX,height:this.tipBoundsWindow.innerHeight,width:this.tipBoundsWindow.innerWidth})}}function et(t,e,n){Object.assign(n.style,{borderTopWidth:t[e+"Top"]+"px",borderLeftWidth:t[e+"Left"]+"px",borderRightWidth:t[e+"Right"]+"px",borderBottomWidth:t[e+"Bottom"]+"px",borderStyle:"solid"})}const nt={background:"rgba(120, 170, 210, 0.7)",padding:"rgba(77, 200, 0, 0.3)",margin:"rgba(255, 155, 0, 0.3)",border:"rgba(255, 200, 50, 0.3)"},rt=()=>{var t;return(null===(t=navigator.platform)||void 0===t?void 0:t.startsWith("Mac"))?["Ctrl","Shift","Command","C"]:["Ctrl","Shift","Alt","C"]},it=t=>{const{keys:e,onHoverElement:n,onClickElement:r,onInspectElement:i,active:o,onActiveChange:s,disableLaunchEditor:l,disable:u=!0,children:d}=t,[h,f]=Object(p.useState)(null!=o&&o);Q(()=>{void 0!==o&&f(o)},[o]),Object(p.useEffect)(()=>(h?b():x(),x),[h]);const m=null===e?null:(null!=e?e:[]).join("+"),g=Object(p.useRef)(),y=(({disable:t})=>{const e=Object(p.useRef)({x:0,y:0}),n=t=>{e.current.x=t.clientX,e.current.y=t.clientY};return Object(p.useEffect)(()=>(t||document.addEventListener("mousemove",n,!0),()=>{document.removeEventListener("mousemove",n,!0)}),[t]),e})({disable:u}),v=X(()=>{null==s||s(!0),void 0===o&&f(!0)}),_=X(()=>{null==s||s(!1),void 0===o&&f(!1)}),b=X(()=>{if(g.current||u)return;const t=new tt;g.current=t,z("esc",_);const e=function(t){function e(t){t&&"function"==typeof t.addEventListener&&(t.addEventListener("click",i,!0),t.addEventListener("mousedown",o,!0),t.addEventListener("mouseover",o,!0),t.addEventListener("mouseup",o,!0),t.addEventListener("pointerdown",a,!0),t.addEventListener("pointerover",s,!0),t.addEventListener("pointerup",l,!0))}function n(){r(window),W.forEach(t=>{try{r(t.contentWindow)}catch(t){}}),W=new Set}function r(t){t&&"function"==typeof t.removeEventListener&&(t.removeEventListener("click",i,!0),t.removeEventListener("mousedown",o,!0),t.removeEventListener("mouseover",o,!0),t.removeEventListener("mouseup",o,!0),t.removeEventListener("pointerdown",a,!0),t.removeEventListener("pointerover",s,!0),t.removeEventListener("pointerup",l,!0))}function i(e){var r;e.preventDefault(),e.stopPropagation(),n(),null===(r=t.onClick)||void 0===r||r.call(t,e.target)}function o(t){t.preventDefault(),t.stopPropagation()}function a(t){t.preventDefault(),t.stopPropagation()}function s(n){var r;n.preventDefault(),n.stopPropagation();const i=n.target;if("IFRAME"===i.tagName){const t=i;try{if(!W.has(t)){e(t.contentWindow),W.add(t)}}catch(t){}}null===(r=t.onPointerOver)||void 0===r||r.call(t,n.target)}function l(t){t.preventDefault(),t.stopPropagation()}return e(window),n}({onPointerOver:w,onClick:k});t.setRemoveCallback(e);const n=y.current,r=document.elementFromPoint(n.x,n.y);r&&w(r)}),x=X(()=>{var t;null===(t=g.current)||void 0===t||t.remove(),g.current=void 0,z.unbind("esc",_)}),w=X(t=>{var e;const r=g.current,i=G(t),o=null==i?void 0:i.relativePath,a=null==i?void 0:i.absolutePath,{fiber:s,name:l,title:u}=Z(t);null===(e=null==r?void 0:r.inspect)||void 0===e||e.call(r,[t],u,null!=o?o:a),null==n||n({element:t,fiber:s,codeInfo:i,name:l})}),k=X(t=>{_();const e=G(t),{fiber:n,name:o}=Z(t);null==r||r({element:t,fiber:n,codeInfo:e,name:o}),n&&e&&(null==i||i({element:t,fiber:n,codeInfo:e,name:o}),i||l||a(e))});return Object(p.useEffect)(()=>{const t=()=>{g.current?_():v()},e=null===m||u?null:m||rt().join("+");if(e)return z(e,t),()=>{z.unbind(e,t)}},[m,u]),Object(c.jsx)(c.Fragment,{children:null!=d?d:null})}}]);